"use strict";exports.id=570,exports.ids=[570],exports.modules={6570:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var l=r(997),a=r(6689);function n({initial:e,onSubmit:t,onCancel:r}){let[n,s]=(0,a.useState)(()=>({name:e?.name??"",unitPrice:e?.unitPrice!==void 0?String(e.unitPrice):"",stock:e?.stock!==void 0?String(e.stock):"",lowStockThreshold:e?.lowStockThreshold!==void 0?String(e.lowStockThreshold):"5",brand:e?.brand??""})),[o,i]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),d=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},m=async e=>{e.preventDefault();let r=n.name.trim();if(!r){i("Name is required");return}let l=(e,t)=>{let r=Number(e);return!Number.isFinite(r)||r<0?(i(t),null):r},a=l(n.unitPrice,"Price must be >= 0");if(null===a)return;let s=l(n.stock,"Stock must be >= 0");if(null===s)return;let o=l(n.lowStockThreshold,"Low stock threshold must be >= 0");if(null===o)return;let c=n.brand.trim();i(""),u(!0);try{await t({name:r,unitPrice:a,stock:s,lowStockThreshold:o,brand:c})}catch(e){i(e instanceof Error&&e.message||"Error")}finally{u(!1)}};return(0,l.jsxs)("form",{onSubmit:e=>void m(e),className:"space-y-2",children:[l.jsx("input",{name:"name",value:n.name,onChange:d,className:"border p-1 w-full",placeholder:"Name"}),l.jsx("input",{name:"brand",value:n.brand,onChange:d,className:"border p-1 w-full",placeholder:"Brand"}),l.jsx("input",{name:"unitPrice",value:n.unitPrice,onChange:d,className:"border p-1 w-full",placeholder:"Price"}),l.jsx("input",{name:"stock",value:n.stock,onChange:d,className:"border p-1 w-full",placeholder:"Stock"}),l.jsx("input",{name:"lowStockThreshold",value:n.lowStockThreshold,onChange:d,className:"border p-1 w-full",placeholder:"Low Stock Threshold"}),o&&l.jsx("p",{role:"alert",className:"text-red-600 text-sm",children:o}),(0,l.jsxs)("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{type:"button",onClick:r,className:"border px-2 py-1",children:"Cancel"}),l.jsx("button",{type:"submit",className:"border px-2 py-1",disabled:c,children:c?"Savingâ€¦":"Save"})]})]})}}};