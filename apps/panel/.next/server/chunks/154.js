"use strict";exports.id=154,exports.ids=[154],exports.modules={6154:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(997),r=a(6689);function l({initial:e,onSubmit:t,onCancel:a}){let[l,o]=(0,r.useState)(()=>({appointmentId:e?.appointmentId!==void 0?String(e.appointmentId):"",rating:e?.rating!==void 0?String(e.rating):"1",comment:e?.comment??""})),[s,i]=(0,r.useState)(""),m=e=>{let{name:t,value:a}=e.target;o(e=>({...e,[t]:a}))},p=async e=>{e.preventDefault();let a=Number(l.appointmentId);if(!Number.isFinite(a)||a<1){i("Appointment is required");return}let n=Number(l.rating);if(!Number.isFinite(n)||n<1||n>5){i("Rating must be between 1 and 5");return}let r=l.comment.trim();i("");try{await t({appointmentId:a,rating:n,comment:r})}catch(e){i(e instanceof Error&&e.message||"Error")}};return(0,n.jsxs)("form",{onSubmit:e=>void p(e),className:"space-y-2",children:[n.jsx("input",{name:"appointmentId",value:l.appointmentId,onChange:m,className:"border p-1 w-full",placeholder:"Appointment"}),e?.employee&&n.jsx("input",{value:e.employee.fullName,readOnly:!0,className:"border p-1 w-full bg-gray-100",placeholder:"Employee"}),e?.author&&n.jsx("input",{value:e.author.name,readOnly:!0,className:"border p-1 w-full bg-gray-100",placeholder:"Author"}),n.jsx("input",{name:"rating",value:l.rating,onChange:m,className:"border p-1 w-full",placeholder:"Rating"}),n.jsx("textarea",{name:"comment",value:l.comment,onChange:m,className:"border p-1 w-full",placeholder:"Comment"}),s&&n.jsx("p",{role:"alert",className:"text-red-600 text-sm",children:s}),(0,n.jsxs)("div",{className:"flex gap-2 justify-end",children:[n.jsx("button",{type:"button",onClick:a,className:"border px-2 py-1",children:"Cancel"}),n.jsx("button",{type:"submit",className:"border px-2 py-1",children:"Save"})]})]})}}};