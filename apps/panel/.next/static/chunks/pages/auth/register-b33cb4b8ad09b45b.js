(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{1154:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(3659)}])},3659:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var t=s(1549),r=s(4194),l=s(3199),n=s(1247),i=s(8960),d=s.n(i);let o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=e=>{let a={};e.name.trim()||(a.name="Name is required");let s=e.email.trim();return s?o.test(s)||(a.email="Invalid email"):a.email="Email is required",e.password?e.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",a};function c(){let{register:e}=(0,n.a)(),a=(0,l.useRouter)(),[s,i]=(0,r.useState)({name:"",email:"",phone:"",password:""}),[o,c]=(0,r.useState)({}),[m,p]=(0,r.useState)({}),[h,x]=(0,r.useState)(""),[w,b]=(0,r.useState)(!1),f=e=>{let a=u(e);return p(a),0===Object.keys(a).length},N=(e,a)=>{let t={...s,[e]:a};i(t),o[e]&&f(t)},g=e=>{c(a=>({...a,[e]:!0})),f(s)},j=async t=>{if(t.preventDefault(),x(""),!f(s)){c({name:!0,email:!0,phone:!0,password:!0});return}b(!0);try{await e(s),a.push("/dashboard")}catch(e){x(e instanceof Error?e.message:"Registration failed")}finally{b(!1)}};return(0,t.jsxs)("div",{className:"p-4 bg-white min-h-screen",children:[(0,t.jsx)("button",{onClick:()=>a.back(),className:"mb-4",children:"â† Back"}),(0,t.jsxs)("form",{onSubmit:e=>void j(e),className:"space-y-4 max-w-sm mx-auto",noValidate:!0,children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Register"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:"border p-2 w-full rounded ".concat(o.name&&m.name?"border-red-500":""),placeholder:"Name",value:s.name,onChange:e=>N("name",e.target.value),onBlur:()=>g("name")}),o.name&&m.name&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:"border p-2 w-full rounded ".concat(o.email&&m.email?"border-red-500":""),placeholder:"Email",type:"email",value:s.email,onChange:e=>N("email",e.target.value),onBlur:()=>g("email")}),o.email&&m.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{className:"border p-2 w-full rounded",placeholder:"Phone (optional)",type:"tel",value:s.phone,onChange:e=>N("phone",e.target.value)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:"border p-2 w-full rounded ".concat(o.password&&m.password?"border-red-500":""),placeholder:"Password",type:"password",value:s.password,onChange:e=>N("password",e.target.value),onBlur:()=>g("password")}),o.password&&m.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.password})]}),(0,t.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded w-full disabled:opacity-50",type:"submit",disabled:w,children:w?"Registering...":"Register"}),h&&(0,t.jsx)("p",{role:"alert",className:"text-red-600 text-center",children:h}),(0,t.jsxs)("p",{className:"text-center text-sm",children:["Already have an account?"," ",(0,t.jsx)(d(),{href:"/auth/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1154)}),_N_E=e.O()}]);