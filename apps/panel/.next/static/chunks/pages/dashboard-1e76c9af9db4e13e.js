(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{9027:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(4095)}])},4095:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(4194),o=n(3199),s=n(70),u=n(1046);class i extends Error{constructor(e,t,n,r){super(t),this.status=e,this.code=n,this.details=r,this.name="ApiError"}}function a(e){let t="/auth/login?redirectTo=".concat(encodeURIComponent(e.asPath));e.push(t).catch(()=>{window.location.href=t})}async function c(e,t,n){if(!(null==e?void 0:e.status))throw e;let r={code:e.code,details:e.details};if(401===e.status&&!n)throw await a(t),new i(401,"Unauthorized","UNAUTHORIZED",r);let o={403:new i(403,"Access denied","FORBIDDEN",r),404:new i(404,"Resource not found","NOT_FOUND",r),429:new i(429,"Too many requests","RATE_LIMITED",r)}[e.status];if(o)throw o;throw new i(e.status,e.message||"Unknown error occurred",e.code||"UNKNOWN_ERROR",r)}function d(){let e=(0,o.useRouter)(),t=function(){let e=(0,o.useRouter)(),t=(0,r.useMemo)(()=>new u.S(()=>null,()=>a(e),void 0,{requestInit:{credentials:"include"}}),[e]);return{request:(0,r.useCallback)(async n=>{let{endpoint:r,init:o,skipAuth:s}="string"==typeof n?{endpoint:n,init:void 0,skipAuth:!1}:n;try{return await t.request(r,o)}catch(t){throw await c(t,e,s)}},[t,e])}}(),{data:n,isError:i}=(0,s.a)({queryKey:["api","/users/profile"],queryFn:()=>t.request("/users/profile")});return(0,r.useEffect)(()=>{(null==n?void 0:n.role)?e.replace("/dashboard/".concat(n.role)):i&&e.replace("/dashboard/client")},[e,n,i]),null}}},function(e){e.O(0,[282,888,774,179],function(){return e(e.s=9027)}),_N_E=e.O()}]);