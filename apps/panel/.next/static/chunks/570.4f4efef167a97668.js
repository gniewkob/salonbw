"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{6570:function(e,l,t){t.r(l),t.d(l,{default:function(){return a}});var r=t(1549),n=t(4194);function a(e){let{initial:l,onSubmit:t,onCancel:a}=e,[o,s]=(0,n.useState)(()=>{var e,t;return{name:null!==(e=null==l?void 0:l.name)&&void 0!==e?e:"",unitPrice:(null==l?void 0:l.unitPrice)!==void 0?String(l.unitPrice):"",stock:(null==l?void 0:l.stock)!==void 0?String(l.stock):"",lowStockThreshold:(null==l?void 0:l.lowStockThreshold)!==void 0?String(l.lowStockThreshold):"5",brand:null!==(t=null==l?void 0:l.brand)&&void 0!==t?t:""}}),[u,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),h=e=>{let{name:l,value:t}=e.target;s(e=>({...e,[l]:t}))},m=async e=>{e.preventDefault();let l=o.name.trim();if(!l){i("Name is required");return}let r=(e,l)=>{let t=Number(e);return!Number.isFinite(t)||t<0?(i(l),null):t},n=r(o.unitPrice,"Price must be >= 0");if(null===n)return;let a=r(o.stock,"Stock must be >= 0");if(null===a)return;let s=r(o.lowStockThreshold,"Low stock threshold must be >= 0");if(null===s)return;let u=o.brand.trim();i(""),d(!0);try{await t({name:l,unitPrice:n,stock:a,lowStockThreshold:s,brand:u})}catch(e){i(e instanceof Error&&e.message||"Error")}finally{d(!1)}};return(0,r.jsxs)("form",{onSubmit:e=>void m(e),className:"space-y-2",children:[(0,r.jsx)("input",{name:"name",value:o.name,onChange:h,className:"border p-1 w-full",placeholder:"Name"}),(0,r.jsx)("input",{name:"brand",value:o.brand,onChange:h,className:"border p-1 w-full",placeholder:"Brand"}),(0,r.jsx)("input",{name:"unitPrice",value:o.unitPrice,onChange:h,className:"border p-1 w-full",placeholder:"Price"}),(0,r.jsx)("input",{name:"stock",value:o.stock,onChange:h,className:"border p-1 w-full",placeholder:"Stock"}),(0,r.jsx)("input",{name:"lowStockThreshold",value:o.lowStockThreshold,onChange:h,className:"border p-1 w-full",placeholder:"Low Stock Threshold"}),u&&(0,r.jsx)("p",{role:"alert",className:"text-red-600 text-sm",children:u}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"border px-2 py-1",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"border px-2 py-1",disabled:c,children:c?"Savingâ€¦":"Save"})]})]})}}}]);