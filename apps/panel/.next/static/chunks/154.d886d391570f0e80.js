"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{6154:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var a=n(1549),r=n(4194);function l(e){let{initial:t,onSubmit:n,onCancel:l}=e,[i,o]=(0,r.useState)(()=>{var e;return{appointmentId:(null==t?void 0:t.appointmentId)!==void 0?String(t.appointmentId):"",rating:(null==t?void 0:t.rating)!==void 0?String(t.rating):"1",comment:null!==(e=null==t?void 0:t.comment)&&void 0!==e?e:""}}),[u,s]=(0,r.useState)(""),m=e=>{let{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))},p=async e=>{e.preventDefault();let t=Number(i.appointmentId);if(!Number.isFinite(t)||t<1){s("Appointment is required");return}let a=Number(i.rating);if(!Number.isFinite(a)||a<1||a>5){s("Rating must be between 1 and 5");return}let r=i.comment.trim();s("");try{await n({appointmentId:t,rating:a,comment:r})}catch(e){s(e instanceof Error&&e.message||"Error")}};return(0,a.jsxs)("form",{onSubmit:e=>void p(e),className:"space-y-2",children:[(0,a.jsx)("input",{name:"appointmentId",value:i.appointmentId,onChange:m,className:"border p-1 w-full",placeholder:"Appointment"}),(null==t?void 0:t.employee)&&(0,a.jsx)("input",{value:t.employee.fullName,readOnly:!0,className:"border p-1 w-full bg-gray-100",placeholder:"Employee"}),(null==t?void 0:t.author)&&(0,a.jsx)("input",{value:t.author.name,readOnly:!0,className:"border p-1 w-full bg-gray-100",placeholder:"Author"}),(0,a.jsx)("input",{name:"rating",value:i.rating,onChange:m,className:"border p-1 w-full",placeholder:"Rating"}),(0,a.jsx)("textarea",{name:"comment",value:i.comment,onChange:m,className:"border p-1 w-full",placeholder:"Comment"}),u&&(0,a.jsx)("p",{role:"alert",className:"text-red-600 text-sm",children:u}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"border px-2 py-1",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"border px-2 py-1",children:"Save"})]})]})}}}]);