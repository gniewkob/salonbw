function _normalizeArguments(t,e,i,n){return $.isPlainObject(t)?t:(t={effect:t},e===undefined&&(e={}),$.isFunction(e)&&(n=e,i=null,e={}),("number"===$.type(e)||$.fx.speeds[e])&&(n=i,i=e,e={}),$.isFunction(i)&&(n=i,i=null),e&&$.extend(t,e),i=i||e.duration,t.duration=$.fx.off?0:"number"==typeof i?i:i in $.fx.speeds?$.fx.speeds[i]:$.fx.speeds._default,t.complete=n||e.complete,t)}function standardSpeed(t){return!(t&&"number"!=typeof t&&!$.fx.speeds[t])||"string"==typeof t&&!$.jqplot.effects.effect[t]&&(!backCompat||!$.jqplot.effects[t])}$(document).ready(function(){$('div[data-role="jqplot"]').each(function(){var options=$(this).data("options");if(options.axesDefaults&&"string"==typeof options.axesDefaults.renderer&&0===options.axesDefaults.renderer.indexOf("$.")&&(options.axesDefaults.renderer=eval(options.axesDefaults.renderer)),options.axes&&(options.axes.xaxis&&("string"==typeof options.axes.xaxis.tickRenderer&&0===options.axes.xaxis.tickRenderer.indexOf("$.")&&(options.axes.xaxis.tickRenderer=eval(options.axes.xaxis.tickRenderer)),"string"==typeof options.axes.xaxis.renderer&&0===options.axes.xaxis.renderer.indexOf("$.")&&(options.axes.xaxis.renderer=eval(options.axes.xaxis.renderer))),options.axes.yaxis&&("string"==typeof options.axes.yaxis.tickRenderer&&0===options.axes.yaxis.tickRenderer.indexOf("$.")&&(options.axes.yaxis.tickRenderer=eval(options.axes.yaxis.tickRenderer)),"string"==typeof options.axes.yaxis.renderer&&0===options.axes.yaxis.renderer.indexOf("$.")&&(options.axes.yaxis.renderer=eval(options.axes.yaxis.renderer))),options.axes.x2axis&&("string"==typeof options.axes.x2axis.tickRenderer&&0===options.axes.x2axis.tickRenderer.indexOf("$.")&&(options.axes.x2axis.tickRenderer=eval(options.axes.x2axis.tickRenderer)),"string"==typeof options.axes.x2axis.renderer&&0===options.axes.x2axis.renderer.indexOf("$.")&&(options.axes.x2axis.renderer=eval(options.axes.x2axis.renderer))),options.axes.y2axis&&("string"==typeof options.axes.y2axis.tickRenderer&&0===options.axes.y2axis.tickRenderer.indexOf("$.")&&(options.axes.y2axis.tickRenderer=eval(options.axes.y2axis.tickRenderer)),"string"==typeof options.axes.y2axis.renderer&&0===options.axes.y2axis.renderer.indexOf("$.")&&(options.axes.y2axis.renderer=eval(options.axes.y2axis.renderer)))),options.seriesDefaults&&"string"==typeof options.seriesDefaults.renderer&&0===options.seriesDefaults.renderer.indexOf("$.")&&(options.seriesDefaults.renderer=eval(options.seriesDefaults.renderer)),options.series)for(var i=0,length=options.series.length;i<length;i++)"string"==typeof options.series[i].renderer&&0===options.series[i].renderer.indexOf("$.")&&(options.series[i].renderer=eval(options.series[i].renderer));$.jqplot($(this).attr("id"),$(this).data("series"),options)})}),function(t){function e(e){t.jqplot.ElemContainer.call(this),this.name=e,this._series=[],this.show=!1,this.tickRenderer=t.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=t.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=t.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this.scaleToHiddenSeries=!1,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function i(e){t.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=t.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],t.extend(!0,this,e)}function n(e){t.jqplot.ElemContainer.call(this),this.text=e,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=t.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function r(e){e=e||{},t.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=t.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=t.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new t.jqplot.GenericCanvas,this.shadowCanvas=new t.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function a(){t.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=t.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function s(){function o(t){for(var e,i=0;i<t.length;i++)for(var n,r=[t[i].data,t[i]._stackData,t[i]._plotData,t[i]._prevPlotData],a=0;a<4;a++)if(n=!0,e=r[a],"x"==t[i]._stackAxis){for(var s=0;s<e.length;s++)if("number"!=typeof e[s][1]){n=!1;break}n&&e.sort(function(t,e){return t[1]-e[1]})}else{for(var s=0;s<e.length;s++)if("number"!=typeof e[s][0]){n=!1;break}n&&e.sort(function(t,e){return t[0]-e[0]})}}function l(t){var e,i,n=t.data.plot,r=n.eventCanvas._elem.offset(),a={x:t.pageX-r.left,y:t.pageY-r.top},s={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},o=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],l=n.axes;for(e=11;e>0;e--)i=o[e-1],l[i].show&&(s[i]=l[i].series_p2u(a[i.charAt(0)]));return{offsets:r,gridPos:a,dataPos:s}}function h(e,i){function n(t,e,i){var n=(e[1]-i[1])/(e[0]-i[0]),r=e[1]-n*e[0],a=t+e[1];return[(a-r)/n,a]}var r,a,s,o,l,h,u,c,d,g,f,p,m,x,v,_,y,b,w,k=i.series;for(s=i.seriesStack.length-1;s>=0;s--)switch(r=i.seriesStack[s],o=k[r],y=o._highlightThreshold,o.renderer.constructor){case t.jqplot.BarRenderer:for(h=e.x,u=e.y,a=0;a<o._barPoints.length;a++)if(_=o._barPoints[a],v=o.gridData[a],h>_[0][0]&&h<_[2][0]&&u>_[2][1]&&u<_[0][1])return{seriesIndex:o.index,pointIndex:a,gridData:v,data:o.data[a],points:o._barPoints[a]};break;case t.jqplot.PyramidRenderer:for(h=e.x,u=e.y,a=0;a<o._barPoints.length;a++)if(_=o._barPoints[a],v=o.gridData[a],h>_[0][0]+y[0][0]&&h<_[2][0]+y[2][0]&&u>_[2][1]&&u<_[0][1])return{seriesIndex:o.index,pointIndex:a,gridData:v,data:o.data[a],points:o._barPoints[a]};break;case t.jqplot.DonutRenderer:if(g=o.startAngle/180*Math.PI,h=e.x-o._center[0],u=e.y-o._center[1],l=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),h>0&&-u>=0?c=2*Math.PI-Math.atan(-u/h):h>0&&-u<0?c=-Math.atan(-u/h):h<0?c=Math.PI-Math.atan(-u/h):0==h&&-u>0?c=3*Math.PI/2:0==h&&-u<0?c=Math.PI/2:0==h&&0==u&&(c=0),g&&(c-=g,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),d=o.sliceMargin/180*Math.PI,l<o._radius&&l>o._innerRadius)for(a=0;a<o.gridData.length;a++)if(f=a>0?o.gridData[a-1][1]+d:d,p=o.gridData[a][1],c>f&&c<p)return{seriesIndex:o.index,pointIndex:a,gridData:o.gridData[a],data:o.data[a]};break;case t.jqplot.PieRenderer:if(g=o.startAngle/180*Math.PI,h=e.x-o._center[0],u=e.y-o._center[1],l=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),h>0&&-u>=0?c=2*Math.PI-Math.atan(-u/h):h>0&&-u<0?c=-Math.atan(-u/h):h<0?c=Math.PI-Math.atan(-u/h):0==h&&-u>0?c=3*Math.PI/2:0==h&&-u<0?c=Math.PI/2:0==h&&0==u&&(c=0),g&&(c-=g,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),d=o.sliceMargin/180*Math.PI,l<o._radius)for(a=0;a<o.gridData.length;a++)if(f=a>0?o.gridData[a-1][1]+d:d,p=o.gridData[a][1],c>f&&c<p)return{seriesIndex:o.index,pointIndex:a,gridData:o.gridData[a],data:o.data[a]};break;case t.jqplot.BubbleRenderer:h=e.x,u=e.y;var M=null;if(o.show){for(var a=0;a<o.gridData.length;a++)v=o.gridData[a],(x=Math.sqrt((h-v[0])*(h-v[0])+(u-v[1])*(u-v[1])))<=v[2]&&(x<=m||null==m)&&(m=x,M={seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]});if(null!=M)return M}break;case t.jqplot.FunnelRenderer:h=e.x,u=e.y;var T,S,D,C=o._vertices,A=C[0],j=C[C.length-1];for(T=n(u,A[0],j[3]),S=n(u,A[1],j[2]),a=0;a<C.length;a++)if(D=C[a],u>=D[0][1]&&u<=D[3][1]&&h>=T[0]&&h<=S[0])return{seriesIndex:o.index,pointIndex:a,gridData:null,data:o.data[a]};break;case t.jqplot.LineRenderer:if(h=e.x,u=e.y,l=o.renderer,o.show){if(!(!(o.fill||o.renderer.bands.show&&o.renderer.bands.fill)||i.plugins.highlighter&&i.plugins.highlighter.show)){var q=!1;if(h>o._boundingBox[0][0]&&h<o._boundingBox[1][0]&&u>o._boundingBox[1][1]&&u<o._boundingBox[0][1])for(var L,R=o._areaPoints.length,a=R-1,L=0;L<R;L++){var I=[o._areaPoints[L][0],o._areaPoints[L][1]],E=[o._areaPoints[a][0],o._areaPoints[a][1]];(I[1]<u&&E[1]>=u||E[1]<u&&I[1]>=u)&&I[0]+(u-I[1])/(E[1]-I[1])*(E[0]-I[0])<h&&(q=!q),a=L}if(q)return{seriesIndex:r,pointIndex:null,gridData:o.gridData,data:o.data,points:o._areaPoints};break}w=o.markerRenderer.size/2+o.neighborThreshold,b=w>0?w:0;for(var a=0;a<o.gridData.length;a++)if(v=o.gridData[a],l.constructor==t.jqplot.OHLCRenderer)if(l.candleStick){var F=o._yaxis.series_u2p;if(h>=v[0]-l._bodyWidth/2&&h<=v[0]+l._bodyWidth/2&&u>=F(o.data[a][2])&&u<=F(o.data[a][3]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else if(l.hlc){var F=o._yaxis.series_u2p;if(h>=v[0]-l._tickLength&&h<=v[0]+l._tickLength&&u>=F(o.data[a][1])&&u<=F(o.data[a][2]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else{var F=o._yaxis.series_u2p;if(h>=v[0]-l._tickLength&&h<=v[0]+l._tickLength&&u>=F(o.data[a][2])&&u<=F(o.data[a][3]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else if(null!=v[0]&&null!=v[1]&&(x=Math.sqrt((h-v[0])*(h-v[0])+(u-v[1])*(u-v[1])))<=b&&(x<=m||null==m))return m=x,{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}break;default:if(h=e.x,u=e.y,l=o.renderer,o.show){w=o.markerRenderer.size/2+o.neighborThreshold,b=w>0?w:0;for(var a=0;a<o.gridData.length;a++)if(v=o.gridData[a],l.constructor==t.jqplot.OHLCRenderer)if(l.candleStick){var F=o._yaxis.series_u2p;if(h>=v[0]-l._bodyWidth/2&&h<=v[0]+l._bodyWidth/2&&u>=F(o.data[a][2])&&u<=F(o.data[a][3]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else if(l.hlc){var F=o._yaxis.series_u2p;if(h>=v[0]-l._tickLength&&h<=v[0]+l._tickLength&&u>=F(o.data[a][1])&&u<=F(o.data[a][2]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else{var F=o._yaxis.series_u2p;if(h>=v[0]-l._tickLength&&h<=v[0]+l._tickLength&&u>=F(o.data[a][2])&&u<=F(o.data[a][3]))return{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}else if((x=Math.sqrt((h-v[0])*(h-v[0])+(u-v[1])*(u-v[1])))<=b&&(x<=m||null==m))return m=x,{seriesIndex:r,pointIndex:a,gridData:v,data:o.data[a]}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new e("xaxis"),yaxis:new e("yaxis"),x2axis:new e("x2axis"),y2axis:new e("y2axis"),y3axis:new e("y3axis"),y4axis:new e("y4axis"),y5axis:new e("y5axis"),y6axis:new e("y6axis"),y7axis:new e("y7axis"),y8axis:new e("y8axis"),y9axis:new e("y9axis"),yMidAxis:new e("yMidAxis")},this.baseCanvas=new t.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new t.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new a,this.legend=new i,this.negativeSeriesColors=t.jqplot.config.defaultNegativeColors,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=t.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new n,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=t.jqplot.config.addDomReference,this.preInitHooks=new t.jqplot.HooksManager,this.postInitHooks=new t.jqplot.HooksManager,this.preParseOptionsHooks=new t.jqplot.HooksManager,this.postParseOptionsHooks=new t.jqplot.HooksManager,this.preDrawHooks=new t.jqplot.HooksManager,this.postDrawHooks=new t.jqplot.HooksManager,this.preDrawSeriesHooks=new t.jqplot.HooksManager,this.postDrawSeriesHooks=new t.jqplot.HooksManager,this.preDrawLegendHooks=new t.jqplot.HooksManager,this.addLegendRowHooks=new t.jqplot.HooksManager,this.preSeriesInitHooks=new t.jqplot.HooksManager,this.postSeriesInitHooks=new t.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.eventListenerHooks=new t.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.colorGenerator=new t.jqplot.ColorGenerator,this.negativeColorGenerator=new t.jqplot.ColorGenerator,this.canvasManager=new t.jqplot.CanvasManager,this.themeEngine=new t.jqplot.ThemeEngine;this.init=function(i,n,r){r=r||{};for(var a=0;a<t.jqplot.preInitHooks.length;a++)t.jqplot.preInitHooks[a].call(this,i,n,r);for(var a=0;a<this.preInitHooks.hooks.length;a++)this.preInitHooks.hooks[a].call(this,i,n,r);if(this.targetId="#"+i,this.target=t("#"+i),this._addDomReference&&this.target.data("jqplot",this),this.target.removeClass("jqplot-error"),!this.target.get(0))throw"No plot target specified";if("static"==this.target.css("position")&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target"),this.target.height())this._height=s=this.target.height();else{var s;s=r&&r.height?parseInt(r.height,10):this.target.attr("data-height")?parseInt(this.target.attr("data-height"),10):parseInt(t.jqplot.config.defaultHeight,10),this._height=s,this.target.css("height",s+"px")}if(this.target.width())this._width=l=this.target.width();else{var l;l=r&&r.width?parseInt(r.width,10):this.target.attr("data-width")?parseInt(this.target.attr("data-width"),10):parseInt(t.jqplot.config.defaultWidth,10),this._width=l,this.target.css("width",l+"px")}for(var a=0,h=q.length;a<h;a++)this.axes[q[a]]=new e(q[a]);if(this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions,this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";if(r.dataRenderer&&t.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,n=this.dataRenderer(n,this,this.dataRendererOptions)),r.noDataIndicator&&t.isPlainObject(r.noDataIndicator)&&t.extend(!0,this.noDataIndicator,r.noDataIndicator),null==n||0==t.isArray(n)||0==n.length||0==t.isArray(n[0])||0==n[0].length){if(0==this.noDataIndicator.show)throw"No Data";for(var u in this.noDataIndicator.axes)for(var c in this.noDataIndicator.axes[u])this.axes[u][c]=this.noDataIndicator.axes[u][c];this.postDrawHooks.add(function(){var e=this.eventCanvas.getHeight(),i=this.eventCanvas.getWidth(),n=t('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(n),n.height(e),n.width(i),n.css("top",this.eventCanvas._offsets.top),n.css("left",this.eventCanvas._offsets.left);var r=t('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');n.append(r),r.html(this.noDataIndicator.indicator);var a=r.height(),s=r.width();r.height(a),r.width(s),r.css("top",(e-a)/2+"px")})}this.data=t.extend(!0,[],n),this.parseOptions(r),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.computePlotData();for(var a=0;a<this.series.length;a++){this.seriesStack.push(a),this.previousSeriesStack.push(a),this.series[a].shadowCanvas._plotDimensions=this._plotDimensions,this.series[a].canvas._plotDimensions=this._plotDimensions;for(var d=0;d<t.jqplot.preSeriesInitHooks.length;d++)t.jqplot.preSeriesInitHooks[d].call(this.series[a],i,this.data,this.options.seriesDefaults,this.options.series[a],this);for(var d=0;d<this.preSeriesInitHooks.hooks.length;d++)this.preSeriesInitHooks.hooks[d].call(this.series[a],i,this.data,this.options.seriesDefaults,this.options.series[a],this);this.series[a]._plotDimensions=this._plotDimensions,this.series[a].init(a,this.grid.borderWidth,this);for(var d=0;d<t.jqplot.postSeriesInitHooks.length;d++)t.jqplot.postSeriesInitHooks[d].call(this.series[a],i,this.data,this.options.seriesDefaults,this.options.series[a],this);for(var d=0;d<this.postSeriesInitHooks.hooks.length;d++)this.postSeriesInitHooks.hooks[d].call(this.series[a],i,this.data,this.options.seriesDefaults,this.options.series[a],this);this._sumy+=this.series[a]._sumy,this._sumx+=this.series[a]._sumx}for(var g,f,a=0,h=q.length;a<h;a++)g=q[a],f=this.axes[g],f._plotDimensions=this._plotDimensions,f.init(),null==this.axes[g].borderColor&&("x"!==g.charAt(0)&&!0===f.useSeriesColor&&f.show?f.borderColor=f._series[0].color:f.borderColor=this.grid.borderColor);this.sortData&&o(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var a=0;a<t.jqplot.postInitHooks.length;a++)t.jqplot.postInitHooks[a].call(this,i,this.data,r);for(var a=0;a<this.postInitHooks.hooks.length;a++)this.postInitHooks.hooks[a].call(this,i,this.data,r)},this.resetAxesScale=function(e,i){var n=i||{},r=e||this.axes;if(!0===r&&(r=this.axes),t.isArray(r))for(var a=0;a<r.length;a++)this.axes[r[a]].resetScale(n[r[a]]);else if("object"==typeof r)for(var s in r)this.axes[s].resetScale(n[s])},this.reInitialize=function(i,n){for(var r=t.extend(!0,{},this.options,n),a=this.targetId.substr(1),s=null==i?this.data:i,l=0;l<t.jqplot.preInitHooks.length;l++)t.jqplot.preInitHooks[l].call(this,a,s,r);for(var l=0;l<this.preInitHooks.hooks.length;l++)this.preInitHooks.hooks[l].call(this,a,s,r);if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var h,u,c,d,l=0,g=q.length;l<g;l++){h=q[l],d=this.axes[h],u=d._ticks;for(var c=0,f=u.length;c<f;c++){var p=u[c]._elem;p&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==j&&window.G_vmlCanvasManager.uninitElement(p.get(0)),p.emptyForce(),p=null,u._elem=null)}u=null,delete d.ticks,delete d._ticks,this.axes[h]=new e(h),this.axes[h]._plotWidth=this._width,this.axes[h]._plotHeight=this._height}i&&(r.dataRenderer&&t.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,i=this.dataRenderer(i,this,this.dataRendererOptions)),this.data=t.extend(!0,[],i)),n&&this.parseOptions(r),this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.seriesStack=[],this.previousSeriesStack=[],this.computePlotData();for(var l=0,g=this.series.length;l<g;l++){this.seriesStack.push(l),this.previousSeriesStack.push(l),this.series[l].shadowCanvas._plotDimensions=this._plotDimensions,this.series[l].canvas._plotDimensions=this._plotDimensions;for(var c=0;c<t.jqplot.preSeriesInitHooks.length;c++)t.jqplot.preSeriesInitHooks[c].call(this.series[l],a,this.data,this.options.seriesDefaults,this.options.series[l],this);for(var c=0;c<this.preSeriesInitHooks.hooks.length;c++)this.preSeriesInitHooks.hooks[c].call(this.series[l],a,this.data,this.options.seriesDefaults,this.options.series[l],this);this.series[l]._plotDimensions=this._plotDimensions,this.series[l].init(l,this.grid.borderWidth,this);for(var c=0;c<t.jqplot.postSeriesInitHooks.length;c++)t.jqplot.postSeriesInitHooks[c].call(this.series[l],a,this.data,this.options.seriesDefaults,this.options.series[l],this);for(var c=0;c<this.postSeriesInitHooks.hooks.length;c++)this.postSeriesInitHooks.hooks[c].call(this.series[l],a,this.data,this.options.seriesDefaults,this.options.series[l],this);this._sumy+=this.series[l]._sumy,this._sumx+=this.series[l]._sumx}for(var l=0,g=q.length;l<g;l++)h=q[l],d=this.axes[h],d._plotDimensions=this._plotDimensions,d.init(),null==d.borderColor&&("x"!==h.charAt(0)&&!0===d.useSeriesColor&&d.show?d.borderColor=d._series[0].color:d.borderColor=this.grid.borderColor);this.sortData&&o(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var l=0,g=t.jqplot.postInitHooks.length;l<g;l++)t.jqplot.postInitHooks[l].call(this,a,this.data,r);for(var l=0,g=this.postInitHooks.hooks.length;l<g;l++)this.postInitHooks.hooks[l].call(this,a,this.data,r)},this.quickInit=function(){if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var e in this.axes)this.axes[e]._plotWidth=this._width,this.axes[e]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,this.computePlotData();for(var i=0;i<this.series.length;i++)"line"===this.series[i]._type&&this.series[i].renderer.bands.show&&this.series[i].renderer.initBands.call(this.series[i],this.series[i].renderer.options,this),this.series[i]._plotDimensions=this._plotDimensions,this.series[i].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[i]._sumy,this._sumx+=this.series[i]._sumx;for(var n,r=0;r<12;r++){n=q[r];for(var a=this.axes[n]._ticks,i=0;i<a.length;i++){var s=a[i]._elem;s&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==j&&window.G_vmlCanvasManager.uninitElement(s.get(0)),s.emptyForce(),s=null,a._elem=null)}a=null,this.axes[n]._plotDimensions=this._plotDimensions,this.axes[n]._ticks=[]}this.sortData&&o(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.computePlotData=function(){this._plotData=[],this._stackData=[];var e,i,n;for(i=0,n=this.series.length;i<n;i++){e=this.series[i],this._plotData.push([]),this._stackData.push([]);var r=e.data;this._plotData[i]=t.extend(!0,[],r),this._stackData[i]=t.extend(!0,[],r),e._plotData=this._plotData[i],e._stackData=this._stackData[i];var a={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var s="x"===e._stackAxis?0:1,o=0,l=r.length;o<l;o++){var h=r[o][s];if(null==h&&(h=0),this._plotData[i][o][s]=h,this._stackData[i][o][s]=h,i>0)for(var u=i;u--;){var c=this._plotData[u][o][s];if(h*c>=0){this._plotData[i][o][s]+=c,this._stackData[i][o][s]+=c;break}}}}else{for(var d=0;d<e.data.length;d++)a.x.push(e.data[d][0]),a.y.push(e.data[d][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=a}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,d=e.data.length-1;d>-1;d--)e._sumy+=e.data[d][1],e._sumx+=e.data[d][0]}},this.populatePlotData=function(e,i){this._plotData=[],this._stackData=[],e._stackData=[],e._plotData=[];var n={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var r,a,s,o,l="x"===e._stackAxis?0:1,h=t.extend(!0,[],e.data),u=t.extend(!0,[],e.data),c=0;c<i;c++)for(var d=this.series[c].data,g=0;g<d.length;g++)s=d[g],r=null!=s[0]?s[0]:0,a=null!=s[1]?s[1]:0,h[g][0]+=r,h[g][1]+=a,o=l?a:r,e.data[g][l]*o>=0&&(u[g][l]+=o);for(var f=0;f<u.length;f++)n.x.push(u[f][0]),n.y.push(u[f][1]);this._plotData.push(u),this._stackData.push(h),e._stackData=h,e._plotData=u,e._plotValues=n}else{for(var f=0;f<e.data.length;f++)n.x.push(e.data[f][0]),n.y.push(e.data[f][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=n}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,f=e.data.length-1;f>-1;f--)e._sumy+=e.data[f][1],e._sumx+=e.data[f][0]},this.getNextSeriesColor=function(t){var e=0,i=t.seriesColors;return function(){return e<i.length?i[e++]:(e=0,i[e++])}}(this),this.parseOptions=function(e){for(var i=0;i<this.preParseOptionsHooks.hooks.length;i++)this.preParseOptionsHooks.hooks[i].call(this,e);for(var i=0;i<t.jqplot.preParseOptionsHooks.length;i++)t.jqplot.preParseOptionsHooks[i].call(this,e);this.options=t.extend(!0,{},this.defaults,e);var n=this.options;if(this.animate=n.animate,this.animateReplot=n.animateReplot,this.stackSeries=n.stackSeries,t.isPlainObject(n.fillBetween))for(var a,s=["series1","series2","color","baseSeries","fill"],i=0,o=s.length;i<o;i++)a=s[i],null!=n.fillBetween[a]&&(this.fillBetween[a]=n.fillBetween[a]);n.seriesColors&&(this.seriesColors=n.seriesColors),n.negativeSeriesColors&&(this.negativeSeriesColors=n.negativeSeriesColors),n.captureRightClick&&(this.captureRightClick=n.captureRightClick),this.defaultAxisStart=e&&null!=e.defaultAxisStart?e.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),t.extend(!0,this._gridPadding,n.gridPadding),this.sortData=null!=n.sortData?n.sortData:this.sortData;for(var i=0;i<12;i++){var l=q[i],h=this.axes[l];h._options=t.extend(!0,{},n.axesDefaults,n.axes[l]),t.extend(!0,h,n.axesDefaults,n.axes[l]),h._plotWidth=this._width,h._plotHeight=this._height}var u=function(e,i,n){var r,a,s=[];if(i=i||"vertical",t.isArray(e[0]))t.extend(!0,s,e);else for(r=0,a=e.length;r<a;r++)"vertical"==i?s.push([n+r,e[r]]):s.push([e[r],n+r]);return s};this.series=[];for(var i=0;i<this.data.length;i++){for(var c=t.extend(!0,{index:i},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i],{rendererOptions:{animation:{show:this.animate}}}),s=new r(c),d=0;d<t.jqplot.preParseSeriesOptionsHooks.length;d++)t.jqplot.preParseSeriesOptionsHooks[d].call(s,this.options.seriesDefaults,this.options.series[i]);for(var d=0;d<this.preParseSeriesOptionsHooks.hooks.length;d++)this.preParseSeriesOptionsHooks.hooks[d].call(s,this.options.seriesDefaults,this.options.series[i]);t.extend(!0,s,c);var g="vertical";switch(s.renderer===t.jqplot.BarRenderer&&s.rendererOptions&&"horizontal"==s.rendererOptions.barDirection&&(g="horizontal",s._stackAxis="x",s._primaryAxis="_yaxis"),s.data=u(this.data[i],g,this.defaultAxisStart),s.xaxis){case"xaxis":s._xaxis=this.axes.xaxis;break;case"x2axis":s._xaxis=this.axes.x2axis}s._yaxis=this.axes[s.yaxis],s._xaxis._series.push(s),s._yaxis._series.push(s),s.show?(s._xaxis.show=!0,s._yaxis.show=!0):(s._xaxis.scaleToHiddenSeries&&(s._xaxis.show=!0),s._yaxis.scaleToHiddenSeries&&(s._yaxis.show=!0)),s.label||(s.label="Series "+(i+1).toString()),this.series.push(s);for(var d=0;d<t.jqplot.postParseSeriesOptionsHooks.length;d++)t.jqplot.postParseSeriesOptionsHooks[d].call(this.series[i],this.options.seriesDefaults,this.options.series[i]);for(var d=0;d<this.postParseSeriesOptionsHooks.hooks.length;d++)this.postParseSeriesOptionsHooks.hooks[d].call(this.series[i],this.options.seriesDefaults,this.options.series[i])}t.extend(!0,this.grid,this.options.grid);for(var i=0,o=q.length;i<o;i++){var l=q[i],h=this.axes[l];null==h.borderWidth&&(h.borderWidth=this.grid.borderWidth)}"string"==typeof this.options.title?this.title.text=this.options.title:"object"==typeof this.options.title&&t.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(var i=0;i<t.jqplot.postParseOptionsHooks.length;i++)t.jqplot.postParseOptionsHooks[i].call(this,e);for(var i=0;i<this.postParseOptionsHooks.hooks.length;i++)this.postParseOptionsHooks.hooks[i].call(this,e)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(e){var i=e||{},n=i.data||null,r=!1!==i.clear,a=i.resetAxes||!1;delete i.data,delete i.clear,delete i.resetAxes,this.target.trigger("jqplotPreReplot"),r&&this.destroy(),n||!t.isEmptyObject(i)?this.reInitialize(n,i):this.quickInit(),a&&this.resetAxesScale(a,i.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(t){t=null==t||t,this.target.trigger("jqplotPreRedraw"),t&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(var e in this.axes)this.axes[e]._ticks=[];this.computePlotData(),this._sumy=0,this._sumx=0;for(var i=0,n=this.series.length;i<n;i++)this._sumy+=this.series[i]._sumy,this._sumx+=this.series[i]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var e,i,n;for(e=0,n=t.jqplot.preDrawHooks.length;e<n;e++)t.jqplot.preDrawHooks[e].call(this);for(e=0,n=this.preDrawHooks.length;e<n;e++)this.preDrawHooks.hooks[e].apply(this,this.preDrawSeriesHooks.args[e]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var r=this.legend.draw({},this),a={top:0,left:0,bottom:0,right:0};if("outsideGrid"==this.legend.placement){switch(this.target.append(r),this.legend.location){case"n":a.top+=this.legend.getHeight();break;case"s":a.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":a.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":a.left+=this.legend.getWidth();break;default:a.right+=this.legend.getWidth()}r=r.detach()}var s,o=this.axes;for(e=0;e<12;e++)s=q[e],this.target.append(o[s].draw(this.baseCanvas._ctx,this)),o[s].set();o.yaxis.show&&(a.left+=o.yaxis.getWidth())
;var l,h=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],u=[0,0,0,0,0,0,0,0],c=0;for(l=0;l<8;l++)o[h[l]].show&&(c+=o[h[l]].getWidth(),u[l]=c);if(a.right+=c,o.x2axis.show&&(a.top+=o.x2axis.getHeight()),this.title.show&&(a.top+=this.title.getHeight()),o.xaxis.show&&(a.bottom+=o.xaxis.getHeight()),this.options.gridDimensions&&t.isPlainObject(this.options.gridDimensions)){var d=parseInt(this.options.gridDimensions.width,10)||0,g=parseInt(this.options.gridDimensions.height,10)||0,f=(this._width-a.left-a.right-d)/2,p=(this._height-a.top-a.bottom-g)/2;p>=0&&f>=0&&(a.top+=p,a.bottom+=p,a.left+=f,a.right+=f)}var m=["top","bottom","left","right"];for(var l in m)null==this._gridPadding[m[l]]&&a[m[l]]>0?this._gridPadding[m[l]]=a[m[l]]:null==this._gridPadding[m[l]]&&(this._gridPadding[m[l]]=this._defaultGridPadding[m[l]]);var x=this._gridPadding;for("outsideGrid"===this.legend.placement&&(x={top:this.title.getHeight(),left:0,right:0,bottom:0},"s"===this.legend.location&&(x.left=this._gridPadding.left,x.right=this._gridPadding.right)),o.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-o.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),o.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-o.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),o.x2axis.pack({position:"absolute",top:this._gridPadding.top-o.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),e=8;e>0;e--)o[h[e-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-u[e-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var v=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-o.yMidAxis.getWidth()/2;o.yMidAxis.pack({position:"absolute",top:0,left:v,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var _=this.series,y=_.length;for(e=0,n=y;e<n;e++)i=this.seriesStack[e],this.target.append(_[i].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),_[i].shadowCanvas.setContext(),_[i].shadowCanvas._elem.data("seriesIndex",i);for(e=0,n=y;e<n;e++)i=this.seriesStack[e],this.target.append(_[i].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),_[i].canvas.setContext(),_[i].canvas._elem.data("seriesIndex",i);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(r),this.legend.pack(x),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),y&&t(_[y-1].canvas._elem).after(r),this.legend.pack(x));for(var e=0,n=t.jqplot.eventListenerHooks.length;e<n;e++)this.eventCanvas._elem.bind(t.jqplot.eventListenerHooks[e][0],{plot:this},t.jqplot.eventListenerHooks[e][1]);for(var e=0,n=this.eventListenerHooks.hooks.length;e<n;e++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[e][0],{plot:this},this.eventListenerHooks.hooks[e][1]);var b=this.fillBetween;b.fill&&b.series1!==b.series2&&b.series1<y&&b.series2<y&&"line"===_[b.series1]._type&&"line"===_[b.series2]._type&&this.doFillBetweenLines();for(var e=0,n=t.jqplot.postDrawHooks.length;e<n;e++)t.jqplot.postDrawHooks[e].call(this);for(var e=0,n=this.postDrawHooks.hooks.length;e<n;e++)this.postDrawHooks.hooks[e].apply(this,this.postDrawHooks.args[e]);this.target.is(":visible")&&(this._drawCount+=1);var w,k,M,T;for(e=0,n=y;e<n;e++)w=_[e],k=w.renderer,M=".jqplot-point-label.jqplot-series-"+e,k.animation&&k.animation._supported&&k.animation.show&&(this._drawCount<2||this.animateReplot)&&(T=this.target.find(M),T.stop(!0,!0).hide(),w.canvas._elem.stop(!0,!0).hide(),w.shadowCanvas._elem.stop(!0,!0).hide(),w.canvas._elem.jqplotEffect("blind",{mode:"show",direction:k.animation.direction},k.animation.speed),w.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:k.animation.direction},k.animation.speed),T.fadeIn(.8*k.animation.speed));T=null,this.target.trigger("jqplotPostDraw",[this])}},s.prototype.doFillBetweenLines=function(){var t=this.fillBetween,e=t.series1,i=t.series2,n=e<i?e:i,r=i>e?i:e,a=this.series[n],s=this.series[r];if(s.renderer.smooth)var o=s.renderer._smoothedData.slice(0).reverse();else var o=s.gridData.slice(0).reverse();if(a.renderer.smooth)var l=a.renderer._smoothedData.concat(o);else var l=a.gridData.concat(o);var h=null!==t.color?t.color:this.series[e].fillColor,u=null!==t.baseSeries?t.baseSeries:n,c=this.series[u].renderer.shapeRenderer,d={fillStyle:h,fill:!0,closePath:!0};c.draw(a.shadowCanvas._ctx,l,d)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),a=t.Event("jqplotClick");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])},this.onDblClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),a=t.Event("jqplotDblClick");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])},this.onMouseDown=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),a=t.Event("jqplotMouseDown");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])},this.onMouseUp=function(e){var i=l(e),n=t.Event("jqplotMouseUp");n.pageX=e.pageX,n.pageY=e.pageY,t(this).trigger(n,[i.gridPos,i.dataPos,null,e.data.plot])},this.onRightClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n);if(n.captureRightClick)if(3==e.which){var a=t.Event("jqplotRightClick");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])}else{var a=t.Event("jqplotMouseUp");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])}},this.onMouseMove=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),a=t.Event("jqplotMouseMove");a.pageX=e.pageX,a.pageY=e.pageY,t(this).trigger(a,[i.gridPos,i.dataPos,r,n])},this.onMouseEnter=function(e){var i=l(e),n=e.data.plot,r=t.Event("jqplotMouseEnter");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,n])},this.onMouseLeave=function(e){var i=l(e),n=e.data.plot,r=t.Event("jqplotMouseLeave");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,n])},this.drawSeries=function(e,i){var n,r,a;if(i="number"==typeof e&&null==i?e:i,e="object"==typeof e?e:{},i!=j)r=this.series[i],a=r.shadowCanvas._ctx,a.clearRect(0,0,a.canvas.width,a.canvas.height),r.drawShadow(a,e,this),a=r.canvas._ctx,a.clearRect(0,0,a.canvas.width,a.canvas.height),r.draw(a,e,this),r.renderer.constructor==t.jqplot.BezierCurveRenderer&&i<this.series.length-1&&this.drawSeries(i+1);else for(n=0;n<this.series.length;n++)r=this.series[n],a=r.shadowCanvas._ctx,a.clearRect(0,0,a.canvas.width,a.canvas.height),r.drawShadow(a,e,this),a=r.canvas._ctx,a.clearRect(0,0,a.canvas.width,a.canvas.height),r.draw(a,e,this);e=i=n=r=a=null},this.moveSeriesToFront=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(-1!=i){if(i==this.seriesStack.length-1)return void(this.previousSeriesStack=this.seriesStack.slice(0));var n=this.seriesStack[this.seriesStack.length-1],r=this.series[e].canvas._elem.detach(),a=this.series[e].shadowCanvas._elem.detach();this.series[n].shadowCanvas._elem.after(a),this.series[n].canvas._elem.after(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.push(e)}},this.moveSeriesToBack=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(0!=i&&-1!=i){var n=this.seriesStack[0],r=this.series[e].canvas._elem.detach(),a=this.series[e].shadowCanvas._elem.detach();this.series[n].shadowCanvas._elem.before(a),this.series[n].canvas._elem.before(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.unshift(e)}},this.restorePreviousSeriesOrder=function(){var t,e,i,n,r,a;if(this.seriesStack!=this.previousSeriesStack){for(t=1;t<this.previousSeriesStack.length;t++)r=this.previousSeriesStack[t],a=this.previousSeriesStack[t-1],e=this.series[r].canvas._elem.detach(),i=this.series[r].shadowCanvas._elem.detach(),this.series[a].shadowCanvas._elem.after(i),this.series[a].canvas._elem.after(e);n=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=n}},this.restoreOriginalSeriesOrder=function(){var t,e,i,n=[];for(t=0;t<this.series.length;t++)n.push(t);if(this.seriesStack!=n)for(this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=n,t=1;t<this.seriesStack.length;t++)e=this.series[t].canvas._elem.detach(),i=this.series[t].shadowCanvas._elem.detach(),this.series[t-1].shadowCanvas._elem.after(i),this.series[t-1].canvas._elem.after(e)},this.activateTheme=function(t){this.themeEngine.activate(this,t)}}function o(t,e){return(3.4182054+e)*Math.pow(t,-.3534992)}function l(t){return(Math.exp(2*t)-1)/(Math.exp(2*t)+1)}function h(t){function e(t,e){return t-e==0?Math.pow(10,10):t-e}var i=this.renderer.smooth,n=this.canvas.getWidth(),r=this._xaxis.series_p2u,a=this._yaxis.series_p2u,s=null,l=t.length/n,h=[],u=[];s=isNaN(parseFloat(i))?o(l,.5):parseFloat(i);for(var c=[],d=[],g=0,f=t.length;g<f;g++)c.push(t[g][1]),d.push(t[g][0]);for(var p,m,x,v,_=t.length-1,y=1,b=t.length;y<b;y++){for(var w=[],k=[],M=0;M<2;M++){var g=y-1+M;0==g||g==_?w[M]=Math.pow(10,10):c[g+1]-c[g]==0||c[g]-c[g-1]==0?w[M]=0:(d[g+1]-d[g])/(c[g+1]-c[g])+(d[g]-d[g-1])/(c[g]-c[g-1])==0?w[M]=0:(c[g+1]-c[g])*(c[g]-c[g-1])<0?w[M]=0:w[M]=2/(e(d[g+1],d[g])/(c[g+1]-c[g])+e(d[g],d[g-1])/(c[g]-c[g-1]))}1==y?w[0]=1.5*(c[1]-c[0])/e(d[1],d[0])-w[1]/2:y==_&&(w[1]=1.5*(c[_]-c[_-1])/e(d[_],d[_-1])-w[0]/2),k[0]=-2*(w[1]+2*w[0])/e(d[y],d[y-1])+6*(c[y]-c[y-1])/Math.pow(e(d[y],d[y-1]),2),k[1]=2*(2*w[1]+w[0])/e(d[y],d[y-1])-6*(c[y]-c[y-1])/Math.pow(e(d[y],d[y-1]),2),v=1/6*(k[1]-k[0])/e(d[y],d[y-1]),x=.5*(d[y]*k[0]-d[y-1]*k[1])/e(d[y],d[y-1]),m=(c[y]-c[y-1]-x*(Math.pow(d[y],2)-Math.pow(d[y-1],2))-v*(Math.pow(d[y],3)-Math.pow(d[y-1],3)))/e(d[y],d[y-1]),p=c[y-1]-m*d[y-1]-x*Math.pow(d[y-1],2)-v*Math.pow(d[y-1],3);for(var T,S,D=(d[y]-d[y-1])/s,M=0,f=s;M<f;M++)T=[],S=d[y-1]+M*D,T.push(S),T.push(p+m*S+x*Math.pow(S,2)+v*Math.pow(S,3)),h.push(T),u.push([r(T[0]),a(T[1])])}return h.push(t[g]),u.push([r(t[g][0]),a(t[g][1])]),[h,u]}function u(t){var e,i,n,r,a,s,h,u,c,d,g,f,p,m,x,v,_,y,b=this.renderer.smooth,w=this.renderer.tension,k=this.canvas.getWidth(),M=this._xaxis.series_p2u,T=this._yaxis.series_p2u,S=null,D=null,C=null,A=null,j=null,q=null,L=null,R=t.length/k,I=[],E=[];S=isNaN(parseFloat(b))?o(R,.5):parseFloat(b),isNaN(parseFloat(w))||(w=parseFloat(w));for(var F=0,P=t.length-1;F<P;F++)for(null===w?(j=Math.abs((t[F+1][1]-t[F][1])/(t[F+1][0]-t[F][0])),m=.3,x=.6,v=(x-m)/2,_=2.5,y=-1.4,L=j/_+y,C=v*l(L)-v*l(y)+m,F>0&&(q=Math.abs((t[F][1]-t[F-1][1])/(t[F][0]-t[F-1][0]))),L=q/_+y,A=v*l(L)-v*l(y)+m,D=(C+A)/2):D=w,e=0;e<S;e++)i=e/S,n=(1+2*i)*Math.pow(1-i,2),r=i*Math.pow(1-i,2),a=Math.pow(i,2)*(3-2*i),s=Math.pow(i,2)*(i-1),t[F-1]?(h=D*(t[F+1][0]-t[F-1][0]),u=D*(t[F+1][1]-t[F-1][1])):(h=D*(t[F+1][0]-t[F][0]),u=D*(t[F+1][1]-t[F][1])),t[F+2]?(c=D*(t[F+2][0]-t[F][0]),d=D*(t[F+2][1]-t[F][1])):(c=D*(t[F+1][0]-t[F][0]),d=D*(t[F+1][1]-t[F][1])),g=n*t[F][0]+a*t[F+1][0]+r*h+s*c,f=n*t[F][1]+a*t[F+1][1]+r*u+s*d,p=[g,f],I.push(p),E.push([M(g),T(f)]);return I.push(t[P]),E.push([M(t[P][0]),T(t[P][1])]),[I,E]}function c(){for(var e=0;e<this.series.length;e++)this.series[e].renderer.constructor==t.jqplot.LineRenderer&&this.series[e].highlightMouseOver&&(this.series[e].highlightMouseDown=!1)}function d(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(t){f(t.data.plot)})}function g(t,e,i,n){var r=t.series[e],a=t.plugins.lineRenderer.highlightCanvas;a._ctx.clearRect(0,0,a._ctx.canvas.width,a._ctx.canvas.height),r._highlightedPoint=i,t.plugins.lineRenderer.highlightedSeriesIndex=e;var s={fillStyle:r.highlightColor};"line"===r.type&&r.renderer.bands.show&&(s.fill=!0,s.closePath=!0),r.renderer.shapeRenderer.draw(a._ctx,n,s),a=null}function f(t){var e=t.plugins.lineRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.lineRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight"),e=null}function p(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataMouseOver");if(s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,a),r.series[a[0]].highlightMouseOver&&a[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var o=jQuery.Event("jqplotDataHighlight");o.which=t.which,o.pageX=t.pageX,o.pageY=t.pageY,r.target.trigger(o,a),g(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&f(r)}function m(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data];if(r.series[a[0]].highlightMouseDown&&a[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var s=jQuery.Event("jqplotDataHighlight");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,a),g(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&f(r)}function x(t,e,i,n,r){var a=r.plugins.lineRenderer.highlightedSeriesIndex;null!=a&&r.series[a].highlightMouseDown&&f(r)}function v(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataClick");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,a)}}function _(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=r.plugins.lineRenderer.highlightedSeriesIndex;null!=s&&r.series[s].highlightMouseDown&&f(r);var o=jQuery.Event("jqplotDataRightClick");o.which=t.which,o.pageX=t.pageX,o.pageY=t.pageY,r.target.trigger(o,a)}}function y(t){var e;if((t=Math.abs(t))>=10)e="%d";else if(t>1)e=t===parseInt(t,10)?"%d":"%.1f";else{var i=-Math.floor(Math.log(t)/Math.LN10);e="%."+i+"f"}return e}function b(e,i,n){for(var r,a,s,o,l,h,u,c=Math.floor(n/2),d=Math.ceil(1.5*n),g=Number.MAX_VALUE,f=i-e,p=t.jqplot.getSignificantFigures,m=0,x=d-c+1;m<x;m++)h=c+m,r=f/(h-1),a=p(r),r=Math.abs(n-h)+a.digitsRight,r<g?(g=r,s=h,u=a.digitsRight):r===g&&a.digitsRight<u&&(s=h,u=a.digitsRight);return o=Math.max(u,Math.max(p(e).digitsRight,p(i).digitsRight)),l=0===o?"%d":"%."+o+"f",r=f/(s-1),[e,i,s,l,r]}function w(t,e){e=e||7;var i=t/(e-1),n=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/n;return n<1?r>5?10*n:r>2?5*n:r>1?2*n:n:r>5?10*n:r>4?5*n:r>3?4*n:r>2?3*n:r>1?2*n:n}function k(t,e){e=e||1;var i=Math.floor(Math.log(t)/Math.LN10),n=Math.pow(10,i),r=t/n;return r/=e,(r<=.38?.1:r<=1.6?.2:r<=4?.5:r<=8?1:r<=16?2:5)*n}function M(t,e){var i,n,r=Math.floor(Math.log(t)/Math.LN10),a=Math.pow(10,r),s=t/a;return s/=e,n=s<=.38?.1:s<=1.6?.2:s<=4?.5:s<=8?1:s<=16?2:5,i=n*a,[i,n,a]}function T(t,e){return t-e}function S(t){if(null==t||"object"!=typeof t)return t;var e=new t.constructor;for(var i in t)e[i]=S(t[i]);return e}function D(t,e){if(null!=e&&"object"==typeof e)for(var i in e)"highlightColors"==i&&(t[i]=S(e[i])),null!=e[i]&&"object"==typeof e[i]?(t.hasOwnProperty(i)||(t[i]={}),D(t[i],e[i])):t[i]=e[i]}function C(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function A(t){return null===t?"[object Null]":Object.prototype.toString.call(t)}var j;t.fn.emptyForce=function(){for(var e,i=0;null!=(e=t(this)[i]);i++){if(1===e.nodeType&&t.cleanData(e.getElementsByTagName("*")),t.jqplot.use_excanvas)e.outerHTML="";else for(;e.firstChild;)e.removeChild(e.firstChild);e=null}return t(this)},t.fn.removeChildForce=function(t){for(;t.firstChild;)this.removeChildForce(t.firstChild),t.removeChild(t.firstChild)},t.fn.jqplot=function(){for(var e=[],i=[],n=0,r=arguments.length;n<r;n++)t.isArray(arguments[n])?e.push(arguments[n]):t.isPlainObject(arguments[n])&&i.push(arguments[n]);return this.each(function(n){var r,a,s,o,l=t(this),h=e.length,u=i.length;s=n<h?e[n]:h?e[h-1]:null,o=n<u?i[n]:u?i[u-1]:null,r=l.attr("id"),r===j&&(r="jqplot_target_"+t.jqplot.targetCounter++,l.attr("id",r)),a=t.jqplot(r,s,o),l.data("jqplot",a)})},t.jqplot=function(e,i,n){var r=null,a=null;3===arguments.length?(r=i,a=n):2===arguments.length&&(t.isArray(i)?r=i:t.isPlainObject(i)&&(a=i)),null===r&&null!==a&&a.data&&(r=a.data);var o=new s;if(t("#"+e).removeClass("jqplot-error"),!t.jqplot.config.catchErrors)return o.init(e,r,a),o.draw(),o.themeEngine.init.call(o),o;try{return o.init(e,r,a),o.draw(),o.themeEngine.init.call(o),o}catch(i){var l=t.jqplot.config.errorMessage||i.message;t("#"+e).append('<div class="jqplot-error-message">'+l+"</div>"),t("#"+e).addClass("jqplot-error"),document.getElementById(e).style.background=t.jqplot.config.errorBackground,document.getElementById(e).style.border=t.jqplot.config.errorBorder,document.getElementById(e).style.fontFamily=t.jqplot.config.errorFontFamily,document.getElementById(e).style.fontSize=t.jqplot.config.errorFontSize,document.getElementById(e).style.fontStyle=t.jqplot.config.errorFontStyle,document.getElementById(e).style.fontWeight=t.jqplot.config.errorFontWeight}},t.jqplot.version="1.0.5",t.jqplot.revision="1122+",t.jqplot.targetCounter=1,t.jqplot.CanvasManager=function(){"undefined"==typeof t.jqplot.CanvasManager.canvases&&(t.jqplot.CanvasManager.canvases=[],t.jqplot.CanvasManager.free=[]);var e=[];this.getCanvas=function(){var i,n=!0;if(!t.jqplot.use_excanvas)for(var r=0,a=t.jqplot.CanvasManager.canvases.length;r<a;r++)if(!0===t.jqplot.CanvasManager.free[r]){n=!1,i=t.jqplot.CanvasManager.canvases[r],t.jqplot.CanvasManager.free[r]=!1,e.push(r);break}return n&&(i=document.createElement("canvas"),e.push(t.jqplot.CanvasManager.canvases.length),t.jqplot.CanvasManager.canvases.push(i),t.jqplot.CanvasManager.free.push(!1)),i},this.initCanvas=function(e){return t.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(e):e},this.freeAllCanvases=function(){for(var t=0,i=e.length;t<i;t++)this.freeCanvas(e[t]);e=[]},this.freeCanvas=function(e){if(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==j)window.G_vmlCanvasManager.uninitElement(t.jqplot.CanvasManager.canvases[e]),t.jqplot.CanvasManager.canvases[e]=null;else{var i=t.jqplot.CanvasManager.canvases[e];i.getContext("2d").clearRect(0,0,i.width,i.height),t(i).unbind().removeAttr("class").removeAttr("style"),t(i).css({left:"",top:"",position:""}),i.width=0,i.height=0,t.jqplot.CanvasManager.free[e]=!0}}},t.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},t.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date(6e4*(new Date).getTimezoneOffset()),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},t.jqplot.arrayMax=function(t){return Math.max.apply(Math,t)},t.jqplot.arrayMin=function(t){return Math.min.apply(Math,t)},t.jqplot.enablePlugins=t.jqplot.config.enablePlugins,t.jqplot.support_canvas=function(){return"undefined"==typeof t.jqplot.support_canvas.result&&(t.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),t.jqplot.support_canvas.result},t.jqplot.support_canvas_text=function(){return"undefined"==typeof t.jqplot.support_canvas_text.result&&(window.G_vmlCanvasManager!==j&&window.G_vmlCanvasManager._version>887?t.jqplot.support_canvas_text.result=!0:t.jqplot.support_canvas_text.result=!(!document.createElement("canvas").getContext||"function"!=typeof document.createElement("canvas").getContext("2d").fillText)),t.jqplot.support_canvas_text.result},t.jqplot.use_excanvas=!(t.support.boxModel&&t.support.objectAll&&$support.leadingWhitespace||t.jqplot.support_canvas()),t.jqplot.preInitHooks=[],t.jqplot.postInitHooks=[],t.jqplot.preParseOptionsHooks=[],t.jqplot.postParseOptionsHooks=[],t.jqplot.preDrawHooks=[],t.jqplot.postDrawHooks=[],t.jqplot.preDrawSeriesHooks=[],t.jqplot.postDrawSeriesHooks=[],t.jqplot.preDrawLegendHooks=[],t.jqplot.addLegendRowHooks=[],t.jqplot.preSeriesInitHooks=[],t.jqplot.postSeriesInitHooks=[],t.jqplot.preParseSeriesOptionsHooks=[],t.jqplot.postParseSeriesOptionsHooks=[],t.jqplot.eventListenerHooks=[],t.jqplot.preDrawSeriesShadowHooks=[],t.jqplot.postDrawSeriesShadowHooks=[],t.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},t.jqplot.ElemContainer.prototype.createElement=function(e,i,n,r,a){this._offsets=i;var s=n||"jqplot",o=document.createElement(e);return this._elem=t(o),this._elem.addClass(s),this._elem.css(r),this._elem.attr(a),o=null,this._elem},t.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},t.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},t.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},t.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},t.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},t.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},t.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},e.prototype=new t.jqplot.ElemContainer,e.prototype.constructor=e,e.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.tickOptions.axis=this.name,null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTicks),null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTickMarks),null==this.tickOptions.showLabel&&(this.tickOptions.showLabel=this.showTicks),null==this.label||""==this.label?this.showLabel=!1:this.labelOptions.label=this.label,0==this.showLabel&&(this.labelOptions.show=!1),0==this.pad&&(this.pad=1),0==this.padMax&&(this.padMax=1),0==this.padMin&&(this.padMin=1),null==this.padMax&&(this.padMax=(this.pad-1)/2+1),null==this.padMin&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1,null==this.min&&null==this.max||(this.autoscale=!1),null==this.syncTicks&&this.name.indexOf("y")>-1?this.syncTicks=!0:null==this.syncTicks&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},e.prototype.draw=function(t,e){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,t,e)},e.prototype.set=function(){this.renderer.set.call(this)},e.prototype.pack=function(t,e){this.show&&this.renderer.pack.call(this,t,e),null==this._min&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},e.prototype.reset=function(){this.renderer.reset.call(this)},e.prototype.resetScale=function(e){t.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},e),this.resetDataBounds()},e.prototype.resetDataBounds=function(){var e=this._dataBounds;e.min=null,e.max=null;for(var i,n,r,a=!!this.show,s=0;s<this._series.length;s++)if(n=this._series[s],n.show||this.scaleToHiddenSeries){r=n._plotData,"line"===n._type&&n.renderer.bands.show&&"x"!==this.name.charAt(0)&&(r=[[0,n.renderer.bands._min],[1,n.renderer.bands._max]]);var o=1,l=1;null!=n._type&&"ohlc"==n._type&&(o=3,l=2);for(var h=0,i=r.length;h<i;h++)"xaxis"==this.name||"x2axis"==this.name?((null!=r[h][0]&&r[h][0]<e.min||null==e.min)&&(e.min=r[h][0]),(null!=r[h][0]&&r[h][0]>e.max||null==e.max)&&(e.max=r[h][0])):((null!=r[h][o]&&r[h][o]<e.min||null==e.min)&&(e.min=r[h][o]),(null!=r[h][l]&&r[h][l]>e.max||null==e.max)&&(e.max=r[h][l]));a&&n.renderer.constructor!==t.jqplot.BarRenderer?a=!1:a&&this._options.hasOwnProperty("forceTickAt0")&&0==this._options.forceTickAt0?a=!1:a&&n.renderer.constructor===t.jqplot.BarRenderer&&("vertical"==n.barDirection&&"xaxis"!=this.name&&"x2axis"!=this.name?null==this._options.pad&&null==this._options.padMin||(a=!1):"horizontal"!=n.barDirection||"xaxis"!=this.name&&"x2axis"!=this.name||null==this._options.pad&&null==this._options.padMin||(a=!1))}a&&this.renderer.constructor===t.jqplot.LinearAxisRenderer&&e.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},i.prototype=new t.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.setOptions=function(e){if(t.extend(!0,this,e),"inside"==this.placement&&(this.placement="insideGrid"),this.xoffset>0){if("insideGrid"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if("outside"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if("outside"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if("insideGrid"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},i.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(e,i){for(var n=0;n<t.jqplot.preDrawLegendHooks.length;n++)t.jqplot.preDrawLegendHooks[n].call(this,e);return this.renderer.draw.call(this,e,i)},i.prototype.pack=function(t){this.renderer.pack.call(this,t)},n.prototype=new t.jqplot.ElemContainer,n.prototype.constructor=n,n.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},n.prototype.draw=function(t){return this.renderer.draw.call(this,t)},n.prototype.pack=function(){this.renderer.pack.call(this)},r.prototype=new t.jqplot.ElemContainer,r.prototype.constructor=r,r.prototype.init=function(e,i,n){this.index=e,this.gridBorderWidth=i;var r,a,s=this.data,o=[];for(r=0,a=s.length;r<a;r++)if(this.breakOnNull)o.push(s[r]);else{if(null==s[r]||null==s[r][0]||null==s[r][1])continue;o.push(s[r])}if(this.data=o,this.color||(this.color=n.colorGenerator.get(this.index)),this.negativeColor||(this.negativeColor=n.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color),this.fillAlpha){var l=t.jqplot.normalize2rgb(this.fillColor),l=t.jqplot.getColorComponents(l);this.fillColor="rgba("+l[0]+","+l[1]+","+l[2]+","+this.fillAlpha+")"}t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions,n),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),null==this.markerOptions.show&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},r.prototype.draw=function(e,i,n){var r=i==j?{}:i;e=e==j?this.canvas._ctx:e;var a,s,o;for(a=0;a<t.jqplot.preDrawSeriesHooks.length;a++)t.jqplot.preDrawSeriesHooks[a].call(this,e,r);for(this.show&&(this.renderer.setGridData.call(this,n),r.preventJqPlotSeriesDrawTrigger||t(e.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),s=[],s=r.data?r.data:this._stack?this._plotData:this.data,o=r.gridData||this.renderer.makeGridData.call(this,s,n),"line"===this._type&&this.renderer.smooth&&this.renderer._smoothedData.length&&(o=this.renderer._smoothedData),this.renderer.draw.call(this,e,o,r,n)),a=0;a<t.jqplot.postDrawSeriesHooks.length;a++)t.jqplot.postDrawSeriesHooks[a].call(this,e,r,n);e=i=n=a=s=o=null},r.prototype.drawShadow=function(e,i,n){var r=i==j?{}:i;e=e==j?this.shadowCanvas._ctx:e;var a,s,o;for(a=0;a<t.jqplot.preDrawSeriesShadowHooks.length;a++)t.jqplot.preDrawSeriesShadowHooks[a].call(this,e,r);for(this.shadow&&(this.renderer.setGridData.call(this,n),s=[],s=r.data?r.data:this._stack?this._plotData:this.data,o=r.gridData||this.renderer.makeGridData.call(this,s,n),this.renderer.drawShadow.call(this,e,o,r,n)),a=0;a<t.jqplot.postDrawSeriesShadowHooks.length;a++)t.jqplot.postDrawSeriesShadowHooks[a].call(this,e,r);e=i=n=a=s=o=null},r.prototype.toggleDisplay=function(t,e){var i,n;i=t.data.series?t.data.series:this,t.data.speed&&(n=t.data.speed),n?i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeIn(n),i.canvas._elem.fadeIn(n,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeIn(n)):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeOut(n),i.canvas._elem.fadeOut(n,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeOut(n)):i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.show(),i.canvas._elem.show(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).show()):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.hide(),i.canvas._elem.hide(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).hide())},a.prototype=new t.jqplot.ElemContainer,a.prototype.constructor=a,a.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},a.prototype.createElement=function(t,e){return this._offsets=t,this.renderer.createElement.call(this,e)},a.prototype.draw=function(){this.renderer.draw.call(this)},t.jqplot.GenericCanvas=function(){t.jqplot.ElemContainer.call(this),this._ctx},t.jqplot.GenericCanvas.prototype=new t.jqplot.ElemContainer,t.jqplot.GenericCanvas.prototype.constructor=t.jqplot.GenericCanvas,t.jqplot.GenericCanvas.prototype.createElement=function(e,i,n,r){this._offsets=e;var a="jqplot";i!=j&&(a=i);var s;return s=r.canvasManager.getCanvas(),null!=n&&(this._plotDimensions=n),s.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,s.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=t(s),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(a),s=r.canvasManager.initCanvas(s),s=null,this._elem},
t.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},t.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==j&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},t.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},t.jqplot.HooksManager.prototype.addOnce=function(t,e){e=e||[];for(var i=!1,n=0,r=this.hooks.length;n<r;n++)this.hooks[n]==t&&(i=!0);i||(this.hooks.push(t),this.args.push(e))},t.jqplot.HooksManager.prototype.add=function(t,e){e=e||[],this.hooks.push(t),this.args.push(e)},t.jqplot.EventListenerManager=function(){this.hooks=[]},t.jqplot.EventListenerManager.prototype.addOnce=function(t,e){for(var i,n,r=!1,n=0,a=this.hooks.length;n<a;n++)i=this.hooks[n],i[0]==t&&i[1]==e&&(r=!0);r||this.hooks.push([t,e])},t.jqplot.EventListenerManager.prototype.add=function(t,e){this.hooks.push([t,e])};var q=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];t.jqplot.computeHighlightColors=function(e){var i;if(t.isArray(e)){i=[];for(var n=0;n<e.length;n++){for(var r=t.jqplot.getColorComponents(e[n]),a=[r[0],r[1],r[2]],s=a[0]+a[1]+a[2],o=0;o<3;o++)a[o]=s>660?.85*a[o]:.73*a[o]+90,a[o]=parseInt(a[o],10),a[o]>255||a[o];a[3]=.3+.35*r[3],i.push("rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")")}}else{for(var r=t.jqplot.getColorComponents(e),a=[r[0],r[1],r[2]],s=a[0]+a[1]+a[2],o=0;o<3;o++)a[o]=s>660?.85*a[o]:.73*a[o]+90,a[o]=parseInt(a[o],10),a[o]>255||a[o];a[3]=.3+.35*r[3],i="rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"}return i},t.jqplot.ColorGenerator=function(e){e=e||t.jqplot.config.defaultColors;var i=0;this.next=function(){return i<e.length?e[i++]:(i=0,e[i++])},this.previous=function(){return i>0?e[i--]:(i=e.length-1,e[i])},this.get=function(t){var i=t-e.length*Math.floor(t/e.length);return e[i]},this.setColors=function(t){e=t},this.reset=function(){i=0},this.getIndex=function(){return i},this.setIndex=function(t){i=t}},t.jqplot.hex2rgb=function(t,e){t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var i;return i="rgba("+parseInt(t.slice(0,2),16)+", "+parseInt(t.slice(2,4),16)+", "+parseInt(t.slice(4,6),16),e&&(i+=", "+e),i+=")"},t.jqplot.rgb2hex=function(t){for(var e=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,i=t.match(e),n="#",r=1;r<4;r++){var a;-1!=i[r].search(/%/)?(a=parseInt(255*i[r]/100,10).toString(16),1==a.length&&(a="0"+a)):(a=parseInt(i[r],10).toString(16),1==a.length&&(a="0"+a)),n+=a}return n},t.jqplot.normalize2rgb=function(e,i){if(-1!=e.search(/^ *rgba?\(/))return e;if(-1!=e.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/))return t.jqplot.hex2rgb(e,i);throw"invalid color spec"},t.jqplot.getColorComponents=function(e){e=t.jqplot.colorKeywordMap[e]||e;for(var i=t.jqplot.normalize2rgb(e),n=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,r=i.match(n),a=[],s=1;s<4;s++)-1!=r[s].search(/%/)?a[s-1]=parseInt(255*r[s]/100,10):a[s-1]=parseInt(r[s],10);return a[3]=parseFloat(r[4])?parseFloat(r[4]):1,a},t.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},t.jqplot.AxisLabelRenderer=function(e){t.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisLabelRenderer.prototype.constructor=t.jqplot.AxisLabelRenderer,t.jqplot.AxisLabelRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype.draw=function(){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},t.jqplot.AxisLabelRenderer.prototype.pack=function(){},t.jqplot.AxisTickRenderer=function(e){t.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=t.jqplot.DefaultTickFormatter,this.prefix="",this.suffix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisTickRenderer.prototype.constructor=t.jqplot.AxisTickRenderer,t.jqplot.AxisTickRenderer.prototype.setTick=function(t,e,i){return this.value=t,this.axis=e,i&&(this.isMinorTick=!0),this},t.jqplot.AxisTickRenderer.prototype.draw=function(){null===this.label&&(this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix);var e={position:"absolute"};Number(this.label)&&(e.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(e);for(var i in this._styles)this._elem.css(i,this._styles[i]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},t.jqplot.DefaultTickFormatter=function(e,i){return"number"==typeof i?(e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.PercentTickFormatter=function(e,i){return"number"==typeof i?(i*=100,e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.AxisTickRenderer.prototype.pack=function(){},t.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.CanvasGridRenderer.prototype.init=function(e){this._ctx,t.extend(!0,this,e);var i={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(i)},t.jqplot.CanvasGridRenderer.prototype.createElement=function(e){var i;this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==j&&(i=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(i),i=null),this._elem.emptyForce(),this._elem=null),i=e.canvasManager.getCanvas();var n=this._plotDimensions.width,r=this._plotDimensions.height;return i.width=n,i.height=r,this._elem=t(i),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),i=e.canvasManager.initCanvas(i),this._top=this._offsets.top,this._bottom=r-this._offsets.bottom,this._left=this._offsets.left,this._right=n-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,i=null,this._elem},t.jqplot.CanvasGridRenderer.prototype.draw=function(){function e(e,n,r,a,s){i.save(),s=s||{},null!=s.lineWidth&&0==s.lineWidth||(t.extend(!0,i,s),i.beginPath(),i.moveTo(e,n),i.lineTo(r,a),i.stroke(),i.restore())}this._ctx=this._elem.get(0).getContext("2d");var i=this._ctx,n=this._axes;i.save(),i.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),i.fillStyle=this.backgroundColor||this.background,i.fillRect(this._left,this._top,this._width,this._height),i.save(),i.lineJoin="miter",i.lineCap="butt",i.lineWidth=this.gridLineWidth,i.strokeStyle=this.gridLineColor;for(var r,a,s,o,l=["xaxis","yaxis","x2axis","y2axis"],h=4;h>0;h--){var u=l[h-1],c=n[u],d=c._ticks,g=d.length;if(c.show){if(c.drawBaseline){var f={};switch(null!==c.baselineWidth&&(f.lineWidth=c.baselineWidth),null!==c.baselineColor&&(f.strokeStyle=c.baselineColor),u){case"xaxis":e(this._left,this._bottom,this._right,this._bottom,f);break;case"yaxis":e(this._left,this._bottom,this._left,this._top,f);break;case"x2axis":e(this._left,this._bottom,this._right,this._bottom,f);break;case"y2axis":e(this._right,this._bottom,this._right,this._top,f)}}for(var p=g;p>0;p--){var m=d[p-1];if(m.show){var x=Math.round(c.u2p(m.value))+.5;switch(u){case"xaxis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(x,this._top,x,this._bottom),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,o=m.mark;var x=Math.round(c.u2p(m.value))+.5;switch(o){case"outside":r=this._bottom,a=this._bottom+s;break;case"inside":r=this._bottom-s,a=this._bottom;break;case"cross":r=this._bottom-s,a=this._bottom+s;break;default:r=this._bottom,a=this._bottom+s}this.shadow&&this.renderer.shadowRenderer.draw(i,[[x,r],[x,a]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),e(x,r,x,a)}break;case"yaxis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(this._right,x,this._left,x),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,o=m.mark;var x=Math.round(c.u2p(m.value))+.5;switch(o){case"outside":r=this._left-s,a=this._left;break;case"inside":r=this._left,a=this._left+s;break;case"cross":r=this._left-s,a=this._left+s;break;default:r=this._left-s,a=this._left}this.shadow&&this.renderer.shadowRenderer.draw(i,[[r,x],[a,x]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,x,a,x,{strokeStyle:c.borderColor})}break;case"x2axis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(x,this._bottom,x,this._top),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,o=m.mark;var x=Math.round(c.u2p(m.value))+.5;switch(o){case"outside":r=this._top-s,a=this._top;break;case"inside":r=this._top,a=this._top+s;break;case"cross":r=this._top-s,a=this._top+s;break;default:r=this._top-s,a=this._top}this.shadow&&this.renderer.shadowRenderer.draw(i,[[x,r],[x,a]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),e(x,r,x,a)}break;case"y2axis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(this._left,x,this._right,x),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,o=m.mark;var x=Math.round(c.u2p(m.value))+.5;switch(o){case"outside":r=this._right,a=this._right+s;break;case"inside":r=this._right-s,a=this._right;break;case"cross":r=this._right-s,a=this._right+s;break;default:r=this._right,a=this._right+s}this.shadow&&this.renderer.shadowRenderer.draw(i,[[r,x],[a,x]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,x,a,x,{strokeStyle:c.borderColor})}}}}m=null}c=null,d=null}l=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var h=7;h>0;h--){var c=n[l[h-1]],d=c._ticks;if(c.show){var v=d[c.numberTicks-1],_=d[0],y=c.getLeft(),b=[[y,v.getTop()+v.getHeight()/2],[y,_.getTop()+_.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(i,b,{lineCap:"butt",fill:!1,closePath:!1}),e(b[0][0],b[0][1],b[1][0],b[1][1],{lineCap:"butt",strokeStyle:c.borderColor,lineWidth:c.borderWidth});for(var p=d.length;p>0;p--){var m=d[p-1];s=m.markSize,o=m.mark;var x=Math.round(c.u2p(m.value))+.5;if(m.showMark&&m.mark){switch(o){case"outside":r=y,a=y+s;break;case"inside":r=y-s,a=y;break;case"cross":r=y-s,a=y+s;break;default:r=y,a=y+s}b=[[r,x],[a,x]],this.shadow&&this.renderer.shadowRenderer.draw(i,b,{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,x,a,x,{strokeStyle:c.borderColor})}m=null}_=null}c=null,d=null}if(i.restore(),this.shadow){var b=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(i,b)}0!=this.borderWidth&&this.drawBorder&&(e(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),e(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),e(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),e(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})),i.restore(),i=null,n=null},t.jqplot.DivTitleRenderer=function(){},t.jqplot.DivTitleRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);var e=(this.renderer,document.createElement("div"));if(this._elem=t(e),this._elem.addClass("jqplot-title"),this.text){if(this.text){var i;this.color?i=this.color:this.textColor&&(i=this.textColor);var n={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(n.width=this._plotWidth+"px"),this.fontSize&&(n.fontSize=this.fontSize),"string"==typeof this.textAlign?n.textAlign=this.textAlign:n.textAlign="center",i&&(n.color=i),this.paddingBottom&&(n.paddingBottom=this.paddingBottom),this.fontFamily&&(n.fontFamily=this.fontFamily),this._elem.css(n),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}}else this.show=!1,this._elem.height(0),this._elem.width(0);return e=null,this._elem},t.jqplot.DivTitleRenderer.prototype.pack=function(){};var L=.1;t.jqplot.LinePattern=function(e,i){var n={dotted:[L,t.jqplot.config.dotGapLength],dashed:[t.jqplot.config.dashLength,t.jqplot.config.gapLength],solid:null};if("string"==typeof i)if("."===i[0]||"-"===i[0]){var r=i;i=[];for(var a=0,s=r.length;a<s;a++){if("."===r[a])i.push(L);else{if("-"!==r[a])continue;i.push(t.jqplot.config.dashLength)}i.push(t.jqplot.config.gapLength)}}else i=n[i];if(!i||!i.length)return e;var o=0,l=i[0],h=0,u=0,c=0,d=0,g=function(t,i){e.moveTo(t,i),h=t,u=i,c=t,d=i},f=function(t,n){var r=e.lineWidth,a=t-h,s=n-u,c=Math.sqrt(a*a+s*s);if(c>0&&r>0)for(a/=c,s/=c;;){var d=r*l;if(!(d<c)){h=t,u=n,0==(1&o)?e.lineTo(h,u):e.moveTo(h,u),l-=c/r;break}h+=d*a,u+=d*s,0==(1&o)?e.lineTo(h,u):e.moveTo(h,u),c-=d,o++,o>=i.length&&(o=0),l=i[o]}};return{moveTo:g,lineTo:f,beginPath:function(){e.beginPath()},closePath:function(){f(c,d)}}},t.jqplot.LineRenderer=function(){this.shapeRenderer=new t.jqplot.ShapeRenderer,this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.LineRenderer.prototype.init=function(e,i){e=e||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var n={highlightMouseOver:e.highlightMouseOver,highlightMouseDown:e.highlightMouseDown,highlightColor:e.highlightColor};delete e.highlightMouseOver,delete e.highlightMouseDown,delete e.highlightColor,t.extend(!0,this.renderer,e),this.renderer.options=e,this.renderer.bandData.length>1&&(!e.bands||null==e.bands.show)?this.renderer.bands.show=!0:e.bands&&null==e.bands.show&&null!=e.bands.interval&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,i),this._stack&&(this.renderer.smooth=!1);var r={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(r);var a=e.shadowOffset;null==a&&(a=this.lineWidth>2.5?1.25*(1+.6*(Math.atan(this.lineWidth/2.5)/.785398163-1)):1.25*Math.atan(this.lineWidth/2.5)/.785398163);var s={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:a,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};if(this.renderer.shadowRenderer.init(s),this._areaPoints=[],this._boundingBox=[[],[]],!this.isTrendline&&this.fill||this.renderer.bands.show){if(this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,n.highlightMouseDown&&null==n.highlightMouseOver&&(n.highlightMouseOver=!1),t.extend(!0,this,{highlightMouseOver:n.highlightMouseOver,highlightMouseDown:n.highlightMouseDown,highlightColor:n.highlightColor}),!this.highlightColor){var o=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=t.jqplot.computeHighlightColors(o)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&i&&(i.plugins.lineRenderer={},i.postInitHooks.addOnce(c),i.postDrawHooks.addOnce(d),i.eventListenerHooks.addOnce("jqplotMouseMove",p),i.eventListenerHooks.addOnce("jqplotMouseDown",m),i.eventListenerHooks.addOnce("jqplotMouseUp",x),i.eventListenerHooks.addOnce("jqplotClick",v),i.eventListenerHooks.addOnce("jqplotRightClick",_))},t.jqplot.LineRenderer.prototype.initBands=function(e){var i=e.bandData||[],n=this.renderer.bands;n.hiData=[],n.lowData=[];var r=this.data;if(n._max=null,n._min=null,2==i.length)if(t.isArray(i[0][0])){for(var a,s=0,o=0,l=0,h=i[0].length;l<h;l++)a=i[0][l],(null!=a[1]&&a[1]>n._max||null==n._max)&&(n._max=a[1]),(null!=a[1]&&a[1]<n._min||null==n._min)&&(n._min=a[1]);for(var l=0,h=i[1].length;l<h;l++)a=i[1][l],(null!=a[1]&&a[1]>n._max||null==n._max)&&(n._max=a[1],o=1),(null!=a[1]&&a[1]<n._min||null==n._min)&&(n._min=a[1],s=1);o===s&&(n.show=!1),n.hiData=i[o],n.lowData=i[s]}else if(i[0].length===r.length&&i[1].length===r.length)for(var u=i[0][0]>i[1][0]?0:1,c=u?0:1,l=0,h=r.length;l<h;l++)n.hiData.push([r[l][0],i[u][l]]),n.lowData.push([r[l][0],i[c][l]]);else n.show=!1;else if(i.length>2&&!t.isArray(i[0][0]))for(var u=i[0][0]>i[0][1]?0:1,c=u?0:1,l=0,h=i.length;l<h;l++)n.hiData.push([r[l][0],i[l][u]]),n.lowData.push([r[l][0],i[l][c]]);else{var d=n.interval,g=null,f=null,p=null,m=null;if(t.isArray(d)?(g=d[0],f=d[1]):g=d,isNaN(g)?"%"===g.charAt(g.length-1)&&(p="multiply",g=parseFloat(g)/100+1):(g=parseFloat(g),p="add"),null!==f&&isNaN(f)?"%"===f.charAt(f.length-1)&&(m="multiply",f=parseFloat(f)/100+1):null!==f&&(f=parseFloat(f),m="add"),null!==g){if(null===f&&(f=-g,"multiply"===(m=p)&&(f+=2)),g<f){var x=g;g=f,f=x,x=p,p=m,m=x}for(var l=0,h=r.length;l<h;l++){switch(p){case"add":n.hiData.push([r[l][0],r[l][1]+g]);break;case"multiply":n.hiData.push([r[l][0],r[l][1]*g])}switch(m){case"add":n.lowData.push([r[l][0],r[l][1]+f]);break;case"multiply":n.lowData.push([r[l][0],r[l][1]*f])}}}else n.show=!1}for(var v=n.hiData,_=n.lowData,l=0,h=v.length;l<h;l++)(null!=v[l][1]&&v[l][1]>n._max||null==n._max)&&(n._max=v[l][1]);for(var l=0,h=_.length;l<h;l++)(null!=_[l][1]&&_[l][1]<n._min||null==n._min)&&(n._min=_[l][1]);if(null===n.fillColor){var y=t.jqplot.getColorComponents(n.color);y[3]=.5*y[3],n.fillColor="rgba("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"}},t.jqplot.LineRenderer.prototype.setGridData=function(){var t=this._xaxis.series_u2p,e=this._yaxis.series_u2p,i=this._plotData,n=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var r=this.renderer.bands,a=!1,s=0,o=i.length;s<o;s++)null!=i[s][0]&&null!=i[s][1]?this.gridData.push([t.call(this._xaxis,i[s][0]),e.call(this._yaxis,i[s][1])]):null==i[s][0]?(a=!0,this.gridData.push([null,e.call(this._yaxis,i[s][1])])):null==i[s][1]&&(a=!0,this.gridData.push([t.call(this._xaxis,i[s][0]),null])),null!=n[s]&&null!=n[s][0]&&null!=n[s][1]?this._prevGridData.push([t.call(this._xaxis,n[s][0]),e.call(this._yaxis,n[s][1])]):null!=n[s]&&null==n[s][0]?this._prevGridData.push([null,e.call(this._yaxis,n[s][1])]):null!=n[s]&&null!=n[s][0]&&null==n[s][1]&&this._prevGridData.push([t.call(this._xaxis,n[s][0]),null]);if(a&&(this.renderer.smooth=!1,"line"===this._type&&(r.show=!1)),"line"===this._type&&r.show){for(var s=0,o=r.hiData.length;s<o;s++)this.renderer._hiBandGridData.push([t.call(this._xaxis,r.hiData[s][0]),e.call(this._yaxis,r.hiData[s][1])]);for(var s=0,o=r.lowData.length;s<o;s++)this.renderer._lowBandGridData.push([t.call(this._xaxis,r.lowData[s][0]),e.call(this._yaxis,r.lowData[s][1])])}if("line"===this._type&&this.renderer.smooth&&this.gridData.length>2){var l;this.renderer.constrainSmoothing?(l=h.call(this,this.gridData),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],r.show&&(l=h.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=h.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null):(l=u.call(this,this.gridData),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],r.show&&(l=u.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=u.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null)}},t.jqplot.LineRenderer.prototype.makeGridData=function(t){var e=this._xaxis.series_u2p,i=this._yaxis.series_u2p,n=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var r=this.renderer.bands,a=!1,s=0;s<t.length;s++)null!=t[s][0]&&null!=t[s][1]?n.push([e.call(this._xaxis,t[s][0]),i.call(this._yaxis,t[s][1])]):null==t[s][0]?(a=!0,n.push([null,i.call(this._yaxis,t[s][1])])):null==t[s][1]&&(a=!0,n.push([e.call(this._xaxis,t[s][0]),null]));if(a&&(this.renderer.smooth=!1,"line"===this._type&&(r.show=!1)),"line"===this._type&&r.show){for(var s=0,o=r.hiData.length;s<o;s++)this.renderer._hiBandGridData.push([e.call(this._xaxis,r.hiData[s][0]),i.call(this._yaxis,r.hiData[s][1])]);for(var s=0,o=r.lowData.length;s<o;s++)this.renderer._lowBandGridData.push([e.call(this._xaxis,r.lowData[s][0]),i.call(this._yaxis,r.lowData[s][1])])}if("line"===this._type&&this.renderer.smooth&&n.length>2){var l;this.renderer.constrainSmoothing?(l=h.call(this,n),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],r.show&&(l=h.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=h.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null):(l=u.call(this,n),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],r.show&&(l=u.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=u.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null)}return n},t.jqplot.LineRenderer.prototype.draw=function(e,i,n){var r,a,s,o,l,h=t.extend(!0,{},n),u=h.shadow!=j?h.shadow:this.shadow,c=h.showLine!=j?h.showLine:this.showLine,d=h.fill!=j?h.fill:this.fill,g=h.fillAndStroke!=j?h.fillAndStroke:this.fillAndStroke;if(e.save(),i.length){if(c)if(d){if(this.fillToZero){var f=this.negativeColor;this.useNegativeColors||(f=h.fillStyle);var p=h.fillStyle;if(g)var m=i.slice(0);if(0!=this.index&&this._stack){for(var x=this._prevGridData,r=x.length;r>0;r--)i.push(x[r-1]);u&&this.renderer.shadowRenderer.draw(e,i,h),this._areaPoints=i,this.renderer.shapeRenderer.draw(e,i,h)}else{var v=[],_=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var y=this._yaxis.series_u2p(this.fillToValue);this._xaxis.series_u2p(this.fillToValue);if(h.closePath=!0,"y"==this.fillAxis){v.push([i[0][0],y]),this._areaPoints.push([i[0][0],y]);for(var r=0;r<i.length-1;r++)if(v.push(i[r]),this._areaPoints.push(i[r]),_[r][1]*_[r+1][1]<0){_[r][1]<0?(!0,h.fillStyle=f):(!1,h.fillStyle=p);var b=i[r][0]+(i[r+1][0]-i[r][0])*(y-i[r][1])/(i[r+1][1]-i[r][1]);v.push([b,y]),this._areaPoints.push([b,y]),u&&this.renderer.shadowRenderer.draw(e,v,h),this.renderer.shapeRenderer.draw(e,v,h),v=[[b,y]]}_[i.length-1][1]<0?(!0,h.fillStyle=f):(!1,h.fillStyle=p),v.push(i[i.length-1]),this._areaPoints.push(i[i.length-1]),v.push([i[i.length-1][0],y]),this._areaPoints.push([i[i.length-1][0],y])}u&&this.renderer.shadowRenderer.draw(e,v,h),this.renderer.shapeRenderer.draw(e,v,h)}}else{if(g)var m=i.slice(0);if(0!=this.index&&this._stack)for(var x=this._prevGridData,r=x.length;r>0;r--)i.push(x[r-1]);else{var w=e.canvas.height;i.unshift([i[0][0],w]);var k=i.length;i.push([i[k-1][0],w])}this._areaPoints=i,u&&this.renderer.shadowRenderer.draw(e,i,h),this.renderer.shapeRenderer.draw(e,i,h)}if(g){var M=t.extend(!0,{},h,{fill:!1,closePath:!1});if(this.renderer.shapeRenderer.draw(e,m,M),this.markerRenderer.show)for(this.renderer.smooth&&(m=this.gridData),r=0;r<m.length;r++)this.markerRenderer.draw(m[r][0],m[r][1],e,h.markerOptions)}}else{if(this.renderer.bands.show){var T,S=t.extend(!0,{},h);this.renderer.bands.showLines&&(T=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(e,T,h),T=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(e,T,S)),this.renderer.bands.fill&&(T=this.renderer.smooth?this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=T,S.closePath=!0,S.fill=!0,S.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(e,T,S))}u&&this.renderer.shadowRenderer.draw(e,i,h),this.renderer.shapeRenderer.draw(e,i,h)}var a=o=s=l=null;for(r=0;r<this._areaPoints.length;r++){var D=this._areaPoints[r];(a>D[0]||null==a)&&(a=D[0]),(l<D[1]||null==l)&&(l=D[1]),(o<D[0]||null==o)&&(o=D[0]),(s>D[1]||null==s)&&(s=D[1])}if("line"===this.type&&this.renderer.bands.show&&(l=this._yaxis.series_u2p(this.renderer.bands._min),s=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[a,l],[o,s]],this.markerRenderer.show&&!d)for(this.renderer.smooth&&(i=this.gridData),r=0;r<i.length;r++)null!=i[r][0]&&null!=i[r][1]&&this.markerRenderer.draw(i[r][0],i[r][1],e,h.markerOptions)}e.restore()},t.jqplot.LineRenderer.prototype.drawShadow=function(){},t.jqplot.LinearAxisRenderer=function(){},t.jqplot.LinearAxisRenderer.prototype.init=function(e){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,t.extend(!0,this,e),this.breakPoints&&(t.isArray(this.breakPoints)?(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])&&(this.breakPoints=null):this.breakPoints=null),null!=this.numberTicks&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},t.jqplot.LinearAxisRenderer.prototype.draw=function(e,i){if(this.show){this.renderer.createTicks.call(this,i);if(this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var n=this._label.draw(e,i)
;n.appendTo(this._elem),n=null}for(var r,a=this._ticks,s=0;s<a.length;s++)r=a[s],r.show&&r.showLabel&&(!r.isMinorTick||this.showMinorTicks)&&this._elem.append(r.draw(e,i));r=null,a=null}return this._elem},t.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},t.jqplot.LinearAxisRenderer.prototype.set=function(){var e,i=0,n=0,r=0,a=null!=this._label&&this._label.show;if(this.show){for(var s,o=this._ticks,l=0;l<o.length;l++)s=o[l],s._breakTick||!s.show||!s.showLabel||s.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?s._elem.outerHeight(!0):s._elem.outerWidth(!0))>i&&(i=e);s=null,o=null,a&&(n=this._label._elem.outerWidth(!0),r=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(i+=n,this._elem.css({width:i+"px",left:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px")):(i+=n,this._elem.css({width:i+"px",right:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px"))}},t.jqplot.LinearAxisRenderer.prototype.createTicks=function(e){var i,n,r,a,s=(this._ticks,this.ticks),o=this.name,l=this._dataBounds,h="x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height,u=this.min,c=this.max,d=this.numberTicks,g=this.tickInterval,f=30;if(this._scalefact=(Math.max(h,f+1)-f)/300,s.length){for(a=0;a<s.length;a++){var p=s[a],m=new this.tickRenderer(this.tickOptions);t.isArray(p)?(m.value=p[0],this.breakPoints?p[0]==this.breakPoints[0]?(m.label=this.breakTickLabel,m._breakTick=!0,m.showGridline=!1,m.showMark=!1):p[0]>this.breakPoints[0]&&p[0]<=this.breakPoints[1]?(m.show=!1,m.showGridline=!1,m.label=p[1]):m.label=p[1]:m.label=p[1],m.setTick(p[0],this.name),this._ticks.push(m)):t.isPlainObject(p)?(t.extend(!0,m,p),m.axis=this.name,this._ticks.push(m)):(m.value=p,this.breakPoints&&(p==this.breakPoints[0]?(m.label=this.breakTickLabel,m._breakTick=!0,m.showGridline=!1,m.showMark=!1):p>this.breakPoints[0]&&p<=this.breakPoints[1]&&(m.show=!1,m.showGridline=!1)),m.setTick(p,this.name),this._ticks.push(m))}this.numberTicks=s.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{h="xaxis"==o||"x2axis"==o?this._plotDimensions.width:this._plotDimensions.height;var x=this.numberTicks;this.alignTicks&&("x2axis"===this.name&&e.axes.xaxis.show?x=e.axes.xaxis.numberTicks:"y"===this.name.charAt(0)&&"yaxis"!==this.name&&"yMidAxis"!==this.name&&e.axes.yaxis.show&&(x=e.axes.yaxis.numberTicks)),i=null!=this.min?this.min:l.min,n=null!=this.max?this.max:l.max;var v,_,y,b=n-i;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),null==this.min||null==this.max&&null==this.tickInterval&&!this.autoscale){this.forceTickAt0&&(i>0&&(i=0),n<0&&(n=0)),this.forceTickAt100&&(i>100&&(i=100),n<100&&(n=100));var w=!1,k=!1;null!=this.min?w=!0:null!=this.max&&(k=!0);var M=t.jqplot.LinearTickGenerator(i,n,this._scalefact,x,w,k),T=null!=this.min?i:i+b*(this.padMin-1),S=null!=this.max?n:n-b*(this.padMax-1);(i<T||n>S)&&(T=null!=this.min?i:i-b*(this.padMin-1),S=null!=this.max?n:n+b*(this.padMax-1),M=t.jqplot.LinearTickGenerator(T,S,this._scalefact,x,w,k)),this.min=M[0],this.max=M[1],this.numberTicks=M[2],this._autoFormatString=M[3],this.tickInterval=M[4]}else{if(i==n){var D=.05;i>0&&(D=Math.max(Math.log(i)/Math.LN10,.05)),i-=D,n+=D}if(this.autoscale&&null==this.min&&null==this.max){for(var C,A,j,q=!1,L=!1,a=0;a<this._series.length;a++){var R=this._series[a],I="x"==R.fillAxis?R._xaxis.name:R._yaxis.name;if(this.name==I){for(var E=R._plotValues[R.fillAxis],F=E[0],P=E[0],O=1;O<E.length;O++)E[O]<F?F=E[O]:E[O]>P&&(P=E[O]);var H=(P-F)/P;R.renderer.constructor==t.jqplot.BarRenderer?F>=0&&(R.fillToZero||H>.1)?q=!0:(q=!1,L=!!(R.fill&&R.fillToZero&&F<0&&P>0)):R.fill?F>=0&&(R.fillToZero||H>.1)?q=!0:F<0&&P>0&&R.fillToZero?(q=!1,L=!0):(q=!1,L=!1):F<0&&(q=!1)}}if(q)this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing),this.min=0,u=0,A=n/(this.numberTicks-1),y=Math.pow(10,Math.abs(Math.floor(Math.log(A)/Math.LN10))),A/y==parseInt(A/y,10)&&(A+=y),this.tickInterval=Math.ceil(A/y)*y,this.max=this.tickInterval*(this.numberTicks-1);else if(L){this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing);var N=Math.ceil(Math.abs(i)/b*(this.numberTicks-1)),z=this.numberTicks-1-N;A=Math.max(Math.abs(i/N),Math.abs(n/z)),y=Math.pow(10,Math.abs(Math.floor(Math.log(A)/Math.LN10))),this.tickInterval=Math.ceil(A/y)*y,this.max=this.tickInterval*z,this.min=-this.tickInterval*N}else null==this.numberTicks&&(this.tickInterval?this.numberTicks=3+Math.ceil(b/this.tickInterval):this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing)),null==this.tickInterval?(A=b/(this.numberTicks-1),y=A<1?Math.pow(10,Math.abs(Math.floor(Math.log(A)/Math.LN10))):1,this.tickInterval=Math.ceil(A*y*this.pad)/y):y=1/this.tickInterval,C=this.tickInterval*(this.numberTicks-1),j=(C-b)/2,null==this.min&&(this.min=Math.floor(y*(i-j))/y),null==this.max&&(this.max=this.min+C);var B,X=t.jqplot.getSignificantFigures(this.tickInterval);if(X.digitsLeft>=X.significantDigits)B="%d";else{var y=Math.max(0,5-X.digitsLeft);y=Math.min(y,X.digitsRight),B="%."+y+"f"}this._autoFormatString=B}else{v=null!=this.min?this.min:i-b*(this.padMin-1),_=null!=this.max?this.max:n+b*(this.padMax-1),b=_-v,null==this.numberTicks&&(null!=this.tickInterval?this.numberTicks=Math.ceil((_-v)/this.tickInterval)+1:this.numberTicks=h>100?parseInt(3+(h-100)/75,10):2),null==this.tickInterval&&(this.tickInterval=b/(this.numberTicks-1)),null==this.max&&(_=v+this.tickInterval*(this.numberTicks-1)),null==this.min&&(v=_-this.tickInterval*(this.numberTicks-1));var B,X=t.jqplot.getSignificantFigures(this.tickInterval);if(X.digitsLeft>=X.significantDigits)B="%d";else{var y=Math.max(0,5-X.digitsLeft);y=Math.min(y,X.digitsRight),B="%."+y+"f"}this._autoFormatString=B,this.min=v,this.max=_}if(this.renderer.constructor==t.jqplot.LinearAxisRenderer&&""==this._autoFormatString){b=this.max-this.min;var W=new this.tickRenderer(this.tickOptions),Y=W.formatString||t.jqplot.config.defaultTickFormatString,Y=Y.match(t.jqplot.sprintf.regex)[0],G=0;if(Y){if(Y.search(/[fFeEgGpP]/)>-1){var U=Y.match(/\%\.(\d{0,})?[eEfFgGpP]/);G=U?parseInt(U[1],10):6}else Y.search(/[di]/)>-1&&(G=0);var V=Math.pow(10,-G);if(this.tickInterval<V&&null==d&&null==g)if(this.tickInterval=V,null==c&&null==u){this.min=Math.floor(this._dataBounds.min/V)*V,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/V)*V,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval);var $=(this.max-this.min)/this.tickInterval;$=$.toFixed(11),$=Math.ceil($),this.numberTicks=$+1}else if(null==c){var $=(this._dataBounds.max-this.min)/this.tickInterval;$=$.toFixed(11),this.numberTicks=Math.ceil($)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(null==u){var $=(this.max-this._dataBounds.min)/this.tickInterval;$=$.toFixed(11),this.numberTicks=Math.ceil($)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((c-u)/this.tickInterval)+1,this.min=Math.floor(u*Math.pow(10,G))/Math.pow(10,G),this.max=Math.ceil(c*Math.pow(10,G))/Math.pow(10,G),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}this._overrideFormatString&&""!=this._autoFormatString&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);for(var m,J,a=0;a<this.numberTicks;a++){if(r=this.min+a*this.tickInterval,m=new this.tickRenderer(this.tickOptions),m.setTick(r,this.name),this._ticks.push(m),a<this.numberTicks-1)for(var O=0;O<this.minorTicks;O++)r+=this.tickInterval/(this.minorTicks+1),J=t.extend(!0,{},this.tickOptions,{name:this.name,value:r,label:"",isMinorTick:!0}),m=new this.tickRenderer(J),this._ticks.push(m);m=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval)},t.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(e){if(t.isArray(e)&&e.length==this._ticks.length){for(var i,n=0;n<e.length;n++)i=this._ticks[n],i.value=e[n],i.label=i.formatter(i.formatString,e[n]),i.label=i.prefix+i.label,i._elem.html(i.label);i=null,this.min=t.jqplot.arrayMin(e),this.max=t.jqplot.arrayMax(e),this.pack()}},t.jqplot.LinearAxisRenderer.prototype.pack=function(e,i){e=e||{},i=i||this._offsets;var n=this._ticks,r=this.max,a=this.min,s=i.max,o=i.min,l=null!=this._label&&this._label.show;for(var h in e)this._elem.css(h,e[h]);this._offsets=i;var u=s-o,c=r-a;if(this.breakPoints?(c=c-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(t){return(t-o)*c/u+a},this.u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-a)*u/c+o:(t-this.breakPoints[1]+this.breakPoints[0]-a)*u/c+o},"x"==this.name.charAt(0)?(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-a)*u/c:(t-this.breakPoints[1]+this.breakPoints[0]-a)*u/c},this.series_p2u=function(t){return t*c/u+a}):(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t>=this.breakPoints[1]?(t-r)*u/c:(t+this.breakPoints[1]-this.breakPoints[0]-r)*u/c},this.series_p2u=function(t){return t*c/u+r})):(this.p2u=function(t){return(t-o)*c/u+a},this.u2p=function(t){return(t-a)*u/c+o},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-a)*u/c},this.series_p2u=function(t){return t*c/u+a}):(this.series_u2p=function(t){return(t-r)*u/c},this.series_p2u=function(t){return t*c/u+r})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(var d=0;d<n.length;d++){var g=n[d];if(g.show&&g.showLabel){var f;if(g.constructor==t.jqplot.CanvasAxisTickRenderer&&g.angle){var p="xaxis"==this.name?1:-1;switch(g.labelPosition){case"auto":f=p*g.angle<0?-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2:-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"end":f=-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2;break;case"start":f=-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"middle":default:f=-g.getWidth()/2+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2}}else f=-g.getWidth()/2;var m=this.u2p(g.value)+f+"px";g._elem.css("left",m),g.pack()}}if(l){var x=this._label._elem.outerWidth(!0);this._label._elem.css("left",o+u/2-x/2+"px"),"xaxis"==this.name?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var d=0;d<n.length;d++){var g=n[d];if(g.show&&g.showLabel){var f;if(g.constructor==t.jqplot.CanvasAxisTickRenderer&&g.angle){var p="yaxis"==this.name?1:-1;switch(g.labelPosition){case"auto":case"end":f=p*g.angle<0?-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"start":f=g.angle>0?-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"middle":default:f=-g.getHeight()/2}}else f=-g.getHeight()/2;var m=this.u2p(g.value)+f+"px";g._elem.css("top",m),g.pack()}}if(l){var v=this._label._elem.outerHeight(!0);this._label._elem.css("top",s-u/2-v/2+"px"),"yaxis"==this.name?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}n=null};t.jqplot.LinearTickGenerator=function(e,i,n,r,a,s){if(a=null!==a&&a,s=null!==s&&!a&&s,e===i&&(i=i?0:1),n=n||1,i<e){var o=i;i=e,e=o}var l=[],h=k(i-e,n),u=t.jqplot.getSignificantFigures;if(null==r)if(a||s){if(a){l[0]=e,l[2]=Math.ceil((i-e)/h+1),l[1]=e+(l[2]-1)*h;var c=u(e).digitsRight,d=u(h).digitsRight;l[3]=c<d?y(h):"%."+c+"f",l[4]=h}else if(s){l[1]=i,l[2]=Math.ceil((i-e)/h+1),l[0]=i-(l[2]-1)*h;var g=u(i).digitsRight,d=u(h).digitsRight;l[3]=g<d?y(h):"%."+g+"f",l[4]=h}}else l[0]=Math.floor(e/h)*h,l[1]=Math.ceil(i/h)*h,l[2]=Math.round((l[1]-l[0])/h+1),l[3]=y(h),l[4]=h;else{var f=[];if(f[0]=Math.floor(e/h)*h,f[1]=Math.ceil(i/h)*h,f[2]=Math.round((f[1]-f[0])/h+1),f[3]=y(h),f[4]=h,f[2]===r)l=f;else{var p=w(f[1]-f[0],r);l[0]=f[0],l[2]=r,l[4]=p,l[3]=y(p),l[1]=l[0]+(l[2]-1)*l[4]}}return l},t.jqplot.LinearTickGenerator.bestLinearInterval=k,t.jqplot.LinearTickGenerator.bestInterval=w,t.jqplot.LinearTickGenerator.bestLinearComponents=M,t.jqplot.LinearTickGenerator.bestConstrainedInterval=b,t.jqplot.MarkerRenderer=function(e){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new t.jqplot.ShadowRenderer,this.shapeRenderer=new t.jqplot.ShapeRenderer,t.extend(!0,this,e)},t.jqplot.MarkerRenderer.prototype.init=function(e){t.extend(!0,this,e);var i={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};-1!=this.style.indexOf("filled")&&(i.fill=!0),-1!=this.style.indexOf("ircle")&&(i.isarc=!0,i.closePath=!1),this.shadowRenderer.init(i);var n={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};-1!=this.style.indexOf("filled")&&(n.fill=!0),-1!=this.style.indexOf("ircle")&&(n.isarc=!0,n.closePath=!1),this.shapeRenderer.init(n)},t.jqplot.MarkerRenderer.prototype.drawDiamond=function(t,e,i,n,r){var a=1.2,s=this.size/2/a,o=this.size/2*a,l=[[t-s,e],[t,e+o],[t+s,e],[t,e-o]];this.shadow&&this.shadowRenderer.draw(i,l),this.shapeRenderer.draw(i,l,r)},t.jqplot.MarkerRenderer.prototype.drawPlus=function(e,i,n){var r=1,a=this.size/2*r,s=this.size/2*r,o=[[e,i-s],[e,i+s]],l=[[e+a,i],[e-a,i]],h=t.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(n,o,{closePath:!1}),this.shadowRenderer.draw(n,l,{closePath:!1})),this.shapeRenderer.draw(n,o,h),this.shapeRenderer.draw(n,l,h)},t.jqplot.MarkerRenderer.prototype.drawX=function(e,i,n){var r=1,a=this.size/2*r,s=this.size/2*r,o=t.extend(!0,{},this.options,{closePath:!1}),l=[[e-a,i-s],[e+a,i+s]],h=[[e-a,i+s],[e+a,i-s]];this.shadow&&(this.shadowRenderer.draw(n,l,{closePath:!1}),this.shadowRenderer.draw(n,h,{closePath:!1})),this.shapeRenderer.draw(n,l,o),this.shapeRenderer.draw(n,h,o)},t.jqplot.MarkerRenderer.prototype.drawDash=function(t,e,i,n,r){var a=1,s=this.size/2*a,o=(this.size,[[t-s,e],[t+s,e]]);this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,r)},t.jqplot.MarkerRenderer.prototype.drawLine=function(t,e,i,n,r){var a=[t,e];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.drawSquare=function(t,e,i,n,r){var a=1,s=this.size/2/a,o=this.size/2*a,l=[[t-s,e-o],[t-s,e+o],[t+s,e+o],[t+s,e-o]];this.shadow&&this.shadowRenderer.draw(i,l),this.shapeRenderer.draw(i,l,r)},t.jqplot.MarkerRenderer.prototype.drawCircle=function(t,e,i,n,r){var a=this.size/2,s=2*Math.PI,o=[t,e,a,0,s,!0];this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,r)},t.jqplot.MarkerRenderer.prototype.draw=function(t,e,i,n){if(n=n||{},null==n.show||0!=n.show)switch(n.color&&!n.fillStyle&&(n.fillStyle=n.color),n.color&&!n.strokeStyle&&(n.strokeStyle=n.color),this.style){case"diamond":this.drawDiamond(t,e,i,!1,n);break;case"filledDiamond":this.drawDiamond(t,e,i,!0,n);break;case"circle":this.drawCircle(t,e,i,!1,n);break;case"filledCircle":this.drawCircle(t,e,i,!0,n);break;case"square":this.drawSquare(t,e,i,!1,n);break;case"filledSquare":this.drawSquare(t,e,i,!0,n);break;case"x":this.drawX(t,e,i,!0,n);break;case"plus":this.drawPlus(t,e,i,!0,n);break;case"dash":this.drawDash(t,e,i,!0,n);break;case"line":this.drawLine(t,e,i,!1,n);break;default:this.drawDiamond(t,e,i,!1,n)}},t.jqplot.ShadowRenderer=function(e){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.draw=function(e,i,n){e.save();var r=null!=n?n:{},a=null!=r.fill?r.fill:this.fill,s=null!=r.fillRect?r.fillRect:this.fillRect,o=null!=r.closePath?r.closePath:this.closePath,l=null!=r.offset?r.offset:this.offset,h=null!=r.alpha?r.alpha:this.alpha,u=null!=r.depth?r.depth:this.depth,c=null!=r.isarc?r.isarc:this.isarc,d=null!=r.linePattern?r.linePattern:this.linePattern;e.lineWidth=null!=r.lineWidth?r.lineWidth:this.lineWidth,e.lineJoin=null!=r.lineJoin?r.lineJoin:this.lineJoin,e.lineCap=null!=r.lineCap?r.lineCap:this.lineCap,e.strokeStyle=r.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+h+")",e.fillStyle=r.fillStyle||this.fillStyle||"rgba(0,0,0,"+h+")";for(var g=0;g<u;g++){var f=t.jqplot.LinePattern(e,d);if(e.translate(Math.cos(this.angle*Math.PI/180)*l,Math.sin(this.angle*Math.PI/180)*l),f.beginPath(),c)e.arc(i[0],i[1],i[2],i[3],i[4],!0);else if(s)s&&e.fillRect(i[0],i[1],i[2],i[3]);else if(i&&i.length)for(var p=!0,m=0;m<i.length;m++)null!=i[m][0]&&null!=i[m][1]?p?(f.moveTo(i[m][0],i[m][1]),p=!1):f.lineTo(i[m][0],i[m][1]):p=!0;o&&f.closePath(),a?e.fill():e.stroke()}e.restore()},t.jqplot.ShapeRenderer=function(e){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.draw=function(e,i,n){e.save();var r=null!=n?n:{},a=null!=r.fill?r.fill:this.fill,s=null!=r.closePath?r.closePath:this.closePath,o=null!=r.fillRect?r.fillRect:this.fillRect,l=null!=r.strokeRect?r.strokeRect:this.strokeRect,h=null!=r.clearRect?r.clearRect:this.clearRect,u=null!=r.isarc?r.isarc:this.isarc,c=null!=r.linePattern?r.linePattern:this.linePattern,d=t.jqplot.LinePattern(e,c);if(e.lineWidth=r.lineWidth||this.lineWidth,e.lineJoin=r.lineJoin||this.lineJoin,e.lineCap=r.lineCap||this.lineCap,e.strokeStyle=r.strokeStyle||r.color||this.strokeStyle,e.fillStyle=r.fillStyle||this.fillStyle,e.beginPath(),u)return e.arc(i[0],i[1],i[2],i[3],i[4],!0),s&&e.closePath(),a?e.fill():e.stroke(),void e.restore();if(h)return e.clearRect(i[0],i[1],i[2],i[3]),void e.restore();if(o||l){if(o&&e.fillRect(i[0],i[1],i[2],i[3]),l)return e.strokeRect(i[0],i[1],i[2],i[3]),void e.restore()}else if(i&&i.length){for(var g=!0,f=0;f<i.length;f++)null!=i[f][0]&&null!=i[f][1]?g?(d.moveTo(i[f][0],i[f][1]),g=!1):d.lineTo(i[f][0],i[f][1]):g=!0;s&&d.closePath(),a?e.fill():e.stroke()}e.restore()},t.jqplot.TableLegendRenderer=function(){},t.jqplot.TableLegendRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.TableLegendRenderer.prototype.addrow=function(e,i,n,r){var a,s,o,l,h,u=n?this.rowSpacing+"px":"0px";o=document.createElement("tr"),a=t(o),a.addClass("jqplot-table-legend"),o=null,r?a.prependTo(this._elem):a.appendTo(this._elem),this.showSwatches&&(s=t(document.createElement("td")),s.addClass("jqplot-table-legend jqplot-table-legend-swatch"),s.css({textAlign:"center",paddingTop:u}),l=t(document.createElement("div")),l.addClass("jqplot-table-legend-swatch-outline"),h=t(document.createElement("div")),h.addClass("jqplot-table-legend-swatch"),h.css({backgroundColor:i,borderColor:i}),a.append(s.append(l.append(h)))),this.showLabels&&(s=t(document.createElement("td")),s.addClass("jqplot-table-legend jqplot-table-legend-label"),s.css("paddingTop",u),a.append(s),this.escapeHtml?s.text(e):s.html(e)),s=null,l=null,h=null,a=null,o=null},t.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var e=this._series,i=document.createElement("table");this._elem=t(i),this._elem.addClass("jqplot-table-legend");var n={position:"absolute"};this.background&&(n.background=this.background),this.border&&(n.border=this.border),this.fontSize&&(n.fontSize=this.fontSize),this.fontFamily&&(n.fontFamily=this.fontFamily),this.textColor&&(n.textColor=this.textColor),null!=this.marginTop&&(n.marginTop=this.marginTop),null!=this.marginBottom&&(n.marginBottom=this.marginBottom),null!=this.marginLeft&&(n.marginLeft=this.marginLeft),null!=this.marginRight&&(n.marginRight=this.marginRight);for(var r,a=!1,s=!1,o=0;o<e.length;o++)if(r=e[o],(r._stack||r.renderer.constructor==t.jqplot.BezierCurveRenderer)&&(s=!0),r.show&&r.showLabel){var l=this.labels[o]||r.label.toString();if(l){var h=r.color;s&&o<e.length-1?a=!0:s&&o==e.length-1&&(a=!1),this.renderer.addrow.call(this,l,h,a,s),a=!0}for(var u=0;u<t.jqplot.addLegendRowHooks.length;u++){var c=t.jqplot.addLegendRowHooks[u].call(this,r);c&&(this.renderer.addrow.call(this,c.label,c.color,a),a=!0)}l=null}}return this._elem},t.jqplot.TableLegendRenderer.prototype.pack=function(t){if(this.show)if("insideGrid"==this.placement)switch(this.location){case"nw":var e=t.left,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"ne":var e=t.right,i=t.top;this._elem.css({right:e,top:i});break;case"e":var e=t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;case"se":var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"sw":var e=t.left,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"w":var e=t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;default:var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else if("outside"==this.placement)switch(this.location){case"nw":var e=this._plotDimensions.width-t.left,i=t.top;this._elem.css("right",e),this._elem.css("top",i);break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.top;this._elem.css("left",e),this._elem.css("bottom",i);break;case"ne":var e=this._plotDimensions.width-t.right,i=t.top;this._elem.css({left:e,top:i});break;case"e":var e=this._plotDimensions.width-t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;case"se":var e=this._plotDimensions.width-t.right,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.bottom;this._elem.css({left:e,top:i});break;case"sw":var e=this._plotDimensions.width-t.left,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"w":var e=this._plotDimensions.width-t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;default:var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else switch(this.location){case"nw":this._elem.css({left:0,top:t.top});break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,top:t.top});break;case"ne":this._elem.css({right:0,top:t.top});break;case"e":var i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:t.right,top:i});break;case"se":this._elem.css({right:t.right,bottom:t.bottom});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,bottom:t.bottom});break;case"sw":this._elem.css({left:t.left,bottom:t.bottom});break;case"w":var i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:t.left,top:i});break;default:this._elem.css({right:t.right,bottom:t.bottom})}},t.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},t.jqplot.ThemeEngine.prototype.init=function(){var e,i,n,r=new t.jqplot.Theme({_name:"Default"});for(e in r.target)r.target[e]="textColor"==e?this.target.css("color"):this.target.css(e);if(this.title.show&&this.title._elem)for(e in r.title)r.title[e]="textColor"==e?this.title._elem.css("color"):this.title._elem.css(e);for(e in r.grid)r.grid[e]=this.grid[e];if(null==r.grid.backgroundColor&&null!=this.grid.background&&(r.grid.backgroundColor=this.grid.background),this.legend.show&&this.legend._elem)for(e in r.legend)r.legend[e]="textColor"==e?this.legend._elem.css("color"):this.legend._elem.css(e);var a;for(i=0;i<this.series.length;i++){a=this.series[i],a.renderer.constructor==t.jqplot.LineRenderer?r.series.push(new F):a.renderer.constructor==t.jqplot.BarRenderer?r.series.push(new O):a.renderer.constructor==t.jqplot.PieRenderer?r.series.push(new H):a.renderer.constructor==t.jqplot.DonutRenderer?r.series.push(new N):a.renderer.constructor==t.jqplot.FunnelRenderer?r.series.push(new z):a.renderer.constructor==t.jqplot.MeterGaugeRenderer?r.series.push(new B):r.series.push({});for(e in r.series[i])r.series[i][e]=a[e]}var s,o;for(e in this.axes){if(o=this.axes[e],s=r.axes[e]=new R,s.borderColor=o.borderColor,s.borderWidth=o.borderWidth,o._ticks&&o._ticks[0])for(n in s.ticks)o._ticks[0].hasOwnProperty(n)?s.ticks[n]=o._ticks[0][n]:o._ticks[0]._elem&&(s.ticks[n]=o._ticks[0]._elem.css(n));if(o._label&&o._label.show)for(n in s.label)o._label[n]?s.label[n]=o._label[n]:o._label._elem&&(s.label[n]="textColor"==n?o._label._elem.css("color"):o._label._elem.css(n))}this.themeEngine._add(r),this.themeEngine.activeTheme=this.themeEngine.themes[r._name]},t.jqplot.ThemeEngine.prototype.get=function(t){return t?this.themes[t]:this.activeTheme},t.jqplot.ThemeEngine.prototype.getThemeNames=function(){var t=[];for(var e in this.themes)t.push(e);return t.sort(T)},t.jqplot.ThemeEngine.prototype.getThemes=function(){var t=[],e=[];for(var i in this.themes)t.push(i);t.sort(T);for(var n=0;n<t.length;n++)e.push(this.themes[t[n]]);return e},t.jqplot.ThemeEngine.prototype.activate=function(e,i){var n=!1;if(!i&&this.activeTheme&&this.activeTheme._name&&(i=this.activeTheme._name),!this.themes.hasOwnProperty(i))throw new Error("No theme of that name");var r=this.themes[i];this.activeTheme=r;var a,s=["xaxis","x2axis","yaxis","y2axis"];for(p=0;p<s.length;p++){var o=s[p];null!=r.axesStyles.borderColor&&(e.axes[o].borderColor=r.axesStyles.borderColor),null!=r.axesStyles.borderWidth&&(e.axes[o].borderWidth=r.axesStyles.borderWidth)}for(var l in e.axes){var h=e.axes[l];if(h.show){var u=r.axes[l]||{},c=r.axesStyles,d=t.jqplot.extend(!0,{},u,c);if(a=null!=r.axesStyles.borderColor?r.axesStyles.borderColor:d.borderColor,null!=d.borderColor&&(h.borderColor=d.borderColor,n=!0),a=null!=r.axesStyles.borderWidth?r.axesStyles.borderWidth:d.borderWidth,null!=d.borderWidth&&(h.borderWidth=d.borderWidth,n=!0),h._ticks&&h._ticks[0])for(var g in d.ticks)null!=(a=d.ticks[g])&&(h.tickOptions[g]=a,h._ticks=[],n=!0);if(h._label&&h._label.show)for(var g in d.label)null!=(a=d.label[g])&&(h.labelOptions[g]=a,n=!0)}}for(var f in r.grid)null!=r.grid[f]&&(e.grid[f]=r.grid[f]);if(n||e.grid.draw(),e.legend.show)for(f in r.legend)null!=r.legend[f]&&(e.legend[f]=r.legend[f]);if(e.title.show)for(f in r.title)null!=r.title[f]&&(e.title[f]=r.title[f]);var p;for(p=0;p<r.series.length;p++){var m={};for(f in r.series[p])null!=(a=null!=r.seriesStyles[f]?r.seriesStyles[f]:r.series[p][f])&&(m[f]=a,"color"==f?(e.series[p].renderer.shapeRenderer.fillStyle=a,e.series[p].renderer.shapeRenderer.strokeStyle=a,e.series[p][f]=a):"lineWidth"==f||"linePattern"==f?(e.series[p].renderer.shapeRenderer[f]=a,e.series[p][f]=a):"markerOptions"==f?(D(e.series[p].markerOptions,a),D(e.series[p].markerRenderer,a)):e.series[p][f]=a,n=!0)}n&&(e.target.empty(),e.draw());for(f in r.target)null!=r.target[f]&&e.target.css(f,r.target[f])},t.jqplot.ThemeEngine.prototype._add=function(t,e){if(e&&(t._name=e),t._name||(t._name=Date.parse(new Date)),this.themes.hasOwnProperty(t._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[t._name]=t},t.jqplot.ThemeEngine.prototype.remove=function(t){return"Default"!=t&&delete this.themes[t]},t.jqplot.ThemeEngine.prototype.newTheme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=i&&i._name?i._name:e||Date.parse(new Date);var n=this.copy(this.themes.Default._name,e);return t.jqplot.extend(n,i),n},t.jqplot.clone=S,t.jqplot.merge=D,t.jqplot.extend=function(){var e,i=arguments[0]||{},n=1,r=arguments.length,a=!1;for("boolean"==typeof i&&(a=i,i=arguments[1]||{},n=2),"object"!=typeof i&&"[object Function]"===!toString.call(i)&&(i={});n<r;n++)if(null!=(e=arguments[n]))for(var s in e){var o=i[s],l=e[s];i!==l&&(a&&l&&"object"==typeof l&&!l.nodeType?i[s]=t.jqplot.extend(a,o||(null!=l.length?[]:{}),l):l!==j&&(i[s]=l))}return i},t.jqplot.ThemeEngine.prototype.rename=function(t,e){if("Default"==t||"Default"==e)throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(e))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(t)){var i=this.copy(t,e);return this.remove(t),i}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},t.jqplot.ThemeEngine.prototype.copy=function(e,i,n){if("Default"==i)throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(e)){var r="jqplot.ThemeEngine Error: Source name invalid";throw new Error(r)}if(this.themes.hasOwnProperty(i)){var r="jqplot.ThemeEngine Error: Target name invalid";throw new Error(r)}var a=S(this.themes[e]);return a._name=i,t.jqplot.extend(!0,a,n),this._add(a),a},t.jqplot.Theme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=e||Date.parse(new Date),this._name=e,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},"string"==typeof i?this._name=i:"object"==typeof i&&t.jqplot.extend(!0,this,i)};var R=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new I,this.label=new E},I=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},E=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},F=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new P},P=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},O=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},H=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},N=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},z=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},B=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};t.fn.jqplotChildText=function(){return t(this).contents().filter(function(){return 3==this.nodeType}).text()},t.fn.jqplotGetComputedFontStyle=function(){
for(var t=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle,e=t["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],i=[],n=0;n<e.length;++n){var r=String(t[e[n]]);r&&"normal"!=r&&i.push(r)}return i.join(" ")},t.fn.jqplotToImageCanvas=function(e){function i(e){var i=parseInt(t(e).css("line-height"),10);return isNaN(i)&&(i=1.2*parseInt(t(e).css("font-size"),10)),i}function n(e,n,r,a,s,o){for(var l=i(e),h=t(e).innerWidth(),u=(t(e).innerHeight(),r.split(/\s+/)),c=u.length,d="",g=[],f=s,p=a,m=0;m<c;m++)d+=u[m],n.measureText(d).width>h&&(g.push(m),d="",m--);if(0===g.length)"center"===t(e).css("textAlign")&&(p=a+(o-n.measureText(d).width)/2-v),n.fillText(r,p,s);else{d=u.slice(0,g[0]).join(" "),"center"===t(e).css("textAlign")&&(p=a+(o-n.measureText(d).width)/2-v),n.fillText(d,p,f),f+=l;for(var m=1,x=g.length;m<x;m++)d=u.slice(g[m-1],g[m]).join(" "),"center"===t(e).css("textAlign")&&(p=a+(o-n.measureText(d).width)/2-v),n.fillText(d,p,f),f+=l;d=u.slice(g[m-1],u.length).join(" "),"center"===t(e).css("textAlign")&&(p=a+(o-n.measureText(d).width)/2-v),n.fillText(d,p,f)}}function r(e,i,a){var s=e.tagName.toLowerCase(),o=t(e).position(),l=window.getComputedStyle?window.getComputedStyle(e,""):e.currentStyle,h=i+o.left+parseInt(l.marginLeft,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.paddingLeft,10),u=a+o.top+parseInt(l.marginTop,10)+parseInt(l.borderTopWidth,10)+parseInt(l.paddingTop,10),c=d.width;if("div"!=s&&"span"!=s||t(e).hasClass("jqplot-highlighter-tooltip"))if("table"===s&&t(e).hasClass("jqplot-table-legend")){w.strokeStyle=t(e).css("border-top-color"),w.fillStyle=t(e).css("background-color"),w.fillRect(h,u,t(e).innerWidth(),t(e).innerHeight()),parseInt(t(e).css("border-top-width"),10)>0&&w.strokeRect(h,u,t(e).innerWidth(),t(e).innerHeight()),t(e).find("div.jqplot-table-legend-swatch-outline").each(function(){var e=t(this);w.strokeStyle=e.css("border-top-color");var i=h+e.position().left,n=u+e.position().top;w.strokeRect(i,n,e.innerWidth(),e.innerHeight()),i+=parseInt(e.css("padding-left"),10),n+=parseInt(e.css("padding-top"),10);var r=e.innerHeight()-2*parseInt(e.css("padding-top"),10),a=e.innerWidth()-2*parseInt(e.css("padding-left"),10),s=e.children("div.jqplot-table-legend-swatch");w.fillStyle=s.css("background-color"),w.fillRect(i,n,a,r)}),t(e).find("td.jqplot-table-legend-label").each(function(){var e=t(this),i=h+e.position().left,r=u+e.position().top+parseInt(e.css("padding-top"),10);w.font=e.jqplotGetComputedFontStyle(),w.fillStyle=e.css("color"),n(e,w,e.text(),i,r,c)})}else"canvas"==s&&w.drawImage(e,h,u);else{t(e).children().each(function(){r(this,h,u)});var g=t(e).jqplotChildText();g&&(w.font=t(e).jqplotGetComputedFontStyle(),w.fillStyle=t(e).css("color"),n(e,w,g,h,u,c))}}e=e||{};var a=null==e.x_offset?0:e.x_offset,s=null==e.y_offset?0:e.y_offset,o=null==e.backgroundColor?"rgb(255,255,255)":e.backgroundColor;if(0==t(this).width()||0==t(this).height())return null;if(t.jqplot.use_excanvas)return null;for(var l,h,u,c,d=document.createElement("canvas"),g=t(this).outerHeight(!0),f=t(this).outerWidth(!0),p=t(this).offset(),m=p.left,x=p.top,v=0,_=0,y=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],b=0;b<y.length;b++)t(this).find("."+y[b]).each(function(){l=t(this).offset().top-x,h=t(this).offset().left-m,c=h+t(this).outerWidth(!0)+v,u=l+t(this).outerHeight(!0)+_,h<-v&&(f=f-v-h,v=-h),l<-_&&(g=g-_-l,_=-l),c>f&&(f=c),u>g&&(g=u)});d.width=f+Number(a),d.height=g+Number(s);var w=d.getContext("2d");return w.save(),w.fillStyle=o,w.fillRect(0,0,d.width,d.height),w.restore(),w.translate(v,_),w.textAlign="left",w.textBaseline="top",t(this).children().each(function(){r(this,a,s)}),d},t.fn.jqplotToImageStr=function(e){var i=t(this).jqplotToImageCanvas(e);return i?i.toDataURL("image/png"):null},t.fn.jqplotToImageElem=function(e){var i=document.createElement("img"),n=t(this).jqplotToImageStr(e);return i.src=n,i},t.fn.jqplotToImageElemStr=function(e){return"<img src="+t(this).jqplotToImageStr(e)+" />"},t.fn.jqplotSaveImage=function(){var e=t(this).jqplotToImageStr({});e&&(window.location.href=e.replace("image/png","image/octet-stream"))},t.fn.jqplotViewImage=function(){var e=t(this).jqplotToImageElemStr({});t(this).jqplotToImageStr({});if(e){var i=window.open("");i.document.open("image/png"),i.document.write(e),i.document.close(),i=null}};var X=function(){switch(this.syntax=X.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=X.regional.getLocale(),this.formatString="",this.defaultCentury=X.config.defaultCentury,arguments.length){case 0:break;case 1:if("[object Object]"==A(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=X.createDate(t.date)}else this.proxy=X.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}};X.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},X.prototype.add=function(t,e){var i=G[e]||G.day;return"number"==typeof i?this.proxy.setTime(this.proxy.getTime()+i*t):i.add(this,t),this},X.prototype.clone=function(){return new X(this.proxy.getTime())},X.prototype.getUtcOffset=function(){return 6e4*this.proxy.getTimezoneOffset()},X.prototype.diff=function(t,e,i){if(null===(t=new X(t)))return null;var n=G[e]||G.day;if("number"==typeof n)var r=(this.proxy.getTime()-t.proxy.getTime())/n;else var r=n.diff(this.proxy,t.proxy);return i?r:Math[r>0?"floor":"ceil"](r)},X.prototype.getAbbrDayName=function(){return X.regional[this.locale].dayNamesShort[this.proxy.getDay()]},X.prototype.getAbbrMonthName=function(){return X.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},X.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},X.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},X.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},X.prototype.getDate=function(){return this.proxy.getDate()},X.prototype.getDay=function(){return this.proxy.getDay()},X.prototype.getDayOfWeek=function(){var t=this.proxy.getDay();return 0===t?7:t},X.prototype.getDayOfYear=function(){var t=this.proxy,e=t-new Date(t.getFullYear()+"/1/1 GMT");return e+=6e4*t.getTimezoneOffset(),t=null,parseInt(e/6e4/60/24,10)+1},X.prototype.getDayName=function(){return X.regional[this.locale].dayNames[this.proxy.getDay()]},X.prototype.getFullWeekOfYear=function(){var t=this.proxy,e=this.getDayOfYear(),i=6-t.getDay();return parseInt((e+i)/7,10)},X.prototype.getFullYear=function(){return this.proxy.getFullYear()},X.prototype.getGmtOffset=function(){var t=this.proxy.getTimezoneOffset()/60,e=t<0?"+":"-";return t=Math.abs(t),e+Y(Math.floor(t),2)+":"+Y(t%1*60,2)},X.prototype.getHours=function(){return this.proxy.getHours()},X.prototype.getHours12=function(){var t=this.proxy.getHours();return t>12?t-12:0==t?12:t},X.prototype.getIsoWeek=function(){var t=this.proxy,e=t.getWeekOfYear(),i=new Date(t.getFullYear()+"/1/1").getDay(),n=e+(i>4||i<=1?0:1);return 53==n&&new Date(t.getFullYear()+"/12/31").getDay()<4?n=1:0===n&&(t=new X(new Date(t.getFullYear()-1+"/12/31")),n=t.getIsoWeek()),t=null,n},X.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},X.prototype.getMinutes=function(){return this.proxy.getMinutes()},X.prototype.getMonth=function(){return this.proxy.getMonth()},X.prototype.getMonthName=function(){return X.regional[this.locale].monthNames[this.proxy.getMonth()]},X.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},X.prototype.getSeconds=function(){return this.proxy.getSeconds()},X.prototype.getShortYear=function(){return this.proxy.getYear()%100},X.prototype.getTime=function(){return this.proxy.getTime()},X.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},X.prototype.getTimezoneName=function(){var t=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return t[1]||t[2]||"GMT"+this.getGmtOffset()},X.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},X.prototype.getWeekOfYear=function(){var t=this.getDayOfYear(),e=7-this.getDayOfWeek();return parseInt((t+e)/7,10)},X.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},X.prototype.getYear=function(){return this.proxy.getYear()},X.prototype.next=function(t){return t=t||"day",this.clone().add(1,t)},X.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if("[object Object]"==A(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=X.createDate(t.date)}else this.proxy=X.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}return this},X.prototype.setDate=function(t){return this.proxy.setDate(t),this},X.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},X.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},X.prototype.setMilliseconds=function(t){return this.proxy.setMilliseconds(t),this},X.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},X.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},X.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},X.prototype.setTime=function(t){return this.proxy.setTime(t),this},X.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},X.prototype.strftime=function(t){return t=t||this.formatString||X.regional[this.locale].formatString,X.strftime(this,t,this.syntax)},X.prototype.toString=function(){return this.proxy.toString()},X.prototype.toYmdInt=function(){return 1e4*this.proxy.getFullYear()+100*this.getMonthNumber()+this.proxy.getDate()},X.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","F\xc3\xa9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xc3\xbbt","Septembre","Octobre","Novembre","D\xc3\xa9cembre"],monthNamesShort:["Jan","F\xc3\xa9v","Mar","Avr","Mai","Jun","Jul","Ao\xc3\xbb","Sep","Oct","Nov","D\xc3\xa9c"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","M\xc3\xa4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","M\xc3\xa4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["\xd0\xaf\xd0\xbd\xd0\xb2\xd0\xb0\xd1\x80\xd1\x8c","\xd0\xa4\xd0\xb5\xd0\xb2\xd1\x80\xd0\xb0\xd0\xbb\xd1\x8c","\xd0\x9c\xd0\xb0\xd1\x80\xd1\x82","\xd0?\xd0\xbf\xd1\x80\xd0\xb5\xd0\xbb\xd1\x8c","\xd0\x9c\xd0\xb0\xd0\xb9","\xd0\x98\xd1\x8e\xd0\xbd\xd1\x8c","\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c","\xd0?\xd0\xb2\xd0\xb3\xd1\x83\xd1?\xd1\x82","\xd0\xa1\xd0\xb5\xd0\xbd\xd1\x82\xd1?\xd0\xb1\xd1\x80\xd1\x8c","\xd0\x9e\xd0\xba\xd1\x82\xd1?\xd0\xb1\xd1\x80\xd1\x8c","\xd0?\xd0\xbe\xd1?\xd0\xb1\xd1\x80\xd1\x8c","\xd0\x94\xd0\xb5\xd0\xba\xd0\xb0\xd0\xb1\xd1\x80\xd1\x8c"],monthNamesShort:["\xd0\xaf\xd0\xbd\xd0\xb2","\xd0\xa4\xd0\xb5\xd0\xb2","\xd0\x9c\xd0\xb0\xd1\x80","\xd0?\xd0\xbf\xd1\x80","\xd0\x9c\xd0\xb0\xd0\xb9","\xd0\x98\xd1\x8e\xd0\xbd","\xd0\x98\xd1\x8e\xd0\xbb","\xd0?\xd0\xb2\xd0\xb3","\xd0\xa1\xd0\xb5\xd0\xbd","\xd0\x9e\xd0\xba\xd1\x82","\xd0?\xd0\xbe\xd1?","\xd0\x94\xd0\xb5\xd0\xba"],dayNames:["\xd0\xb2\xd0\xbe\xd1?\xd0\xba\xd1\x80\xd0\xb5\xd1?\xd0\xb5\xd0\xbd\xd1\x8c\xd0\xb5","\xd0\xbf\xd0\xbe\xd0\xbd\xd0\xb5\xd0\xb4\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd0\xb8\xd0\xba","\xd0\xb2\xd1\x82\xd0\xbe\xd1\x80\xd0\xbd\xd0\xb8\xd0\xba","\xd1?\xd1\x80\xd0\xb5\xd0\xb4\xd0\xb0","\xd1\x87\xd0\xb5\xd1\x82\xd0\xb2\xd0\xb5\xd1\x80\xd0\xb3","\xd0\xbf\xd1?\xd1\x82\xd0\xbd\xd0\xb8\xd1\x86\xd0\xb0","\xd1?\xd1\x83\xd0\xb1\xd0\xb1\xd0\xbe\xd1\x82\xd0\xb0"],dayNamesShort:["\xd0\xb2\xd1?\xd0\xba","\xd0\xbf\xd0\xbd\xd0\xb4","\xd0\xb2\xd1\x82\xd1\x80","\xd1?\xd1\x80\xd0\xb4","\xd1\x87\xd1\x82\xd0\xb2","\xd0\xbf\xd1\x82\xd0\xbd","\xd1?\xd0\xb1\xd1\x82"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["\xd9\x83\xd8\xa7\xd9\x86\xd9\x88\xd9\x86 \xd8\xa7\xd9\x84\xd8\xab\xd8\xa7\xd9\x86\xd9\x8a","\xd8\xb4\xd8\xa8\xd8\xa7\xd8\xb7","\xd8\xa2\xd8\xb0\xd8\xa7\xd8\xb1","\xd9\x86\xd9\x8a\xd8\xb3\xd8\xa7\xd9\x86","\xd8\xa2\xd8\xb0\xd8\xa7\xd8\xb1","\xd8\xad\xd8\xb2\xd9\x8a\xd8\xb1\xd8\xa7\xd9\x86","\xd8\xaa\xd9\x85\xd9\x88\xd8\xb2","\xd8\xa2\xd8\xa8","\xd8\xa3\xd9\x8a\xd9\x84\xd9\x88\xd9\x84","\xd8\xaa\xd8\xb4\xd8\xb1\xd9\x8a\xd9\x86 \xd8\xa7\xd9\x84\xd8\xa3\xd9\x88\xd9\x84","\xd8\xaa\xd8\xb4\xd8\xb1\xd9\x8a\xd9\x86 \xd8\xa7\xd9\x84\xd8\xab\xd8\xa7\xd9\x86\xd9\x8a","\xd9\x83\xd8\xa7\xd9\x86\xd9\x88\xd9\x86 \xd8\xa7\xd9\x84\xd8\xa3\xd9\x88\xd9\x84"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["\xd8\xa7\xd9\x84\xd8\xb3\xd8\xa8\xd8\xaa","\xd8\xa7\xd9\x84\xd8\xa3\xd8\xad\xd8\xaf","\xd8\xa7\xd9\x84\xd8\xa7\xd8\xab\xd9\x86\xd9\x8a\xd9\x86","\xd8\xa7\xd9\x84\xd8\xab\xd9\x84\xd8\xa7\xd8\xab\xd8\xa7\xd8\xa1","\xd8\xa7\xd9\x84\xd8\xa3\xd8\xb1\xd8\xa8\xd8\xb9\xd8\xa7\xd8\xa1","\xd8\xa7\xd9\x84\xd8\xae\xd9\x85\xd9\x8a\xd8\xb3","\xd8\xa7\xd9\x84\xd8\xac\xd9\x85\xd8\xb9\xd8\xa9"],dayNamesShort:["\xd8\xb3\xd8\xa8\xd8\xaa","\xd8\xa3\xd8\xad\xd8\xaf","\xd8\xa7\xd8\xab\xd9\x86\xd9\x8a\xd9\x86","\xd8\xab\xd9\x84\xd8\xa7\xd8\xab\xd8\xa7\xd8\xa1","\xd8\xa3\xd8\xb1\xd8\xa8\xd8\xb9\xd8\xa7\xd8\xa1","\xd8\xae\xd9\x85\xd9\x8a\xd8\xb3","\xd8\xac\xd9\x85\xd8\xb9\xd8\xa9"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"}},X.regional["en-US"]=X.regional["en-GB"]=X.regional.en,X.regional.getLocale=function(){var t=X.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(t=document.getElementsByTagName("html")[0].lang,X.regional.hasOwnProperty(t)||(t=X.config.defaultLocale)),t};var W=864e5,Y=function(t,e){t=String(t);var i=e-t.length;return String(Math.pow(10,i)).slice(1).concat(t)},G={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:W,week:7*W,month:{add:function(t,e){G.year.add(t,Math[e>0?"floor":"ceil"](e/12));var i=t.getMonth()+e%12;12==i?(i=0,t.setYear(t.getFullYear()+1)):-1==i&&(i=11,t.setYear(t.getFullYear()-1)),t.setMonth(i)},diff:function(t,e){var i=t.getFullYear()-e.getFullYear();return t.getMonth()-e.getMonth()+12*i+(t.getDate()-e.getDate())/30}},year:{add:function(t,e){t.setYear(t.getFullYear()+Math[e>0?"floor":"ceil"](e))},diff:function(t,e){return G.month.diff(t,e)/12}}};for(var U in G)"s"!=U.substring(U.length-1)&&(G[U+"s"]=G[U]);var V=function(t,e,i){if(X.formats[i].shortcuts[e])return X.strftime(t,X.formats[i].shortcuts[e],i);var n=(X.formats[i].codes[e]||"").split("."),r=t["get"+n[0]]?t["get"+n[0]]():"";return n[1]&&(r=Y(r,n[1])),r};X.strftime=function(t,e,i,n){var r="perl",a=X.regional.getLocale();i&&X.formats.hasOwnProperty(i)?r=i:i&&X.regional.hasOwnProperty(i)&&(a=i),n&&X.formats.hasOwnProperty(n)?r=n:n&&X.regional.hasOwnProperty(n)&&(a=n),"[object Object]"==A(t)&&"jsDate"==t._type||(t=new X(t),t.locale=a),e||(e=t.formatString||X.regional[a].formatString);for(var s,o=e||"%Y-%m-%d",l="";o.length>0;)(s=o.match(X.formats[r].codes.matcher))?(l+=o.slice(0,s.index),l+=(s[1]||"")+V(t,s[2],r),o=o.slice(s.index+s[0].length)):(l+=o,o="");return l},X.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},X.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},X.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},X.createDate=function(t){function e(t,e){var i,n,r,a,s=parseFloat(e[1]),o=parseFloat(e[2]),l=parseFloat(e[3]),h=X.config.defaultCentury;return s>31?(n=l,r=o,i=h+s):(n=o,r=s,i=h+l),a=r+"/"+n+"/"+i,t.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,a)}if(null==t)return new Date;if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);var i=String(t).replace(/^\s*(.+)\s*$/g,"$1");i=i.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var n=i.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(n&&n.length>3){var r=parseFloat(n[3]),a=X.config.defaultCentury+r;a=String(a),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,n[1]+" "+n[2]+" "+a)}(n=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/))&&n.length>3&&(i=e(i,n));var n=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);n&&n.length>3&&(i=e(i,n));for(var s,o,l,h=0,u=X.matchers.length,c=i;h<u;){if(o=Date.parse(c),!isNaN(o))return new Date(o);if("function"==typeof(s=X.matchers[h])){if((l=s.call(X,c))instanceof Date)return l}else c=i.replace(s[0],s[1]);h++}return NaN},X.daysInMonth=function(t,e){return 2==e?29==new Date(t,1,29).getDate()?29:28:[j,31,j,31,30,31,30,31,31,30,31,30,31][e]},X.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(t){var e=t.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{var i=new Date;i.setMilliseconds(0)}var n=parseFloat(e[2]);return e[6]&&(n="am"==e[6].toLowerCase()?12==n?0:n:12==n?12:n+12),i.setHours(n,parseInt(e[3]||0,10),parseInt(e[4]||0,10),1e3*(parseFloat(e[5]||0)||0)),i}return t},function(t){var e=t.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{var i=new Date;i.setMilliseconds(0)}var n=parseFloat(e[2]);return i.setHours(n,parseInt(e[3],10),parseInt(e[4],10),1e3*parseFloat(e[5])),i}return t},function(t){var e=t.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(e){var i,n,r,a=new Date,s=X.config.defaultCentury,o=parseFloat(e[1]),l=parseFloat(e[3]);o>31?(n=l,i=s+o):(n=o,i=s+l);var r=C(e[2],X.regional[X.regional.getLocale()].monthNamesShort);return-1==r&&(r=C(e[2],X.regional[X.regional.getLocale()].monthNames)),a.setFullYear(i,r,n),a.setHours(0,0,0,0),a}return t}],t.jsDate=X,t.jqplot.sprintf=function(){function e(t,e,i,n){var r=t.length>=e?"":Array(1+e-t.length>>>0).join(i);return n?t+r:r+t}function i(e){for(var i=new String(e),n=10;n>0&&i!=(i=i.replace(/^(\d+)(\d{3})/,"$1"+t.jqplot.sprintf.thousandsSeparator+"$2"));n--);return i}function n(t,i,n,r,a,s){var o=r-t.length;if(o>0){var l=" ";s&&(l="&nbsp;"),t=n||!a?e(t,r,l,n):t.slice(0,i.length)+e("",o,"0",!0)+t.slice(i.length)}return t}function r(t,i,r,a,s,o,l,h){var u=t>>>0;return r=r&&u&&{2:"0b",8:"0",16:"0x"}[i]||"",t=r+e(u.toString(i),o||0,"0",!1),n(t,r,a,s,l,h)}function a(t,e,i,r,a,s){return null!=r&&(t=t.slice(0,r)),n(t,"",e,i,a,s)}var s=arguments,o=0;return s[o++].replace(t.jqplot.sprintf.regex,function(l,h,u,c,d,g,f){if("%%"==l)return"%";for(var p=!1,m="",x=!1,v=!1,_=!1,y=!1,b=0;u&&b<u.length;b++)switch(u.charAt(b)){case" ":m=" ";break;case"+":m="+";break;case"-":p=!0;break;case"0":x=!0;break;case"#":v=!0;break;case"&":_=!0;break;case"'":y=!0}if(c=c?"*"==c?+s[o++]:"*"==c.charAt(0)?+s[c.slice(1,-1)]:+c:0,c<0&&(c=-c,p=!0),!isFinite(c))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");g=g?"*"==g?+s[o++]:"*"==g.charAt(0)?+s[g.slice(1,-1)]:+g:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0;var w=h?s[h.slice(0,-1)]:s[o++];switch(f){case"s":return null==w?"":a(String(w),p,c,g,x,_);case"c":return a(String.fromCharCode(+w),p,c,g,x,_);case"b":return r(w,2,v,p,c,g,x,_);case"o":return r(w,8,v,p,c,g,x,_);case"x":return r(w,16,v,p,c,g,x,_);case"X":return r(w,16,v,p,c,g,x,_).toUpperCase();case"u":return r(w,10,v,p,c,g,x,_);case"i":var k=parseInt(+w,10);if(isNaN(k))return"";var M=k<0?"-":m,T=y?i(String(Math.abs(k))):String(Math.abs(k));return w=M+e(T,g,"0",!1),n(w,M,p,c,x,_);case"d":var k=Math.round(+w);if(isNaN(k))return"";var M=k<0?"-":m,T=y?i(String(Math.abs(k))):String(Math.abs(k));return w=M+e(T,g,"0",!1),n(w,M,p,c,x,_);case"e":case"E":case"f":case"F":case"g":case"G":var k=+w;if(isNaN(k))return"";var M=k<0?"-":m,S=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],D=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],T=Math.abs(k)[S](g);T=y?i(T):T,w=M+T;var C=n(w,M,p,c,x,_)[D]();return"."!==t.jqplot.sprintf.decimalMark&&t.jqplot.sprintf.decimalMark!==t.jqplot.sprintf.thousandsSeparator?C.replace(/\./,t.jqplot.sprintf.decimalMark):C;case"p":case"P":var k=+w;if(isNaN(k))return"";var M=k<0?"-":m,A=String(Number(Math.abs(k)).toExponential()).split(/e|E/),j=-1!=A[0].indexOf(".")?A[0].length-1:A[0].length,q=A[1]<0?-A[1]-1:0;if(Math.abs(k)<1)w=j+q<=g?M+Math.abs(k).toPrecision(j):j<=g-1?M+Math.abs(k).toExponential(j-1):M+Math.abs(k).toExponential(g-1);else{var L=j<=g?j:g;w=M+Math.abs(k).toPrecision(L)}var D=["toString","toUpperCase"]["pP".indexOf(f)%2];return n(w,M,p,c,x,_)[D]();case"n":return"";default:return l}})},t.jqplot.sprintf.thousandsSeparator=",",t.jqplot.sprintf.decimalMark=".",t.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,t.jqplot.getSignificantFigures=function(t){var e=String(Number(Math.abs(t)).toExponential()).split(/e|E/),i=-1!=e[0].indexOf(".")?e[0].length-1:e[0].length,n=e[1]<0?-e[1]-1:0,r=parseInt(e[1],10),a=r+1>0?r+1:0;return{significantDigits:i,digitsLeft:a,digitsRight:i<=a?0:i-r-1,zeros:n,exponent:r}},t.jqplot.getPrecision=function(e){return t.jqplot.getSignificantFigures(e).digitsRight}}(jQuery);var backCompat=!1!==$.uiBackCompat;$.jqplot.effects={effect:{}};var dataSpace="jqplot.storage.";$.extend($.jqplot.effects,{version:"1.9pre",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(dataSpace+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.css(e[i],t.data(dataSpace+e[i]))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var e={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},r=document.activeElement;return t.wrap(i),(t[0]===r||$.contains(t[0],r))&&$(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):($.extend(e,{position:t.css("position"),zIndex:t.css("z-index")}),$.each(["top","left","bottom","right"],function(i,n){e[n]=t.css(n),isNaN(parseInt(e[n],10))&&(e[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),i.css(e).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||$.contains(t[0],e))&&$(e).focus()),t}}),$.fn.extend({jqplotEffect:function(){function t(t){function i(){$.isFunction(a)&&a.call(n[0]),$.isFunction(t)&&t()}var n=$(this),a=e.complete,s=e.mode;(n.is(":hidden")?"hide"===s:"show"===s)?i():r.call(n[0],e,i)}var e=_normalizeArguments.apply(this,arguments),i=e.mode,n=e.queue,r=$.jqplot.effects.effect[e.effect],a=!r&&backCompat&&$.jqplot.effects[e.effect];return $.fx.off||!r&&!a?i?this[i](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):r?!1===n?this.each(t):this.queue(n||"fx",t):a.call(this,{options:e,duration:e.duration,callback:e.complete,mode:e.mode})}});var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.jqplot.effects.effect.blind=function(t,e){var i,n,r,a=$(this),s=["position","top","bottom","left","right","height","width"],o=$.jqplot.effects.setMode(a,t.mode||"hide"),l=t.direction||"up",h=rvertical.test(l),u=h?"height":"width",c=h?"top":"left",d=rpositivemotion.test(l),g={},f="show"===o;a.parent().is(".ui-effects-wrapper")?$.jqplot.effects.save(a.parent(),s):$.jqplot.effects.save(a,s),a.show(),r=parseInt(a.css("top"),10),i=$.jqplot.effects.createWrapper(a).css({overflow:"hidden"}),n=h?i[u]()+r:i[u](),g[u]=f?String(n):"0",d||(a.css(h?"bottom":"right",0).css(h?"top":"left","").css({position:"absolute"}),g[c]=f?"0":String(n)),f&&(i.css(u,0),d||i.css(c,n)),i.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===o&&a.hide(),$.jqplot.effects.restore(a,s),$.jqplot.effects.removeWrapper(a),e()}})},document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new y(this))}function e(t,e){var i=N.call(arguments,2);return function(){return t.apply(e,i.concat(N.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function r(t){if(n(t,"g_vml_","urn:schemas-microsoft-com:vml"),n(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function a(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function s(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(t,e){for(var i=o(),n=0;n<3;n++)for(var r=0;r<3;r++){for(var a=0,s=0;s<3;s++)a+=t[n][s]*e[s][r];i[n][r]=a}return i}function h(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function u(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),n=t.substring(e+1,i).split(",");return 4==n.length&&"a"==t.charAt(3)||(n[3]=1),n}function c(t){return parseFloat(t)/100}function d(t,e,i){return Math.min(i,Math.max(e,t))}function g(t){var e,i,n,r,a,s;if(r=parseFloat(t[0])/360%360,r<0&&r++,a=d(c(t[1]),0,1),s=d(c(t[2]),0,1),0==a)e=i=n=s;else{var o=s<.5?s*(1+a):s+a-s*a,l=2*s-o;e=f(l,o,r+1/3),i=f(l,o,r),n=f(l,o,r-1/3)}return"#"+B[Math.floor(255*e)]+B[Math.floor(255*i)]+B[Math.floor(255*n)]}function f(t,e,i){return i<0&&i++,i>1&&i--,6*i<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function p(t){if(t in G)return G[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var n,r=u(t),e="#",a=0;a<3;a++)n=-1!=r[a].indexOf("%")?Math.floor(255*c(r[a])):+r[a],e+=B[d(n,0,255)];i=+r[3]}else if(/^hsl/.test(t)){var r=u(t);e=g(r),i=r[3]}else e=Y[t]||t;return G[t]={color:e,alpha:i}}function m(t){if(V[t])return V[t];var e=document.createElement("div"),i=e.style;try{i.font=t}catch(t){}return V[t]={style:i.fontStyle||U.style,variant:i.fontVariant||U.variant,weight:i.fontWeight||U.weight,size:i.fontSize||U.size,family:i.fontFamily||U.family}}function x(t,e){var i={};for(var n in t)i[n]=t[n];var r=parseFloat(e.currentStyle.fontSize),a=parseFloat(t.size);return"number"==typeof t.size?i.size=t.size:-1!=t.size.indexOf("px")?i.size=a:-1!=t.size.indexOf("em")?i.size=r*a:-1!=t.size.indexOf("%")?i.size=r/100*a:-1!=t.size.indexOf("pt")?i.size=a/.75:i.size=r,i.size*=.981,i.family="'"+i.family.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'",i}function v(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family}function _(t){return $[t]||"square"}function y(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*O,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var n=i.cloneNode(!1);n.style.backgroundColor="red",n.style.filter="alpha(opacity=0)",t.appendChild(n),this.element_=i,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function b(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function w(t,e){var i=p(t.strokeStyle),n=i.color,r=i.alpha*t.globalAlpha,a=t.lineScale_*t.lineWidth;a<1&&(r*=a),e.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',_(t.lineCap),'"',' weight="',a,'px"',' color="',n,'" />')}function k(t,e,i,n){
var r=t.fillStyle,a=t.arcScaleX_,s=t.arcScaleY_,o=n.x-i.x,l=n.y-i.y;if(r instanceof D){var h=0,u={x:0,y:0},c=0,d=1;if("gradient"==r.type_){var g=r.x0_/a,f=r.y0_/s,m=r.x1_/a,x=r.y1_/s,v=M(t,g,f),_=M(t,m,x),y=_.x-v.x,b=_.y-v.y;h=180*Math.atan2(y,b)/Math.PI,h<0&&(h+=360),h<1e-6&&(h=0)}else{var v=M(t,r.x0_,r.y0_);u={x:(v.x-i.x)/o,y:(v.y-i.y)/l},o/=a*O,l/=s*O;var w=L.max(o,l);c=2*r.r0_/w,d=2*r.r1_/w-c}var k=r.colors_;k.sort(function(t,e){return t.offset-e.offset});for(var T=k.length,S=k[0].color,A=k[T-1].color,j=k[0].alpha*t.globalAlpha,q=k[T-1].alpha*t.globalAlpha,R=[],I=0;I<T;I++){var E=k[I];R.push(E.offset*d+c+" "+E.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',S,'"',' color2="',A,'"',' colors="',R.join(","),'"',' opacity="',q,'"',' g_o_:opacity2="',j,'"',' angle="',h,'"',' focusposition="',u.x,",",u.y,'" />')}else if(r instanceof C){if(o&&l){var F=-i.x,P=-i.y;e.push("<g_vml_:fill",' position="',F/o*a*a,",",P/l*s*s,'"',' type="tile"',' src="',r.src_,'" />')}}else{var H=p(t.fillStyle),N=H.color,z=H.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',N,'" opacity="',z,'" />')}}function M(t,e,i){var n=t.m_;return{x:O*(e*n[0][0]+i*n[1][0]+n[2][0])-H,y:O*(e*n[0][1]+i*n[1][1]+n[2][1])-H}}function T(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function S(t,e,i){if(T(e)&&(t.m_=e,i)){var n=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=P(F(n))}}function D(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function C(t,e){switch(j(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:A("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function A(t){throw new q(t)}function j(t){t&&1==t.nodeType&&"IMG"==t.tagName||A("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&A("INVALID_STATE_ERR")}function q(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var L=Math,R=L.round,I=L.sin,E=L.cos,F=L.abs,P=L.sqrt,O=10,H=O/2,N=(navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);r(document);var z={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,r(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",a),e.attachEvent("onresize",s);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e},uninitElement:function(t){if(t.getContext){var e=t.getContext();delete e.element_,delete e.canvas,t.innerHTML="",t.context_=null,t.getContext=null,t.detachEvent("onpropertychange",a),t.detachEvent("onresize",s)}}};z.init();for(var B=[],X=0;X<16;X++)for(var W=0;W<16;W++)B[16*X+W]=X.toString(16)+W.toString(16);var Y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},G={},U={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},V={},$={butt:"flat",round:"round"},J=y.prototype;J.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},J.beginPath=function(){this.currentPath_=[]},J.moveTo=function(t,e){var i=M(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},J.lineTo=function(t,e){var i=M(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},J.bezierCurveTo=function(t,e,i,n,r,a){var s=M(this,r,a);b(this,M(this,t,e),M(this,i,n),s)},J.quadraticCurveTo=function(t,e,i,n){var r=M(this,t,e),a=M(this,i,n),s={x:this.currentX_+2/3*(r.x-this.currentX_),y:this.currentY_+2/3*(r.y-this.currentY_)};b(this,s,{x:s.x+(a.x-this.currentX_)/3,y:s.y+(a.y-this.currentY_)/3},a)},J.arc=function(t,e,i,n,r,a){i*=O;var s=a?"at":"wa",o=t+E(n)*i-H,l=e+I(n)*i-H,h=t+E(r)*i-H,u=e+I(r)*i-H;o!=h||a||(o+=.125);var c=M(this,t,e),d=M(this,o,l),g=M(this,h,u);this.currentPath_.push({type:s,x:c.x,y:c.y,radius:i,xStart:d.x,yStart:d.y,xEnd:g.x,yEnd:g.y})},J.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},J.strokeRect=function(t,e,i,n){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=r},J.fillRect=function(t,e,i,n){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=r},J.createLinearGradient=function(t,e,i,n){var r=new D("gradient");return r.x0_=t,r.y0_=e,r.x1_=i,r.y1_=n,r},J.createRadialGradient=function(t,e,i,n,r,a){var s=new D("gradientradial");return s.x0_=t,s.y0_=e,s.r0_=i,s.x1_=n,s.y1_=r,s.r1_=a,s},J.drawImage=function(t){var e,i,n,r,a,s,o,l,h=t.runtimeStyle.width,u=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,d=t.height;if(t.runtimeStyle.width=h,t.runtimeStyle.height=u,3==arguments.length)e=arguments[1],i=arguments[2],a=s=0,o=n=c,l=r=d;else if(5==arguments.length)e=arguments[1],i=arguments[2],n=arguments[3],r=arguments[4],a=s=0,o=c,l=d;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],o=arguments[3],l=arguments[4],e=arguments[5],i=arguments[6],n=arguments[7],r=arguments[8]}var g=M(this,e,i),f=[],p=10,m=10;if(f.push(" <g_vml_:group",' coordsize="',O*p,",",O*m,'"',' coordorigin="0,0"',' style="width:',p,"px;height:",m,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",R(g.x/O),",","Dy=",R(g.y/O),"");var v=g,_=M(this,e+n,i),y=M(this,e,i+r),b=M(this,e+n,i+r);v.x=L.max(v.x,_.x,y.x,b.x),v.y=L.max(v.y,_.y,y.y,b.y),f.push("padding:0 ",R(v.x/O),"px ",R(v.y/O),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else f.push("top:",R(g.y/O),"px;left:",R(g.x/O),"px;");f.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',O*n,"px;"," height:",O*r,'px"',' cropleft="',a/c,'"',' croptop="',s/d,'"',' cropright="',(c-a-o)/c,'"',' cropbottom="',(d-s-l)/d,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},J.stroke=function(t){var e=[],i=10,n=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',i,"px;height:",n,'px;"',' coordorigin="0,0"',' coordsize="',O*i,",",O*n,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},a={x:null,y:null},s=0;s<this.currentPath_.length;s++){var o=this.currentPath_[s];switch(o.type){case"moveTo":o,e.push(" m ",R(o.x),",",R(o.y));break;case"lineTo":e.push(" l ",R(o.x),",",R(o.y));break;case"close":e.push(" x "),o=null;break;case"bezierCurveTo":e.push(" c ",R(o.cp1x),",",R(o.cp1y),",",R(o.cp2x),",",R(o.cp2y),",",R(o.x),",",R(o.y));break;case"at":case"wa":e.push(" ",o.type," ",R(o.x-this.arcScaleX_*o.radius),",",R(o.y-this.arcScaleY_*o.radius)," ",R(o.x+this.arcScaleX_*o.radius),",",R(o.y+this.arcScaleY_*o.radius)," ",R(o.xStart),",",R(o.yStart)," ",R(o.xEnd),",",R(o.yEnd))}o&&((null==r.x||o.x<r.x)&&(r.x=o.x),(null==a.x||o.x>a.x)&&(a.x=o.x),(null==r.y||o.y<r.y)&&(r.y=o.y),(null==a.y||o.y>a.y)&&(a.y=o.y))}e.push(' ">'),t?k(this,e,r,a):w(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},J.fill=function(){this.stroke(!0)},J.closePath=function(){this.currentPath_.push({type:"close"})},J.save=function(){var t={};h(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=l(o(),this.m_)},J.restore=function(){this.aStack_.length&&(h(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},J.translate=function(t,e){S(this,l([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},J.rotate=function(t){var e=E(t),i=I(t);S(this,l([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},J.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,S(this,l([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},J.transform=function(t,e,i,n,r,a){S(this,l([[t,e,0],[i,n,0],[r,a,1]],this.m_),!0)},J.setTransform=function(t,e,i,n,r,a){S(this,[[t,e,0],[i,n,0],[r,a,1]],!0)},J.drawText_=function(t,e,n,r,a){var s=this.m_,o=1e3,l=0,h=o,u={x:0,y:0},c=[],d=x(m(this.font),this.element_),g=v(d),f=this.element_.currentStyle,p=this.textAlign.toLowerCase();switch(p){case"left":case"center":case"right":break;case"end":p="ltr"==f.direction?"right":"left";break;case"start":p="rtl"==f.direction?"right":"left";break;default:p="left"}switch(this.textBaseline){case"hanging":case"top":u.y=d.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u.y=-d.size/2.25}switch(p){case"right":l=o,h=.05;break;case"center":l=h=o/2}var _=M(this,e+u.x,n+u.y);c.push('<g_vml_:line from="',-l,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!a,'" stroked="',!!a,'" style="position:absolute;width:1px;height:1px;">'),a?w(this,c):k(this,c,{x:-l,y:0},{x:h,y:d.size});var y=s[0][0].toFixed(3)+","+s[1][0].toFixed(3)+","+s[0][1].toFixed(3)+","+s[1][1].toFixed(3)+",0,0",b=R(_.x/O+1-s[0][0])+","+R(_.y/O-2*s[1][0]);c.push('<g_vml_:skew on="t" matrix="',y,'" ',' offset="',b,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',p,";font:",i(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},J.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},J.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},J.measureText=function(t){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild}var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},J.clip=function(){},J.arcTo=function(){},J.createPattern=function(t,e){return new C(t,e)},D.prototype.addColorStop=function(t,e){e=p(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var Z=q.prototype=new Error;Z.INDEX_SIZE_ERR=1,Z.DOMSTRING_SIZE_ERR=2,Z.HIERARCHY_REQUEST_ERR=3,Z.WRONG_DOCUMENT_ERR=4,Z.INVALID_CHARACTER_ERR=5,Z.NO_DATA_ALLOWED_ERR=6,Z.NO_MODIFICATION_ALLOWED_ERR=7,Z.NOT_FOUND_ERR=8,Z.NOT_SUPPORTED_ERR=9,Z.INUSE_ATTRIBUTE_ERR=10,Z.INVALID_STATE_ERR=11,Z.SYNTAX_ERR=12,Z.INVALID_MODIFICATION_ERR=13,Z.NAMESPACE_ERR=14,Z.INVALID_ACCESS_ERR=15,Z.VALIDATION_ERR=16,Z.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=z,CanvasRenderingContext2D=y,CanvasGradient=D,CanvasPattern=C,DOMException=q,G_vmlCanvasManager._version=888}(),function(t){function e(e,i){var n=e.plugins.highlighter,r=e.series[i.seriesIndex],a=r.markerRenderer,s=n.markerRenderer;s.style=a.style,s.lineWidth=a.lineWidth+n.lineWidthAdjust,s.size=a.size+n.sizeAdjust;var o=t.jqplot.getColorComponents(a.color),l=[o[0],o[1],o[2]],h=o[3]>=.6?.6*o[3]:o[3]*(2-o[3]);s.color="rgba("+l[0]+","+l[1]+","+l[2]+","+h+")",s.init(),s.draw(r.gridData[i.pointIndex][0],r.gridData[i.pointIndex][1],n.highlightCanvas._ctx)}function i(e,i,n){var o=e.plugins.highlighter,l=o._tooltipElem,h=i.highlighter||{},u=t.extend(!0,{},o,h);if(u.useAxesFormatters){for(var c,d=i._xaxis._ticks[0].formatter,g=i._yaxis._ticks[0].formatter,f=i._xaxis._ticks[0].formatString,p=i._yaxis._ticks[0].formatString,m=d(f,n.data[0]),x=[],v=1;v<u.yvalues+1;v++)x.push(g(p,n.data[v]));if("string"==typeof u.formatString)switch(u.tooltipAxes){case"both":case"xy":x.unshift(m),x.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,x);break;case"yx":x.push(m),x.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,x);break;case"x":c=t.jqplot.sprintf.apply(t.jqplot.sprintf,[u.formatString,m]);break;case"y":x.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,x);break;default:x.unshift(m),x.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,x)}else switch(u.tooltipAxes){case"both":case"xy":c=m;for(var v=0;v<x.length;v++)c+=u.tooltipSeparator+x[v];break;case"yx":c="";for(var v=0;v<x.length;v++)c+=x[v]+u.tooltipSeparator;c+=m;break;case"x":c=m;break;case"y":c=x.join(u.tooltipSeparator);break;default:c=m;for(var v=0;v<x.length;v++)c+=u.tooltipSeparator+x[v]}}else{var c;"string"==typeof u.formatString?c=t.jqplot.sprintf.apply(t.jqplot.sprintf,[u.formatString].concat(n.data)):"both"==u.tooltipAxes||"xy"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[0])+u.tooltipSeparator+t.jqplot.sprintf(u.tooltipFormatString,n.data[1]):"yx"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[1])+u.tooltipSeparator+t.jqplot.sprintf(u.tooltipFormatString,n.data[0]):"x"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[0]):"y"==u.tooltipAxes&&(c=t.jqplot.sprintf(u.tooltipFormatString,n.data[1]))}t.isFunction(u.tooltipContentEditor)&&(c=u.tooltipContentEditor(c,n.seriesIndex,n.pointIndex,e)),l.html(c);var _={x:n.gridData[0],y:n.gridData[1]},y=0,b=.707;1==i.markerRenderer.show&&(y=(i.markerRenderer.size+u.sizeAdjust)/2);var w=r;switch(i.fillToZero&&i.fill&&n.data[1]<0&&(w=s),w[a[u.tooltipLocation]]){case"nw":var k=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-b*y,M=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-b*y;break;case"n":var k=_.x+e._gridPadding.left-l.outerWidth(!0)/2,M=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-y;break;case"ne":var k=_.x+e._gridPadding.left+u.tooltipOffset+b*y,M=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-b*y;break;case"e":var k=_.x+e._gridPadding.left+u.tooltipOffset+y,M=_.y+e._gridPadding.top-l.outerHeight(!0)/2;break;case"se":var k=_.x+e._gridPadding.left+u.tooltipOffset+b*y,M=_.y+e._gridPadding.top+u.tooltipOffset+b*y;break;case"s":var k=_.x+e._gridPadding.left-l.outerWidth(!0)/2,M=_.y+e._gridPadding.top+u.tooltipOffset+y;break;case"sw":var k=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-b*y,M=_.y+e._gridPadding.top+u.tooltipOffset+b*y;break;case"w":var k=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-y,M=_.y+e._gridPadding.top-l.outerHeight(!0)/2;break;default:var k=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-b*y,M=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-b*y}l.css("left",k),l.css("top",M),u.fadeTooltip?l.stop(!0,!0).fadeIn(u.tooltipFadeSpeed):l.show(),l=null}function n(t,n,r,a,s){var o=s.plugins.highlighter,l=s.plugins.cursor;if(o.show)if(null==a&&o.isHighlighting){var h=jQuery.Event("jqplotHighlighterUnhighlight");s.target.trigger(h);var u=o.highlightCanvas._ctx;u.clearRect(0,0,u.canvas.width,u.canvas.height),o.fadeTooltip?o._tooltipElem.fadeOut(o.tooltipFadeSpeed):o._tooltipElem.hide(),o.bringSeriesToFront&&s.restorePreviousSeriesOrder(),o.isHighlighting=!1,o.currentNeighbor=null,u=null}else if(null!=a&&s.series[a.seriesIndex].showHighlight&&!o.isHighlighting){var h=jQuery.Event("jqplotHighlighterHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY;var c=[a.seriesIndex,a.pointIndex,a.data,s];s.target.trigger(h,c),o.isHighlighting=!0,o.currentNeighbor=a,o.showMarker&&e(s,a),!o.showTooltip||l&&l._zoom.started||i(s,s.series[a.seriesIndex],a),o.bringSeriesToFront&&s.moveSeriesToFront(a.seriesIndex)}else if(null!=a&&o.isHighlighting&&o.currentNeighbor!=a&&s.series[a.seriesIndex].showHighlight){var u=o.highlightCanvas._ctx;u.clearRect(0,0,u.canvas.width,u.canvas.height),o.isHighlighting=!0,o.currentNeighbor=a,o.showMarker&&e(s,a),!o.showTooltip||l&&l._zoom.started||i(s,s.series[a.seriesIndex],a),o.bringSeriesToFront&&s.moveSeriesToFront(a.seriesIndex)}}t.jqplot.eventListenerHooks.push(["jqplotMouseMove",n]),t.jqplot.Highlighter=function(e){this.show=t.jqplot.config.enablePlugins,this.markerRenderer=new t.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,t.extend(!0,this,e)};var r=["nw","n","ne","e","se","s","sw","w"],a={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},s=["se","s","sw","w","nw","n","ne","e"];t.jqplot.Highlighter.init=function(e,i,n){var r=n||{};this.plugins.highlighter=new t.jqplot.Highlighter(r.highlighter)},t.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0},t.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var e=document.createElement("div");this.plugins.highlighter._tooltipElem=t(e),e=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},t.jqplot.preInitHooks.push(t.jqplot.Highlighter.init),t.jqplot.preParseSeriesOptionsHooks.push(t.jqplot.Highlighter.parseOptions),t.jqplot.postDrawHooks.push(t.jqplot.Highlighter.postPlotDraw)}(jQuery),function(t){function e(){if("horizontal"==this.rendererOptions.barDirection&&(this._stackAxis="x",this._primaryAxis="_yaxis"),1==this.rendererOptions.waterfall){this._data=t.extend(!0,[],this.data);for(var e=0,i=this.rendererOptions.barDirection&&"vertical"!==this.rendererOptions.barDirection&&!1!==this.transposedData?0:1,n=0;n<this.data.length;n++)e+=this.data[n][i],n>0&&(this.data[n][i]+=this.data[n-1][i]);this.data[this.data.length]=1==i?[this.data.length+1,e]:[e,this.data.length+1],this._data[this._data.length]=1==i?[this._data.length+1,e]:[e,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;for(var r=this.data.length,a=parseInt(r/this.rendererOptions.groups,10),s=0,n=a;n<r;n+=a)this.data.splice(n+s,0,[null,null]),this._plotData.splice(n+s,0,[null,null]),this._stackData.splice(n+s,0,[null,null]),s++;for(n=0;n<this.data.length;n++)"_xaxis"==this._primaryAxis?(this.data[n][0]=n+1,this._plotData[n][0]=n+1,this._stackData[n][0]=n+1):(this.data[n][1]=n+1,this._plotData[n][1]=n+1,this._stackData[n][1]=n+1)}}function i(t,e,n,r,a){var s,o,l=t,h=t-1,u="x"===a?0:1;return l>0?(o=r.series[h]._plotData[e][u],s=n*o<0?i(h,e,n,r,a):r.series[h].gridData[e][u]):s=0===u?r.series[l]._xaxis.series_u2p(0):r.series[l]._yaxis.series_u2p(0),s}function n(){for(var e=0;e<this.series.length;e++)this.series[e].renderer.constructor==t.jqplot.BarRenderer&&this.series[e].highlightMouseOver&&(this.series[e].highlightMouseDown=!1)}function r(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(t){s(t.data.plot)})}function a(t,e,i,n){var r=t.series[e],a=t.plugins.barRenderer.highlightCanvas;a._ctx.clearRect(0,0,a._ctx.canvas.width,a._ctx.canvas.height),r._highlightedPoint=i,t.plugins.barRenderer.highlightedSeriesIndex=e;var s={fillStyle:r.highlightColors[i]};r.renderer.shapeRenderer.draw(a._ctx,n,s),a=null}function s(t){var e=t.plugins.barRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.barRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight"),e=null}function o(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],l=jQuery.Event("jqplotDataMouseOver");if(l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,o),r.series[o[0]].highlightMouseOver&&(o[0]!=r.plugins.barRenderer.highlightedSeriesIndex||o[1]!=r.series[o[0]]._highlightedPoint)){var h=jQuery.Event("jqplotDataHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY,r.target.trigger(h,o),a(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&s(r)}function l(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data];if(r.series[o[0]].highlightMouseDown&&(o[0]!=r.plugins.barRenderer.highlightedSeriesIndex||o[1]!=r.series[o[0]]._highlightedPoint)){var l=jQuery.Event("jqplotDataHighlight");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,o),a(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&s(r)}function h(t,e,i,n,r){var a=r.plugins.barRenderer.highlightedSeriesIndex;null!=a&&r.series[a].highlightMouseDown&&s(r)}function u(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataClick");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,a)}}function c(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],o=r.plugins.barRenderer.highlightedSeriesIndex;null!=o&&r.series[o].highlightMouseDown&&s(r);var l=jQuery.Event("jqplotDataRightClick");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a)}}t.jqplot.BarRenderer=function(){t.jqplot.LineRenderer.call(this)},t.jqplot.BarRenderer.prototype=new t.jqplot.LineRenderer,t.jqplot.BarRenderer.prototype.constructor=t.jqplot.BarRenderer,t.jqplot.BarRenderer.prototype.init=function(e,i){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",e.highlightMouseDown&&null==e.highlightMouseOver&&(e.highlightMouseOver=!1),t.extend(!0,this,e),t.extend(!0,this.renderer,e),this.fill=!0,"horizontal"===this.barDirection&&this.rendererOptions.animation&&null==this.rendererOptions.animation.direction&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),"vertical"==this.barDirection?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var a={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(a);var s={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(s),i.postInitHooks.addOnce(n),i.postDrawHooks.addOnce(r),i.eventListenerHooks.addOnce("jqplotMouseMove",o),i.eventListenerHooks.addOnce("jqplotMouseDown",l),i.eventListenerHooks.addOnce("jqplotMouseUp",h),i.eventListenerHooks.addOnce("jqplotClick",u),i.eventListenerHooks.addOnce("jqplotRightClick",c)},t.jqplot.preSeriesInitHooks.push(e),t.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var e,i,n=0,r=0,a=this[this._primaryAxis],s=0;s<a._series.length;s++)e=a._series[s],e===this&&(i=s),e.renderer.constructor==t.jqplot.BarRenderer&&(n+=e.data.length,r+=1);return[n,r,i]},t.jqplot.BarRenderer.prototype.setBarWidth=function(){var t=0,e=0,i=this[this._primaryAxis],n=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);t=n[0],e=n[1];var r=i.numberTicks,a=(r-1)/2;return"xaxis"==i.name||"x2axis"==i.name?this._stack?this.barWidth=(i._offsets.max-i._offsets.min)/t*e-this.barMargin:this.barWidth=((i._offsets.max-i._offsets.min)/a-this.barPadding*(e-1)-2*this.barMargin)/e:this._stack?this.barWidth=(i._offsets.min-i._offsets.max)/t*e-this.barMargin:this.barWidth=((i._offsets.min-i._offsets.max)/a-this.barPadding*(e-1)-2*this.barMargin)/e,[t,e]},t.jqplot.BarRenderer.prototype.draw=function(e,n,r,a){var s,o=t.extend({},r),l=o.shadow!=undefined?o.shadow:this.shadow,h=o.showLine!=undefined?o.showLine:this.showLine;o.fill!=undefined?o.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;this._dataColors=[],this._barPoints=[],null==this.barWidth&&this.renderer.setBarWidth.call(this);var u=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),c=(u[0],u[1]),d=u[2],g=[];if(this._stack?this._barNudge=0:this._barNudge=(-Math.abs(c/2-.5)+d)*(this.barWidth+this.barPadding),h){var f=new t.jqplot.ColorGenerator(this.negativeSeriesColors),p=new t.jqplot.ColorGenerator(this.seriesColors),m=f.get(this.index);this.useNegativeColors||(m=o.fillStyle);var x,v,_,y=o.fillStyle;if("vertical"==this.barDirection){for(var s=0;s<n.length;s++)if(this._stack||null!=this.data[s][1]){if(g=[],x=n[s][0]+this._barNudge,_=this._stack&&this._prevGridData.length?i(this.index,s,this._plotData[s][1],a,"y"):this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&s>0&&s<this.gridData.length-1?this.gridData[s-1][1]:this.waterfall&&0==s&&s<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?e.canvas.height:0:this.waterfall&&s==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?e.canvas.height:0:e.canvas.height,this.fillToZero&&this._plotData[s][1]<0||this.waterfall&&this._data[s][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?o.fillStyle=f.next():o.fillStyle=p.next():o.fillStyle=m:this.varyBarColor&&!this._stack?o.fillStyle=p.next():o.fillStyle=y,!this.fillToZero||this._plotData[s][1]>=0?(g.push([x-this.barWidth/2,_]),g.push([x-this.barWidth/2,n[s][1]]),g.push([x+this.barWidth/2,n[s][1]]),g.push([x+this.barWidth/2,_])):(g.push([x-this.barWidth/2,n[s][1]]),g.push([x-this.barWidth/2,_]),g.push([x+this.barWidth/2,_]),g.push([x+this.barWidth/2,n[s][1]])),this._barPoints.push(g),l&&!this._stack){var b=t.extend(!0,{},o);delete b.fillStyle,this.renderer.shadowRenderer.draw(e,g,b)}var w=o.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,g,o)}}else if("horizontal"==this.barDirection)for(var s=0;s<n.length;s++)if(this._stack||null!=this.data[s][0]){if(g=[],x=n[s][1]-this._barNudge,v=this._stack&&this._prevGridData.length?i(this.index,s,this._plotData[s][0],a,"x"):this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&s>0&&s<this.gridData.length-1?this.gridData[s-1][0]:this.waterfall&&0==s&&s<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):(this._xaxis.min,0):this.waterfall&&s==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:e.canvas.width:0,this.fillToZero&&this._plotData[s][1]<0||this.waterfall&&this._data[s][1]<0?this.varyBarColor&&!this._stack&&(this.useNegativeColors?o.fillStyle=f.next():o.fillStyle=p.next()):this.varyBarColor&&!this._stack?o.fillStyle=p.next():o.fillStyle=y,!this.fillToZero||this._plotData[s][0]>=0?(g.push([v,x+this.barWidth/2]),g.push([v,x-this.barWidth/2]),g.push([n[s][0],x-this.barWidth/2]),g.push([n[s][0],x+this.barWidth/2])):(g.push([n[s][0],x+this.barWidth/2]),g.push([n[s][0],x-this.barWidth/2]),g.push([v,x-this.barWidth/2]),g.push([v,x+this.barWidth/2])),this._barPoints.push(g),l&&!this._stack){var b=t.extend(!0,{},o);delete b.fillStyle,this.renderer.shadowRenderer.draw(e,g,b)}var w=o.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,g,o)}}if(0==this.highlightColors.length)this.highlightColors=t.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){var u=this.highlightColors;this.highlightColors=[];for(var s=0;s<this._dataColors.length;s++)this.highlightColors.push(u)}},t.jqplot.BarRenderer.prototype.drawShadow=function(t,e,n,r){var a,s,o,l,h=n!=undefined?n:{},u=(h.shadow!=undefined?h.shadow:this.shadow,h.showLine!=undefined?h.showLine:this.showLine);h.fill!=undefined?h.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;if(this._stack&&this.shadow){null==this.barWidth&&this.renderer.setBarWidth.call(this);var c=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);if(c[0],o=c[1],l=c[2],this._stack?this._barNudge=0:this._barNudge=(-Math.abs(o/2-.5)+l)*(this.barWidth+this.barPadding),u)if("vertical"==this.barDirection){for(var a=0;a<e.length;a++)if(null!=this.data[a][1]){s=[];var d,g=e[a][0]+this._barNudge;d=this._stack&&this._prevGridData.length?i(this.index,a,this._plotData[a][1],r,"y"):this.fillToZero?this._yaxis.series_u2p(0):t.canvas.height,s.push([g-this.barWidth/2,d]),s.push([g-this.barWidth/2,e[a][1]]),s.push([g+this.barWidth/2,e[a][1]]),s.push([g+this.barWidth/2,d]),this.renderer.shadowRenderer.draw(t,s,h)}}else if("horizontal"==this.barDirection)for(var a=0;a<e.length;a++)if(null!=this.data[a][0]){s=[];var f,g=e[a][1]-this._barNudge;f=this._stack&&this._prevGridData.length?i(this.index,a,this._plotData[a][0],r,"x"):this.fillToZero?this._xaxis.series_u2p(0):0,s.push([f,g+this.barWidth/2]),s.push([e[a][0],g+this.barWidth/2]),
s.push([e[a][0],g-this.barWidth/2]),s.push([f,g-this.barWidth/2]),this.renderer.shadowRenderer.draw(t,s,h)}}}}(jQuery),function(t){function e(t){return Math.sin((t-(t-Math.PI)/8/Math.PI)/2)}function i(t,i,n,r,a){var s=0,o=i-t,l=Math.abs(o),h=n;return 0==r&&(h+=a),h>0&&l>.01&&l<6.282&&(s=parseFloat(h)/2/e(o)),s}function n(e,i,n){n=n||{},n.axesDefaults=n.axesDefaults||{},n.legend=n.legend||{},n.seriesDefaults=n.seriesDefaults||{};var r=!1;if(n.seriesDefaults.renderer==t.jqplot.PieRenderer)r=!0;else if(n.series)for(var a=0;a<n.series.length;a++)n.series[a].renderer==t.jqplot.PieRenderer&&(r=!0);r&&(n.axesDefaults.renderer=t.jqplot.PieAxisRenderer,n.legend.renderer=t.jqplot.PieLegendRenderer,n.legend.preDraw=!0,n.seriesDefaults.pointLabels={show:!1})}function r(){for(var e=0;e<this.series.length;e++)this.series[e].renderer.constructor==t.jqplot.PieRenderer&&this.series[e].highlightMouseOver&&(this.series[e].highlightMouseDown=!1)}function a(){for(var e=0;e<this.series.length;e++)this.series[e].seriesColors=this.seriesColors,this.series[e].colorGenerator=t.jqplot.colorGenerator}function s(t,e,i){var n=t.series[e],r=t.plugins.pieRenderer.highlightCanvas;r._ctx.clearRect(0,0,r._ctx.canvas.width,r._ctx.canvas.height),n._highlightedPoint=i,t.plugins.pieRenderer.highlightedSeriesIndex=e,n.renderer.drawSlice.call(n,r._ctx,n._sliceAngles[i][0],n._sliceAngles[i][1],n.highlightColorGenerator.get(i),!1)}function o(t){var e=t.plugins.pieRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.pieRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight")}function l(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],l=jQuery.Event("jqplotDataMouseOver");if(l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a),r.series[a[0]].highlightMouseOver&&(a[0]!=r.plugins.pieRenderer.highlightedSeriesIndex||a[1]!=r.series[a[0]]._highlightedPoint)){var h=jQuery.Event("jqplotDataHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY,r.target.trigger(h,a),s(r,a[0],a[1])}}else null==n&&o(r)}function h(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data];if(r.series[a[0]].highlightMouseDown&&(a[0]!=r.plugins.pieRenderer.highlightedSeriesIndex||a[1]!=r.series[a[0]]._highlightedPoint)){var l=jQuery.Event("jqplotDataHighlight");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a),s(r,a[0],a[1])}}else null==n&&o(r)}function u(t,e,i,n,r){var a=r.plugins.pieRenderer.highlightedSeriesIndex;null!=a&&r.series[a].highlightMouseDown&&o(r)}function c(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataClick");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,a)}}function d(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],s=r.plugins.pieRenderer.highlightedSeriesIndex;null!=s&&r.series[s].highlightMouseDown&&o(r);var l=jQuery.Event("jqplotDataRightClick");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a)}}function g(){this.plugins.pieRenderer&&this.plugins.pieRenderer.highlightCanvas&&(this.plugins.pieRenderer.highlightCanvas.resetCanvas(),this.plugins.pieRenderer.highlightCanvas=null),this.plugins.pieRenderer={highlightedSeriesIndex:null},this.plugins.pieRenderer.highlightCanvas=new t.jqplot.GenericCanvas;var e=t(this.targetId+" .jqplot-data-label");e.length?t(e[0]).before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",this._plotDimensions,this)):this.eventCanvas._elem.before(this.plugins.pieRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pieRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.pieRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(t){o(t.data.plot)})}t.jqplot.PieRenderer=function(){t.jqplot.LineRenderer.call(this)},t.jqplot.PieRenderer.prototype=new t.jqplot.LineRenderer,t.jqplot.PieRenderer.prototype.constructor=t.jqplot.PieRenderer,t.jqplot.PieRenderer.prototype.init=function(e,i){if(this.diameter=null,this.padding=20,this.sliceMargin=0,this.fill=!0,this.shadowOffset=2,this.shadowAlpha=.07,this.shadowDepth=5,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.dataLabels="percent",this.showDataLabels=!1,this.dataLabelFormatString=null,this.dataLabelThreshold=3,this.dataLabelPositionFactor=.52,this.dataLabelNudge=2,this.dataLabelCenterOn=!0,this.startAngle=0,this.tickRenderer=t.jqplot.PieTickRenderer,this._drawData=!0,this._type="pie",e.highlightMouseDown&&null==e.highlightMouseOver&&(e.highlightMouseOver=!1),t.extend(!0,this,e),this.sliceMargin<0&&(this.sliceMargin=0),this._diameter=null,this._radius=null,this._sliceAngles=[],this._highlightedPoint=null,0==this.highlightColors.length)for(var n=0;n<this.seriesColors.length;n++){for(var s=t.jqplot.getColorComponents(this.seriesColors[n]),o=[s[0],s[1],s[2]],f=o[0]+o[1]+o[2],p=0;p<3;p++)o[p]=f>570?.8*o[p]:o[p]+.3*(255-o[p]),o[p]=parseInt(o[p],10);this.highlightColors.push("rgb("+o[0]+","+o[1]+","+o[2]+")")}this.highlightColorGenerator=new t.jqplot.ColorGenerator(this.highlightColors),i.postParseOptionsHooks.addOnce(a),i.postInitHooks.addOnce(r),i.eventListenerHooks.addOnce("jqplotMouseMove",l),i.eventListenerHooks.addOnce("jqplotMouseDown",h),i.eventListenerHooks.addOnce("jqplotMouseUp",u),i.eventListenerHooks.addOnce("jqplotClick",c),i.eventListenerHooks.addOnce("jqplotRightClick",d),i.postDrawHooks.addOnce(g)},t.jqplot.PieRenderer.prototype.setGridData=function(){var t=[],e=[],i=(this.startAngle,Math.PI,0);this._drawData=!1;for(var n=0;n<this.data.length;n++)0!=this.data[n][1]&&(this._drawData=!0),t.push(this.data[n][1]),e.push([this.data[n][0]]),n>0&&(t[n]+=t[n-1]),i+=this.data[n][1];for(var r=2*Math.PI/t[t.length-1],n=0;n<t.length;n++)e[n][1]=t[n]*r,e[n][2]=this.data[n][1]/i;this.gridData=e},t.jqplot.PieRenderer.prototype.makeGridData=function(t){var e=[],i=[],n=0;this.startAngle,Math.PI;this._drawData=!1;for(var r=0;r<t.length;r++)0!=this.data[r][1]&&(this._drawData=!0),e.push(t[r][1]),i.push([t[r][0]]),r>0&&(e[r]+=e[r-1]),n+=t[r][1];for(var a=2*Math.PI/e[e.length-1],r=0;r<e.length;r++)i[r][1]=e[r]*a,i[r][2]=t[r][1]/n;return i},t.jqplot.PieRenderer.prototype.drawSlice=function(t,e,n,r,a){function s(i){n>6.282+this.startAngle&&(n=6.282+this.startAngle,e>n&&(e=6.281+this.startAngle)),e>=n||(t.beginPath(),t.fillStyle=r,t.strokeStyle=r,t.lineWidth=h,t.arc(0,0,i,e,n,!1),t.lineTo(0,0),t.closePath(),l?t.fill():t.stroke())}if(this._drawData){var o=this._radius,l=this.fill,h=this.lineWidth,u=this.sliceMargin;0==this.fill&&(u+=this.lineWidth),t.save(),t.translate(this._center[0],this._center[1]);var c=i(e,n,this.sliceMargin,this.fill,this.lineWidth),d=c*Math.cos((e+n)/2),g=c*Math.sin((e+n)/2);if(n-e<=Math.PI?o-=c:o+=c,t.translate(d,g),a){for(var f=0,p=this.shadowDepth;f<p;f++)t.save(),t.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),s(o);for(var f=0,p=this.shadowDepth;f<p;f++)t.restore()}else s(o);t.restore()}},t.jqplot.PieRenderer.prototype.draw=function(e,n,r,a){var s,o=r!=undefined?r:{},l=0,h=0,u=1,c=new t.jqplot.ColorGenerator(this.seriesColors);if(r.legendInfo&&"insideGrid"==r.legendInfo.placement){var d=r.legendInfo;switch(d.location){case"nw":case"w":case"sw":l=d.width+d.xoffset;break;case"ne":case"e":case"se":l=d.width+d.xoffset,u=-1;break;case"n":h=d.height+d.yoffset;break;case"s":h=d.height+d.yoffset,u=-1}}var g=(o.shadow!=undefined?o.shadow:this.shadow,o.fill!=undefined?o.fill:this.fill,e.canvas.width),f=e.canvas.height,p=g-l-2*this.padding,m=f-h-2*this.padding,x=Math.min(p,m),v=x;this._sliceAngles=[];var _=this.sliceMargin;0==this.fill&&(_+=this.lineWidth);for(var y,b,w,k,M=0,T=this.startAngle/180*Math.PI,s=0,S=n.length;s<S;s++)b=0==s?T:n[s-1][1]+T,w=n[s][1]+T,this._sliceAngles.push([b,w]),y=i(b,w,this.sliceMargin,this.fill,this.lineWidth),Math.abs(w-b)>Math.PI&&(M=Math.max(y,M));if(null!=this.diameter&&this.diameter>0?this._diameter=this.diameter-2*M:this._diameter=v-2*M,this._diameter<6)return void t.jqplot.log("Diameter of pie too small, not rendering.");this._radius=this._diameter/2;if(this._center=[(g-u*l)/2+u*l+M*Math.cos(T),(f-u*h)/2+u*h+M*Math.sin(T)],this.shadow)for(var s=0,S=n.length;s<S;s++)k="rgba(0,0,0,"+this.shadowAlpha+")",this.renderer.drawSlice.call(this,e,this._sliceAngles[s][0],this._sliceAngles[s][1],k,!0);for(var s=0;s<n.length;s++)if(this.renderer.drawSlice.call(this,e,this._sliceAngles[s][0],this._sliceAngles[s][1],c.next(),!1),this.showDataLabels&&100*n[s][2]>=this.dataLabelThreshold){var D,C,A=(this._sliceAngles[s][0]+this._sliceAngles[s][1])/2;"label"==this.dataLabels?(D=this.dataLabelFormatString||"%s",C=t.jqplot.sprintf(D,n[s][0])):"value"==this.dataLabels?(D=this.dataLabelFormatString||"%d",C=t.jqplot.sprintf(D,this.data[s][1])):"percent"==this.dataLabels?(D=this.dataLabelFormatString||"%d%%",C=t.jqplot.sprintf(D,100*n[s][2])):this.dataLabels.constructor==Array&&(D=this.dataLabelFormatString||"%s",C=t.jqplot.sprintf(D,this.dataLabels[s]));var j=this._radius*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge,q=this._center[0]+Math.cos(A)*j+this.canvas._offsets.left,L=this._center[1]+Math.sin(A)*j+this.canvas._offsets.top,R=t('<div class="jqplot-pie-series jqplot-data-label" style="position:absolute;">'+C+"</div>").insertBefore(a.eventCanvas._elem);this.dataLabelCenterOn?(q-=R.width()/2,L-=R.height()/2):(q-=R.width()*Math.sin(A/2),L-=R.height()/2),q=Math.round(q),L=Math.round(L),R.css({left:q,top:L})}},t.jqplot.PieAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this)},t.jqplot.PieAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.PieAxisRenderer.prototype.constructor=t.jqplot.PieAxisRenderer,t.jqplot.PieAxisRenderer.prototype.init=function(e){this.tickRenderer=t.jqplot.PieTickRenderer,t.extend(!0,this,e),this._dataBounds={min:0,max:100},this.min=0,this.max=100,this.showTicks=!1,this.ticks=[],this.showMark=!1,this.show=!1},t.jqplot.PieLegendRenderer=function(){t.jqplot.TableLegendRenderer.call(this)},t.jqplot.PieLegendRenderer.prototype=new t.jqplot.TableLegendRenderer,t.jqplot.PieLegendRenderer.prototype.constructor=t.jqplot.PieLegendRenderer,t.jqplot.PieLegendRenderer.prototype.init=function(e){this.numberRows=null,this.numberColumns=null,t.extend(!0,this,e)},t.jqplot.PieLegendRenderer.prototype.draw=function(){if(this.show){var e=this._series;this._elem=t(document.createElement("table")),this._elem.addClass("jqplot-table-legend");var i={position:"absolute"};this.background&&(i.background=this.background),this.border&&(i.border=this.border),this.fontSize&&(i.fontSize=this.fontSize),this.fontFamily&&(i.fontFamily=this.fontFamily),this.textColor&&(i.textColor=this.textColor),null!=this.marginTop&&(i.marginTop=this.marginTop),null!=this.marginBottom&&(i.marginBottom=this.marginBottom),null!=this.marginLeft&&(i.marginLeft=this.marginLeft),null!=this.marginRight&&(i.marginRight=this.marginRight),this._elem.css(i);var n,r,a=!1,s=!1,o=e[0],l=new t.jqplot.ColorGenerator(o.seriesColors);if(o.show){var h=o.data;this.numberRows?(n=this.numberRows,r=this.numberColumns?this.numberColumns:Math.ceil(h.length/n)):this.numberColumns?(r=this.numberColumns,n=Math.ceil(h.length/this.numberColumns)):(n=h.length,r=1);var u,c,d,g,f,p,m,x,v,_,y=0;for(u=0;u<n;u++)for(d=t(document.createElement("tr")),d.addClass("jqplot-table-legend"),s?d.prependTo(this._elem):d.appendTo(this._elem),c=0;c<r;c++)y<h.length&&(p=this.labels[y]||h[y][0].toString(),x=l.next(),a=s?u!=n-1:u>0,m=a?this.rowSpacing:"0",g=t(document.createElement("td")),g.addClass("jqplot-table-legend jqplot-table-legend-swatch"),g.css({textAlign:"center",paddingTop:m}),v=t(document.createElement("div")),v.addClass("jqplot-table-legend-swatch-outline"),_=t(document.createElement("div")),_.addClass("jqplot-table-legend-swatch"),_.css({backgroundColor:x,borderColor:x}),g.append(v.append(_)),f=t(document.createElement("td")),f.addClass("jqplot-table-legend jqplot-table-legend-label"),f.css("paddingTop",m),this.escapeHtml?f.text(p):f.html(p),s?(f.prependTo(d),g.prependTo(d)):(g.appendTo(d),f.appendTo(d)),a=!0),y++}}return this._elem},t.jqplot.PieRenderer.prototype.handleMove=function(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data];r.target.trigger("jqplotDataMouseOver",a),!r.series[a[0]].highlightMouseOver||a[0]==r.plugins.pieRenderer.highlightedSeriesIndex&&a[1]==r.series[a[0]]._highlightedPoint||(r.target.trigger("jqplotDataHighlight",a),s(r,a[0],a[1]))}else null==n&&o(r)},t.jqplot.preInitHooks.push(n),t.jqplot.PieTickRenderer=function(){t.jqplot.AxisTickRenderer.call(this)},t.jqplot.PieTickRenderer.prototype=new t.jqplot.AxisTickRenderer,t.jqplot.PieTickRenderer.prototype.constructor=t.jqplot.PieTickRenderer}(jQuery),function(t){t.jqplot.PointLabels=function(e){this.show=t.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=t.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],t.extend(!0,this,e)};var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},i=["se","s","sw","w","nw","n","ne","e"];t.jqplot.PointLabels.init=function(e,i,n,r){var a=t.extend(!0,{},n,r);a.pointLabels=a.pointLabels||{},this.renderer.constructor!==t.jqplot.BarRenderer||"horizontal"!==this.barDirection||a.pointLabels.location||(a.pointLabels.location="e"),this.plugins.pointLabels=new t.jqplot.PointLabels(a.pointLabels),this.plugins.pointLabels.setLabels.call(this)},t.jqplot.PointLabels.prototype.setLabels=function(){var e,i=this.plugins.pointLabels;if(e=null!=i.seriesLabelIndex?i.seriesLabelIndex:this.renderer.constructor===t.jqplot.BarRenderer&&"horizontal"===this.barDirection?0:0===this._plotData.length?0:this._plotData[0].length-1,i._labels=[],0===i.labels.length||i.labelsFromSeries)if(i.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var n=0;n<this._plotData.length;n++)i._labels.push(this._plotData[n][e])}else{var r=this.data;if(this.renderer.constructor===t.jqplot.BarRenderer&&this.waterfall&&(r=this._data),r.length&&r[0].length)for(var n=0;n<r.length;n++)i._labels.push(r[n][e]);r=null}else i.labels.length&&(i._labels=i.labels)},t.jqplot.PointLabels.prototype.xOffset=function(t,e,i){e=e||this.location,i=i||this.xpadding;var n;switch(e){case"nw":n=-t.outerWidth(!0)-this.xpadding;break;case"n":n=-t.outerWidth(!0)/2;break;case"ne":case"e":case"se":n=this.xpadding;break;case"s":n=-t.outerWidth(!0)/2;break;case"sw":case"w":default:n=-t.outerWidth(!0)-this.xpadding}return n},t.jqplot.PointLabels.prototype.yOffset=function(t,e,i){e=e||this.location,i=i||this.xpadding;var n;switch(e){case"nw":case"n":case"ne":n=-t.outerHeight(!0)-this.ypadding;break;case"e":n=-t.outerHeight(!0)/2;break;case"se":case"s":case"sw":n=this.ypadding;break;case"w":n=-t.outerHeight(!0)/2;break;default:n=-t.outerHeight(!0)-this.ypadding}return n},t.jqplot.PointLabels.draw=function(n,r,a){var s=this.plugins.pointLabels;s.setLabels.call(this);for(var o=0;o<s._elems.length;o++)s._elems[o].emptyForce();if(s._elems.splice(0,s._elems.length),s.show){var l="_"+this._stackAxis+"axis";s.formatString||(s.formatString=this[l]._ticks[0].formatString,s.formatter=this[l]._ticks[0].formatter);for(var h,u,c=this._plotData,d=(this._prevPlotData,this._xaxis),g=this._yaxis,o=0,f=s._labels.length;o<f;o++){var p=s._labels[o];s.hideZeros&&0==parseInt(s._labels[o],10)&&(p=""),null!=p&&(p=s.formatter(s.formatString,p)),u=document.createElement("div"),s._elems[o]=t(u),h=s._elems[o],h.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+o),h.css("position","absolute"),h.insertAfter(n.canvas),s.escapeHTML?h.text(p):h.html(p);var m=s.location;(this.fillToZero&&c[o][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&c[o][0]<0||(this.waterfall&&parseInt(p,10))<0)&&(m=i[e[m]]);var x=d.u2p(c[o][0])+s.xOffset(h,m),v=g.u2p(c[o][1])+s.yOffset(h,m);this._stack&&!s.stackedValue&&("vertical"===this.barDirection?v=(this._barPoints[o][0][1]+this._barPoints[o][1][1])/2+a._gridPadding.top-.5*h.outerHeight(!0):x=(this._barPoints[o][2][0]+this._barPoints[o][0][0])/2+a._gridPadding.left-.5*h.outerWidth(!0)),this.renderer.constructor==t.jqplot.BarRenderer&&("vertical"==this.barDirection?x+=this._barNudge:v-=this._barNudge),h.css("left",x),h.css("top",v);var _=x+h.width(),y=v+h.height(),b=s.edgeTolerance,w=t(n.canvas).position().left,k=t(n.canvas).position().top,M=n.canvas.width+w,T=n.canvas.height+k;(x-b<w||v-b<k||_+b>M||y+b>T)&&h.remove(),h=null,u=null}}},t.jqplot.postSeriesInitHooks.push(t.jqplot.PointLabels.init),t.jqplot.postDrawSeriesHooks.push(t.jqplot.PointLabels.draw)}(jQuery),function(t){t.jqplot.CategoryAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},t.jqplot.CategoryAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.constructor=t.jqplot.CategoryAxisRenderer,t.jqplot.CategoryAxisRenderer.prototype.init=function(e){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,this.reverse=!1,t.extend(!0,this,{tickOptions:{formatString:"%d"}},e);for(var i=this._dataBounds,n=0;n<this._series.length;n++){var r=this._series[n];r.groups&&(this.groups=r.groups);for(var a=r.data,s=0;s<a.length;s++)"xaxis"==this.name||"x2axis"==this.name?((a[s][0]<i.min||null==i.min)&&(i.min=a[s][0]),(a[s][0]>i.max||null==i.max)&&(i.max=a[s][0])):((a[s][1]<i.min||null==i.min)&&(i.min=a[s][1]),(a[s][1]>i.max||null==i.max)&&(i.max=a[s][1]))}this.groupLabels.length&&(this.groups=this.groupLabels.length)},t.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){var e,i,n,r,a,s=(this._ticks,this.ticks),o=this.name;this._dataBounds;if(s.length){if(this.groups>1&&!this._grouped){for(var l=s.length,h=parseInt(l/this.groups,10),u=0,a=h;a<l;a+=h)s.splice(a+u,0," "),u++;this._grouped=!0}this.min=.5,this.max=s.length+.5;var c=this.max-this.min;for(this.numberTicks=2*s.length+1,a=0;a<s.length;a++){r=this.min+2*a*c/(this.numberTicks-1);var d=new this.tickRenderer(this.tickOptions);d.showLabel=!1,d.setTick(r,this.name),this._ticks.push(d);var d=new this.tickRenderer(this.tickOptions);d.label=s[a],d.showMark=!1,d.showGridline=!1,d.setTick(r+.5,this.name),this._ticks.push(d)}var d=new this.tickRenderer(this.tickOptions);d.showLabel=!1,d.setTick(r+1,this.name),this._ticks.push(d)}else{e="xaxis"==o||"x2axis"==o?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.min&&null!=this.max&&null!=this.tickInterval&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);for(var n,g,f=[],p=0,i=.5,m=!1,a=0;a<this._series.length;a++)for(var x=this._series[a],v=0;v<x.data.length;v++)g="xaxis"==this.name||"x2axis"==this.name?x.data[v][0]:x.data[v][1],-1==t.inArray(g,f)&&(m=!0,p+=1,f.push(g));m&&this.sortMergedLabels&&f.sort(function(t,e){return t-e}),this.ticks=f;for(var a=0;a<this._series.length;a++)for(var x=this._series[a],v=0;v<x.data.length;v++){g="xaxis"==this.name||"x2axis"==this.name?x.data[v][0]:x.data[v][1];var _=t.inArray(g,f)+1;"xaxis"==this.name||"x2axis"==this.name?x.data[v][0]=_:x.data[v][1]=_}if(this.groups>1&&!this._grouped){for(var l=f.length,h=parseInt(l/this.groups,10),u=0,a=h;a<l;a+=h+1)f[a]=" ";this._grouped=!0}n=p+.5,null==this.numberTicks&&(this.numberTicks=2*p+1);var c=n-i;this.min=i,this.max=n;var y=0,b=parseInt(3+e/10,10),h=parseInt(p/b,10);null==this.tickInterval&&(this.tickInterval=c/(this.numberTicks-1));for(var a=0;a<this.numberTicks;a++){r=this.min+a*this.tickInterval;var d=new this.tickRenderer(this.tickOptions);a/2==parseInt(a/2,10)?(d.showLabel=!1,d.showMark=!0):(h>0&&y<h?(d.showLabel=!1,y+=1):(d.showLabel=!0,y=0),d.label=d.formatter(d.formatString,f[(a-1)/2]),d.showMark=!1,d.showGridline=!1),d.setTick(r,this.name),this._ticks.push(d)}}},t.jqplot.CategoryAxisRenderer.prototype.draw=function(e,i){if(this.show){this.renderer.createTicks.call(this);if(this._elem&&this._elem.emptyForce(),this._elem=this._elem||t('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var n=this._label.draw(e,i);n.appendTo(this._elem)}for(var r=this._ticks,a=0;a<r.length;a++){var s=r[a];if(s.showLabel&&(!s.isMinorTick||this.showMinorTicks)){var n=s.draw(e,i);n.appendTo(this._elem)}}this._groupLabels=[];for(var a=0;a<this.groupLabels.length;a++){var n=t('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>');n.html(this.groupLabels[a]),this._groupLabels.push(n),n.appendTo(this._elem)}}return this._elem},t.jqplot.CategoryAxisRenderer.prototype.set=function(){var e,i=0,n=0,r=0,a=null!=this._label&&this._label.show;if(this.show){for(var s=this._ticks,o=0;o<s.length;o++){var l=s[o];!l.showLabel||l.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?l._elem.outerHeight(!0):l._elem.outerWidth(!0))>i&&(i=e)}for(var h=0,o=0;o<this._groupLabels.length;o++){var u=this._groupLabels[o];e="xaxis"==this.name||"x2axis"==this.name?u.outerHeight(!0):u.outerWidth(!0),e>h&&(h=e)}a&&(n=this._label._elem.outerWidth(!0),r=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(i+=h+r,this._elem.css({height:i+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(i+=h+r,this._elem.css({height:i+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(i+=h+n,this._elem.css({width:i+"px",left:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px")):(i+=h+n,this._elem.css({width:i+"px",right:"0px",top:"0px"}),a&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px"))}},t.jqplot.CategoryAxisRenderer.prototype.pack=function(e,i){var n,r=this._ticks,a=this.max,s=this.min,o=i.max,l=i.min,h=null!=this._label&&this._label.show;for(var u in e)this._elem.css(u,e[u]);this._offsets=i;var c=o-l,d=a-s;if(this.reverse?(this.u2p=function(t){return l+(a-t)*c/d},this.p2u=function(t){return s+(t-l)*d/c},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(a-t)*c/d},this.series_p2u=function(t){return t*d/c+a}):(this.series_u2p=function(t){return(s-t)*c/d},this.series_p2u=function(t){return t*d/c+s})):(this.u2p=function(t){return(t-s)*c/d+l},this.p2u=function(t){return(t-l)*d/c+s},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-s)*c/d},this.series_p2u=function(t){return t*d/c+s}):(this.series_u2p=function(t){return(t-a)*c/d},this.series_p2u=function(t){return t*d/c+a})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(n=0;n<r.length;n++){var g=r[n];if(g.show&&g.showLabel){var f;if(g.constructor==t.jqplot.CanvasAxisTickRenderer&&g.angle){var p="xaxis"==this.name?1:-1;switch(g.labelPosition){case"auto":f=p*g.angle<0?-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2:-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"end":f=-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2;break;case"start":f=-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"middle":default:f=-g.getWidth()/2+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2}}else f=-g.getWidth()/2;var m=this.u2p(g.value)+f+"px";g._elem.css("left",m),g.pack()}}var x=["bottom",0];if(h){var v=this._label._elem.outerWidth(!0);this._label._elem.css("left",l+c/2-v/2+"px"),"xaxis"==this.name?(this._label._elem.css("bottom","0px"),x=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),x=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var _=parseInt(this._ticks.length/this.groups,10);for(n=0;n<this._groupLabels.length;n++){for(var y=0,b=0,w=n*_;w<=(n+1)*_;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var g=this._ticks[w]._elem,u=g.position();y+=u.left+g.outerWidth(!0)/2,b++}y/=b,this._groupLabels[n].css({left:y-this._groupLabels[n].outerWidth(!0)/2}),this._groupLabels[n].css(x[0],x[1])}}else{for(n=0;n<r.length;n++){var g=r[n];if(g.show&&g.showLabel){var f;if(g.constructor==t.jqplot.CanvasAxisTickRenderer&&g.angle){var p="yaxis"==this.name?1:-1;switch(g.labelPosition){case"auto":case"end":f=p*g.angle<0?-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"start":f=g.angle>0?-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"middle":default:f=-g.getHeight()/2}}else f=-g.getHeight()/2;var m=this.u2p(g.value)+f+"px";g._elem.css("top",m),g.pack()}}var x=["left",0];if(h){var k=this._label._elem.outerHeight(!0);this._label._elem.css("top",o-c/2-k/2+"px"),"yaxis"==this.name?(this._label._elem.css("left","0px"),x=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),x=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}var _=parseInt(this._ticks.length/this.groups,10);for(n=0;n<this._groupLabels.length;n++){for(var y=0,b=0,w=n*_;w<=(n+1)*_;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var g=this._ticks[w]._elem,u=g.position();y+=u.top+g.outerHeight()/2,b++}y/=b,this._groupLabels[n].css({top:y-this._groupLabels[n].outerHeight()/2}),this._groupLabels[n].css(x[0],x[1])}}}}(jQuery),function(t){function e(t,e,i){for(var n,r,a,s=Number.MAX_VALUE,o=0,l=u.length;o<l;o++)(n=Math.abs(i-u[o]))<s&&(s=n,r=u[o],a=h[o]);return[r,a]}t.jqplot.DateAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this),this.date=new t.jsDate};var i=1e3,n=60*i,r=60*n,a=24*r,s=7*a,o=30.4368499*a,l=365.242199*a,h=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],u=[.1*i,.2*i,.5*i,i,2*i,5*i,10*i,15*i,30*i,n,2*n,5*n,10*n,15*n,30*n,r,2*r,4*r,6*r,8*r,12*r,a,2*a,3*a,4*a,5*a,s,2*s];t.jqplot.DateAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.DateAxisRenderer.prototype.constructor=t.jqplot.DateAxisRenderer,t.jqplot.DateTickFormatter=function(e,i){return e||(e="%Y/%m/%d"),t.jsDate.strftime(i,e)},t.jqplot.DateAxisRenderer.prototype.init=function(e){this.tickOptions.formatter=t.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,t.extend(!0,this,e);for(var i,n,r,a,s,o,l,h=this._dataBounds,u=0;u<this._series.length;u++){i={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},n=0,r=this._series[u],a=r.data,s=r._plotData,o=r._stackData,l=0;for(var c=0;c<a.length;c++)"xaxis"==this.name||"x2axis"==this.name?(a[c][0]=new t.jsDate(a[c][0]).getTime(),s[c][0]=new t.jsDate(a[c][0]).getTime(),o[c][0]=new t.jsDate(a[c][0]).getTime(),(null!=a[c][0]&&a[c][0]<h.min||null==h.min)&&(h.min=a[c][0]),(null!=a[c][0]&&a[c][0]>h.max||null==h.max)&&(h.max=a[c][0]),c>0&&(l=Math.abs(a[c][0]-a[c-1][0]),i.intervals.push(l),i.frequencies.hasOwnProperty(l)?i.frequencies[l]+=1:i.frequencies[l]=1),n+=l):(a[c][1]=new t.jsDate(a[c][1]).getTime(),s[c][1]=new t.jsDate(a[c][1]).getTime(),o[c][1]=new t.jsDate(a[c][1]).getTime(),(null!=a[c][1]&&a[c][1]<h.min||null==h.min)&&(h.min=a[c][1]),(null!=a[c][1]&&a[c][1]>h.max||null==h.max)&&(h.max=a[c][1]),c>0&&(l=Math.abs(a[c][1]-a[c-1][1]),i.intervals.push(l),i.frequencies.hasOwnProperty(l)?i.frequencies[l]+=1:i.frequencies[l]=1)),n+=l;if(r.renderer.bands){if(r.renderer.bands.hiData.length)for(var d=r.renderer.bands.hiData,c=0,g=d.length;c<g;c++)"xaxis"===this.name||"x2axis"===this.name?(d[c][0]=new t.jsDate(d[c][0]).getTime(),(null!=d[c][0]&&d[c][0]>h.max||null==h.max)&&(h.max=d[c][0])):(d[c][1]=new t.jsDate(d[c][1]).getTime(),(null!=d[c][1]&&d[c][1]>h.max||null==h.max)&&(h.max=d[c][1]));if(r.renderer.bands.lowData.length)for(var d=r.renderer.bands.lowData,c=0,g=d.length;c<g;c++)"xaxis"===this.name||"x2axis"===this.name?(d[c][0]=new t.jsDate(d[c][0]).getTime(),(null!=d[c][0]&&d[c][0]<h.min||null==h.min)&&(h.min=d[c][0])):(d[c][1]=new t.jsDate(d[c][1]).getTime(),(null!=d[c][1]&&d[c][1]<h.min||null==h.min)&&(h.min=d[c][1]))}for(var f in i.frequencies)i.sortedIntervals.push({interval:f,frequency:i.frequencies[f]});i.sortedIntervals.sort(function(t,e){return e.frequency-t.frequency}),i.min=t.jqplot.arrayMin(i.intervals),i.max=t.jqplot.arrayMax(i.intervals),i.mean=n/a.length,this._intervalStats.push(i),i=n=r=a=s=o=null}h=null},t.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},t.jqplot.DateAxisRenderer.prototype.createTicks=function(i){var n,r,s,h,u=(this._ticks,this.ticks),c=this.name,d=this._dataBounds,g=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),f=30,p=1;this.tickInterval;n=null!=this.min?new t.jsDate(this.min).getTime():d.min,r=null!=this.max?new t.jsDate(this.max).getTime():d.max;var m=i.plugins.cursor;m&&m._zoom&&m._zoom.zooming&&(this.min=null,this.max=null);var x=r-n;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),u.length){for(h=0;h<u.length;h++){var v=u[h],_=new this.tickRenderer(this.tickOptions);v.constructor==Array?(_.value=new t.jsDate(v[0]).getTime(),_.label=v[1],this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),_.setTick(_.value,this.name),this._ticks.push(_)):(_.value=new t.jsDate(v).getTime(),this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),_.setTick(_.value,this.name),this._ticks.push(_))}this.numberTicks=u.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&d.min==d.max){var y=t.extend(!0,{},this.tickOptions,{name:this.name,value:null}),b=3e5;this.min=d.min-b,this.max=d.max+b,this.numberTicks=3;for(var h=this.min;h<=this.max;h+=b){y.value=h;var _=new this.tickRenderer(y);this._overrideFormatString&&""!=this._autoFormatString&&(_.formatString=this._autoFormatString),_.showLabel=!1,_.showMark=!1,this._ticks.push(_)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var w,k,M=t.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks)this.tickInterval?k=this.tickInterval:this.numberTicks&&(w=this.numberTicks,k=(r-n)/(w-1));else{var T=Math.max(g,f+1),S=115;this.tickRenderer===t.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(S=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),w=Math.ceil((T-f)/S+1),k=(r-n)/(w-1)}if(k<=19*a){var D=e(n,r,k),C=D[0];this._autoFormatString=D[1],n=Math.floor(n/C)*C,n=new t.jsDate(n),n=n.getTime()+n.getUtcOffset(),w=Math.ceil((r-n)/C)+1,this.min=n,this.max=n+(w-1)*C,this.max<r&&(this.max+=C,w+=1),this.tickInterval=C,this.numberTicks=w;for(var h=0;h<w;h++)M.value=this.min+h*C,_=new this.tickRenderer(M),this._overrideFormatString&&""!=this._autoFormatString&&(_.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),this._ticks.push(_);p=this.tickInterval}else if(k<=9*o){this._autoFormatString="%v";var A=Math.round(k/o);A<1?A=1:A>6&&(A=6);var j=new t.jsDate(n).setDate(1).setHours(0,0,0,0),q=new t.jsDate(r),L=new t.jsDate(r).setDate(1).setHours(0,0,0,0);q.getTime()!==L.getTime()&&(L=L.add(1,"month"));var R=L.diff(j,"month");w=Math.ceil(R/A)+1,this.min=j.getTime(),this.max=j.clone().add((w-1)*A,"month").getTime(),this.numberTicks=w;for(var h=0;h<w;h++)M.value=0===h?j.getTime():j.add(A,"month").getTime(),_=new this.tickRenderer(M),this._overrideFormatString&&""!=this._autoFormatString&&(_.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),this._ticks.push(_);p=A*o
}else{this._autoFormatString="%v";var A=Math.round(k/l);A<1&&(A=1);var j=new t.jsDate(n).setMonth(0,1).setHours(0,0,0,0),L=new t.jsDate(r).add(1,"year").setMonth(0,1).setHours(0,0,0,0),I=L.diff(j,"year");w=Math.ceil(I/A)+1,this.min=j.getTime(),this.max=j.clone().add((w-1)*A,"year").getTime(),this.numberTicks=w;for(var h=0;h<w;h++)M.value=0===h?j.getTime():j.add(A,"year").getTime(),_=new this.tickRenderer(M),this._overrideFormatString&&""!=this._autoFormatString&&(_.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),this._ticks.push(_);p=A*l}}else{if(g="xaxis"==c||"x2axis"==c?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval)if(Number(this.tickInterval))this.daTickInterval=[Number(this.tickInterval),"seconds"];else if("string"==typeof this.tickInterval){var E=this.tickInterval.split(" ");1==E.length?this.daTickInterval=[1,E[0]]:2==E.length&&(this.daTickInterval=[E[0],E[1]])}if(n==r){var F=432e5;n-=F,r+=F}x=r-n;var P,O;parseInt(Math.max(0,g-100)/100,10);if(P=null!=this.min?new t.jsDate(this.min).getTime():n-x/2*(this.padMin-1),O=null!=this.max?new t.jsDate(this.max).getTime():r+x/2*(this.padMax-1),this.min=P,this.max=O,x=this.max-this.min,null==this.numberTicks)if(null!=this.daTickInterval){var H=new t.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(H/this.daTickInterval[0])+1,this.max=new t.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else this.numberTicks=g>200?parseInt(3+(g-200)/100,10):2;p=x/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[p,"seconds"]);for(var h=0;h<this.numberTicks;h++){var n=new t.jsDate(this.min);s=n.add(h*this.daTickInterval[0],this.daTickInterval[1]).getTime();var _=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(_.showMark=!1):(_.showLabel=!1,_.showMark=!1),_.setTick(s,this.name),this._ticks.push(_)}}this.tickInset&&(this.min=this.min-this.tickInset*p,this.max=this.max+this.tickInset*p),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}}(jQuery),function(){function t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function e(t){return null!=t&&!isNaN(t)}function i(t){return{left:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);n<r;){var a=n+r>>>1;t(e[a],i)<0?n=a+1:r=a}return n},right:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);n<r;){var a=n+r>>>1;t(e[a],i)>0?r=a:n=a+1}return n}}}function n(t){return t.length}function r(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){try{for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}catch(i){t.prototype=e}}function s(){}function o(t){return ns+t in this}function l(t){return(t=ns+t)in this&&delete this[t]}function h(){var t=[];return this.forEach(function(e){t.push(e)}),t}function u(){var t=0;for(var e in this)e.charCodeAt(0)===rs&&++t;return t}function c(){for(var t in this)if(t.charCodeAt(0)===rs)return!1;return!0}function d(){}function g(t,e,i){return function(){var n=i.apply(e,arguments);return n===e?t:n}}function f(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var i=0,n=as.length;i<n;++i){var r=as[i]+e;if(r in t)return r}}function p(){}function m(){}function x(t){function e(){for(var e,n=i,r=-1,a=n.length;++r<a;)(e=n[r].on)&&e.apply(this,arguments);return t}var i=[],n=new s;return e.on=function(e,r){var a,s=n.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,i=i.slice(0,a=i.indexOf(s)).concat(i.slice(a+1)),n.remove(e)),r&&i.push(n.set(e,{on:r})),t)},e}function v(){Wa.event.preventDefault()}function _(){for(var t,e=Wa.event;t=e.sourceEvent;)e=t;return e}function y(t){for(var e=new m,i=0,n=arguments.length;++i<n;)e[arguments[i]]=x(e);return e.of=function(i,n){return function(r){try{var a=r.sourceEvent=Wa.event;r.target=t,Wa.event=r,e[r.type].apply(i,n)}finally{Wa.event=a}}},e}function b(t){return os(t,ds),t}function w(t){return"function"==typeof t?t:function(){return ls(t,this)}}function k(t){return"function"==typeof t?t:function(){return hs(t,this)}}function M(t,e){function i(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function s(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function o(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=Wa.ns.qualify(t),null==e?t.local?n:i:"function"==typeof e?t.local?o:s:t.local?a:r}function T(t){return t.trim().replace(/\s+/g," ")}function S(t){return new RegExp("(?:^|\\s+)"+Wa.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function C(t,e){function i(){for(var i=-1;++i<r;)t[i](this,e)}function n(){for(var i=-1,n=e.apply(this,arguments);++i<r;)t[i](this,n)}t=D(t).map(A);var r=t.length;return"function"==typeof e?n:i}function A(t){var e=S(t);return function(i,n){if(r=i.classList)return n?r.add(t):r.remove(t);var r=i.getAttribute("class")||"";n?(e.lastIndex=0,e.test(r)||i.setAttribute("class",T(r+" "+t))):i.setAttribute("class",T(r.replace(e," ")))}}function j(t,e,i){function n(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,i)}function a(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}return null==e?n:"function"==typeof e?a:r}function q(t,e){function i(){delete this[t]}function n(){this[t]=e}function r(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?r:n}function L(t){return"function"==typeof t?t:(t=Wa.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function R(t){return{__data__:t}}function I(t){return function(){return cs(this,t)}}function E(e){return arguments.length||(e=t),function(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}}function F(t,e){for(var i=0,n=t.length;i<n;i++)for(var r,a=t[i],s=0,o=a.length;s<o;s++)(r=a[s])&&e(r,s,i);return t}function P(t){return os(t,fs),t}function O(t){var e,i;return function(n,r,a){var s,o=t[a].update,l=o.length;for(a!=i&&(i=a,e=0),r>=e&&(e=r+1);!(s=o[e])&&++e<l;);return s}}function H(){var t=this.__transition__;t&&++t.active}function N(t,e,i){function n(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,Ga(arguments));n.call(this),this.addEventListener(t,this[s]=r,r.$=i),r._=e}function a(){var e,i=new RegExp("^__on([^.]+)"+Wa.requote(t)+"$");for(var n in this)if(e=n.match(i)){var r=this[n];this.removeEventListener(e[1],r,r.$),delete this[n]}}var s="__on"+t,o=t.indexOf("."),l=z;o>0&&(t=t.substring(0,o));var h=ms.get(t);return h&&(t=h,l=B),o?e?r:n:e?p:a}function z(t,e){return function(i){var n=Wa.event;Wa.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{Wa.event=n}}}function B(t,e){var i=z(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function X(){var t=".dragsuppress-"+ ++vs,e="click"+t,i=Wa.select($a).on("touchmove"+t,v).on("dragstart"+t,v).on("selectstart"+t,v);if(xs){var n=Va.style,r=n[xs];n[xs]="none"}return function(a){function s(){i.on(e,null)}i.on(t,null),xs&&(n[xs]=r),a&&(i.on(e,function(){v(),s()},!0),setTimeout(s,0))}}function W(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();if(_s<0&&($a.scrollX||$a.scrollY)){i=Wa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=i[0][0].getScreenCTM();_s=!(r.f||r.e),i.remove()}return _s?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Y(){return Wa.event.changedTouches[0].identifier}function G(){return Wa.event.target}function U(){return $a}function V(t){return t>0?1:t<0?-1:0}function $(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function J(t){return t>1?0:t<-1?ys:Math.acos(t)}function Z(t){return t>1?ws:t<-1?-ws:Math.asin(t)}function Q(t){return((t=Math.exp(t))-1/t)/2}function K(t){return((t=Math.exp(t))+1/t)/2}function tt(t){return((t=Math.exp(2*t))-1)/(t+1)}function et(t){return(t=Math.sin(t/2))*t}function it(){}function nt(t,e,i){return this instanceof nt?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof nt?new nt(t.h,t.s,t.l):xt(""+t,vt,nt):new nt(t,e,i)}function rt(t,e,i){function n(t){return t>360?t-=360:t<0&&(t+=360),t<60?a+(s-a)*t/60:t<180?s:t<240?a+(s-a)*(240-t)/60:a}function r(t){return Math.round(255*n(t))}var a,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,i=i<0?0:i>1?1:i,s=i<=.5?i*(1+e):i+e-i*e,a=2*i-s,new gt(r(t+120),r(t),r(t-120))}function at(t,e,i){return this instanceof at?(this.h=+t,this.c=+e,void(this.l=+i)):arguments.length<2?t instanceof at?new at(t.h,t.c,t.l):t instanceof ot?ht(t.l,t.a,t.b):ht((t=_t((t=Wa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new at(t,e,i)}function st(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ot(i,Math.cos(t*=Ts)*e,Math.sin(t)*e)}function ot(t,e,i){return this instanceof ot?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof ot?new ot(t.l,t.a,t.b):t instanceof at?st(t.l,t.c,t.h):_t((t=gt(t)).r,t.g,t.b):new ot(t,e,i)}function lt(t,e,i){var n=(t+16)/116,r=n+e/500,a=n-i/200;return r=ut(r)*Fs,n=ut(n)*Ps,a=ut(a)*Os,new gt(dt(3.2404542*r-1.5371385*n-.4985314*a),dt(-.969266*r+1.8760108*n+.041556*a),dt(.0556434*r-.2040259*n+1.0572252*a))}function ht(t,e,i){return t>0?new at(Math.atan2(i,e)*Ss,Math.sqrt(e*e+i*i),t):new at(NaN,NaN,t)}function ut(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ct(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function dt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function gt(t,e,i){return this instanceof gt?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof gt?new gt(t.r,t.g,t.b):xt(""+t,gt,rt):new gt(t,e,i)}function ft(t){return new gt(t>>16,t>>8&255,255&t)}function pt(t){return ft(t)+""}function mt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,i){var n,r,a,s=0,o=0,l=0;if(n=/([a-z]+)\((.*)\)/i.exec(t))switch(r=n[2].split(","),n[1]){case"hsl":return i(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(bt(r[0]),bt(r[1]),bt(r[2]))}return(a=zs.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.substring(1),16))||(4===t.length?(s=(3840&a)>>4,s|=s>>4,o=240&a,o|=o>>4,l=15&a,l|=l<<4):7===t.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,l=255&a)),e(s,o,l))}function vt(t,e,i){var n,r,a=Math.min(t/=255,e/=255,i/=255),s=Math.max(t,e,i),o=s-a,l=(s+a)/2;return o?(r=l<.5?o/(s+a):o/(2-s-a),n=t==s?(e-i)/o+(e<i?6:0):e==s?(i-t)/o+2:(t-e)/o+4,n*=60):(n=NaN,r=l>0&&l<1?0:n),new nt(n,r,l)}function _t(t,e,i){t=yt(t),e=yt(e),i=yt(i);var n=ct((.4124564*t+.3575761*e+.1804375*i)/Fs),r=ct((.2126729*t+.7151522*e+.072175*i)/Ps);return ot(116*r-16,500*(n-r),200*(r-ct((.0193339*t+.119192*e+.9503041*i)/Os)))}function yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function wt(t){return"function"==typeof t?t:function(){return t}}function kt(t){return t}function Mt(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),Tt(e,i,t,n)}}function Tt(t,e,i,n){function r(){var t,e=l.status;if(!e&&l.responseText||e>=200&&e<300||304===e){try{t=i.call(a,l)}catch(t){return void s.error.call(a,t)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=Wa.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,h=null;return!$a.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=Wa.event;Wa.event=t;try{s.progress.call(a,l)}finally{Wa.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?o[t]:(null==e?delete o[t]:o[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(h=t,a):h},a.response=function(t){return i=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(Ga(arguments)))}}),a.send=function(i,n,r){if(2===arguments.length&&"function"==typeof n&&(r=n,n=null),l.open(i,t,!0),null==e||"accept"in o||(o.accept=e+",*/*"),l.setRequestHeader)for(var u in o)l.setRequestHeader(u,o[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(a,l),l.send(null==n?null:n),a},a.abort=function(){return l.abort(),a},Wa.rebind(a,s,"on"),null==n?a:a.get(St(n))}function St(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function Dt(){var t=Ct(),e=At()-t;e>24?(isFinite(e)&&(clearTimeout(Ys),Ys=setTimeout(Dt,e)),Ws=0):(Ws=1,Us(Dt))}function Ct(){var t=Date.now();for(Gs=Bs;Gs;)t>=Gs.t&&(Gs.f=Gs.c(t-Gs.t)),Gs=Gs.n;return t}function At(){for(var t,e=Bs,i=Infinity;e;)e.f?e=t?t.n=e.n:Bs=e.n:(e.t<i&&(i=e.t),e=(t=e).n);return Xs=t,i}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function qt(t,e){var i=Math.pow(10,3*is(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Lt(t){var e=t.decimal,i=t.thousands,n=t.grouping,r=t.currency,a=n?function(t){for(var e=t.length,r=[],a=0,s=n[0];e>0&&s>0;)r.push(t.substring(e-=s,e+s)),s=n[a=(a+1)%n.length];return r.reverse().join(i)}:kt;return function(t){var i=$s.exec(t),n=i[1]||" ",s=i[2]||">",o=i[3]||"",l=i[4]||"",h=i[5],u=+i[6],c=i[7],d=i[8],g=i[9],f=1,p="",m="",x=!1;switch(d&&(d=+d.substring(1)),(h||"0"===n&&"="===s)&&(h=n="0",s="=",c&&(u-=Math.floor((u-1)/4))),g){case"n":c=!0,g="g";break;case"%":f=100,m="%",g="f";break;case"p":f=100,m="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+g.toLowerCase());case"c":case"d":x=!0,d=0;break;case"s":f=-1,g="r"}"$"===l&&(p=r[0],m=r[1]),"r"!=g||d||(g="g"),null!=d&&("g"==g?d=Math.max(1,Math.min(21,d)):"e"!=g&&"f"!=g||(d=Math.max(0,Math.min(20,d)))),g=Js.get(g)||Rt;var v=h&&c;return function(t){var i=m;if(x&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):o;if(f<0){var l=Wa.formatPrefix(t,d);t=l.scale(t),i=l.symbol+m}else t*=f;t=g(t,d);var _=t.lastIndexOf("."),y=_<0?t:t.substring(0,_),b=_<0?"":e+t.substring(_+1);!h&&c&&(y=a(y));var w=p.length+y.length+b.length+(v?0:r.length),k=w<u?new Array(w=u-w+1).join(n):"";return v&&(y=a(k+y)),r+=p,t=y+b,("<"===s?r+t+k:">"===s?k+r+t:"^"===s?k.substring(0,w>>=1)+r+t+k.substring(w):r+(v?t:k+t))+i}}}function Rt(t){return t+""}function It(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Et(t,e,i){function n(e){var i=t(e),n=a(i,1);return e-i<n-e?i:n}function r(i){return e(i=t(new Qs(i-1)),1),i}function a(t,i){return e(t=new Qs(+t),i),t}function s(t,n,a){var s=r(t),o=[];if(a>1)for(;s<n;)i(s)%a||o.push(new Date(+s)),e(s,1);else for(;s<n;)o.push(new Date(+s)),e(s,1);return o}function o(t,e,i){try{Qs=It;var n=new It;return n._=t,s(n,e,i)}finally{Qs=Date}}t.floor=t,t.round=n,t.ceil=r,t.offset=a,t.range=s;var l=t.utc=Ft(t);return l.floor=l,l.round=Ft(n),l.ceil=Ft(r),l.offset=Ft(a),l.range=o,t}function Ft(t){return function(e,i){try{Qs=It;var n=new It;return n._=e,t(n,i)._}finally{Qs=Date}}}function Pt(t){function e(t){function e(e){for(var i,r,a,s=[],o=-1,l=0;++o<n;)37===t.charCodeAt(o)&&(s.push(t.substring(l,o)),null!=(r=to[i=t.charAt(++o)])&&(i=t.charAt(++o)),(a=C[i])&&(i=a(e,null==r?"e"===i?" ":"0":r)),s.push(i),l=o+1);return s.push(t.substring(l,o)),s.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Qs!==It,a=new(r?It:Qs);return"j"in n?a.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),r?a._:a},e.toString=function(){return t},e}function i(t,e,i,n){for(var r,a,s,o=0,l=e.length,h=i.length;o<l;){if(n>=h)return-1;if(37===(r=e.charCodeAt(o++))){if(s=e.charAt(o++),!(a=A[s in to?e.charAt(o++):s])||(n=a(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}function n(t,e,i){w.lastIndex=0;var n=w.exec(e.substring(i));return n?(t.w=k.get(n[0].toLowerCase()),i+n[0].length):-1}function r(t,e,i){y.lastIndex=0;var n=y.exec(e.substring(i));return n?(t.w=b.get(n[0].toLowerCase()),i+n[0].length):-1}function a(t,e,i){S.lastIndex=0;var n=S.exec(e.substring(i));return n?(t.m=D.get(n[0].toLowerCase()),i+n[0].length):-1}function s(t,e,i){M.lastIndex=0;var n=M.exec(e.substring(i));return n?(t.m=T.get(n[0].toLowerCase()),i+n[0].length):-1}function o(t,e,n){return i(t,C.c.toString(),e,n)}function l(t,e,n){return i(t,C.x.toString(),e,n)}function h(t,e,n){return i(t,C.X.toString(),e,n)}function u(t,e,i){var n=_.get(e.substring(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)}var c=t.dateTime,d=t.date,g=t.time,f=t.periods,p=t.days,m=t.shortDays,x=t.months,v=t.shortMonths;e.utc=function(t){function i(t){try{Qs=It;var e=new Qs;return e._=t,n(e)}finally{Qs=Date}}var n=e(t);return i.parse=function(t){try{Qs=It;var e=n.parse(t);return e&&e._}finally{Qs=Date}},i.toString=n.toString,i},e.multi=e.utc.multi=ne;var _=Wa.map(),y=Ht(p),b=Nt(p),w=Ht(m),k=Nt(m),M=Ht(x),T=Nt(x),S=Ht(v),D=Nt(v);f.forEach(function(t,e){_.set(t.toLowerCase(),e)});var C={a:function(t){return m[t.getDay()]},A:function(t){return p[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return x[t.getMonth()]},c:e(c),d:function(t,e){return Ot(t.getDate(),e,2)},e:function(t,e){return Ot(t.getDate(),e,2)},H:function(t,e){return Ot(t.getHours(),e,2)},I:function(t,e){return Ot(t.getHours()%12||12,e,2)},j:function(t,e){return Ot(1+Zs.dayOfYear(t),e,3)},L:function(t,e){return Ot(t.getMilliseconds(),e,3)},m:function(t,e){return Ot(t.getMonth()+1,e,2)},M:function(t,e){return Ot(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Ot(t.getSeconds(),e,2)},U:function(t,e){return Ot(Zs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ot(Zs.mondayOfYear(t),e,2)},x:e(d),X:e(g),y:function(t,e){return Ot(t.getFullYear()%100,e,2)},Y:function(t,e){return Ot(t.getFullYear()%1e4,e,4)},Z:ee,"%":function(){return"%"}},A={a:n,A:r,b:a,B:s,c:o,d:$t,e:$t,H:Zt,I:Zt,j:Jt,L:te,m:Vt,M:Qt,p:u,S:Kt,U:Bt,w:zt,W:Xt,x:l,X:h,y:Yt,Y:Wt,Z:Gt,"%":ie};return e}function Ot(t,e,i){var n=t<0?"-":"",r=(n?-t:t)+"",a=r.length;return n+(a<i?new Array(i-a+1).join(e)+r:r)}function Ht(t){return new RegExp("^(?:"+t.map(Wa.requote).join("|")+")","i")}function Nt(t){for(var e=new s,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function zt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Bt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i));return n?(t.U=+n[0],i+n[0].length):-1}function Xt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i));return n?(t.W=+n[0],i+n[0].length):-1}function Wt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function Yt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.y=Ut(+n[0]),i+n[0].length):-1}function Gt(t,e,i){return/^[+-]\d{4}$/.test(e=e.substring(i,i+5))?(t.Z=-e,i+5):-1}function Ut(t){return t+(t>68?1900:2e3)}function Vt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function $t(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function Jt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function Zt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function Qt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function Kt(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function te(t,e,i){eo.lastIndex=0;var n=eo.exec(e.substring(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function ee(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",n=~~(is(e)/60),r=is(e)%60;return i+Ot(n,"0",2)+Ot(r,"0",2)}function ie(t,e,i){io.lastIndex=0;var n=io.exec(e.substring(i,i+1));return n?i+n[0].length:-1}function ne(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,n=t[i];!n[1](e);)n=t[++i];return n[0](e)}}function re(){}function ae(t,e,i){var n=i.s=t+e,r=n-t,a=n-r;i.t=t-a+(e-r)}function se(t,e){t&&so.hasOwnProperty(t.type)&&so[t.type](t,e)}function oe(t,e,i){var n,r=-1,a=t.length-i;for(e.lineStart();++r<a;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function le(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)oe(t[i],e,1);e.polygonEnd()}function he(){function t(t,e){t*=Ts,e=e*Ts/2+ys/4;var i=t-n,s=i>=0?1:-1,o=s*i,l=Math.cos(e),h=Math.sin(e),u=a*h,c=r*l+u*Math.cos(o),d=u*s*Math.sin(o);lo.add(Math.atan2(d,c)),n=t,r=l,a=h}var e,i,n,r,a;ho.point=function(s,o){ho.point=t,n=(e=s)*Ts,r=Math.cos(o=(i=o)*Ts/2+ys/4),a=Math.sin(o)},ho.lineEnd=function(){t(e,i)}}function ue(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function ce(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function de(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ge(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function fe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function pe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function me(t){return[Math.atan2(t[1],t[0]),Z(t[2])]}function xe(t,e){return is(t[0]-e[0])<ks&&is(t[1]-e[1])<ks}function ve(t,e){t*=Ts;var i=Math.cos(e*=Ts);_e(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function _e(t,e,i){++uo,go+=(t-go)/uo,fo+=(e-fo)/uo,po+=(i-po)/uo}function ye(){function t(t,r){t*=Ts;var a=Math.cos(r*=Ts),s=a*Math.cos(t),o=a*Math.sin(t),l=Math.sin(r),h=Math.atan2(Math.sqrt((h=i*l-n*o)*h+(h=n*s-e*l)*h+(h=e*o-i*s)*h),e*s+i*o+n*l);co+=h,mo+=h*(e+(e=s)),xo+=h*(i+(i=o)),vo+=h*(n+(n=l)),_e(e,i,n)}var e,i,n;wo.point=function(r,a){r*=Ts;var s=Math.cos(a*=Ts);e=s*Math.cos(r),i=s*Math.sin(r),n=Math.sin(a),wo.point=t,_e(e,i,n)}}function be(){wo.point=ve}function we(){function t(t,e){t*=Ts;var i=Math.cos(e*=Ts),s=i*Math.cos(t),o=i*Math.sin(t),l=Math.sin(e),h=r*l-a*o,u=a*s-n*l,c=n*o-r*s,d=Math.sqrt(h*h+u*u+c*c),g=n*s+r*o+a*l,f=d&&-J(g)/d,p=Math.atan2(d,g);_o+=f*h,yo+=f*u,bo+=f*c,co+=p,mo+=p*(n+(n=s)),xo+=p*(r+(r=o)),vo+=p*(a+(a=l)),_e(n,r,a)}var e,i,n,r,a;wo.point=function(s,o){e=s,i=o,wo.point=t,s*=Ts;var l=Math.cos(o*=Ts);n=l*Math.cos(s),r=l*Math.sin(s),a=Math.sin(o),_e(n,r,a)},wo.lineEnd=function(){t(e,i),wo.lineEnd=be,wo.point=ve}}function ke(){return!0}function Me(t,e,i,n,r){var a=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(xe(i,n)){r.lineStart();for(var o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}var l=new Se(i,t,null,!0),h=new Se(i,null,l,!1);l.o=h,a.push(l),s.push(h),l=new Se(n,t,null,!1),h=new Se(n,null,l,!0),l.o=h,a.push(l),s.push(h)}}),s.sort(e),Te(a),Te(s),a.length){for(var o=0,l=i,h=s.length;o<h;++o)s[o].e=l=!l;for(var u,c,d=a[0];;){for(var g=d,f=!0;g.v;)if((g=g.n)===d)return;u=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(f)for(var o=0,h=u.length;o<h;++o)r.point((c=u[o])[0],c[1]);else n(g.x,g.n.x,1,r);g=g.n}else{if(f){u=g.p.z;for(var o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1])}else n(g.x,g.p.x,-1,r);g=g.p}g=g.o,u=g.z,f=!f}while(!g.v);r.lineEnd()}}}function Te(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Se(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function De(t,e,i,n){return function(r,a){function s(e,i){var n=r(e,i);t(e=n[0],i=n[1])&&a.point(e,i)}function o(t,e){var i=r(t,e);m.point(i[0],i[1])}function l(){v.point=o,m.lineStart()}function h(){v.point=s,m.lineEnd()}function u(t,e){p.push([t,e]);var i=r(t,e);y.point(i[0],i[1])}function c(){y.lineStart(),p=[]}function d(){u(p[0][0],p[0][1]),y.lineEnd();var t,e=y.clean(),i=_.buffer(),n=i.length;if(p.pop(),f.push(p),p=null,n)if(1&e){t=i[0];var r,n=t.length-1,s=-1;if(n>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++s<n;)a.point((r=t[s])[0],r[1]);a.lineEnd()}}else n>1&&2&e&&i.push(i.pop().concat(i.shift())),g.push(i.filter(Ce))}var g,f,p,m=e(a),x=r.invert(n[0],n[1]),v={point:s,lineStart:l,lineEnd:h,polygonStart:function(){v.point=u,v.lineStart=c,v.lineEnd=d,g=[],f=[]},polygonEnd:function(){v.point=s,v.lineStart=l,v.lineEnd=h,g=Wa.merge(g);var t=qe(x,f);g.length?(b||(a.polygonStart(),b=!0),Me(g,je,t,i,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),g=f=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}},_=Ae(),y=e(_),b=!1;return v}}function Ce(t){return t.length>1}function Ae(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:p,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function je(t,e){return((t=t.x)[0]<0?t[1]-ws-ks:ws-t[1])-((e=e.x)[0]<0?e[1]-ws-ks:ws-e[1])}function qe(t,e){var i=t[0],n=t[1],r=[Math.sin(i),-Math.cos(i),0],a=0,s=0;lo.reset();for(var o=0,l=e.length;o<l;++o){var h=e[o],u=h.length;if(u)for(var c=h[0],d=c[0],g=c[1]/2+ys/4,f=Math.sin(g),p=Math.cos(g),m=1;;){m===u&&(m=0),t=h[m];var x=t[0],v=t[1]/2+ys/4,_=Math.sin(v),y=Math.cos(v),b=x-d,w=b>=0?1:-1,k=w*b,M=k>ys,T=f*_;if(lo.add(Math.atan2(T*w*Math.sin(k),p*y+T*Math.cos(k))),a+=M?b+w*bs:b,M^d>=i^x>=i){var S=de(ue(c),ue(t));pe(S);var D=de(r,S);pe(D);var C=(M^b>=0?-1:1)*Z(D[2]);(n>C||n===C&&(S[0]||S[1]))&&(s+=M^b>=0?1:-1)}if(!m++)break;d=x,f=_,p=y,c=t}}return(a<-ks||a<ks&&lo<0)^1&s}function Le(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var o=a>0?ys:-ys,l=is(a-i);is(l-ys)<ks?(t.point(i,n=(n+s)/2>0?ws:-ws),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),e=0):r!==o&&l>=ys&&(is(i-r)<ks&&(i-=r*ks),is(a-o)<ks&&(a-=o*ks),n=Re(i,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),e=0),t.point(i=a,n=s),r=o},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function Re(t,e,i,n){var r,a,s=Math.sin(t-i);return is(s)>ks?Math.atan((Math.sin(e)*(a=Math.cos(n))*Math.sin(i)-Math.sin(n)*(r=Math.cos(e))*Math.sin(t))/(r*a*s)):(e+n)/2}function Ie(t,e,i,n){var r;if(null==t)r=i*ws,n.point(-ys,r),n.point(0,r),n.point(ys,r),n.point(ys,0),n.point(ys,-r),n.point(0,-r),n.point(-ys,-r),n.point(-ys,0),n.point(-ys,r);else if(is(t[0]-e[0])>ks){var a=t[0]<e[0]?ys:-ys;r=i*a/2,n.point(-a,r),n.point(0,r),n.point(a,r)}else n.point(e[0],e[1])}function Ee(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function i(t){var i,a,l,h,u;return{lineStart:function(){h=l=!1,u=1},point:function(c,d){var g,f=[c,d],p=e(c,d),m=s?p?0:r(c,d):p?r(c+(c<0?ys:-ys),d):0;if(!i&&(h=l=p)&&t.lineStart(),p!==l&&(g=n(i,f),(xe(i,g)||xe(f,g))&&(f[0]+=ks,f[1]+=ks,p=e(f[0],f[1]))),p!==l)u=0,p?(t.lineStart(),g=n(f,i),t.point(g[0],g[1])):(g=n(i,f),t.point(g[0],g[1]),t.lineEnd()),i=g;else if(o&&i&&s^p){var x;m&a||!(x=n(f,i,!0))||(u=0,s?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!p||i&&xe(i,f)||t.point(f[0],f[1]),i=f,l=p,a=m},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return u|(h&&l)<<1}}}function n(t,e,i){var n=ue(t),r=ue(e),s=[1,0,0],o=de(n,r),l=ce(o,o),h=o[0],u=l-h*h;if(!u)return!i&&t;var c=a*l/u,d=-a*h/u,g=de(s,o),f=fe(s,c);ge(f,fe(o,d));var p=g,m=ce(f,p),x=ce(p,p),v=m*m-x*(ce(f,f)-1);if(!(v<0)){var _=Math.sqrt(v),y=fe(p,(-m-_)/x);if(ge(y,f),y=me(y),!i)return y;var b,w=t[0],k=e[0],M=t[1],T=e[1];k<w&&(b=w,w=k,k=b);var S=k-w,D=is(S-ys)<ks,C=D||S<ks;if(!D&&T<M&&(b=M,M=T,T=b),C?D?M+T>0^y[1]<(is(y[0]-w)<ks?M:T):M<=y[1]&&y[1]<=T:S>ys^(w<=y[0]&&y[0]<=k)){var A=fe(p,(-m+_)/x);return ge(A,f),[y,me(A)]}}}function r(e,i){var n=s?t:ys-t,r=0;return e<-n?r|=1:e>n&&(r|=2),i<-n?r|=4:i>n&&(r|=8),r}var a=Math.cos(t),s=a>0,o=is(a)>ks;return De(e,i,hi(t,6*Ts),s?[0,-t]:[-ys,t-ys])}function Fe(t,e,i,n){return function(r){var a,s=r.a,o=r.b,l=s.x,h=s.y,u=o.x,c=o.y,d=0,g=1,f=u-l,p=c-h;if(a=t-l,f||!(a>0)){if(a/=f,f<0){if(a<d)return;a<g&&(g=a)}else if(f>0){if(a>g)return;a>d&&(d=a)}if(a=i-l,f||!(a<0)){if(a/=f,f<0){if(a>g)return;a>d&&(d=a)}else if(f>0){if(a<d)return;a<g&&(g=a)}if(a=e-h,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<g&&(g=a)}else if(p>0){if(a>g)return;a>d&&(d=a)}if(a=n-h,p||!(a<0)){if(a/=p,p<0){if(a>g)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<g&&(g=a)}return d>0&&(r.a={x:l+d*f,y:h+d*p}),g<1&&(r.b={x:l+g*f,y:h+g*p}),r}}}}}}function Pe(t,e,i,n){function r(n,r){return is(n[0]-t)<ks?r>0?0:3:is(n[0]-i)<ks?r>0?2:1:is(n[1]-e)<ks?r>0?1:0:r>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var i=r(t,1),n=r(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(o){function l(t){for(var e=0,i=m.length,n=t[1],r=0;r<i;++r)for(var a,s=1,o=m[r],l=o.length,h=o[0];s<l;++s)a=o[s],h[1]<=n?a[1]>n&&$(h,a,t)>0&&++e:a[1]<=n&&$(h,a,t)<0&&--e,h=a;return 0!==e}function h(a,o,l,h){var u=0,c=0;if(null==a||(u=r(a,l))!==(c=r(o,l))||s(a,o)<0^l>0){do{h.point(0===u||3===u?t:i,u>1?n:e)}while((u=(u+l+4)%4)!==c)}else h.point(o[0],o[1])}function u(r,a){return t<=r&&r<=i&&e<=a&&a<=n}function c(t,e){u(t,e)&&o.point(t,e)}function d(){A.point=f,m&&m.push(x=[]),M=!0,k=!1,b=w=NaN}function g(){p&&(f(v,_),y&&k&&D.rejoin(),p.push(D.buffer())),A.point=c,k&&o.lineEnd()}function f(t,e){t=Math.max(-Mo,Math.min(Mo,t)),e=Math.max(-Mo,Math.min(Mo,e));var i=u(t,e);if(m&&x.push([t,e]),M)v=t,_=e,y=i,M=!1,i&&(o.lineStart(),o.point(t,e));else if(i&&k)o.point(t,e);else{var n={a:{x:b,y:w},b:{x:t,y:e}};C(n)?(k||(o.lineStart(),o.point(n.a.x,n.a.y)),o.point(n.b.x,n.b.y),i||o.lineEnd(),T=!1):i&&(o.lineStart(),o.point(t,e),T=!1)}b=t,w=e,k=i}var p,m,x,v,_,y,b,w,k,M,T,S=o,D=Ae(),C=Fe(t,e,i,n),A={point:c,lineStart:d,lineEnd:g,polygonStart:function(){o=D,p=[],m=[],T=!0},polygonEnd:function(){o=S,p=Wa.merge(p);var e=l([t,n]),i=T&&e,r=p.length;(i||r)&&(o.polygonStart(),i&&(o.lineStart(),h(null,null,1,o),o.lineEnd()),r&&Me(p,a,e,h,o),o.polygonEnd()),p=m=x=null}};return A}}function Oe(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i}function He(t){var e=0,i=ys/3,n=ei(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*ys/180,i=t[1]*ys/180):[e/ys*180,i/ys*180]},r}function Ne(t,e){function i(t,e){var i=Math.sqrt(a-2*r*Math.sin(e))/r;return[i*Math.sin(t*=r),s-i*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,a=1+n*(2*r-n),s=Math.sqrt(a)/r;return i.invert=function(t,e){var i=s-e;return[Math.atan2(t,i)/r,Z((a-(t*t+i*i)*r*r)/(2*r))]},i}function ze(){function t(t,e){So+=r*t-n*e,n=t,r=e}var e,i,n,r;qo.point=function(a,s){qo.point=t,e=n=a,i=r=s},qo.lineEnd=function(){t(e,i)}}function Be(t,e){t<Do&&(Do=t),t>Ao&&(Ao=t),e<Co&&(Co=e),e>jo&&(jo=e)}function Xe(){function t(t,e){s.push("M",t,",",e,a)}function e(t,e){s.push("M",t,",",e),o.point=i}function i(t,e){s.push("L",t,",",e)}function n(){o.point=t}function r(){s.push("Z")}var a=We(4.5),s=[],o={point:t,lineStart:function(){o.point=e},lineEnd:n,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=n,o.point=t},pointRadius:function(t){return a=We(t),o},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return o}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ye(t,e){go+=t,fo+=e,++po}function Ge(){function t(t,n){var r=t-e,a=n-i,s=Math.sqrt(r*r+a*a);mo+=s*(e+t)/2,xo+=s*(i+n)/2,vo+=s,Ye(e=t,i=n)}var e,i;Ro.point=function(n,r){Ro.point=t,Ye(e=n,i=r)}}function Ue(){Ro.point=Ye}function Ve(){function t(t,e){var i=t-n,a=e-r,s=Math.sqrt(i*i+a*a);mo+=s*(n+t)/2,xo+=s*(r+e)/2,vo+=s,s=r*t-n*e,_o+=s*(n+t),yo+=s*(r+e),bo+=3*s,Ye(n=t,r=e)}var e,i,n,r;Ro.point=function(a,s){Ro.point=t,Ye(e=n=a,i=r=s)},Ro.lineEnd=function(){t(e,i)}}function $e(t){
function e(e,i){t.moveTo(e,i),t.arc(e,i,s,0,bs)}function i(e,i){t.moveTo(e,i),o.point=n}function n(e,i){t.lineTo(e,i)}function r(){o.point=e}function a(){t.closePath()}var s=4.5,o={point:e,lineStart:function(){o.point=i},lineEnd:r,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=r,o.point=e},pointRadius:function(t){return s=t,o},result:p};return o}function Je(t){function e(t){return(o?n:i)(t)}function i(e){return Ke(e,function(i,n){i=t(i,n),e.point(i[0],i[1])})}function n(e){function i(i,n){i=t(i,n),e.point(i[0],i[1])}function n(){_=NaN,M.point=a,e.lineStart()}function a(i,n){var a=ue([i,n]),s=t(i,n);r(_,y,v,b,w,k,_=s[0],y=s[1],v=i,b=a[0],w=a[1],k=a[2],o,e),e.point(_,y)}function s(){M.point=i,e.lineEnd()}function l(){n(),M.point=h,M.lineEnd=u}function h(t,e){a(c=t,d=e),g=_,f=y,p=b,m=w,x=k,M.point=a}function u(){r(_,y,v,b,w,k,g,f,c,p,m,x,o,e),M.lineEnd=s,s()}var c,d,g,f,p,m,x,v,_,y,b,w,k,M={point:i,lineStart:n,lineEnd:s,polygonStart:function(){e.polygonStart(),M.lineStart=l},polygonEnd:function(){e.polygonEnd(),M.lineStart=n}};return M}function r(e,i,n,o,l,h,u,c,d,g,f,p,m,x){var v=u-e,_=c-i,y=v*v+_*_;if(y>4*a&&m--){var b=o+g,w=l+f,k=h+p,M=Math.sqrt(b*b+w*w+k*k),T=Math.asin(k/=M),S=is(is(k)-1)<ks||is(n-d)<ks?(n+d)/2:Math.atan2(w,b),D=t(S,T),C=D[0],A=D[1],j=C-e,q=A-i,L=_*j-v*q;(L*L/y>a||is((v*j+_*q)/y-.5)>.3||o*g+l*f+h*p<s)&&(r(e,i,n,o,l,h,C,A,S,b/=M,w/=M,k,m,x),x.point(C,A),r(C,A,S,b,w,k,u,c,d,g,f,p,m,x))}}var a=.5,s=Math.cos(30*Ts),o=16;return e.precision=function(t){return arguments.length?(o=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function Ze(t){var e=Je(function(e,i){return t([e*Ss,i*Ss])});return function(t){return ii(e(t))}}function Qe(t){this.stream=t}function Ke(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ti(t){return ei(function(){return t})()}function ei(t){function e(t){return t=o(t[0]*Ts,t[1]*Ts),[t[0]*d+l,h-t[1]*d]}function i(t){return(t=o.invert((t[0]-l)/d,(h-t[1])/d))&&[t[0]*Ss,t[1]*Ss]}function n(){o=Oe(s=ai(x,v,_),a);var t=a(p,m);return l=g-t[0]*d,h=f+t[1]*d,r()}function r(){return u&&(u.valid=!1,u=null),e}var a,s,o,l,h,u,c=Je(function(t,e){return t=a(t,e),[t[0]*d+l,h-t[1]*d]}),d=150,g=480,f=250,p=0,m=0,x=0,v=0,_=0,y=ko,b=kt,w=null,k=null;return e.stream=function(t){return u&&(u.valid=!1),u=ii(y(s,c(b(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(y=null==t?(w=t,ko):Ee((w=+t)*Ts),r()):w},e.clipExtent=function(t){return arguments.length?(k=t,b=t?Pe(t[0][0],t[0][1],t[1][0],t[1][1]):kt,r()):k},e.scale=function(t){return arguments.length?(d=+t,n()):d},e.translate=function(t){return arguments.length?(g=+t[0],f=+t[1],n()):[g,f]},e.center=function(t){return arguments.length?(p=t[0]%360*Ts,m=t[1]%360*Ts,n()):[p*Ss,m*Ss]},e.rotate=function(t){return arguments.length?(x=t[0]%360*Ts,v=t[1]%360*Ts,_=t.length>2?t[2]%360*Ts:0,n()):[x*Ss,v*Ss,_*Ss]},Wa.rebind(e,c,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&i,n()}}function ii(t){return Ke(t,function(e,i){t.point(e*Ts,i*Ts)})}function ni(t,e){return[t,e]}function ri(t,e){return[t>ys?t-bs:t<-ys?t+bs:t,e]}function ai(t,e,i){return t?e||i?Oe(oi(t),li(e,i)):oi(t):e||i?li(e,i):ri}function si(t){return function(e,i){return e+=t,[e>ys?e-bs:e<-ys?e+bs:e,i]}}function oi(t){var e=si(t);return e.invert=si(-t),e}function li(t,e){function i(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*n+o*r;return[Math.atan2(l*a-u*s,o*n-h*r),Z(u*a+l*s)]}var n=Math.cos(t),r=Math.sin(t),a=Math.cos(e),s=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*a-l*s;return[Math.atan2(l*a+h*s,o*n+u*r),Z(u*n-o*r)]},i}function hi(t,e){var i=Math.cos(t),n=Math.sin(t);return function(r,a,s,o){var l=s*e;null!=r?(r=ui(i,r),a=ui(i,a),(s>0?r<a:r>a)&&(r+=s*bs)):(r=t+s*bs,a=t-.5*l);for(var h,u=r;s>0?u>a:u<a;u-=l)o.point((h=me([i,-n*Math.cos(u),-n*Math.sin(u)]))[0],h[1])}}function ui(t,e){var i=ue(e);i[0]-=t,pe(i);var n=J(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-ks)%(2*Math.PI)}function ci(t,e,i){var n=Wa.range(t,e-ks,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function di(t,e,i){var n=Wa.range(t,e-ks,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function gi(t){return t.source}function fi(t){return t.target}function pi(t,e,i,n){var r=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),l=r*Math.cos(t),h=r*Math.sin(t),u=s*Math.cos(i),c=s*Math.sin(i),d=2*Math.asin(Math.sqrt(et(n-e)+r*s*et(i-t))),g=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*g,i=Math.sin(d-t)*g,n=i*l+e*u,r=i*h+e*c,s=i*a+e*o;return[Math.atan2(r,n)*Ss,Math.atan2(s,Math.sqrt(n*n+r*r))*Ss]}:function(){return[t*Ss,e*Ss]};return f.distance=d,f}function mi(){function t(t,r){var a=Math.sin(r*=Ts),s=Math.cos(r),o=is((t*=Ts)-e),l=Math.cos(o);Io+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=n*a-i*s*l)*o),i*a+n*s*l),e=t,i=a,n=s}var e,i,n;Eo.point=function(r,a){e=r*Ts,i=Math.sin(a*=Ts),n=Math.cos(a),Eo.point=t},Eo.lineEnd=function(){Eo.point=Eo.lineEnd=p}}function xi(t,e){function i(e,i){var n=Math.cos(e),r=Math.cos(i),a=t(n*r);return[a*r*Math.sin(e),a*Math.sin(i)]}return i.invert=function(t,i){var n=Math.sqrt(t*t+i*i),r=e(n),a=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*a,n*s),Math.asin(n&&i*a/n)]},i}function vi(t,e){function i(t,e){s>0?e<-ws+ks&&(e=-ws+ks):e>ws-ks&&(e=ws-ks);var i=s/Math.pow(r(e),a);return[i*Math.sin(a*t),s-i*Math.cos(a*t)]}var n=Math.cos(t),r=function(t){return Math.tan(ys/4+t/2)},a=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),s=n*Math.pow(r(t),a)/a;return a?(i.invert=function(t,e){var i=s-e,n=V(a)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/a,2*Math.atan(Math.pow(s/n,1/a))-ws]},i):yi}function _i(t,e){function i(t,e){var i=a-e;return[i*Math.sin(r*t),a-i*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),a=n/r+t;return is(r)<ks?ni:(i.invert=function(t,e){var i=a-e;return[Math.atan2(t,i)/r,a-V(r)*Math.sqrt(t*t+i*i)]},i)}function yi(t,e){return[t,Math.log(Math.tan(ys/4+e/2))]}function bi(t){var e,i=ti(t),n=i.scale,r=i.translate,a=i.clipExtent;return i.scale=function(){var t=n.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=r.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var s=a.apply(i,arguments);if(s===i){if(e=null==t){var o=ys*n(),l=r();a([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else e&&(s=null);return s},i.clipExtent(null)}function wi(t,e){return[Math.log(Math.tan(ys/4+e/2)),-t]}function ki(t){return t[0]}function Mi(t){return t[1]}function Ti(t){for(var e=t.length,i=[0,1],n=2,r=2;r<e;r++){for(;n>1&&$(t[i[n-2]],t[i[n-1]],t[r])<=0;)--n;i[n++]=r}return i.slice(0,n)}function Si(t,e){return t[0]-e[0]||t[1]-e[1]}function Di(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function Ci(t,e,i,n){var r=t[0],a=i[0],s=e[0]-r,o=n[0]-a,l=t[1],h=i[1],u=e[1]-l,c=n[1]-h,d=(o*(l-h)-c*(r-a))/(c*s-o*u);return[r+d*s,l+d*u]}function Ai(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function ji(){Zi(this),this.edge=this.site=this.circle=null}function qi(t){var e=Uo.pop()||new ji;return e.site=t,e}function Li(t){Bi(t),Wo.remove(t),Uo.push(t),Zi(t)}function Ri(t){var e=t.circle,i=e.x,n=e.cy,r={x:i,y:n},a=t.P,s=t.N,o=[t];Li(t);for(var l=a;l.circle&&is(i-l.circle.x)<ks&&is(n-l.circle.cy)<ks;)a=l.P,o.unshift(l),Li(l),l=a;o.unshift(l),Bi(l);for(var h=s;h.circle&&is(i-h.circle.x)<ks&&is(n-h.circle.cy)<ks;)s=h.N,o.push(h),Li(h),h=s;o.push(h),Bi(h);var u,c=o.length;for(u=1;u<c;++u)h=o[u],l=o[u-1],Vi(h.edge,l.site,h.site,r);l=o[0],h=o[c-1],h.edge=Gi(l.site,h.site,null,r),zi(l),zi(h)}function Ii(t){for(var e,i,n,r,a=t.x,s=t.y,o=Wo._;o;)if((n=Ei(o,s)-a)>ks)o=o.L;else{if(!((r=a-Fi(o,s))>ks)){n>-ks?(e=o.P,i=o):r>-ks?(e=o,i=o.N):e=i=o;break}if(!o.R){e=o;break}o=o.R}var l=qi(t);if(Wo.insert(e,l),e||i){if(e===i)return Bi(e),i=qi(e.site),Wo.insert(l,i),l.edge=i.edge=Gi(e.site,l.site),zi(e),void zi(i);if(!i)return void(l.edge=Gi(e.site,l.site));Bi(e),Bi(i);var h=e.site,u=h.x,c=h.y,d=t.x-u,g=t.y-c,f=i.site,p=f.x-u,m=f.y-c,x=2*(d*m-g*p),v=d*d+g*g,_=p*p+m*m,y={x:(m*v-g*_)/x+u,y:(d*_-p*v)/x+c};Vi(i.edge,h,f,y),l.edge=Gi(h,t,null,y),i.edge=Gi(t,f,null,y),zi(e),zi(i)}}function Ei(t,e){var i=t.site,n=i.x,r=i.y,a=r-e;if(!a)return n;var s=t.P;if(!s)return-Infinity;i=s.site;var o=i.x,l=i.y,h=l-e;if(!h)return o;var u=o-n,c=1/a-1/h,d=u/h;return c?(-d+Math.sqrt(d*d-2*c*(u*u/(-2*h)-l+h/2+r-a/2)))/c+n:(n+o)/2}function Fi(t,e){var i=t.N;if(i)return Ei(i,e);var n=t.site;return n.y===e?n.x:Infinity}function Pi(t){this.site=t,this.edges=[]}function Oi(t){for(var e,i,n,r,a,s,o,l,h,u,c=t[0][0],d=t[1][0],g=t[0][1],f=t[1][1],p=Xo,m=p.length;m--;)if((a=p[m])&&a.prepare())for(o=a.edges,l=o.length,s=0;s<l;)u=o[s].end(),n=u.x,r=u.y,h=o[++s%l].start(),e=h.x,i=h.y,(is(n-e)>ks||is(r-i)>ks)&&(o.splice(s,0,new $i(Ui(a.site,u,is(n-c)<ks&&f-r>ks?{x:c,y:is(e-c)<ks?i:f}:is(r-f)<ks&&d-n>ks?{x:is(i-f)<ks?e:d,y:f}:is(n-d)<ks&&r-g>ks?{x:d,y:is(e-d)<ks?i:g}:is(r-g)<ks&&n-c>ks?{x:is(i-g)<ks?e:c,y:g}:null),a.site,null)),++l)}function Hi(t,e){return e.angle-t.angle}function Ni(){Zi(this),this.x=this.y=this.arc=this.site=this.cy=null}function zi(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,a=i.site;if(n!==a){var s=r.x,o=r.y,l=n.x-s,h=n.y-o,u=a.x-s,c=a.y-o,d=2*(l*c-h*u);if(!(d>=-Ms)){var g=l*l+h*h,f=u*u+c*c,p=(c*g-h*f)/d,m=(l*f-u*g)/d,c=m+o,x=Vo.pop()||new Ni;x.arc=t,x.site=r,x.x=p+s,x.y=c+Math.sqrt(p*p+m*m),x.cy=c,t.circle=x;for(var v=null,_=Go._;_;)if(x.y<_.y||x.y===_.y&&x.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}Go.insert(v,x),v||(Yo=x)}}}}function Bi(t){var e=t.circle;e&&(e.P||(Yo=e.N),Go.remove(e),Vo.push(e),Zi(e),t.circle=null)}function Xi(t){for(var e,i=Bo,n=Fe(t[0][0],t[0][1],t[1][0],t[1][1]),r=i.length;r--;)e=i[r],(!Wi(e,t)||!n(e)||is(e.a.x-e.b.x)<ks&&is(e.a.y-e.b.y)<ks)&&(e.a=e.b=null,i.splice(r,1))}function Wi(t,e){var i=t.b;if(i)return!0;var n,r,a=t.a,s=e[0][0],o=e[1][0],l=e[0][1],h=e[1][1],u=t.l,c=t.r,d=u.x,g=u.y,f=c.x,p=c.y,m=(d+f)/2,x=(g+p)/2;if(p===g){if(m<s||m>=o)return;if(d>f){if(a){if(a.y>=h)return}else a={x:m,y:l};i={x:m,y:h}}else{if(a){if(a.y<l)return}else a={x:m,y:h};i={x:m,y:l}}}else if(n=(d-f)/(p-g),r=x-n*m,n<-1||n>1)if(d>f){if(a){if(a.y>=h)return}else a={x:(l-r)/n,y:l};i={x:(h-r)/n,y:h}}else{if(a){if(a.y<l)return}else a={x:(h-r)/n,y:h};i={x:(l-r)/n,y:l}}else if(g<p){if(a){if(a.x>=o)return}else a={x:s,y:n*s+r};i={x:o,y:n*o+r}}else{if(a){if(a.x<s)return}else a={x:o,y:n*o+r};i={x:s,y:n*s+r}}return t.a=a,t.b=i,!0}function Yi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Gi(t,e,i,n){var r=new Yi(t,e);return Bo.push(r),i&&Vi(r,t,e,i),n&&Vi(r,e,t,n),Xo[t.i].edges.push(new $i(r,t,e)),Xo[e.i].edges.push(new $i(r,e,t)),r}function Ui(t,e,i){var n=new Yi(t,null);return n.a=e,n.b=i,Bo.push(n),n}function Vi(t,e,i,n){t.a||t.b?t.l===i?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=i)}function $i(t,e,i){var n=t.a,r=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(r.x-n.x,n.y-r.y):Math.atan2(n.x-r.x,r.y-n.y)}function Ji(){this._=null}function Zi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Qi(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function Ki(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function tn(t){for(;t.L;)t=t.L;return t}function en(t,e){var i,n,r,a=t.sort(nn).pop();for(Bo=[],Xo=new Array(t.length),Wo=new Ji,Go=new Ji;;)if(r=Yo,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===i&&a.y===n||(Xo[a.i]=new Pi(a),Ii(a),i=a.x,n=a.y),a=t.pop();else{if(!r)break;Ri(r.arc)}e&&(Xi(e),Oi(e));var s={cells:Xo,edges:Bo};return Wo=Go=Bo=Xo=null,s}function nn(t,e){return e.y-t.y||e.x-t.x}function rn(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function an(t){return t.x}function sn(t){return t.y}function on(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ln(t,e,i,n,r,a){if(!t(e,i,n,r,a)){var s=.5*(i+r),o=.5*(n+a),l=e.nodes;l[0]&&ln(t,l[0],i,n,s,o),l[1]&&ln(t,l[1],s,n,r,o),l[2]&&ln(t,l[2],i,o,s,a),l[3]&&ln(t,l[3],s,o,r,a)}}function hn(t,e){t=Wa.rgb(t),e=Wa.rgb(e);var i=t.r,n=t.g,r=t.b,a=e.r-i,s=e.g-n,o=e.b-r;return function(t){return"#"+mt(Math.round(i+a*t))+mt(Math.round(n+s*t))+mt(Math.round(r+o*t))}}function un(t,e){var i,n={},r={};for(i in t)i in e?n[i]=gn(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function cn(t,e){return e-=t=+t,function(i){return t+e*i}}function dn(t,e){var i,n,r,a=Jo.lastIndex=Zo.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(i=Jo.exec(t))&&(n=Zo.exec(e));)(r=n.index)>a&&(r=e.substring(a,r),o[s]?o[s]+=r:o[++s]=r),(i=i[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:cn(i,n)})),a=Zo.lastIndex;return a<e.length&&(r=e.substring(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var i,n=0;n<e;++n)o[(i=l[n]).i]=i.x(t);return o.join("")})}function gn(t,e){for(var i,n=Wa.interpolators.length;--n>=0&&!(i=Wa.interpolators[n](t,e)););return i}function fn(t,e){var i,n=[],r=[],a=t.length,s=e.length,o=Math.min(t.length,e.length);for(i=0;i<o;++i)n.push(gn(t[i],e[i]));for(;i<a;++i)r[i]=t[i];for(;i<s;++i)r[i]=e[i];return function(t){for(i=0;i<o;++i)r[i]=n[i](t);return r}}function pn(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function mn(t){return function(e){return 1-t(1-e)}}function xn(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function vn(t){return t*t}function _n(t){return t*t*t}function yn(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function bn(t){return function(e){return Math.pow(e,t)}}function wn(t){return 1-Math.cos(t*ws)}function kn(t){return Math.pow(2,10*(t-1))}function Mn(t){return 1-Math.sqrt(1-t*t)}function Tn(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/bs*Math.asin(1/t):(t=1,i=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-i)*bs/e)}}function Sn(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Dn(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Cn(t,e){t=Wa.hcl(t),e=Wa.hcl(e);var i=t.h,n=t.c,r=t.l,a=e.h-i,s=e.c-n,o=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.c:n),isNaN(a)?(a=0,i=isNaN(i)?e.h:i):a>180?a-=360:a<-180&&(a+=360),function(t){return st(i+a*t,n+s*t,r+o*t)+""}}function An(t,e){t=Wa.hsl(t),e=Wa.hsl(e);var i=t.h,n=t.s,r=t.l,a=e.h-i,s=e.s-n,o=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.s:n),isNaN(a)?(a=0,i=isNaN(i)?e.h:i):a>180?a-=360:a<-180&&(a+=360),function(t){return rt(i+a*t,n+s*t,r+o*t)+""}}function jn(t,e){t=Wa.lab(t),e=Wa.lab(e);var i=t.l,n=t.a,r=t.b,a=e.l-i,s=e.a-n,o=e.b-r;return function(t){return lt(i+a*t,n+s*t,r+o*t)+""}}function qn(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Ln(t){var e=[t.a,t.b],i=[t.c,t.d],n=In(e),r=Rn(e,i),a=In(En(i,e,-r))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,r*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Ss,this.translate=[t.e,t.f],this.scale=[n,a],this.skew=a?Math.atan2(r,a)*Ss:0}function Rn(t,e){return t[0]*e[0]+t[1]*e[1]}function In(t){var e=Math.sqrt(Rn(t,t));return e&&(t[0]/=e,t[1]/=e),e}function En(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function Fn(t,e){var i,n=[],r=[],a=Wa.transform(t),s=Wa.transform(e),o=a.translate,l=s.translate,h=a.rotate,u=s.rotate,c=a.skew,d=s.skew,g=a.scale,f=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:cn(o[0],l[0])},{i:3,x:cn(o[1],l[1])})):l[0]||l[1]?n.push("translate("+l+")"):n.push(""),h!=u?(h-u>180?u+=360:u-h>180&&(h+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:cn(h,u)})):u&&n.push(n.pop()+"rotate("+u+")"),c!=d?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:cn(c,d)}):d&&n.push(n.pop()+"skewX("+d+")"),g[0]!=f[0]||g[1]!=f[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:cn(g[0],f[0])},{i:i-2,x:cn(g[1],f[1])})):1==f[0]&&1==f[1]||n.push(n.pop()+"scale("+f+")"),i=r.length,function(t){for(var e,a=-1;++a<i;)n[(e=r[a]).i]=e.x(t);return n.join("")}}function Pn(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return(i-t)*e}}function On(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return Math.max(0,Math.min(1,(i-t)*e))}}function Hn(t){for(var e=t.source,i=t.target,n=zn(e,i),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;i!==n;)r.splice(a,0,i),i=i.parent;return r}function Nn(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function zn(t,e){if(t===e)return t;for(var i=Nn(t),n=Nn(e),r=i.pop(),a=n.pop(),s=null;r===a;)s=r,r=i.pop(),a=n.pop();return s}function Bn(t){t.fixed|=2}function Xn(t){t.fixed&=-7}function Wn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Yn(t){t.fixed&=-5}function Gn(t,e,i){var n=0,r=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,o=s.length,l=-1;++l<o;)null!=(a=s[l])&&(Gn(a,e,i),t.charge+=a.charge,n+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*i[t.point.index];t.charge+=t.pointCharge=h,n+=h*t.point.x,r+=h*t.point.y}t.cx=n/t.charge,t.cy=r/t.charge}function Un(t,e){return Wa.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Kn,t}function Vn(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(var n,r;--n>=0;)i.push(r[n])}function $n(t,e){for(var i=[t],n=[];null!=(t=i.pop());)if(n.push(t),(a=t.children)&&(r=a.length))for(var r,a,s=-1;++s<r;)i.push(a[s]);for(;null!=(t=n.pop());)e(t)}function Jn(t){return t.children}function Zn(t){return t.value}function Qn(t,e){return e.value-t.value}function Kn(t){return Wa.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function tr(t){return t.x}function er(t){return t.y}function ir(t,e,i){t.y0=e,t.y=i}function nr(t){return Wa.range(t.length)}function rr(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function ar(t){for(var e,i=1,n=0,r=t[0][1],a=t.length;i<a;++i)(e=t[i][1])>r&&(n=i,r=e);return n}function sr(t){return t.reduce(or,0)}function or(t,e){return t+e[1]}function lr(t,e){return hr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function hr(t,e){for(var i=-1,n=+t[0],r=(t[1]-n)/e,a=[];++i<=e;)a[i]=r*i+n;return a}function ur(t){return[Wa.min(t),Wa.max(t)]}function cr(t,e){return t.value-e.value}function dr(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function gr(t,e){t._pack_next=e,e._pack_prev=t}function fr(t,e){var i=e.x-t.x,n=e.y-t.y,r=t.r+e.r;return.999*r*r>i*i+n*n}function pr(t){function e(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),g=Math.max(t.y+t.r,g)}if((i=t.children)&&(h=i.length)){var i,n,r,a,s,o,l,h,u=Infinity,c=-Infinity,d=Infinity,g=-Infinity;if(i.forEach(mr),n=i[0],n.x=-n.r,n.y=0,e(n),h>1&&(r=i[1],r.x=r.r,r.y=0,e(r),h>2))for(a=i[2],_r(n,r,a),e(a),dr(n,a),n._pack_prev=a,dr(a,r),r=n._pack_next,s=3;s<h;s++){_r(n,r,a=i[s]);var f=0,p=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(fr(o,a)){f=1;break}if(1==f)for(l=n._pack_prev;l!==o._pack_prev&&!fr(l,a);l=l._pack_prev,m++);f?(p<m||p==m&&r.r<n.r?gr(n,r=o):gr(n=l,r),s--):(dr(n,a),r=a,e(a))}var x=(u+c)/2,v=(d+g)/2,_=0;for(s=0;s<h;s++)a=i[s],a.x-=x,a.y-=v,_=Math.max(_,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=_,i.forEach(xr)}}function mr(t){t._pack_next=t._pack_prev=t}function xr(t){delete t._pack_next,delete t._pack_prev}function vr(t,e,i,n){var r=t.children;if(t.x=e+=n*t.x,t.y=i+=n*t.y,t.r*=n,r)for(var a=-1,s=r.length;++a<s;)vr(r[a],e,i,n)}function _r(t,e,i){var n=t.r+i.r,r=e.x-t.x,a=e.y-t.y;if(n&&(r||a)){var s=e.r+i.r,o=r*r+a*a;s*=s,n*=n;var l=.5+(n-s)/(2*o),h=Math.sqrt(Math.max(0,2*s*(n+o)-(n-=o)*n-s*s))/(2*o);i.x=t.x+l*r+h*a,i.y=t.y+l*a-h*r}else i.x=t.x+n,i.y=t.y}function yr(t,e){return t.parent==e.parent?1:2}function br(t){var e=t.children;return e.length?e[0]:t.t}function wr(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function kr(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function Mr(t){for(var e,i=0,n=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=i,e.m+=i,i+=e.s+(n+=e.c)}function Tr(t,e,i){return t.a.parent===e.parent?t.a:i}function Sr(t){return 1+Wa.max(t,function(t){return t.y})}function Dr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Cr(t){var e=t.children;return e&&e.length?Cr(e[0]):t}function Ar(t){var e,i=t.children;return i&&(e=i.length)?Ar(i[e-1]):t}function jr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function qr(t,e){var i=t.x+e[3],n=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(i+=r/2,r=0),a<0&&(n+=a/2,a=0),{x:i,y:n,dx:r,dy:a}}function Lr(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function Rr(t){return t.rangeExtent?t.rangeExtent():Lr(t.range())}function Ir(t,e,i,n){var r=i(t[0],t[1]),a=n(e[0],e[1]);return function(t){return a(r(t))}}function Er(t,e){var i,n=0,r=t.length-1,a=t[n],s=t[r];return s<a&&(i=n,n=r,r=i,i=a,a=s,s=i),t[n]=e.floor(a),t[r]=e.ceil(s),t}function Fr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ll}function Pr(t,e,i,n){var r=[],a=[],s=0,o=Math.min(t.length,e.length)-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=o;)r.push(i(t[s-1],t[s])),a.push(n(e[s-1],e[s]));return function(e){var i=Wa.bisect(t,e,1,o)-1;return a[i](r[i](e))}}function Or(t,e,i,n){function r(){var r=Math.min(t.length,e.length)>2?Pr:Ir,l=n?On:Pn;return s=r(t,e,l,i),o=r(e,t,l,gn),a}function a(t){return s(t)}var s,o;return a.invert=function(t){return o(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(qn)},a.clamp=function(t){return arguments.length?(n=t,r()):n},a.interpolate=function(t){return arguments.length?(i=t,r()):i},a.ticks=function(e){return Br(t,e)},a.tickFormat=function(e,i){return Xr(t,e,i)},a.nice=function(e){return Nr(t,e),r()},a.copy=function(){return Or(t,e,i,n)},r()}function Hr(t,e){return Wa.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Nr(t,e){return Er(t,Fr(zr(t,e)[2]))}function zr(t,e){null==e&&(e=10);var i=Lr(t),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),a=e/n*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function Br(t,e){return Wa.range.apply(Wa,zr(t,e))}function Xr(t,e,i){var n=zr(t,e);if(i){var r=$s.exec(i);if(r.shift(),"s"===r[8]){var a=Wa.formatPrefix(Math.max(is(n[0]),is(n[1])));return r[7]||(r[7]="."+Wr(a.scale(n[2]))),r[8]="f",i=Wa.format(r.join("")),function(t){return i(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Yr(r[8],n)),i=r.join("")}else i=",."+Wr(n[2])+"f";return Wa.format(i)}function Wr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Yr(t,e){var i=Wr(e[2]);return t in hl?Math.abs(i-Wr(Math.max(is(e[0]),is(e[1]))))+ +("e"!==t):i-2*("%"===t)}function Gr(t,e,i,n){function r(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((n=e.map(Number)).map(r)),s):n},s.base=function(i){return arguments.length?(e=+i,t.domain(n.map(r)),s):e},s.nice=function(){var e=Er(n.map(r),i?Math:cl);return t.domain(e),n=e.map(a),s},s.ticks=function(){var t=Lr(n),s=[],o=t[0],l=t[1],h=Math.floor(r(o)),u=Math.ceil(r(l)),c=e%1?2:e;if(isFinite(u-h)){if(i){for(;h<u;h++)for(var d=1;d<c;d++)s.push(a(h)*d);s.push(a(h))}else for(s.push(a(h));h++<u;)for(var d=c-1;d>0;d--)s.push(a(h)*d);for(h=0;s[h]<o;h++);for(u=s.length;s[u-1]>l;u--);s=s.slice(h,u)}return s},s.tickFormat=function(t,e){if(!arguments.length)return ul;arguments.length<2?e=ul:"function"!=typeof e&&(e=Wa.format(e));var n,o=Math.max(.1,t/s.ticks().length),l=i?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/a(l(r(t)+n))<=o?e(t):""}},s.copy=function(){return Gr(t.copy(),e,i,n)},Hr(s,t)}function Ur(t,e,i){function n(e){return t(r(e))}var r=Vr(e),a=Vr(1/e);return n.invert=function(e){return a(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),n):i},n.ticks=function(t){return Br(i,t)},n.tickFormat=function(t,e){return Xr(i,t,e)},n.nice=function(t){return n.domain(Nr(i,t))},n.exponent=function(s){return arguments.length?(r=Vr(e=s),a=Vr(1/e),t.domain(i.map(r)),n):e},n.copy=function(){return Ur(t.copy(),e,i)},Hr(n,t)}function Vr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $r(t,e){function i(i){return a[((r.get(i)||("range"===e.t?r.set(i,t.push(i)):NaN))-1)%a.length]}function n(e,i){return Wa.range(t.length).map(function(t){return e+i*t})}var r,a,o;return i.domain=function(n){if(!arguments.length)return t;t=[],r=new s;for(var a,o=-1,l=n.length;++o<l;)r.has(a=n[o])||r.set(a,t.push(a));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},i):a},i.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],h=r[1],u=(h-l)/(Math.max(1,t.length-1)+s);return a=n(t.length<2?(l+h)/2:l+u*s/2,u),o=0,e={t:"rangePoints",a:arguments},i},i.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=r[1]<r[0],u=r[h-0],c=r[1-h],d=(c-u)/(t.length-s+2*l);return a=n(u+d*l,d),h&&a.reverse(),o=d*(1-s),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=r[1]<r[0],u=r[h-0],c=r[1-h],d=Math.floor((c-u)/(t.length-s+2*l)),g=c-u-(t.length-s)*d;return a=n(u+Math.round(g/2),d),h&&a.reverse(),o=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return o},i.rangeExtent=function(){return Lr(e.a[0])},i.copy=function(){return $r(t,e)},i.domain(t)}function Jr(i,n){function r(){var t=0,e=n.length;for(s=[];++t<e;)s[t-1]=Wa.quantile(i,t/e);return a}function a(t){if(!isNaN(t=+t))return n[Wa.bisect(s,t)]}var s;return a.domain=function(n){return arguments.length?(i=n.filter(e).sort(t),r()):i},a.range=function(t){return arguments.length?(n=t,r()):n},a.quantiles=function(){return s},a.invertExtent=function(t){return t=n.indexOf(t),t<0?[NaN,NaN]:[t>0?s[t-1]:i[0],t<s.length?s[t]:i[i.length-1]]},a.copy=function(){return Jr(i,n)},r()}function Zr(t,e,i){function n(e){return i[Math.max(0,Math.min(s,Math.floor(a*(e-t))))]}function r(){return a=i.length/(e-t),s=i.length-1,n}var a,s;return n.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],r()):[t,e]},n.range=function(t){return arguments.length?(i=t,r()):i},n.invertExtent=function(e){return e=i.indexOf(e),e=e<0?NaN:e/a+t,[e,e+1/a]},n.copy=function(){return Zr(t,e,i)},r()}function Qr(t,e){function i(i){if(i<=i)return e[Wa.bisect(t,i)]}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return Qr(t,e)},i}function Kr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return Br(t,e)},e.tickFormat=function(e,i){return Xr(t,e,i)},e.copy=function(){return Kr(t)},e}function ta(t){return t.innerRadius}function ea(t){return t.outerRadius}function ia(t){return t.startAngle}function na(t){return t.endAngle}function ra(t){function e(e){function s(){h.push("M",a(t(u),o))}for(var l,h=[],u=[],c=-1,d=e.length,g=wt(i),f=wt(n);++c<d;)r.call(this,l=e[c],c)?u.push([+g.call(this,l,c),+f.call(this,l,c)]):u.length&&(s(),u=[]);return u.length&&s(),h.length?h.join(""):null}var i=ki,n=Mi,r=ke,a=aa,s=a.key,o=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=vl.get(t)||aa).key,e):s},e.tension=function(t){return arguments.length?(o=t,e):o},e}function aa(t){return t.join("L")}function sa(t){return aa(t)+"Z"}function oa(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return i>1&&r.push("H",n[0]),r.join("")}function la(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("V",(n=t[e])[1],"H",n[0]);return r.join("")}function ha(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n=t[e])[0],"V",n[1]);return r.join("")}function ua(t,e){return t.length<4?aa(t):t[1]+ga(t.slice(1,t.length-1),fa(t,e))}function ca(t,e){return t.length<3?aa(t):t[0]+ga((t.push(t[0]),t),fa([t[t.length-2]].concat(t,[t[1]]),e))}function da(t,e){return t.length<3?aa(t):t[0]+ga(t,fa(t,e))}function ga(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return aa(t);var i=t.length!=e.length,n="",r=t[0],a=t[1],s=e[0],o=s,l=1;if(i&&(n+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),e.length>1){o=e[1],a=t[l],l++,n+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var h=2;h<e.length;h++,l++)a=t[l],o=e[h],n+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(i){var u=t[l];n+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+u[0]+","+u[1]}return n}function fa(t,e){for(var i,n=[],r=(1-e)/2,a=t[0],s=t[1],o=1,l=t.length;++o<l;)i=a,a=s,s=t[o],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n}function pa(t){if(t.length<3)return aa(t);var e=1,i=t.length,n=t[0],r=n[0],a=n[1],s=[r,r,r,(n=t[1])[0]],o=[a,a,a,n[1]],l=[r,",",a,"L",_a(bl,s),",",_a(bl,o)];for(t.push(t[i-1]);++e<=i;)n=t[e],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),ya(l,s,o);return t.pop(),l.push("L",n),l.join("")}function ma(t){if(t.length<4)return aa(t);for(var e,i=[],n=-1,r=t.length,a=[0],s=[0];++n<3;)e=t[n],a.push(e[0]),s.push(e[1]);for(i.push(_a(bl,a)+","+_a(bl,s)),--n;++n<r;)e=t[n],a.shift(),a.push(e[0]),s.shift(),s.push(e[1]),ya(i,a,s);return i.join("")}function xa(t){for(var e,i,n=-1,r=t.length,a=r+4,s=[],o=[];++n<4;)i=t[n%r],s.push(i[0]),o.push(i[1]);for(e=[_a(bl,s),",",_a(bl,o)],--n;++n<a;)i=t[n%r],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),ya(e,s,o);return e.join("")}function va(t,e){var i=t.length-1;if(i)for(var n,r,a=t[0][0],s=t[0][1],o=t[i][0]-a,l=t[i][1]-s,h=-1;++h<=i;)n=t[h],r=h/i,n[0]=e*n[0]+(1-e)*(a+r*o),n[1]=e*n[1]+(1-e)*(s+r*l);return pa(t)}function _a(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ya(t,e,i){t.push("C",_a(_l,e),",",_a(_l,i),",",_a(yl,e),",",_a(yl,i),",",_a(bl,e),",",_a(bl,i))}function ba(t,e){return(e[1]-t[1])/(e[0]-t[0])}function wa(t){for(var e=0,i=t.length-1,n=[],r=t[0],a=t[1],s=n[0]=ba(r,a);++e<i;)n[e]=(s+(s=ba(r=a,a=t[e+1])))/2;return n[e]=s,n}function ka(t){for(var e,i,n,r,a=[],s=wa(t),o=-1,l=t.length-1;++o<l;)e=ba(t[o],t[o+1]),is(e)<ks?s[o]=s[o+1]=0:(i=s[o]/e,n=s[o+1]/e,(r=i*i+n*n)>9&&(r=3*e/Math.sqrt(r),s[o]=r*i,s[o+1]=r*n));for(o=-1;++o<=l;)r=(t[Math.min(l,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([r||0,s[o]*r||0]);return a}function Ma(t){return t.length<3?aa(t):t[0]+ga(t,ka(t))}function Ta(t){for(var e,i,n,r=-1,a=t.length;++r<a;)e=t[r],i=e[0],n=e[1]+ml,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function Sa(t){function e(e){function l(){p.push("M",o(t(x),c),u,h(t(m.reverse()),c),"Z")}for(var d,g,f,p=[],m=[],x=[],v=-1,_=e.length,y=wt(i),b=wt(r),w=i===n?function(){return g}:wt(n),k=r===a?function(){return f}:wt(a);++v<_;)s.call(this,d=e[v],v)?(m.push([g=+y.call(this,d,v),f=+b.call(this,d,v)]),x.push([+w.call(this,d,v),+k.call(this,d,v)])):m.length&&(l(),m=[],x=[]);return m.length&&l(),p.length?p.join(""):null}var i=ki,n=ki,r=0,a=Mi,s=ke,o=aa,l=o.key,h=o,u="L",c=.7;return e.x=function(t){return arguments.length?(i=n=t,e):n},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?o=t:(o=vl.get(t)||aa).key,h=o.reverse||o,u=o.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(c=t,e):c},e}function Da(t){return t.radius}function Ca(t){return[t.x,t.y]}function Aa(t){return function(){var e=t.apply(this,arguments),i=e[0],n=e[1]+ml;return[i*Math.cos(n),i*Math.sin(n)]}}function ja(){return 64}function qa(){return"circle"}function La(t){var e=Math.sqrt(t/ys);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ra(t,e){return os(t,Dl),t.id=e,t}
function Ia(t,e,i,n){var r=t.id;return F(t,"function"==typeof i?function(t,a,s){t.__transition__[r].tween.set(e,n(i.call(t,t.__data__,a,s)))}:(i=n(i),function(t){t.__transition__[r].tween.set(e,i)}))}function Ea(t){return null==t&&(t=""),function(){this.textContent=t}}function Fa(t,e,i,n){var r=t.__transition__||(t.__transition__={active:0,count:0}),a=r[i];if(!a){var o=n.time;a=r[i]={tween:new s,time:o,ease:n.ease,delay:n.delay,duration:n.duration},++r.count,Wa.timer(function(n){function s(n){if(r.active>i)return h();r.active=i,a.event&&a.event.start.call(t,u,e),a.tween.forEach(function(i,n){(n=n.call(t,u,e))&&p.push(n)}),Wa.timer(function(){return f.c=l(n||1)?ke:l,1},0,o)}function l(n){if(r.active!==i)return h();for(var s=n/g,o=c(s),l=p.length;l>0;)p[--l].call(t,o);return s>=1?(a.event&&a.event.end.call(t,u,e),h()):void 0}function h(){return--r.count?delete r[i]:delete t.__transition__,1}var u=t.__data__,c=a.ease,d=a.delay,g=a.duration,f=Gs,p=[];if(f.t=d+o,d<=n)return s(n-d);f.c=s},0,o)}}function Pa(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Oa(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Ha(t){return t.toISOString()}function Na(t,e,i){function n(e){return t(e)}function r(t,i){var n=t[1]-t[0],r=n/i,a=Wa.bisect(Fl,r);return a==Fl.length?[e.year,zr(t.map(function(t){return t/31536e6}),i)[2]]:a?e[r/Fl[a-1]<Fl[a]/r?a-1:a]:[Hl,zr(t,i)[2]]}return n.invert=function(e){return za(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(za)},n.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,za(+i+1),e).length}var a=n.domain(),s=Lr(a),o=null==t?r(s,10):"number"==typeof t&&r(s,t);return o&&(t=o[0],e=o[1]),n.domain(Er(a,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=za(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=za(+e+1);return e}}:t))},n.ticks=function(t,e){var i=Lr(n.domain()),a=null==t?r(i,10):"number"==typeof t?r(i,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(i[0],za(+i[1]+1),e<1?1:e)},n.tickFormat=function(){return i},n.copy=function(){return Na(t.copy(),e,i)},Hr(n,t)}function za(t){return new Date(t)}function Ba(t){return JSON.parse(t.responseText)}function Xa(t){var e=Ua.createRange();return e.selectNode(Ua.body),e.createContextualFragment(t.responseText)}var Wa={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Ya=[].slice,Ga=function(t){return Ya.call(t)},Ua=document,Va=Ua.documentElement,$a=window;try{Ga(Va.childNodes)[0].nodeType}catch(t){Ga=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}try{Ua.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Ja=$a.Element.prototype,Za=Ja.setAttribute,Qa=Ja.setAttributeNS,Ka=$a.CSSStyleDeclaration.prototype,ts=Ka.setProperty;Ja.setAttribute=function(t,e){Za.call(this,t,e+"")},Ja.setAttributeNS=function(t,e,i){Qa.call(this,t,e,i+"")},Ka.setProperty=function(t,e,i){ts.call(this,t,e+"",i)}}Wa.ascending=t,Wa.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Wa.min=function(t,e){var i,n,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(i=t[r])&&i<=i);)i=undefined;for(;++r<a;)null!=(n=t[r])&&i>n&&(i=n)}else{for(;++r<a&&!(null!=(i=e.call(t,t[r],r))&&i<=i);)i=undefined;for(;++r<a;)null!=(n=e.call(t,t[r],r))&&i>n&&(i=n)}return i},Wa.max=function(t,e){var i,n,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(i=t[r])&&i<=i);)i=undefined;for(;++r<a;)null!=(n=t[r])&&n>i&&(i=n)}else{for(;++r<a&&!(null!=(i=e.call(t,t[r],r))&&i<=i);)i=undefined;for(;++r<a;)null!=(n=e.call(t,t[r],r))&&n>i&&(i=n)}return i},Wa.extent=function(t,e){var i,n,r,a=-1,s=t.length;if(1===arguments.length){for(;++a<s&&!(null!=(i=r=t[a])&&i<=i);)i=r=undefined;for(;++a<s;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else{for(;++a<s&&!(null!=(i=r=e.call(t,t[a],a))&&i<=i);)i=undefined;for(;++a<s;)null!=(n=e.call(t,t[a],a))&&(i>n&&(i=n),r<n&&(r=n))}return[i,r]},Wa.sum=function(t,e){var i,n=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)isNaN(i=+t[a])||(n+=i);else for(;++a<r;)isNaN(i=+e.call(t,t[a],a))||(n+=i);return n},Wa.mean=function(t,i){var n,r=0,a=t.length,s=-1,o=a;if(1===arguments.length)for(;++s<a;)e(n=t[s])?r+=n:--o;else for(;++s<a;)e(n=i.call(t,t[s],s))?r+=n:--o;return o?r/o:undefined},Wa.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),r=+t[n-1],a=i-n;return a?r+a*(t[n]-r):r},Wa.median=function(i,n){return arguments.length>1&&(i=i.map(n)),i=i.filter(e),i.length?Wa.quantile(i.sort(t),.5):undefined};var es=i(t);Wa.bisectLeft=es.left,Wa.bisect=Wa.bisectRight=es.right,Wa.bisector=function(e){return i(1===e.length?function(i,n){return t(e(i),n)}:e)},Wa.shuffle=function(t){for(var e,i,n=t.length;n;)i=Math.random()*n--|0,e=t[n],t[n]=t[i],t[i]=e;return t},Wa.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},Wa.pairs=function(t){for(var e=0,i=t.length-1,n=t[0],r=new Array(i<0?0:i);e<i;)r[e]=[n,n=t[++e]];return r},Wa.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Wa.min(arguments,n),i=new Array(e);++t<e;)for(var r,a=-1,s=i[t]=new Array(r);++a<r;)s[a]=arguments[a][t];return i},Wa.transpose=function(t){return Wa.zip.apply(Wa,t)},Wa.keys=function(t){var e=[];for(var i in t)e.push(i);return e},Wa.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},Wa.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},Wa.merge=function(t){for(var e,i,n,r=t.length,a=-1,s=0;++a<r;)s+=t[a].length;for(i=new Array(s);--r>=0;)for(n=t[r],e=n.length;--e>=0;)i[--s]=n[e];return i};var is=Math.abs;Wa.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i===Infinity)throw new Error("infinite range");var n,a=[],s=r(is(i)),o=-1;if(t*=s,e*=s,i*=s,i<0)for(;(n=t+i*++o)>e;)a.push(n/s);else for(;(n=t+i*++o)<e;)a.push(n/s);return a},Wa.map=function(t){var e=new s;if(t instanceof s)t.forEach(function(t,i){e.set(t,i)});else for(var i in t)e.set(i,t[i]);return e},a(s,{has:o,get:function(t){return this[ns+t]},set:function(t,e){return this[ns+t]=e},remove:l,keys:h,values:function(){var t=[];return this.forEach(function(e,i){t.push(i)}),t},entries:function(){var t=[];return this.forEach(function(e,i){t.push({key:e,value:i})}),t},size:u,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===rs&&t.call(this,e.substring(1),this[e])}});var ns="\0",rs=ns.charCodeAt(0);Wa.nest=function(){function t(e,o,l){if(l>=a.length)return n?n.call(r,o):i?o.sort(i):o;for(var h,u,c,d,g=-1,f=o.length,p=a[l++],m=new s;++g<f;)(d=m.get(h=p(u=o[g])))?d.push(u):m.set(h,[u]);return e?(u=e(),c=function(i,n){u.set(i,t(e,n,l))}):(u={},c=function(i,n){u[i]=t(e,n,l)}),m.forEach(c),u}function e(t,i){if(i>=a.length)return t;var n=[],r=o[i++];return t.forEach(function(t,r){n.push({key:t,values:e(r,i)})}),r?n.sort(function(t,e){return r(t.key,e.key)}):n}var i,n,r={},a=[],o=[];return r.map=function(e,i){return t(i,e,0)},r.entries=function(i){return e(t(Wa.map,i,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return i=t,r},r.rollup=function(t){return n=t,r},r},Wa.set=function(t){var e=new d;if(t)for(var i=0,n=t.length;i<n;++i)e.add(t[i]);return e},a(d,{has:o,add:function(t){return this[ns+t]=!0,t},remove:function(t){return(t=ns+t)in this&&delete this[t]},values:h,size:u,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===rs&&t.call(this,e.substring(1))}}),Wa.behavior={},Wa.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=g(t,e,e[i]);return t};var as=["webkit","ms","moz","Moz","o","O"];Wa.dispatch=function(){for(var t=new m,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=x(t);return t},m.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(i>=0&&(n=t.substring(i+1),t=t.substring(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},Wa.event=null,Wa.requote=function(t){return t.replace(ss,"\\$&")};var ss=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,os={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},ls=function(t,e){return e.querySelector(t)},hs=function(t,e){return e.querySelectorAll(t)},us=Va.matches||Va[f(Va,"matchesSelector")],cs=function(t,e){return us.call(t,e)};"function"==typeof Sizzle&&(ls=function(t,e){return Sizzle(t,e)[0]||null},hs=Sizzle,cs=Sizzle.matchesSelector),Wa.selection=function(){return ps};var ds=Wa.selection.prototype=[];ds.select=function(t){var e,i,n,r,a=[];t=w(t);for(var s=-1,o=this.length;++s<o;){a.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var l=-1,h=n.length;++l<h;)(r=n[l])?(e.push(i=t.call(r,r.__data__,l,s)),i&&"__data__"in r&&(i.__data__=r.__data__)):e.push(null)}return b(a)},ds.selectAll=function(t){var e,i,n=[];t=k(t);for(var r=-1,a=this.length;++r<a;)for(var s=this[r],o=-1,l=s.length;++o<l;)(i=s[o])&&(n.push(e=Ga(t.call(i,i.__data__,o,r))),e.parentNode=i);return b(n)};var gs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Wa.ns={prefix:gs,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&(i=t.substring(0,e),t=t.substring(e+1)),gs.hasOwnProperty(i)?{space:gs[i],local:t}:t}},ds.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=Wa.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},ds.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=D(t)).length,r=-1;if(e=i.classList){for(;++r<n;)if(!e.contains(t[r]))return!1}else for(e=i.getAttribute("class");++r<n;)if(!S(t[r]).test(e))return!1;return!0}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},ds.style=function(t,e,i){var n=arguments.length;if(n<3){if("string"!=typeof t){n<2&&(e="");for(i in t)this.each(j(i,t[i],e));return this}if(n<2)return $a.getComputedStyle(this.node(),null).getPropertyValue(t);i=""}return this.each(j(t,e,i))},ds.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(q(e,t[e]));return this}return this.each(q(t,e))},ds.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ds.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ds.append=function(t){return t=L(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ds.insert=function(t,e){return t=L(t),e=w(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ds.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},ds.data=function(t,e){function i(t,i){var n,r,a,o=t.length,c=i.length,d=Math.min(o,c),g=new Array(c),f=new Array(c),p=new Array(o);if(e){var m,x=new s,v=new s,_=[];for(n=-1;++n<o;)m=e.call(r=t[n],r.__data__,n),x.has(m)?p[n]=r:x.set(m,r),_.push(m);for(n=-1;++n<c;)m=e.call(i,a=i[n],n),(r=x.get(m))?(g[n]=r,r.__data__=a):v.has(m)||(f[n]=R(a)),v.set(m,a),x.remove(m);for(n=-1;++n<o;)x.has(_[n])&&(p[n]=t[n])}else{for(n=-1;++n<d;)r=t[n],a=i[n],r?(r.__data__=a,g[n]=r):f[n]=R(a);for(;n<c;++n)f[n]=R(i[n]);for(;n<o;++n)p[n]=t[n]}f.update=g,f.parentNode=g.parentNode=p.parentNode=t.parentNode,l.push(f),h.push(g),u.push(p)}var n,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++a<o;)(r=n[a])&&(t[a]=r.__data__);return t}var l=P([]),h=b([]),u=b([]);if("function"==typeof t)for(;++a<o;)i(n=this[a],t.call(n,n.parentNode.__data__,a));else for(;++a<o;)i(n=this[a],t);return h.enter=function(){return l},h.exit=function(){return u},h},ds.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ds.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=I(t));for(var a=0,s=this.length;a<s;a++){r.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var o=0,l=i.length;o<l;o++)(n=i[o])&&t.call(n,n.__data__,o,a)&&e.push(n)}return b(r)},ds.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],r=n.length-1,a=n[r];--r>=0;)(i=n[r])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},ds.sort=function(t){t=E.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},ds.each=function(t){return F(this,function(e,i,n){t.call(e,e.__data__,i,n)})},ds.call=function(t){var e=Ga(arguments);return t.apply(e[0]=this,e),this},ds.empty=function(){return!this.node()},ds.node=function(){for(var t=0,e=this.length;t<e;t++)for(var i=this[t],n=0,r=i.length;n<r;n++){var a=i[n];if(a)return a}return null},ds.size=function(){var t=0;return this.each(function(){++t}),t};var fs=[];Wa.selection.enter=P,Wa.selection.enter.prototype=fs,fs.append=ds.append,fs.empty=ds.empty,fs.node=ds.node,fs.call=ds.call,fs.size=ds.size,fs.select=function(t){for(var e,i,n,r,a,s=[],o=-1,l=this.length;++o<l;){n=(r=this[o]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var h=-1,u=r.length;++h<u;)(a=r[h])?(e.push(n[h]=i=t.call(r.parentNode,a.__data__,h,o)),i.__data__=a.__data__):e.push(null)}return b(s)},fs.insert=function(t,e){return arguments.length<2&&(e=O(this)),ds.insert.call(this,t,e)},ds.transition=function(){for(var t,e,i=kl||++Cl,n=[],r=Ml||{time:Date.now(),ease:yn,delay:0,duration:250},a=-1,s=this.length;++a<s;){n.push(t=[]);for(var o=this[a],l=-1,h=o.length;++l<h;)(e=o[l])&&Fa(e,l,i,r),t.push(e)}return Ra(n,i)},ds.interrupt=function(){return this.each(H)},Wa.select=function(t){var e=["string"==typeof t?ls(t,Ua):t];return e.parentNode=Va,b([e])},Wa.selectAll=function(t){var e=Ga("string"==typeof t?hs(t,Ua):t);return e.parentNode=Va,b([e])};var ps=Wa.select(Va);ds.on=function(t,e,i){var n=arguments.length;if(n<3){if("string"!=typeof t){n<2&&(e=!1);for(i in t)this.each(N(i,t[i],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(N(t,e,i))};var ms=Wa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ms.forEach(function(t){"on"+t in Ua&&ms.remove(t)});var xs="onselectstart"in Ua?null:f(Va.style,"userSelect"),vs=0;Wa.mouse=function(t){return W(t,_())};var _s=/WebKit/.test($a.navigator.userAgent)?-1:0;Wa.touches=function(t,e){return arguments.length<2&&(e=_().touches),e?Ga(e).map(function(e){var i=W(t,e);return i.identifier=e.identifier,i}):[]},Wa.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function e(t,e,r,a,s){return function(){function o(){var t,i,n=e(d,p);n&&(t=n[0]-_[0],i=n[1]-_[1],f|=t|i,_=n,g({type:"drag",x:n[0]+h[0],y:n[1]+h[1],dx:t,dy:i}))}function l(){e(d,p)&&(x.on(a+m,null).on(s+m,null),v(f&&Wa.event.target===c),g({type:"dragend"}))}var h,u=this,c=Wa.event.target,d=u.parentNode,g=i.of(u,arguments),f=0,p=t(),m=".drag"+(null==p?"":"-"+p),x=Wa.select(r()).on(a+m,o).on(s+m,l),v=X(),_=e(d,p);n?(h=n.apply(u,arguments),h=[h.x-_[0],h.y-_[1]]):h=[0,0],g({type:"dragstart"})}}var i=y(t,"drag","dragstart","dragend"),n=null,r=e(p,Wa.mouse,U,"mousemove","mouseup"),a=e(Y,Wa.touch,G,"touchmove","touchend");return t.origin=function(e){return arguments.length?(n=e,t):n},Wa.rebind(t,i,"on")};var ys=Math.PI,bs=2*ys,ws=ys/2,ks=1e-6,Ms=ks*ks,Ts=ys/180,Ss=180/ys,Ds=Math.SQRT2,Cs=2,As=4;Wa.interpolateZoom=function(t,e){function i(t){var e=t*v;if(x){var i=K(p),s=a/(Cs*d)*(i*tt(Ds*e+p)-Q(p));return[n+s*h,r+s*u,a*i/K(Ds*e+p)]}return[n+t*h,r+t*u,a*Math.exp(Ds*e)]}var n=t[0],r=t[1],a=t[2],s=e[0],o=e[1],l=e[2],h=s-n,u=o-r,c=h*h+u*u,d=Math.sqrt(c),g=(l*l-a*a+As*c)/(2*a*Cs*d),f=(l*l-a*a-As*c)/(2*l*Cs*d),p=Math.log(Math.sqrt(g*g+1)-g),m=Math.log(Math.sqrt(f*f+1)-f),x=m-p,v=(x||Math.log(l/a))/Ds;return i.duration=1e3*v,i},Wa.behavior.zoom=function(){function t(t){t.on(D,h).on(Ls+".zoom",c).on("dblclick.zoom",d).on(j,u)}function e(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function i(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function n(t){M.k=Math.max(S[0],Math.min(S[1],t))}function r(t,e){e=i(e),M.x+=t[0]-e[0],M.y+=t[1]-e[1]}function a(){b&&b.domain(_.range().map(function(t){return(t-M.x)/M.k}).map(_.invert)),k&&k.domain(w.range().map(function(t){return(t-M.y)/M.k}).map(w.invert))}function s(t){t({type:"zoomstart"})}function o(t){a(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function l(t){t({type:"zoomend"})}function h(){function t(){u=1,r(Wa.mouse(n),d),o(h)}function i(){c.on(C,null).on(A,null),g(u&&Wa.event.target===a),l(h)}var n=this,a=Wa.event.target,h=q.of(n,arguments),u=0,c=Wa.select($a).on(C,t).on(A,i),d=e(Wa.mouse(n)),g=X();H.call(n),s(h)}function u(){function t(){var t=Wa.touches(g);return d=M.k,t.forEach(function(t){t.identifier in p&&(p[t.identifier]=e(t))}),t}function i(){var e=Wa.event.target;Wa.select(e).on(y,a).on(b,c),w.push(e);for(var i=Wa.event.changedTouches,s=0,l=i.length;s<l;++s)p[i[s].identifier]=null;var h=t(),u=Date.now();if(1===h.length){if(u-x<500){var d=h[0],g=p[d.identifier];n(2*M.k),r(d,g),v(),o(f)}x=u}else if(h.length>1){var d=h[0],_=h[1],k=d[0]-_[0],T=d[1]-_[1];m=k*k+T*T}}function a(){for(var t,e,i,a,s=Wa.touches(g),l=0,h=s.length;l<h;++l,a=null)if(i=s[l],a=p[i.identifier]){if(e)break;t=i,e=a}if(a){var u=(u=i[0]-t[0])*u+(u=i[1]-t[1])*u,c=m&&Math.sqrt(u/m);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],n(c*d)}x=null,r(t,e),o(f)}function c(){if(Wa.event.touches.length){for(var e=Wa.event.changedTouches,i=0,n=e.length;i<n;++i)delete p[e[i].identifier];for(var r in p)return void t()}Wa.selectAll(w).on(_,null),k.on(D,h).on(j,u),T(),l(f)}var d,g=this,f=q.of(g,arguments),p={},m=0,_=".zoom-"+Wa.event.changedTouches[0].identifier,y="touchmove"+_,b="touchend"+_,w=[],k=Wa.select(g).on(D,null).on(j,i),T=X();H.call(g),i(),s(f)}function c(){var t=q.of(this,arguments);m?clearTimeout(m):(g=e(f=p||Wa.mouse(this)),H.call(this),s(t)),m=setTimeout(function(){m=null,l(t)},50),v(),n(Math.pow(2,.002*js())*M.k),r(f,g),o(t)}function d(){var t=q.of(this,arguments),i=Wa.mouse(this),a=e(i),h=Math.log(M.k)/Math.LN2;s(t),n(Math.pow(2,Wa.event.shiftKey?Math.ceil(h)-1:Math.floor(h)+1)),r(i,a),o(t),l(t)}var g,f,p,m,x,_,b,w,k,M={x:0,y:0,k:1},T=[960,500],S=qs,D="mousedown.zoom",C="mousemove.zoom",A="mouseup.zoom",j="touchstart.zoom",q=y(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=q.of(this,arguments),e=M;kl?Wa.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var i=T[0],n=T[1],r=i/2,a=n/2,s=Wa.interpolateZoom([(r-M.x)/M.k,(a-M.y)/M.k,i/M.k],[(r-e.x)/e.k,(a-e.y)/e.k,i/e.k]);return function(e){var n=s(e),l=i/n[2];this.__chart__=M={x:r-n[0]*l,y:a-n[1]*l,k:l},o(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=M,s(t),o(t),l(t))})},t.translate=function(e){return arguments.length?(M={x:+e[0],y:+e[1],k:M.k},a(),t):[M.x,M.y]},t.scale=function(e){return arguments.length?(M={x:M.x,y:M.y,k:+e},a(),t):M.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?qs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(p=e&&[+e[0],+e[1]],t):p},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.x=function(e){return arguments.length?(b=e,_=e.copy(),M={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(k=e,w=e.copy(),M={x:0,y:0,k:1},t):k},Wa.rebind(t,q,"on")};var js,qs=[0,Infinity],Ls="onwheel"in Ua?(js=function(){return-Wa.event.deltaY*(Wa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ua?(js=function(){return Wa.event.wheelDelta},"mousewheel"):(js=function(){return-Wa.event.detail},"MozMousePixelScroll");Wa.color=it,it.prototype.toString=function(){return this.rgb()+""},Wa.hsl=nt;var Rs=nt.prototype=new it;Rs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,this.l/t)},Rs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,t*this.l)},Rs.rgb=function(){return rt(this.h,this.s,this.l)},Wa.hcl=at;var Is=at.prototype=new it;Is.brighter=function(t){return new at(this.h,this.c,Math.min(100,this.l+Es*(arguments.length?t:1)))},Is.darker=function(t){return new at(this.h,this.c,Math.max(0,this.l-Es*(arguments.length?t:1)))},Is.rgb=function(){return st(this.h,this.c,this.l).rgb()},Wa.lab=ot;var Es=18,Fs=.95047,Ps=1,Os=1.08883,Hs=ot.prototype=new it;Hs.brighter=function(t){return new ot(Math.min(100,this.l+Es*(arguments.length?t:1)),this.a,this.b)},Hs.darker=function(t){return new ot(Math.max(0,this.l-Es*(arguments.length?t:1)),this.a,this.b)},Hs.rgb=function(){return lt(this.l,this.a,this.b)},Wa.rgb=gt;var Ns=gt.prototype=new it;Ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b,r=30;return e||i||n?(e&&e<r&&(e=r),i&&i<r&&(i=r),n&&n<r&&(n=r),new gt(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,n/t))):new gt(r,r,r)},Ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new gt(t*this.r,t*this.g,t*this.b)},Ns.hsl=function(){return vt(this.r,this.g,this.b)},Ns.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var zs=Wa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});zs.forEach(function(t,e){zs.set(t,ft(e))}),Wa.functor=wt,Wa.xhr=Mt(kt),Wa.dsv=function(t,e){function i(t,i,a){arguments.length<3&&(a=i,i=null);var s=Tt(t,e,null==i?n:r(i),a);return s.row=function(t){return arguments.length?s.response(null==(i=t)?n:r(t)):i},s}function n(t){return i.parse(t.responseText)}function r(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return o.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return i.parse=function(t,e){var n;return i.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,i){return e(r(t),i)}:r})},i.parseRows=function(t,e){function i(){if(u>=h)return s;if(r)return r=!1,a;var e=u;if(34===t.charCodeAt(e)){for(var i=e;i++<h;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}u=i+2;var n=t.charCodeAt(i+1);return 13===n?(r=!0,10===t.charCodeAt(i+2)&&++u):10===n&&(r=!0),t.substring(e+1,i).replace(/""/g,'"')}for(;u<h;){var n=t.charCodeAt(u++),o=1;if(10===n)r=!0;else if(13===n)r=!0,10===t.charCodeAt(u)&&(++u,++o);else if(n!==l)continue;return t.substring(e,u-o)}return t.substring(e)}for(var n,r,a={},s={},o=[],h=t.length,u=0,c=0;(n=i())!==s;){for(var d=[];n!==a&&n!==s;)d.push(n),n=i();e&&!(d=e(d,c++))||o.push(d)}return o},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new d,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},Wa.csv=Wa.dsv(",","text/csv"),Wa.tsv=Wa.dsv(" ","text/tab-separated-values"),Wa.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=_().changedTouches),e)for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).identifier===i)return W(t,n)};var Bs,Xs,Ws,Ys,Gs,Us=$a[f($a,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Wa.timer=function(t,e,i){var n=arguments.length;n<2&&(e=0),n<3&&(i=Date.now());var r=i+e,a={c:t,t:r,f:!1,n:null};Xs?Xs.n=a:Bs=a,Xs=a,Ws||(Ys=clearTimeout(Ys),Ws=1,Us(Dt))},Wa.timer.flush=function(){Ct(),At()},Wa.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Vs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(qt);Wa.formatPrefix=function(t,e){var i=0;return t&&(t<0&&(t*=-1),e&&(t=Wa.round(t,jt(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),Vs[8+i/3]};var $s=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Js=Wa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Wa.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),Zs=Wa.time={},Qs=Date;It.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ks.setUTCDate.apply(this._,arguments)},setDay:function(){Ks.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ks.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ks.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ks.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ks.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ks.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ks.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ks.setTime.apply(this._,arguments)}};var Ks=Date.prototype;Zs.year=Et(function(t){return t=Zs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Zs.years=Zs.year.range,Zs.years.utc=Zs.year.utc.range,Zs.day=Et(function(t){var e=new Qs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Zs.days=Zs.day.range,Zs.days.utc=Zs.day.utc.range,Zs.dayOfYear=function(t){var e=Zs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var i=Zs[t]=Et(function(t){return(t=Zs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=Zs.year(t).getDay();return Math.floor((Zs.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});Zs[t+"s"]=i.range,Zs[t+"s"].utc=i.utc.range,Zs[t+"OfYear"]=function(t){var i=Zs.year(t).getDay();return Math.floor((Zs.dayOfYear(t)+(i+e)%7)/7)}}),Zs.week=Zs.sunday,Zs.weeks=Zs.sunday.range,Zs.weeks.utc=Zs.sunday.utc.range,Zs.weekOfYear=Zs.sundayOfYear;var to={"-":"",_:" ",0:"0"},eo=/^\s*\d+/,io=/^%/;Wa.locale=function(t){return{numberFormat:Lt(t),timeFormat:Pt(t)}};var no=Wa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Wa.format=no.numberFormat,Wa.geo={},re.prototype={s:0,t:0,add:function(t){ae(t,this.t,ro),ae(ro.s,this.s,this),this.s?this.t+=ro.t:this.s=ro.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ro=new re;Wa.geo.stream=function(t,e){t&&ao.hasOwnProperty(t.type)?ao[t.type](t,e):se(t,e)};var ao={Feature:function(t,e){se(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)se(i[n].geometry,e)}},so={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){oe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)oe(i[n],e,0)},Polygon:function(t,e){le(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)le(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)se(i[n],e)}};Wa.geo.area=function(t){return oo=0,Wa.geo.stream(t,ho),oo};var oo,lo=new re,ho={sphere:function(){oo+=4*ys},point:p,lineStart:p,lineEnd:p,polygonStart:function(){lo.reset(),ho.lineStart=he},polygonEnd:function(){var t=2*lo;oo+=t<0?4*ys+t:t,ho.lineStart=ho.lineEnd=ho.point=p}};Wa.geo.bounds=function(){function t(t,e){_.push(y=[u=t,d=t]),e<c&&(c=e),e>g&&(g=e)}function e(e,i){var n=ue([e*Ts,i*Ts]);if(x){var r=de(x,n),a=[r[1],-r[0],0],s=de(a,r);pe(s),s=me(s);var l=e-f,h=l>0?1:-1,p=s[0]*Ss*h,m=is(l)>180;if(m^(h*f<p&&p<h*e)){var v=s[1]*Ss;v>g&&(g=v)}else if(p=(p+360)%360-180,m^(h*f<p&&p<h*e)){var v=-s[1]*Ss;v<c&&(c=v)}else i<c&&(c=i),i>g&&(g=i);m?e<f?o(u,e)>o(u,d)&&(d=e):o(e,d)>o(u,d)&&(u=e):d>=u?(e<u&&(u=e),e>d&&(d=e)):e>f?o(u,e)>o(u,d)&&(d=e):o(e,d)>o(u,d)&&(u=e)}else t(e,i);x=n,f=e}function i(){b.point=e}function n(){y[0]=u,y[1]=d,b.point=t,x=null}function r(t,i){if(x){var n=t-f;v+=is(n)>180?n+(n>0?360:-360):n}else p=t,m=i;ho.point(t,i),e(t,i)}function a(){ho.lineStart()}function s(){r(p,m),ho.lineEnd(),is(v)>ks&&(u=-(d=180)),y[0]=u,y[1]=d,x=null}function o(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,c,d,g,f,p,m,x,v,_,y,b={point:t,lineStart:i,lineEnd:n,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=s,v=0,ho.polygonStart()},polygonEnd:function(){ho.polygonEnd(),b.point=t,b.lineStart=i,b.lineEnd=n,lo<0?(u=-(d=180),c=-(g=90)):v>ks?g=90:v<-ks&&(c=-90),y[0]=u,y[1]=d}};return function(t){g=d=-(u=c=Infinity),_=[],Wa.geo.stream(t,b);var e=_.length;if(e){_.sort(l);for(var i,n=1,r=_[0],a=[r];n<e;++n)i=_[n],
h(i[0],r)||h(i[1],r)?(o(r[0],i[1])>o(r[0],r[1])&&(r[1]=i[1]),o(i[0],r[1])>o(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(var s,i,f=-Infinity,e=a.length-1,n=0,r=a[e];n<=e;r=i,++n)i=a[n],(s=o(r[1],i[0]))>f&&(f=s,u=i[0],d=r[1])}return _=y=null,u===Infinity||c===Infinity?[[NaN,NaN],[NaN,NaN]]:[[u,c],[d,g]]}}(),Wa.geo.centroid=function(t){uo=co=go=fo=po=mo=xo=vo=_o=yo=bo=0,Wa.geo.stream(t,wo);var e=_o,i=yo,n=bo,r=e*e+i*i+n*n;return r<Ms&&(e=mo,i=xo,n=vo,co<ks&&(e=go,i=fo,n=po),(r=e*e+i*i+n*n)<Ms)?[NaN,NaN]:[Math.atan2(i,e)*Ss,Z(n/Math.sqrt(r))*Ss]};var uo,co,go,fo,po,mo,xo,vo,_o,yo,bo,wo={sphere:p,point:ve,lineStart:ye,lineEnd:be,polygonStart:function(){wo.lineStart=we},polygonEnd:function(){wo.lineStart=ye}},ko=De(ke,Le,Ie,[-ys,-ys/2]),Mo=1e9;Wa.geo.clipExtent=function(){var t,e,i,n,r,a,s={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(o){return arguments.length?(a=Pe(t=+o[0][0],e=+o[0][1],i=+o[1][0],n=+o[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[i,n]]}};return s.extent([[0,0],[960,500]])},(Wa.geo.conicEqualArea=function(){return He(Ne)}).raw=Ne,Wa.geo.albers=function(){return Wa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Wa.geo.albersUsa=function(){function t(t){var a=t[0],s=t[1];return e=null,i(a,s),e||(n(a,s),e)||r(a,s),e}var e,i,n,r,a=Wa.geo.albers(),s=Wa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=Wa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=a.scale(),i=a.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?s:r>=.166&&r<.234&&n>=-.214&&n<-.115?o:a).invert(t)},t.stream=function(t){var e=a.stream(t),i=s.stream(t),n=o.stream(t);return{point:function(t,r){e.point(t,r),i.point(t,r),n.point(t,r)},sphere:function(){e.sphere(),i.sphere(),n.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),o.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),o.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var h=a.scale(),u=+e[0],c=+e[1];return i=a.translate(e).clipExtent([[u-.455*h,c-.238*h],[u+.455*h,c+.238*h]]).stream(l).point,n=s.translate([u-.307*h,c+.201*h]).clipExtent([[u-.425*h+ks,c+.12*h+ks],[u-.214*h-ks,c+.234*h-ks]]).stream(l).point,r=o.translate([u-.205*h,c+.212*h]).clipExtent([[u-.214*h+ks,c+.166*h+ks],[u-.115*h-ks,c+.234*h-ks]]).stream(l).point,t},t.scale(1070)};var To,So,Do,Co,Ao,jo,qo={point:p,lineStart:p,lineEnd:p,polygonStart:function(){So=0,qo.lineStart=ze},polygonEnd:function(){qo.lineStart=qo.lineEnd=qo.point=p,To+=is(So/2)}},Lo={point:Be,lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p},Ro={point:Ye,lineStart:Ge,lineEnd:Ue,polygonStart:function(){Ro.lineStart=Ve},polygonEnd:function(){Ro.point=Ye,Ro.lineStart=Ge,Ro.lineEnd=Ue}};Wa.geo.path=function(){function t(t){return t&&("function"==typeof o&&a.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=r(a)),Wa.geo.stream(t,s)),a.result()}function e(){return s=null,t}var i,n,r,a,s,o=4.5;return t.area=function(t){return To=0,Wa.geo.stream(t,r(qo)),To},t.centroid=function(t){return go=fo=po=mo=xo=vo=_o=yo=bo=0,Wa.geo.stream(t,r(Ro)),bo?[_o/bo,yo/bo]:vo?[mo/vo,xo/vo]:po?[go/po,fo/po]:[NaN,NaN]},t.bounds=function(t){return Ao=jo=-(Do=Co=Infinity),Wa.geo.stream(t,r(Lo)),[[Do,Co],[Ao,jo]]},t.projection=function(t){return arguments.length?(r=(i=t)?t.stream||Ze(t):kt,e()):i},t.context=function(t){return arguments.length?(a=null==(n=t)?new Xe:new $e(t),"function"!=typeof o&&a.pointRadius(o),e()):n},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(a.pointRadius(+e),+e),t):o},t.projection(Wa.geo.albersUsa()).context(null)},Wa.geo.transform=function(t){return{stream:function(e){var i=new Qe(e);for(var n in t)i[n]=t[n];return i}}},Qe.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Wa.geo.projection=ti,Wa.geo.projectionMutator=ei,(Wa.geo.equirectangular=function(){return ti(ni)}).raw=ni.invert=ni,Wa.geo.rotation=function(t){function e(e){return e=t(e[0]*Ts,e[1]*Ts),e[0]*=Ss,e[1]*=Ss,e}return t=ai(t[0]%360*Ts,t[1]*Ts,t.length>2?t[2]*Ts:0),e.invert=function(e){return e=t.invert(e[0]*Ts,e[1]*Ts),e[0]*=Ss,e[1]*=Ss,e},e},ri.invert=ni,Wa.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=ai(-t[0]*Ts,-t[1]*Ts,0).invert,r=[];return i(null,null,1,{point:function(t,i){r.push(t=e(t,i)),t[0]*=Ss,t[1]*=Ss}}),{type:"Polygon",coordinates:[r]}}var e,i,n=[0,0],r=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(i=hi((e=+n)*Ts,r*Ts),t):e},t.precision=function(n){return arguments.length?(i=hi(e*Ts,(r=+n)*Ts),t):r},t.angle(90)},Wa.geo.distance=function(t,e){var i,n=(e[0]-t[0])*Ts,r=t[1]*Ts,a=e[1]*Ts,s=Math.sin(n),o=Math.cos(n),l=Math.sin(r),h=Math.cos(r),u=Math.sin(a),c=Math.cos(a);return Math.atan2(Math.sqrt((i=c*s)*i+(i=h*u-l*c*o)*i),l*u+h*c*o)},Wa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Wa.range(Math.ceil(a/m)*m,r,m).map(d).concat(Wa.range(Math.ceil(h/x)*x,l,x).map(g)).concat(Wa.range(Math.ceil(n/f)*f,i,f).filter(function(t){return is(t%m)>ks}).map(u)).concat(Wa.range(Math.ceil(o/p)*p,s,p).filter(function(t){return is(t%x)>ks}).map(c))}var i,n,r,a,s,o,l,h,u,c,d,g,f=10,p=f,m=90,x=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(g(l).slice(1),d(r).reverse().slice(1),g(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],h=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),h>l&&(e=h,h=l,l=e),t.precision(v)):[[a,h],[r,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],o=+e[0][1],s=+e[1][1],n>i&&(e=n,n=i,i=e),o>s&&(e=o,o=s,s=e),t.precision(v)):[[n,o],[i,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],x=+e[1],t):[m,x]},t.minorStep=function(e){return arguments.length?(f=+e[0],p=+e[1],t):[f,p]},t.precision=function(e){return arguments.length?(v=+e,u=ci(o,s,90),c=di(n,i,v),d=ci(h,l,90),g=di(a,r,v),t):v},t.majorExtent([[-180,-90+ks],[180,90-ks]]).minorExtent([[-180,-80-ks],[180,80+ks]])},Wa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}var e,i,n=gi,r=fi;return t.distance=function(){return Wa.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))},t.source=function(i){return arguments.length?(n=i,e="function"==typeof i?null:i,t):n},t.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Wa.geo.interpolate=function(t,e){return pi(t[0]*Ts,t[1]*Ts,e[0]*Ts,e[1]*Ts)},Wa.geo.length=function(t){return Io=0,Wa.geo.stream(t,Eo),Io};var Io,Eo={sphere:p,point:p,lineStart:mi,lineEnd:p,polygonStart:p,polygonEnd:p},Fo=xi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Wa.geo.azimuthalEqualArea=function(){return ti(Fo)}).raw=Fo;var Po=xi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},kt);(Wa.geo.azimuthalEquidistant=function(){return ti(Po)}).raw=Po,(Wa.geo.conicConformal=function(){return He(vi)}).raw=vi,(Wa.geo.conicEquidistant=function(){return He(_i)}).raw=_i;var Oo=xi(function(t){return 1/t},Math.atan);(Wa.geo.gnomonic=function(){return ti(Oo)}).raw=Oo,yi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ws]},(Wa.geo.mercator=function(){return bi(yi)}).raw=yi;var Ho=xi(function(){return 1},Math.asin);(Wa.geo.orthographic=function(){return ti(Ho)}).raw=Ho;var No=xi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Wa.geo.stereographic=function(){return ti(No)}).raw=No,wi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ws]},(Wa.geo.transverseMercator=function(){var t=bi(wi),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},i([0,0,90])}).raw=wi,Wa.geom={},Wa.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=wt(i),a=wt(n),s=t.length,o=[],l=[];for(e=0;e<s;e++)o.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(o.sort(Si),e=0;e<s;e++)l.push([o[e][0],-o[e][1]]);var h=Ti(o),u=Ti(l),c=u[0]===h[0],d=u[u.length-1]===h[h.length-1],g=[];for(e=h.length-1;e>=0;--e)g.push(t[o[h[e]][2]]);for(e=+c;e<u.length-d;++e)g.push(t[o[u[e]][2]]);return g}var i=ki,n=Mi;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e)},Wa.geom.polygon=function(t){return os(t,zo),t};var zo=Wa.geom.polygon.prototype=[];zo.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],r=0;++e<i;)t=n,n=this[e],r+=t[1]*n[0]-t[0]*n[1];return.5*r},zo.centroid=function(t){var e,i,n=-1,r=this.length,a=0,s=0,o=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++n<r;)e=o,o=this[n],i=e[0]*o[1]-o[0]*e[1],a+=(e[0]+o[0])*i,s+=(e[1]+o[1])*i;return[a*t,s*t]},zo.clip=function(t){for(var e,i,n,r,a,s,o=Ai(t),l=-1,h=this.length-Ai(this),u=this[h-1];++l<h;){for(e=t.slice(),t.length=0,r=this[l],a=e[(n=e.length-o)-1],i=-1;++i<n;)s=e[i],Di(s,u,r)?(Di(a,u,r)||t.push(Ci(a,s,u,r)),t.push(s)):Di(a,u,r)&&t.push(Ci(a,s,u,r)),a=s;o&&t.push(t[0]),u=r}return t};var Bo,Xo,Wo,Yo,Go,Uo=[],Vo=[];Pi.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)t=e[i].edge,t.b&&t.a||e.splice(i,1);return e.sort(Hi),e.length},$i.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ji.prototype={insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=tn(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)n=i.U,i===n.L?(r=n.R,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(Qi(this,i),t=i,i=t.U),i.C=!1,n.C=!0,Ki(this,n))):(r=n.L,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(Ki(this,i),t=i,i=t.U),i.C=!1,n.C=!0,Qi(this,n))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,a=t.L,s=t.R;if(i=a?s?tn(s):a:s,r?r.L===t?r.L=i:r.R=i:this._=i,a&&s?(n=i.C,i.C=t.C,i.L=a,a.U=i,i!==s?(r=i.U,i.U=t.U,t=i.R,r.L=t,i.R=s,s.U=i):(i.U=r,r=i,t=i.R)):(n=t.C,t=i),t&&(t.U=r),!n){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Qi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ki(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Qi(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Ki(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Qi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ki(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},Wa.geom.voronoi=function(t){function e(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],a=o[1][0],s=o[1][1];return en(i(t),o).cells.forEach(function(i,o){var l=i.edges,h=i.site;(e[o]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):h.x>=n&&h.x<=a&&h.y>=r&&h.y<=s?[[n,s],[a,s],[a,r],[n,r]]:[]).point=t[o]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/ks)*ks,y:Math.round(s(t,e)/ks)*ks,i:e}})}var n=ki,r=Mi,a=n,s=r,o=$o;return t?e(t):(e.links=function(t){return en(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return en(i(t)).cells.forEach(function(i,n){for(var r,a=i.site,s=i.edges.sort(Hi),o=-1,l=s.length,h=s[l-1].edge,u=h.l===a?h.r:h.l;++o<l;)h,r=u,h=s[o].edge,u=h.l===a?h.r:h.l,n<r.i&&n<u.i&&rn(a,r,u)<0&&e.push([t[n],t[r.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(a=wt(n=t),e):n},e.y=function(t){return arguments.length?(s=wt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(o=null==t?$o:t,e):o===$o?null:o},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):o===$o?null:o&&o[1]},e)};var $o=[[-1e6,-1e6],[1e6,1e6]];Wa.geom.delaunay=function(t){return Wa.geom.voronoi().triangles(t)},Wa.geom.quadtree=function(t,e,i,n,r){function a(t){function a(t,e,i,n,r,a,s,o){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(is(l-i)+is(u-n)<.01)h(t,e,i,n,r,a,s,o);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,l,u,r,a,s,o),h(t,e,i,n,r,a,s,o)}else t.x=i,t.y=n,t.point=e}else h(t,e,i,n,r,a,s,o)}function h(t,e,i,n,r,s,o,l){var h=.5*(r+o),u=.5*(s+l),c=i>=h,d=n>=u,g=(d<<1)+c;t.leaf=!1,t=t.nodes[g]||(t.nodes[g]=on()),c?r=h:o=h,d?s=u:l=u,a(t,e,i,n,r,s,o,l)}var u,c,d,g,f,p,m,x,v,_=wt(o),y=wt(l);if(null!=e)p=e,m=i,x=n,v=r;else if(x=v=-(p=m=Infinity),c=[],d=[],f=t.length,s)for(g=0;g<f;++g)u=t[g],u.x<p&&(p=u.x),u.y<m&&(m=u.y),u.x>x&&(x=u.x),u.y>v&&(v=u.y),c.push(u.x),d.push(u.y);else for(g=0;g<f;++g){var b=+_(u=t[g],g),w=+y(u,g);b<p&&(p=b),w<m&&(m=w),b>x&&(x=b),w>v&&(v=w),c.push(b),d.push(w)}var k=x-p,M=v-m;k>M?v=m+k:x=p+M;var T=on();if(T.add=function(t){a(T,t,+_(t,++g),+y(t,g),p,m,x,v)},T.visit=function(t){ln(t,T,p,m,x,v)},g=-1,null==e){for(;++g<f;)a(T,t[g],c[g],d[g],p,m,x,v);--g}else t.forEach(T.add);return c=d=t=u=null,T}var s,o=ki,l=Mi;return(s=arguments.length)?(o=an,l=sn,3===s&&(r=i,n=e,i=e=0),a(t)):(a.x=function(t){return arguments.length?(o=t,a):o},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,i],[n,r]]},a.size=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=i=0,n=+t[0],r=+t[1]),a):null==e?null:[n-e,r-i]},a)},Wa.interpolateRgb=hn,Wa.interpolateObject=un,Wa.interpolateNumber=cn,Wa.interpolateString=dn;var Jo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zo=new RegExp(Jo.source,"g");Wa.interpolate=gn,Wa.interpolators=[function(t,e){var i=typeof e;return("string"===i?zs.has(e)||/^(#|rgb\(|hsl\()/.test(e)?hn:dn:e instanceof it?hn:Array.isArray(e)?fn:"object"===i&&isNaN(e)?un:cn)(t,e)}],Wa.interpolateArray=fn;var Qo=function(){return kt},Ko=Wa.map({linear:Qo,poly:bn,quad:function(){return vn},cubic:function(){return _n},sin:function(){return wn},exp:function(){return kn},circle:function(){return Mn},elastic:Tn,back:Sn,bounce:function(){return Dn}}),tl=Wa.map({"in":kt,out:mn,"in-out":xn,"out-in":function(t){return xn(mn(t))}});Wa.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.substring(0,e):t,n=e>=0?t.substring(e+1):"in";return i=Ko.get(i)||Qo,n=tl.get(n)||kt,pn(n(i.apply(null,Ya.call(arguments,1))))},Wa.interpolateHcl=Cn,Wa.interpolateHsl=An,Wa.interpolateLab=jn,Wa.interpolateRound=qn,Wa.transform=function(t){var e=Ua.createElementNS(Wa.ns.prefix.svg,"g");return(Wa.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new Ln(i?i.matrix:el)})(t)},Ln.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var el={a:1,b:0,c:0,d:1,e:0,f:0};Wa.interpolateTransform=Fn,Wa.layout={},Wa.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push(Hn(t[i]));return e}},Wa.layout.chord=function(){function t(){var t,h,c,d,g,f={},p=[],m=Wa.range(a),x=[];for(i=[],n=[],t=0,d=-1;++d<a;){for(h=0,g=-1;++g<a;)h+=r[d][g];p.push(h),x.push(Wa.range(a)),t+=h}for(s&&m.sort(function(t,e){return s(p[t],p[e])}),o&&x.forEach(function(t,e){t.sort(function(t,i){return o(r[e][t],r[e][i])})}),t=(bs-u*a)/t,h=0,d=-1;++d<a;){for(c=h,g=-1;++g<a;){var v=m[d],_=x[v][g],y=r[v][_],b=h,w=h+=y*t;f[v+"-"+_]={index:v,subindex:_,startAngle:b,endAngle:w,value:y}}n[v]={index:v,startAngle:c,endAngle:h,value:(h-c)/t},h+=u}for(d=-1;++d<a;)for(g=d-1;++g<a;){var k=f[d+"-"+g],M=f[g+"-"+d];(k.value||M.value)&&i.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,n,r,a,s,o,l,h={},u=0;return h.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,i=n=null,h):r},h.padding=function(t){return arguments.length?(u=t,i=n=null,h):u},h.sortGroups=function(t){return arguments.length?(s=t,i=n=null,h):s},h.sortSubgroups=function(t){return arguments.length?(o=t,i=null,h):o},h.sortChords=function(t){return arguments.length?(l=t,i&&e(),h):l},h.chords=function(){return i||t(),i},h.groups=function(){return n||t(),n},h},Wa.layout.force=function(){function t(t){return function(e,i,n,r){if(e.point!==t){var a=e.cx-t.x,s=e.cy-t.y,o=r-i,l=a*a+s*s;if(o*o/m<l){if(l<f){var h=e.charge/l;t.px-=a*h,t.py-=s*h}return!0}if(e.point&&l&&l<f){var h=e.pointCharge/l;t.px-=a*h,t.py-=s*h}}return!e.charge}}function e(t){t.px=Wa.event.x,t.py=Wa.event.y,o.resume()}var i,n,r,a,s,o={},l=Wa.dispatch("start","tick","end"),h=[1,1],u=.9,c=il,d=nl,g=-30,f=rl,p=.1,m=.64,x=[],v=[];return o.tick=function(){if((n*=.99)<.005)return l.end({type:"end",alpha:n=0}),!0;var e,i,o,c,d,f,m,_,y,b=x.length,w=v.length;for(i=0;i<w;++i)o=v[i],c=o.source,d=o.target,_=d.x-c.x,y=d.y-c.y,(f=_*_+y*y)&&(f=n*a[i]*((f=Math.sqrt(f))-r[i])/f,_*=f,y*=f,d.x-=_*(m=c.weight/(d.weight+c.weight)),d.y-=y*m,c.x+=_*(m=1-m),c.y+=y*m);if((m=n*p)&&(_=h[0]/2,y=h[1]/2,i=-1,m))for(;++i<b;)o=x[i],o.x+=(_-o.x)*m,o.y+=(y-o.y)*m;if(g)for(Gn(e=Wa.geom.quadtree(x),n,s),i=-1;++i<b;)(o=x[i]).fixed||e.visit(t(o));for(i=-1;++i<b;)o=x[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*u,o.y-=(o.py-(o.py=o.y))*u);l.tick({type:"tick",alpha:n})},o.nodes=function(t){return arguments.length?(x=t,o):x},o.links=function(t){return arguments.length?(v=t,o):v},o.size=function(t){return arguments.length?(h=t,o):h},o.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,o):c},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,o):d},o.friction=function(t){return arguments.length?(u=+t,o):u},o.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,o):g},o.chargeDistance=function(t){return arguments.length?(f=t*t,o):Math.sqrt(f)},o.gravity=function(t){return arguments.length?(p=+t,o):p},o.theta=function(t){return arguments.length?(m=t*t,o):Math.sqrt(m)},o.alpha=function(t){return arguments.length?(t=+t,n?n=t>0?t:0:t>0&&(l.start({type:"start",alpha:n=t}),Wa.timer(o.tick)),o):n},o.start=function(){function t(t,n){if(!i){for(i=new Array(l),o=0;o<l;++o)i[o]=[];for(o=0;o<h;++o){var r=v[o];i[r.source.index].push(r.target),i[r.target.index].push(r.source)}}for(var a,s=i[e],o=-1,h=s.length;++o<h;)if(!isNaN(a=s[o][t]))return a;return Math.random()*n}var e,i,n,l=x.length,u=v.length,f=h[0],p=h[1];for(e=0;e<l;++e)(n=x[e]).index=e,n.weight=0;for(e=0;e<u;++e)n=v[e],"number"==typeof n.source&&(n.source=x[n.source]),"number"==typeof n.target&&(n.target=x[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<l;++e)n=x[e],isNaN(n.x)&&(n.x=t("x",f)),isNaN(n.y)&&(n.y=t("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof c)for(e=0;e<u;++e)r[e]=+c.call(this,v[e],e);else for(e=0;e<u;++e)r[e]=c;if(a=[],"function"==typeof d)for(e=0;e<u;++e)a[e]=+d.call(this,v[e],e);else for(e=0;e<u;++e)a[e]=d;if(s=[],"function"==typeof g)for(e=0;e<l;++e)s[e]=+g.call(this,x[e],e);else for(e=0;e<l;++e)s[e]=g;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(i||(i=Wa.behavior.drag().origin(kt).on("dragstart.force",Bn).on("drag.force",e).on("dragend.force",Xn)),!arguments.length)return i;this.on("mouseover.force",Wn).on("mouseout.force",Yn).call(i)},Wa.rebind(o,l,"on")};var il=20,nl=1,rl=Infinity;Wa.layout.hierarchy=function(){function t(r){var a,s=[r],o=[];for(r.depth=0;null!=(a=s.pop());)if(o.push(a),(h=i.call(t,a,a.depth))&&(l=h.length)){for(var l,h,u;--l>=0;)s.push(u=h[l]),u.parent=a,u.depth=a.depth+1;n&&(a.value=0),a.children=h}else n&&(a.value=+n.call(t,a,a.depth)||0),delete a.children;return $n(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),o}var e=Qn,i=Jn,n=Zn;return t.sort=function(i){return arguments.length?(e=i,t):e},t.children=function(e){return arguments.length?(i=e,t):i},t.value=function(e){return arguments.length?(n=e,t):n},t.revalue=function(e){return n&&(Vn(e,function(t){t.children&&(t.value=0)}),$n(e,function(e){var i;e.children||(e.value=+n.call(t,e,e.depth)||0),(i=e.parent)&&(i.value+=e.value)})),e},t},Wa.layout.partition=function(){function t(e,i,n,r){var a=e.children;if(e.x=i,e.y=e.depth*r,e.dx=n,e.dy=r,a&&(s=a.length)){var s,o,l,h=-1;for(n=e.value?n/e.value:0;++h<s;)t(o=a[h],i,l=o.value*n,r),i+=l}}function e(t){var i=t.children,n=0;if(i&&(r=i.length))for(var r,a=-1;++a<r;)n=Math.max(n,e(i[a]));return 1+n}function i(i,a){var s=n.call(this,i,a);return t(s[0],0,r[0],r[1]/e(s[0])),s}var n=Wa.layout.hierarchy(),r=[1,1];return i.size=function(t){return arguments.length?(r=t,i):r},Un(i,n)},Wa.layout.pie=function(){function t(a){var s=a.map(function(i,n){return+e.call(t,i,n)}),o=+("function"==typeof n?n.apply(this,arguments):n),l=(("function"==typeof r?r.apply(this,arguments):r)-o)/Wa.sum(s),h=Wa.range(a.length);null!=i&&h.sort(i===al?function(t,e){return s[e]-s[t]}:function(t,e){return i(a[t],a[e])});var u=[];return h.forEach(function(t){var e;u[t]={data:a[t],value:e=s[t],startAngle:o,endAngle:o+=e*l}}),u}var e=Number,i=al,n=0,r=bs;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var al={};Wa.layout.stack=function(){function t(o,l){var h=o.map(function(i,n){return e.call(t,i,n)}),u=h.map(function(e){return e.map(function(e,i){return[a.call(t,e,i),s.call(t,e,i)]})}),c=i.call(t,u,l);h=Wa.permute(h,c),u=Wa.permute(u,c);var d,g,f,p=n.call(t,u,l),m=h.length,x=h[0].length;for(g=0;g<x;++g)for(r.call(t,h[0][g],f=p[g],u[0][g][1]),d=1;d<m;++d)r.call(t,h[d][g],f+=u[d-1][g][1],u[d][g][1]);return o}var e=kt,i=nr,n=rr,r=ir,a=tr,s=er;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:sl.get(e)||nr,t):i},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:ol.get(e)||rr,t):n},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var sl=Wa.map({"inside-out":function(t){var e,i,n=t.length,r=t.map(ar),a=t.map(sr),s=Wa.range(n).sort(function(t,e){return r[t]-r[e]}),o=0,l=0,h=[],u=[];for(e=0;e<n;++e)i=s[e],o<l?(o+=a[i],h.push(i)):(l+=a[i],u.push(i));return u.reverse().concat(h)},reverse:function(t){return Wa.range(t.length).reverse()},"default":nr}),ol=Wa.map({silhouette:function(t){var e,i,n,r=t.length,a=t[0].length,s=[],o=0,l=[];for(i=0;i<a;++i){for(e=0,n=0;e<r;e++)n+=t[e][i][1];n>o&&(o=n),s.push(n)}for(i=0;i<a;++i)l[i]=(o-s[i])/2;return l},wiggle:function(t){var e,i,n,r,a,s,o,l,h,u=t.length,c=t[0],d=c.length,g=[];for(g[0]=l=h=0,i=1;i<d;++i){for(e=0,r=0;e<u;++e)r+=t[e][i][1];for(e=0,a=0,o=c[i][0]-c[i-1][0];e<u;++e){for(n=0,s=(t[e][i][1]-t[e][i-1][1])/(2*o);n<e;++n)s+=(t[n][i][1]-t[n][i-1][1])/o;a+=s*t[e][i][1]}g[i]=l-=r?a/r*o:0,l<h&&(h=l)}for(i=0;i<d;++i)g[i]-=h;return g},expand:function(t){var e,i,n,r=t.length,a=t[0].length,s=1/r,o=[];for(i=0;i<a;++i){for(e=0,n=0;e<r;e++)n+=t[e][i][1];if(n)for(e=0;e<r;e++)t[e][i][1]/=n;else for(e=0;e<r;e++)t[e][i][1]=s}for(i=0;i<a;++i)o[i]=0;return o},zero:rr});Wa.layout.histogram=function(){function t(t,a){for(var s,o,l=[],h=t.map(i,this),u=n.call(this,h,a),c=r.call(this,u,h,a),a=-1,d=h.length,g=c.length-1,f=e?1:1/d;++a<g;)s=l[a]=[],s.dx=c[a+1]-(s.x=c[a]),s.y=0;if(g>0)for(a=-1;++a<d;)(o=h[a])>=u[0]&&o<=u[1]&&(s=l[Wa.bisect(c,o,1,g)-1],s.y+=f,s.push(t[a]));return l}var e=!0,i=Number,n=ur,r=lr;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(n=wt(e),t):n},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return hr(t,e)}:wt(e),t):r},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},Wa.layout.pack=function(){function t(t,a){var s=i.call(this,t,a),o=s[0],l=r[0],h=r[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(o.x=o.y=0,$n(o,function(t){t.r=+u(t.value)}),$n(o,pr),n){var c=n*(e?1:Math.max(2*o.r/l,2*o.r/h))/2;$n(o,function(t){t.r+=c}),$n(o,pr),$n(o,function(t){t.r-=c})}return vr(o,l/2,h/2,e?1:1/Math.max(2*o.r/l,2*o.r/h)),s}var e,i=Wa.layout.hierarchy().sort(cr),n=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},Un(t,i)},Wa.layout.tree=function(){function t(t,r){var u=s.call(this,t,r),c=u[0],d=e(c);if($n(d,i),d.parent.m=-d.z,Vn(d,n),h)Vn(c,a);else{var g=c,f=c,p=c;Vn(c,function(t){t.x<g.x&&(g=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)});var m=o(g,f)/2-g.x,x=l[0]/(f.x+o(f,g)/2+m),v=l[1]/(p.depth||1);Vn(c,function(t){t.x=(t.x+m)*x,t.y=t.depth*v})}return u}function e(t){for(var e,i={A:null,children:[t]},n=[i];null!=(e=n.pop());)for(var r,a=e.children,s=0,o=a.length;s<o;++s)n.push((a[s]=r={_:a[s],parent:e,children:(r=a[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return i.children[0]}function i(t){var e=t.children,i=t.parent.children,n=t.i?i[t.i-1]:null;if(e.length){Mr(t);var a=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+o(t._,n._),t.m=t.z-a):t.z=a}else n&&(t.z=n.z+o(t._,n._));t.parent.A=r(t,n,t.parent.A||i[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,i){if(e){for(var n,r=t,a=t,s=e,l=r.parent.children[0],h=r.m,u=a.m,c=s.m,d=l.m;s=wr(s),r=br(r),s&&r;)l=br(l),a=wr(a),a.a=t,n=s.z+c-r.z-h+o(s._,r._),n>0&&(kr(Tr(s,t,i),t,n),h+=n,u+=n),c+=s.m,h+=r.m,d+=l.m,u+=a.m;s&&!wr(a)&&(a.t=s,a.m+=c-u),r&&!br(l)&&(l.t=r,l.m+=h-d,i=t)}return i}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var s=Wa.layout.hierarchy().sort(null).value(null),o=yr,l=[1,1],h=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(h=null==(l=e)?a:null,t):h?null:l},t.nodeSize=function(e){return arguments.length?(h=null==(l=e)?null:a,t):h?l:null},Un(t,s)},Wa.layout.cluster=function(){function t(t,a){var s,o=e.call(this,t,a),l=o[0],h=0;$n(l,function(t){var e=t.children;e&&e.length?(t.x=Dr(e),t.y=Sr(e)):(t.x=s?h+=i(t,s):0,t.y=0,s=t)});var u=Cr(l),c=Ar(l),d=u.x-i(u,c)/2,g=c.x+i(c,u)/2;return $n(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(g-d)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),o}var e=Wa.layout.hierarchy().sort(null).value(null),i=yr,n=[1,1],r=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=null==(n=e),t):r?null:n},t.nodeSize=function(e){return arguments.length?(r=null!=(n=e),t):r?n:null},Un(t,e)},Wa.layout.treemap=function(){function t(t,e){for(var i,n,r=-1,a=t.length;++r<a;)n=(i=t[r]).value*(e<0?0:e),i.area=isNaN(n)||n<=0?0:n}function e(i){var a=i.children;if(a&&a.length){var s,o,l,h=c(i),u=[],d=a.slice(),f=Infinity,p="slice"===g?h.dx:"dice"===g?h.dy:"slice-dice"===g?1&i.depth?h.dy:h.dx:Math.min(h.dx,h.dy);for(t(d,h.dx*h.dy/i.value),u.area=0;(l=d.length)>0;)u.push(s=d[l-1]),u.area+=s.area,"squarify"!==g||(o=n(u,p))<=f?(d.pop(),f=o):(u.area-=u.pop().area,r(u,p,h,!1),p=Math.min(h.dx,h.dy),u.length=u.area=0,f=Infinity);u.length&&(r(u,p,h,!0),u.length=u.area=0),a.forEach(e)}}function i(e){var n=e.children;if(n&&n.length){var a,s=c(e),o=n.slice(),l=[];for(t(o,s.dx*s.dy/e.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);n.forEach(i)}}function n(t,e){for(var i,n=t.area,r=0,a=Infinity,s=-1,o=t.length;++s<o;)(i=t[s].area)&&(i<a&&(a=i),i>r&&(r=i));return n*=n,e*=e,n?Math.max(e*r*f/n,n/(e*a*f)):Infinity}function r(t,e,i,n){var r,a=-1,s=t.length,o=i.x,h=i.y,u=e?l(t.area/e):0;if(e==i.dx){for((n||u>i.dy)&&(u=i.dy);++a<s;)r=t[a],r.x=o,r.y=h,r.dy=u,o+=r.dx=Math.min(i.x+i.dx-o,u?l(r.area/u):0);r.z=!0,r.dx+=i.x+i.dx-o,i.y+=u,i.dy-=u}else{for((n||u>i.dx)&&(u=i.dx);++a<s;)r=t[a],r.x=o,r.y=h,r.dx=u,h+=r.dy=Math.min(i.y+i.dy-h,u?l(r.area/u):0);r.z=!1,r.dy+=i.y+i.dy-h,i.x+=u,i.dx-=u}}function a(n){var r=s||o(n),a=r[0];return a.x=0,a.y=0,a.dx=h[0],a.dy=h[1],s&&o.revalue(a),t([a],a.dx*a.dy/a.value),(s?i:e)(a),d&&(s=r),r}var s,o=Wa.layout.hierarchy(),l=Math.round,h=[1,1],u=null,c=jr,d=!1,g="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(h=t,a):h},a.padding=function(t){function e(e){var i=t.call(a,e,e.depth);return null==i?jr(e):qr(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return qr(e,t)}if(!arguments.length)return u;var n;return c=null==(u=t)?jr:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],i):i,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(d=t,s=null,a):d},a.ratio=function(t){return arguments.length?(f=t,a):f},a.mode=function(t){return arguments.length?(g=t+"",a):g},Un(a,o)},Wa.random={normal:function(t,e){var i=arguments.length;return i<2&&(e=1),i<1&&(t=0),function(){var i,n,r;do{i=2*Math.random()-1,n=2*Math.random()-1,r=i*i+n*n}while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Wa.random.normal.apply(Wa,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Wa.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;i<t;i++)e+=Math.random();return e}}},Wa.scale={};var ll={floor:kt,ceil:kt};Wa.scale.linear=function(){return Or([0,1],[0,1],gn,!1)};var hl={s:1,g:1,p:1,r:1,e:1};Wa.scale.log=function(){return Gr(Wa.scale.linear().domain([0,1]),10,!0,[1,10])};var ul=Wa.format(".0e"),cl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Wa.scale.pow=function(){return Ur(Wa.scale.linear(),1,[0,1])},Wa.scale.sqrt=function(){return Wa.scale.pow().exponent(.5)},Wa.scale.ordinal=function(){return $r([],{t:"range",a:[[]]})},Wa.scale.category10=function(){return Wa.scale.ordinal().range(dl)},Wa.scale.category20=function(){return Wa.scale.ordinal().range(gl)},Wa.scale.category20b=function(){return Wa.scale.ordinal().range(fl)},Wa.scale.category20c=function(){return Wa.scale.ordinal().range(pl)};var dl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pt),gl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pt),fl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pt),pl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pt);Wa.scale.quantile=function(){return Jr([],[])},Wa.scale.quantize=function(){return Zr(0,1,[0,1])},Wa.scale.threshold=function(){return Qr([.5],[0,1])},Wa.scale.identity=function(){return Kr([0,1])},Wa.svg={},Wa.svg.arc=function(){function t(){var t=e.apply(this,arguments),a=i.apply(this,arguments),s=n.apply(this,arguments)+ml,o=r.apply(this,arguments)+ml,l=(o<s&&(l=s,s=o,o=l),o-s),h=l<ys?"0":"1",u=Math.cos(s),c=Math.sin(s),d=Math.cos(o),g=Math.sin(o);return l>=xl?t?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":t?"M"+a*u+","+a*c+"A"+a+","+a+" 0 "+h+",1 "+a*d+","+a*g+"L"+t*d+","+t*g+"A"+t+","+t+" 0 "+h+",0 "+t*u+","+t*c+"Z":"M"+a*u+","+a*c+"A"+a+","+a+" 0 "+h+",1 "+a*d+","+a*g+"L0,0Z"}
var e=ta,i=ea,n=ia,r=na;return t.innerRadius=function(i){return arguments.length?(e=wt(i),t):e},t.outerRadius=function(e){return arguments.length?(i=wt(e),t):i},t.startAngle=function(e){return arguments.length?(n=wt(e),t):n},t.endAngle=function(e){return arguments.length?(r=wt(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+i.apply(this,arguments))/2,a=(n.apply(this,arguments)+r.apply(this,arguments))/2+ml;return[Math.cos(a)*t,Math.sin(a)*t]},t};var ml=-ws,xl=bs-ks;Wa.svg.line=function(){return ra(kt)};var vl=Wa.map({linear:aa,"linear-closed":sa,step:oa,"step-before":la,"step-after":ha,basis:pa,"basis-open":ma,"basis-closed":xa,bundle:va,cardinal:da,"cardinal-open":ua,"cardinal-closed":ca,monotone:Ma});vl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var _l=[0,2/3,1/3,0],yl=[0,1/3,2/3,0],bl=[0,1/6,2/3,1/6];Wa.svg.line.radial=function(){var t=ra(Ta);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},la.reverse=ha,ha.reverse=la,Wa.svg.area=function(){return Sa(kt)},Wa.svg.area.radial=function(){var t=Sa(Ta);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Wa.svg.chord=function(){function t(t,o){var l=e(this,a,t,o),h=e(this,s,t,o);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,h)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,h.r,h.p0)+n(h.r,h.p1,h.a1-h.a0)+r(h.r,h.p1,l.r,l.p0))+"Z"}function e(t,e,i,n){var r=e.call(t,i,n),a=o.call(t,r,n),s=l.call(t,r,n)+ml,u=h.call(t,r,n)+ml;return{r:a,a0:s,a1:u,p0:[a*Math.cos(s),a*Math.sin(s)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,i){return"A"+t+","+t+" 0 "+ +(i>ys)+",1 "+e}function r(t,e,i,n){return"Q 0,0 "+n}var a=gi,s=fi,o=Da,l=ia,h=na;return t.radius=function(e){return arguments.length?(o=wt(e),t):o},t.source=function(e){return arguments.length?(a=wt(e),t):a},t.target=function(e){return arguments.length?(s=wt(e),t):s},t.startAngle=function(e){return arguments.length?(l=wt(e),t):l},t.endAngle=function(e){return arguments.length?(h=wt(e),t):h},t},Wa.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),s=i.call(this,t,r),o=(a.y+s.y)/2,l=[a,{x:a.x,y:o},{x:s.x,y:o},s];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=gi,i=fi,n=Ca;return t.source=function(i){return arguments.length?(e=wt(i),t):e},t.target=function(e){return arguments.length?(i=wt(e),t):i},t.projection=function(e){return arguments.length?(n=e,t):n},t},Wa.svg.diagonal.radial=function(){var t=Wa.svg.diagonal(),e=Ca,i=t.projection;return t.projection=function(t){return arguments.length?i(Aa(e=t)):e},t},Wa.svg.symbol=function(){function t(t,n){return(wl.get(e.call(this,t,n))||La)(i.call(this,t,n))}var e=qa,i=ja;return t.type=function(i){return arguments.length?(e=wt(i),t):e},t.size=function(e){return arguments.length?(i=wt(e),t):i},t};var wl=Wa.map({circle:La,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Sl)),i=e*Sl;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Tl),i=e*Tl/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Tl),i=e*Tl/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});Wa.svg.symbolTypes=wl.keys();var kl,Ml,Tl=Math.sqrt(3),Sl=Math.tan(30*Ts),Dl=[],Cl=0;Dl.call=ds.call,Dl.empty=ds.empty,Dl.node=ds.node,Dl.size=ds.size,Wa.transition=function(t){return arguments.length?kl?t.transition():t:ps.transition()},Wa.transition.prototype=Dl,Dl.select=function(t){var e,i,n,r=this.id,a=[];t=w(t);for(var s=-1,o=this.length;++s<o;){a.push(e=[]);for(var l=this[s],h=-1,u=l.length;++h<u;)(n=l[h])&&(i=t.call(n,n.__data__,h,s))?("__data__"in n&&(i.__data__=n.__data__),Fa(i,h,r,n.__transition__[r]),e.push(i)):e.push(null)}return Ra(a,r)},Dl.selectAll=function(t){var e,i,n,r,a,s=this.id,o=[];t=k(t);for(var l=-1,h=this.length;++l<h;)for(var u=this[l],c=-1,d=u.length;++c<d;)if(n=u[c]){a=n.__transition__[s],i=t.call(n,n.__data__,c,l),o.push(e=[]);for(var g=-1,f=i.length;++g<f;)(r=i[g])&&Fa(r,g,s,a),e.push(r)}return Ra(o,s)},Dl.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=I(t));for(var a=0,s=this.length;a<s;a++){r.push(e=[]);for(var i=this[a],o=0,l=i.length;o<l;o++)(n=i[o])&&t.call(n,n.__data__,o,a)&&e.push(n)}return Ra(r,this.id)},Dl.tween=function(t,e){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(t):F(this,null==e?function(e){e.__transition__[i].tween.remove(t)}:function(n){n.__transition__[i].tween.set(t,e)})},Dl.attr=function(t,e){function i(){this.removeAttribute(o)}function n(){this.removeAttributeNS(o.space,o.local)}function r(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(o);return i!==t&&(e=s(i,t),function(t){this.setAttribute(o,e(t))})})}function a(t){return null==t?n:(t+="",function(){var e,i=this.getAttributeNS(o.space,o.local);return i!==t&&(e=s(i,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Fn:gn,o=Wa.ns.qualify(t);return Ia(this,"attr."+t,e,o.local?a:r)},Dl.attrTween=function(t,e){function i(t,i){var n=e.call(this,t,i,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,i){var n=e.call(this,t,i,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=Wa.ns.qualify(t);return this.tween("attr."+t,r.local?n:i)},Dl.style=function(t,e,i){function n(){this.style.removeProperty(t)}function r(e){return null==e?n:(e+="",function(){var n,r=$a.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(n=gn(r,e),function(e){this.style.setProperty(t,n(e),i)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(i in t)this.style(i,t[i],e);return this}i=""}return Ia(this,"style."+t,e,r)},Dl.styleTween=function(t,e,i){function n(n,r){var a=e.call(this,n,r,$a.getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,n)},Dl.text=function(t){return Ia(this,"text",t,Ea)},Dl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Dl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Wa.ease.apply(Wa,arguments)),F(this,function(i){i.__transition__[e].ease=t}))},Dl.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:F(this,"function"==typeof t?function(i,n,r){i.__transition__[e].delay=+t.call(i,i.__data__,n,r)}:(t=+t,function(i){i.__transition__[e].delay=t}))},Dl.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:F(this,"function"==typeof t?function(i,n,r){i.__transition__[e].duration=Math.max(1,t.call(i,i.__data__,n,r))}:(t=Math.max(1,t),function(i){i.__transition__[e].duration=t}))},Dl.each=function(t,e){var i=this.id;if(arguments.length<2){var n=Ml,r=kl;kl=i,F(this,function(e,n,r){Ml=e.__transition__[i],t.call(e,e.__data__,n,r)}),Ml=n,kl=r}else F(this,function(n){var r=n.__transition__[i];(r.event||(r.event=Wa.dispatch("start","end"))).on(t,e)});return this},Dl.transition=function(){for(var t,e,i,n,r=this.id,a=++Cl,s=[],o=0,l=this.length;o<l;o++){s.push(t=[]);for(var e=this[o],h=0,u=e.length;h<u;h++)(i=e[h])&&(n=Object.create(i.__transition__[r]),n.delay+=n.duration,Fa(i,h,a,n)),t.push(i)}return Ra(s,a)},Wa.svg.axis=function(){function t(t){t.each(function(){var t,h=Wa.select(this),u=this.__chart__||i,c=this.__chart__=i.copy(),d=null==l?c.ticks?c.ticks.apply(c,o):c.domain():l,g=null==e?c.tickFormat?c.tickFormat.apply(c,o):kt:e,f=h.selectAll(".tick").data(d,c),p=f.enter().insert("g",".domain").attr("class","tick").style("opacity",ks),m=Wa.transition(f.exit()).style("opacity",ks).remove(),x=Wa.transition(f.order()).style("opacity",1),v=Rr(c),_=h.selectAll(".domain").data([0]),y=(_.enter().append("path").attr("class","domain"),Wa.transition(_));p.append("line"),p.append("text");var b=p.select("line"),w=x.select("line"),k=f.select("text").text(g),M=p.select("text"),T=x.select("text");switch(n){case"bottom":t=Pa,b.attr("y2",r),M.attr("y",Math.max(r,0)+s),w.attr("x2",0).attr("y2",r),T.attr("x",0).attr("y",Math.max(r,0)+s),k.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+a+"V0H"+v[1]+"V"+a);break;case"top":t=Pa,b.attr("y2",-r),M.attr("y",-(Math.max(r,0)+s)),w.attr("x2",0).attr("y2",-r),T.attr("x",0).attr("y",-(Math.max(r,0)+s)),k.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a);break;case"left":t=Oa,b.attr("x2",-r),M.attr("x",-(Math.max(r,0)+s)),w.attr("x2",-r).attr("y2",0),T.attr("x",-(Math.max(r,0)+s)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a);break;case"right":t=Oa,b.attr("x2",r),M.attr("x",Math.max(r,0)+s),w.attr("x2",r).attr("y2",0),T.attr("x",Math.max(r,0)+s).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+a+","+v[0]+"H0V"+v[1]+"H"+a)}if(c.rangeBand){var S=c,D=S.rangeBand()/2;u=c=function(t){return S(t)+D}}else u.rangeBand?u=c:m.call(t,c);p.call(t,u),x.call(t,c)})}var e,i=Wa.scale.linear(),n=Al,r=6,a=6,s=3,o=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(n=e in jl?e+"":Al,t):n},t.ticks=function(){return arguments.length?(o=arguments,t):o},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(r=+e,a=+arguments[i-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var Al="bottom",jl={top:1,right:1,bottom:1,left:1};Wa.svg.brush=function(){function t(a){a.each(function(){var a=Wa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),s=a.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=a.selectAll(".resize").data(f,kt);o.exit().remove(),o.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",t.empty()?"none":null);var u,c=Wa.transition(a),d=Wa.transition(s);l&&(u=Rr(l),d.attr("x",u[0]).attr("width",u[1]-u[0]),i(c)),h&&(u=Rr(h),d.attr("y",u[0]).attr("height",u[1]-u[0]),n(c)),e(c)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+c[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function n(t){t.select(".extent").attr("y",c[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function r(){function r(){32==Wa.event.keyCode&&(C||(_=null,j[0]-=u[1],j[1]-=c[1],C=2),v())}function f(){32==Wa.event.keyCode&&2==C&&(j[0]+=u[1],j[1]+=c[1],C=0,v())}function p(){var t=Wa.mouse(b),r=!1;y&&(t[0]+=y[0],t[1]+=y[1]),C||(Wa.event.altKey?(_||(_=[(u[0]+u[1])/2,(c[0]+c[1])/2]),j[0]=u[+(t[0]<_[0])],j[1]=c[+(t[1]<_[1])]):_=null),S&&m(t,l,0)&&(i(M),r=!0),D&&m(t,h,1)&&(n(M),r=!0),r&&(e(M),k({type:"brush",mode:C?"move":"resize"}))}function m(t,e,i){var n,r,o=Rr(e),l=o[0],h=o[1],f=j[i],p=i?c:u,m=p[1]-p[0];if(C&&(l-=f,h-=m+f),n=(i?g:d)?Math.max(l,Math.min(h,t[i])):t[i],C?r=(n+=f)+m:(_&&(f=Math.max(l,Math.min(h,2*_[i]-n))),f<n?(r=n,n=f):r=f),p[0]!=n||p[1]!=r)return i?s=null:a=null,p[0]=n,p[1]=r,!0}function x(){p(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Wa.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),k({type:"brushend"})}var _,y,b=this,w=Wa.select(Wa.event.target),k=o.of(b,arguments),M=Wa.select(b),T=w.datum(),S=!/^(n|s)$/.test(T)&&l,D=!/^(e|w)$/.test(T)&&h,C=w.classed("extent"),A=X(),j=Wa.mouse(b),q=Wa.select($a).on("keydown.brush",r).on("keyup.brush",f);if(Wa.event.changedTouches?q.on("touchmove.brush",p).on("touchend.brush",x):q.on("mousemove.brush",p).on("mouseup.brush",x),M.interrupt().selectAll("*").interrupt(),C)j[0]=u[0]-j[0],j[1]=c[0]-j[1];else if(T){var L=+/w$/.test(T),R=+/^n/.test(T);y=[u[1-L]-j[0],c[1-R]-j[1]],j[0]=u[L],j[1]=c[R]}else Wa.event.altKey&&(_=j.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),Wa.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),p()}var a,s,o=y(t,"brushstart","brush","brushend"),l=null,h=null,u=[0,0],c=[0,0],d=!0,g=!0,f=Ll[0];return t.event=function(t){t.each(function(){var t=o.of(this,arguments),e={x:u,y:c,i:a,j:s},i=this.__chart__||e;this.__chart__=e,kl?Wa.select(this).transition().each("start.brush",function(){a=i.i,s=i.j,u=i.x,c=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=fn(u,e.x),n=fn(c,e.y);return a=s=null,function(r){u=e.x=i(r),c=e.y=n(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,f=Ll[!l<<1|!h],t):l},t.y=function(e){return arguments.length?(h=e,f=Ll[!l<<1|!h],t):h},t.clamp=function(e){return arguments.length?(l&&h?(d=!!e[0],g=!!e[1]):l?d=!!e:h&&(g=!!e),t):l&&h?[d,g]:l?d:h?g:null},t.extent=function(e){var i,n,r,o,d;return arguments.length?(l&&(i=e[0],n=e[1],h&&(i=i[0],n=n[0]),a=[i,n],l.invert&&(i=l(i),n=l(n)),n<i&&(d=i,i=n,n=d),i==u[0]&&n==u[1]||(u=[i,n])),h&&(r=e[0],o=e[1],l&&(r=r[1],o=o[1]),s=[r,o],h.invert&&(r=h(r),o=h(o)),o<r&&(d=r,r=o,o=d),r==c[0]&&o==c[1]||(c=[r,o])),t):(l&&(a?(i=a[0],n=a[1]):(i=u[0],n=u[1],l.invert&&(i=l.invert(i),n=l.invert(n)),n<i&&(d=i,i=n,n=d))),h&&(s?(r=s[0],o=s[1]):(r=c[0],o=c[1],h.invert&&(r=h.invert(r),o=h.invert(o)),o<r&&(d=r,r=o,o=d))),l&&h?[[i,r],[n,o]]:l?[i,n]:h&&[r,o])},t.clear=function(){return t.empty()||(u=[0,0],c=[0,0],a=s=null),t},t.empty=function(){return!!l&&u[0]==u[1]||!!h&&c[0]==c[1]},Wa.rebind(t,o,"on")};var ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ll=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Rl=Zs.format=no.timeFormat,Il=Rl.utc,El=Il("%Y-%m-%dT%H:%M:%S.%LZ");Rl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ha:El,Ha.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ha.toString=El.toString,Zs.second=Et(function(t){return new Qs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Zs.seconds=Zs.second.range,Zs.seconds.utc=Zs.second.utc.range,Zs.minute=Et(function(t){return new Qs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Zs.minutes=Zs.minute.range,Zs.minutes.utc=Zs.minute.utc.range,Zs.hour=Et(function(t){var e=t.getTimezoneOffset()/60;return new Qs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Zs.hours=Zs.hour.range,Zs.hours.utc=Zs.hour.utc.range,Zs.month=Et(function(t){return t=Zs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Zs.months=Zs.month.range,Zs.months.utc=Zs.month.utc.range;var Fl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Pl=[[Zs.second,1],[Zs.second,5],[Zs.second,15],[Zs.second,30],[Zs.minute,1],[Zs.minute,5],[Zs.minute,15],[Zs.minute,30],[Zs.hour,1],[Zs.hour,3],[Zs.hour,6],[Zs.hour,12],[Zs.day,1],[Zs.day,2],[Zs.week,1],[Zs.month,1],[Zs.month,3],[Zs.year,1]],Ol=Rl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ke]]),Hl={range:function(t,e,i){return Wa.range(Math.ceil(t/i)*i,+e,i).map(za)},floor:kt,ceil:kt};Pl.year=Zs.year,Zs.scale=function(){return Na(Wa.scale.linear(),Pl,Ol)};var Nl=Pl.map(function(t){return[t[0].utc,t[1]]}),zl=Il.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ke]]);Nl.year=Zs.year.utc,Zs.scale.utc=function(){return Na(Wa.scale.linear(),Nl,zl)},Wa.text=Mt(function(t){return t.responseText}),Wa.json=function(t,e){return Tt(t,"application/json",Ba,e)},Wa.html=function(t,e){return Tt(t,"text/html",Xa,e)},Wa.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Wa):"object"==typeof module&&module.exports&&(module.exports=Wa),this.d3=Wa}(),function(t){"use strict";function e(t){var e=this.internal=new i(this);e.loadConfig(t),e.init(),function t(e,i,n){for(var r in e)i[r]=e[r].bind(n),Object.keys(e[r]).length>0&&t(e[r],i[r],n)}(r,this,this)}function i(e){var i=this;i.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):undefined,i.api=e,i.config=i.getDefaultConfig(),i.data={},i.cache={},i.axes={}}function n(t,e){function i(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+v)+", 0)"})}function n(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function a(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,u);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return n.length>0&&n[0]>0&&n.unshift(n[0]-(n[1]-n[0])),n}function s(){var t,i=d.copy();return e&&(t=d.domain(),i.domain([t[0],t[1]-1])),i}function o(t){return h?h(t):t}function l(l){l.each(function(){function l(t){var e=d(t)+v;return D[0]<e&&e<D[1]?f:0}var h,u,_=t.select(this),y=this.__chart__||d,b=this.__chart__=s(),w=x||a(b),k=_.selectAll(".tick").data(w,b),M=k.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),T=k.exit().remove(),S=t.transition(k).style("opacity",1),D=d.rangeExtent?d.rangeExtent():r(d.range()),C=_.selectAll(".domain").data([0]),A=(C.enter().append("path").attr("class","domain"),t.transition(C));M.append("line"),M.append("text");var j=M.select("line"),q=S.select("line"),L=k.select("text").text(o),R=M.select("text"),I=S.select("text");switch(e?(v=Math.ceil((b(1)-b(0))/2),u=c?0:v):v=u=0,g){case"bottom":h=i,j.attr("y2",f),R.attr("y",Math.max(f,0)+m),q.attr("x1",u).attr("x2",u).attr("y2",l),I.attr("x",0).attr("y",Math.max(f,0)+m),L.attr("dy",".71em").style("text-anchor","middle"),A.attr("d","M"+D[0]+","+p+"V0H"+D[1]+"V"+p);break;case"top":h=i,j.attr("y2",-f),R.attr("y",-(Math.max(f,0)+m)),q.attr("x2",0).attr("y2",-f),I.attr("x",0).attr("y",-(Math.max(f,0)+m)),L.attr("dy","0em").style("text-anchor","middle"),A.attr("d","M"+D[0]+","+-p+"V0H"+D[1]+"V"+-p);break;case"left":h=n,j.attr("x2",-f),R.attr("x",-(Math.max(f,0)+m)),q.attr("x2",-f).attr("y2",0),I.attr("x",-(Math.max(f,0)+m)).attr("y",v),L.attr("dy",".32em").style("text-anchor","end"),A.attr("d","M"+-p+","+D[0]+"H0V"+D[1]+"H"+-p);break;case"right":h=n,j.attr("x2",f),R.attr("x",Math.max(f,0)+m),q.attr("x2",f).attr("y2",0),I.attr("x",Math.max(f,0)+m).attr("y",0),L.attr("dy",".32em").style("text-anchor","start"),A.attr("d","M"+p+","+D[0]+"H0V"+D[1]+"H"+p)}if(b.rangeBand){var E=b,F=E.rangeBand()/2;y=b=function(t){return E(t)+F}}else y.rangeBand?y=b:T.call(h,b);M.call(h,y),S.call(h,b)})}var h,u,c,d=t.scale.linear(),g="bottom",f=6,p=6,m=3,x=null,v=0,_=!0;return l.scale=function(t){return arguments.length?(d=t,l):d},l.orient=function(t){return arguments.length?(g=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",l):g},l.tickFormat=function(t){return arguments.length?(h=t,l):h},l.tickCentered=function(t){return arguments.length?(c=t,l):c},l.tickOffset=function(){return v},l.ticks=function(){return arguments.length?(u=arguments,l):u},l.tickCulling=function(t){return arguments.length?(_=t,l):_},l.tickValues=function(t){if("function"==typeof t)x=function(){return t(d.domain())};else{if(!arguments.length)return x;x=t}return l},l}var r,a,s={version:"0.3.0"};s.generate=function(t){return new e(t)},s.chart={fn:e.prototype,internal:{fn:i.prototype}},r=s.chart.fn,a=s.chart.internal.fn,a.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},a.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.dragStart=null,t.dragging=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=i.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=i.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.xOrient=i.axis_rotated?"left":"bottom",t.yOrient=i.axis_rotated?"bottom":"left",t.y2Orient=i.axis_rotated?"top":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.legendOpacityForHidden=.15,t.currentMaxTickWidth=0,t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.axes.subx=e.selectAll([])},a.initWithData=function(e){var i,n=this,r=n.d3,a=n.config,s=!0;n.initPie&&n.initPie(),n.initBrush&&n.initBrush(),n.initZoom&&n.initZoom(),n.selectChart=r.select(a.bindto),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement("div")).style("opacity",0),n.observeInserted(n.selectChart),s=!1),n.selectChart.html("").classed("c3",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(e),a.data_filter&&(n.data.targets=n.data.targets.filter(a.data_filter)),a.data_hide&&n.addHiddenTargetIds(!0===a.data_hide?n.mapToIds(n.data.targets):a.data_hide),n.hasType("gauge")&&(a.legend_show=!1),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,"y")),n.y2.domain(n.getYDomain(n.data.targets,"y2")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.brush&&n.brush.scale(n.subX),a.zoom_enabled&&n.zoom.scale(n.x),n.svg=n.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(n)}).on("mouseleave",function(){return a.onmouseout.call(n)}),n.defs=n.svg.append("defs"),n.defs.append("clipPath").attr("id",n.clipId).append("rect"),n.defs.append("clipPath").attr("id",n.clipIdForXAxis).append("rect"),n.defs.append("clipPath").attr("id",n.clipIdForYAxis).append("rect"),n.updateSvgSize(),i=n.main=n.svg.append("g").attr("transform",n.getTranslate("main")),n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),i.append("text").attr("class",o.text+" "+o.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),n.initRegion(),n.initGrid(),i.append("g").attr("clip-path",n.clipPath).attr("class",o.chart),a.grid_lines_front&&n.initGridLines(),n.initEventRect(),n.initBar&&n.initBar(),n.initLine&&n.initLine(),n.initArc&&n.initArc(),n.initGauge&&n.initGauge(),n.initText&&n.initText(),i.insert("rect",a.zoom_privileged?null:"g."+o.regions).attr("class",o.zoomRect).attr("width",n.width).attr("height",n.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_default&&n.brush.extent(h(a.axis_x_default)?a.axis_x_default(n.getXDomain()):a.axis_x_default),n.initAxis(),n.updateTargets(n.data.targets),s&&(n.updateDimension(),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==t.onresize&&(t.onresize=n.generateResize()),t.onresize.add&&(t.onresize.add(function(){a.onresize.call(n)}),t.onresize.add(function(){n.api.flush()}),t.onresize.add(function(){a.onresized.call(n)})),n.api.element=n.selectChart.node()},a.smoothLines=function(t,e){var i=this;"grid"===e&&t.each(function(){var t=i.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),r=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(r),y2:Math.ceil(a)})})},a.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,a=t.hasArcType(),s=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),o=e.subchart_show&&!a?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:o+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:s+o+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-o-r,right:NaN,bottom:s+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},a.updateTargets=function(t){var e=this,i=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.svg.selectAll("."+o.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(i.transition_duration).style("opacity",1)},a.redraw=function(t,e){var i,n,r,a,s,l,h,u,c,d,g,f,p,m,x,_,y,b,w,k,M,T,S=this,D=S.main,C=S.d3,A=S.config,j=S.getShapeIndices(S.isAreaType),q=S.getShapeIndices(S.isBarType),L=S.getShapeIndices(S.isLineType),R=S.hasArcType(),I=S.filterTargetsToShow(S.data.targets),E=S.xv.bind(S),F=(S.config.axis_rotated?S.circleY:S.circleX).bind(S),P=(S.config.axis_rotated?S.circleX:S.circleY).bind(S);if(t=t||{},i=v(t,"withY",!0),n=v(t,"withSubchart",!0),r=v(t,"withTransition",!0),l=v(t,"withTransform",!1),h=v(t,"withUpdateXDomain",!1),u=v(t,"withUpdateOrgXDomain",!1),c=v(t,"withLegend",!1),a=v(t,"withTransitionForExit",r),s=v(t,"withTransitionForAxis",r),x=r?A.transition_duration:0,_=a?x:0,y=s?x:0,e=e||S.generateAxisTransitions(y),c&&A.legend_show&&S.updateLegend(S.mapToIds(S.data.targets),t,e),S.isCategorized()&&0===I.length&&S.x.domain([0,S.axes.x.selectAll(".tick").size()]),I.length?(S.updateXDomain(I,h,u),A.axis_x_tick_values||!A.axis_x_tick_fit&&!A.axis_x_tick_count||(k=S.generateTickValues(S.mapTargetsToUniqueXs(I),A.axis_x_tick_count),S.xAxis.tickValues(k),S.subXAxis.tickValues(k))):(S.xAxis.tickValues([]),S.subXAxis.tickValues([])),S.y.domain(S.getYDomain(I,"y")),S.y2.domain(S.getYDomain(I,"y2")),S.redrawAxis(e,R),S.updateAxisLabels(r),h&&I.length)if(A.axis_x_tick_culling&&k){for(M=1;M<k.length;M++)if(k.length/M<A.axis_x_tick_culling_max){T=M;break}S.svg.selectAll("."+o.axisX+" .tick text").each(function(t){var e=k.indexOf(t);e>=0&&C.select(this).style("display",e%T?"none":"block")})}else S.svg.selectAll("."+o.axisX+" .tick text").style("display","block");!A.axis_rotated&&A.axis_x_tick_rotate&&S.rotateTickText(S.axes.x,e.axisX,A.axis_x_tick_rotate),d=S.generateDrawArea?S.generateDrawArea(j,!1):undefined,g=S.generateDrawBar?S.generateDrawBar(q):undefined,f=S.generateDrawLine?S.generateDrawLine(L,!1):undefined,p=S.generateXYForText(j,q,L,!0),m=S.generateXYForText(j,q,L,!1),S.subY.domain(S.y.domain()),S.subY2.domain(S.y2.domain()),S.tooltip.style("display","none"),S.updateXgridFocus(),D.select("text."+o.text+"."+o.empty).attr("x",S.width/2).attr("y",S.height/2).text(A.data_empty_label_text).transition().style("opacity",I.length?0:1),S.redrawGrid(x,i),S.redrawRegion(x),S.redrawBar(_),S.redrawLine(_),S.redrawArea(_),A.point_show&&S.redrawCircle(),S.hasDataLabel()&&S.redrawText(_),S.redrawArc&&S.redrawArc(x,_,l),S.redrawSubchart&&S.redrawSubchart(n,e,x,_,j,q,L),D.selectAll("."+o.selectedCircles).filter(S.isBarType.bind(S)).selectAll("circle").remove(),A.interaction_enabled&&S.redrawEventRect(),C.transition().duration(x).each(function(){var e=[];S.addTransitionForBar(e,g),S.addTransitionForLine(e,f),S.addTransitionForArea(e,d),A.point_show&&S.addTransitionForCircle(e,F,P),S.addTransitionForText(e,p,m,t.flow),S.addTransitionForRegion(e),S.addTransitionForGrid(e),t.flow&&(b=S.generateWait(),e.forEach(function(t){b.add(t)}),w=S.generateFlow({targets:I,flow:t.flow,duration:x,drawBar:g,drawLine:f,drawArea:d,cx:F,cy:P,xv:E,xForText:p,yForText:m}))}).call(b||function(){},w||function(){}),S.mapToIds(S.data.targets).forEach(function(t){S.withoutFadeIn[t]=!0}),S.updateZoom&&S.updateZoom()},a.updateAndRedraw=function(t){var e,i=this,n=i.config;t=t||{},t.withTransition=v(t,"withTransition",!0),t.withTransform=v(t,"withTransform",!1),t.withLegend=v(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=v(t,"withTransitionForTransform",t.withTransition),i.updateSizes(),t.withLegend&&n.legend_show||(e=i.generateAxisTransitions(t.withTransitionForAxis?n.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)},a.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},a.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},a.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||x(e.data_xs))},a.getTranslate=function(t){var e,i,n=this,r=n.config;return"main"===t?(e=f(n.margin.left),i=f(n.margin.top)):"context"===t?(e=f(n.margin2.left),i=f(n.margin2.top)):"legend"===t?(e=n.margin3.left,i=n.margin3.top):"x"===t?(e=0,i=r.axis_rotated?0:n.height):"y"===t?(e=0,i=r.axis_rotated?n.height:0):"y2"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):"subx"===t?(e=0,
i=r.axis_rotated?0:n.height2):"arc"===t&&(e=n.arcWidth/2,i=n.arcHeight/2),"translate("+e+","+i+")"},a.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},a.opacityForCircle=function(t){var e=this;return l(t.value)?e.isScatterType(t)?.5:1:0},a.opacityForText=function(){return this.hasDataLabel()?1:0},a.xx=function(t){return t?this.x(t.x):null},a.xv=function(t){var e=this;return Math.ceil(e.x(e.isTimeSeries()?e.parseDate(t.value):t.value))},a.yv=function(t){var e=this,i=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(i(t.value))},a.subxx=function(t){return t?this.subX(t.x):null},a.transformMain=function(t,e){var i,n,r,a=this;e&&e.axisX?i=e.axisX:(i=a.main.select("."+o.axisX),t&&(i=i.transition())),e&&e.axisY?n=e.axisY:(n=a.main.select("."+o.axisY),t&&(n=n.transition())),e&&e.axisY2?r=e.axisY2:(r=a.main.select("."+o.axisY2),t&&(r=r.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),i.attr("transform",a.getTranslate("x")),n.attr("transform",a.getTranslate("y")),r.attr("transform",a.getTranslate("y2")),a.main.select("."+o.chartArcs).attr("transform",a.getTranslate("arc"))},a.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},a.updateSvgSize=function(){var t=this;t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.select("#"+t.clipId).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("."+o.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},a.updateDimension=function(){var t=this;t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis)),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},a.observeInserted=function(e){var i=this,n=new MutationObserver(function(r){r.forEach(function(r){if("childList"===r.type&&r.previousSibling){n.disconnect();var a=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(a),i.updateDimension(),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10)}})});n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},a.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t},a.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){--i||e.apply(this,arguments)})},a.generateWait=function(){var t=[],e=function(e,i){var n=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(n),i&&i())},10)};return e.add=function(e){t.push(e)},e},a.parseDate=function(e){var i,n=this;return i=e instanceof Date?e:"number"==typeof e?new Date(e):n.dataTimeFormat(n.config.data_xFormat).parse(e),i&&!isNaN(+i)||t.console.error("Failed to parse x '"+e+"' to Date object"),i},a.getDefaultConfig=function(){var t={bindto:"#chart",size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_onzoom:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_ondragstart:function(){},data_ondragend:function(){},data_url:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:undefined,axis_x_tick_outer:!0,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_default:undefined,axis_x_label:{},axis_y_show:!0,axis_y_max:undefined,axis_y_min:undefined,axis_y_center:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_padding:{},axis_y_ticks:10,axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_center:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_padding:{},axis_y2_ticks:10,axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connect_null:!1,bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_sort:!0,pie_expand:!0,gauge_label_show:!0,gauge_label_format:undefined,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:undefined,gauge_width:undefined,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_width:undefined,donut_sort:!0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},a.additionalConfig={},a.loadConfig=function(t){function e(){var t=n.shift();return t&&i&&"object"==typeof i&&t in i?(i=i[t],e()):t?undefined:i}var i,n,r,a=this.config;Object.keys(a).forEach(function(s){i=t,n=s.split("_"),r=e(),d(r)&&(a[s]=r)})},a.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},a.getX=function(t,e,i,n){var r,a=this,s=a.getScale(t,e,a.isTimeSeries()),o=i?s.domain(i):s;a.isCategorized()?(n=n||function(){return 0},s=function(t,e){var i=o(t)+n(t);return e?i:Math.ceil(i)}):s=function(t,e){var i=o(t);return e?i:Math.ceil(i)};for(r in o)s[r]=o[r];return s.orgDomain=function(){return o.domain()},a.isCategorized()&&(s.domain=function(t){return arguments.length?(o.domain(t),s):(t=this.orgDomain(),[t[0],t[1]+1])}),s},a.getY=function(t,e,i){var n=this.getScale(t,e);return i&&n.domain(i),n},a.getYScale=function(t){return"y2"===this.getAxisId(t)?this.y2:this.y},a.getSubYScale=function(t){return"y2"===this.getAxisId(t)?this.subY2:this.subY},a.updateScales=function(){var t=this,e=t.config,i=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,i?undefined:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,i?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,i?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,i?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,i?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.getXAxisTickFormat(),t.xAxisTickValues=e.axis_x_tick_values?e.axis_x_tick_values:i?undefined:t.xAxis.tickValues(),t.xAxis=t.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues),t.subXAxis=t.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues),t.yAxis=t.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,e.axis_y_ticks),t.y2Axis=t.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,e.axis_y2_ticks),i||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},a.getYDomainMin=function(t){var e,i,n,r,a,s,o=this,l=o.config,h=o.mapToIds(t),u=o.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=o.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return h.indexOf(t)>=0}),0!==r.length)for(n=r[0],s&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t<0?t:0}),i=1;i<r.length;i++)a=r[i],u[a]&&u[a].forEach(function(t,e){o.getAxisId(a)!==o.getAxisId(n)||!u[n]||s&&+t>0||(u[n][e]+=+t)});return o.d3.min(Object.keys(u).map(function(t){return o.d3.min(u[t])}))},a.getYDomainMax=function(t){var e,i,n,r,a,s,o=this,l=o.config,h=o.mapToIds(t),u=o.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=o.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return h.indexOf(t)>=0}),0!==r.length)for(n=r[0],s&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t>0?t:0}),i=1;i<r.length;i++)a=r[i],u[a]&&u[a].forEach(function(t,e){o.getAxisId(a)!==o.getAxisId(n)||!u[n]||s&&+t<0||(u[n][e]+=+t)});return o.d3.max(Object.keys(u).map(function(t){return o.d3.max(u[t])}))},a.getYDomain=function(t,e){var i,n,r,a,s,o,h,u,c,d,g=this,f=g.config,m=t.filter(function(t){return g.getAxisId(t.id)===e}),v="y2"===e?f.axis_y2_min:f.axis_y_min,_="y2"===e?f.axis_y2_max:f.axis_y_max,y=l(v)?v:g.getYDomainMin(m),b=l(_)?_:g.getYDomainMax(m),w="y2"===e?f.axis_y2_center:f.axis_y_center,k=g.hasType("bar",m)&&f.bar_zerobased||g.hasType("area",m)&&f.area_zerobased,M=g.hasDataLabel()&&f.axis_rotated,T=g.hasDataLabel()&&!f.axis_rotated;return 0===m.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN(y)&&(y=0),isNaN(b)&&(b=y),y===b&&(y<0?b=0:y=0),c=y>=0&&b>=0,d=y<=0&&b<=0,(l(v)&&c||l(_)&&d)&&(k=!1),k&&(c&&(y=0),d&&(b=0)),i=Math.abs(b-y),n=r=a=.1*i,w&&(s=Math.max(Math.abs(y),Math.abs(b)),b=s-w,y=w-s),M?(o=g.getDataLabelLength(y,b,e,"width"),h=p(g.y.range()),u=[o[0]/h,o[1]/h],r+=i*(u[1]/(1-u[0]-u[1])),a+=i*(u[0]/(1-u[0]-u[1]))):T&&(o=g.getDataLabelLength(y,b,e,"height"),r+=o[1],a+=o[0]),"y"===e&&x(f.axis_y_padding)&&(r=g.getAxisPadding(f.axis_y_padding,"top",n,i),a=g.getAxisPadding(f.axis_y_padding,"bottom",n,i)),"y2"===e&&x(f.axis_y2_padding)&&(r=g.getAxisPadding(f.axis_y2_padding,"top",n,i),a=g.getAxisPadding(f.axis_y2_padding,"bottom",n,i)),k&&(c&&(a=y),d&&(r=-b)),[y-a,b+r])},a.getXDomainMin=function(t){var e=this,i=e.config;return d(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},a.getXDomainMax=function(t){var e=this,i=e.config;return d(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},a.getXDomainPadding=function(t){var e,i,n,r,a=this,s=a.config,o=this.getEdgeX(t),h=o[1]-o[0];return a.isCategorized()?i=0:a.hasType("bar",t)?(e=a.getMaxDataCount(),i=e>1?h/(e-1)/2:.5):i=.01*h,"object"==typeof s.axis_x_padding&&x(s.axis_x_padding)?(n=l(s.axis_x_padding.left)?s.axis_x_padding.left:i,r=l(s.axis_x_padding.right)?s.axis_x_padding.right:i):n=r="number"==typeof s.axis_x_padding?s.axis_x_padding:i,{left:n,right:r}},a.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],r=i[1],a=e.getXDomainPadding(t),s=0,o=0;return n-r!=0||e.isCategorized()||(n=e.isTimeSeries()?new Date(.5*n.getTime()):-.5,r=e.isTimeSeries()?new Date(1.5*r.getTime()):.5),(n||0===n)&&(s=e.isTimeSeries()?new Date(n.getTime()-a.left):n-a.left),(r||0===r)&&(o=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[s,o]},a.updateXDomain=function(t,e,i,n){var r=this,a=r.config;return i&&(r.x.domain(n||r.d3.extent(r.getXDomain(t))),r.orgXDomain=r.x.domain(),a.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent(),r.subX.domain(r.x.domain()),r.brush&&r.brush.scale(r.subX)),e&&(r.x.domain(n||(!r.brush||r.brush.empty()?r.orgXDomain:r.brush.extent())),a.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent()),r.x.domain()},a.isX=function(t){var e=this,i=e.config;return i.data_x&&t===i.data_x||x(i.data_xs)&&_(i.data_xs,t)},a.isNotX=function(t){return!this.isX(t)},a.getXKey=function(t){var e=this,i=e.config;return i.data_x?i.data_x:x(i.data_xs)?i.data_xs[t]:null},a.getXValuesOfXKey=function(t,e){var i,n=this;return(e&&x(e)?n.mapToIds(e):[]).forEach(function(e){n.getXKey(e)===t&&(i=n.data.xs[e])}),i},a.getIndexByX=function(t){var e=this,i=e.filterByX(e.data.targets,t);return i.length?i[0].index:null},a.getXValue=function(t,e){var i=this;return t in i.data.xs&&i.data.xs[t]&&l(i.data.xs[t][e])?i.data.xs[t][e]:e},a.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},a.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},a.addXs=function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})},a.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},a.isMultipleX=function(){var t=this,e=t.config;return x(e.data_xs)&&t.hasMultipleX(e.data_xs)},a.addName=function(t){var e,i=this;return t&&(e=i.config.data_names[t.id],t.name=e||t.id),t},a.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},a.updateTargetX=function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,r){n.x=i.generateTargetX(e[r],t.id,r)}),i.data.xs[t.id]=e})},a.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},a.generateTargetX=function(t,e,i){var n=this;return n.isTimeSeries()?t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?l(t)?+t:n.getXValue(e,i):i},a.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},a.getPrevX=function(t){var e=this,i=e.getValueOnIndex(e.data.targets[0].values,t-1);return i?i.x:null},a.getNextX=function(t){var e=this,i=e.getValueOnIndex(e.data.targets[0].values,t+1);return i?i.x:null},a.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},a.getMaxDataCountTarget=function(t){var e,i=t.length,n=0;return i>1?t.forEach(function(t){t.values.length>n&&(e=t,n=t.values.length)}):e=i?t[0]:null,e},a.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},a.mapToIds=function(t){return t.map(function(t){return t.id})},a.mapToTargetIds=function(t){var e=this;return t?u(t)?[t]:t:e.mapToIds(e.data.targets)},a.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},a.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},a.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},a.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},a.mapTargetsToUniqueXs=function(t){var e=this,i=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return t.x})}))).values();return e.isTimeSeries()?i.map(function(t){return new Date(t)}):i.map(function(t){return+t})},a.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},a.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},a.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},a.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},a.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(i){e[t.id].push(i.value)})}),e},a.checkValueInTargets=function(t,e){var i,n,r,a=Object.keys(t);for(i=0;i<a.length;i++)for(r=t[a[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},a.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},a.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},a.isOrderDesc=function(){var t=this.config;return t.data_order&&"desc"===t.data_order.toLowerCase()},a.isOrderAsc=function(){var t=this.config;return t.data_order&&"asc"===t.data_order.toLowerCase()},a.orderTargets=function(t){var e=this,i=e.config,n=e.isOrderAsc(),r=e.isOrderDesc();return n||r?t.sort(function(t,e){var i=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(i,0),a=e.values.reduce(i,0);return n?a-r:r-a}):h(i.data_order)&&t.sort(i.data_order),t},a.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},a.filterRemoveNull=function(t){return t.filter(function(t){return l(t.value)})},a.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!x(t.data_labels))},a.getDataLabelLength=function(t,e,i,n){var r=this,a=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return r.formatByAxisId(i)(t)}).each(function(t,e){a[e]=1.3*this.getBoundingClientRect()[n]}).remove(),a},a.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},a.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},a.findSameXOfValues=function(t,e){var i,n=t[e].x,r=[];for(i=e-1;i>=0&&n===t[i].x;i--)r.push(t[i]);for(i=e;i<t.length&&n===t[i].x;i++)r.push(t[i]);return r},a.findClosestOfValues=function(t,e,i,n){var r,a=this,s=i||0,o=n||t.length-1,l=Math.floor((o-s)/2)+s,h=t[l],u=a.x(h.x)-e[a.config.axis_rotated?1:0];return u>0?o=l:s=l,o-s==1||0===s&&0===o?(r=[],(t[s].x||0===t[s].x)&&(r=r.concat(a.findSameXOfValues(t,s))),(t[o].x||0===t[o].x)&&(r=r.concat(a.findSameXOfValues(t,o))),a.findClosest(r,e)):a.findClosestOfValues(t,e,s,o)},a.findClosestFromTargets=function(t,e){var i,n=this;return i=t.map(function(t){return n.findClosestOfValues(t.values,e)}),n.findClosest(i,e)},a.findClosest=function(t,e){var i,n,r=this;return t.forEach(function(t){var a=r.dist(t,e);(a<i||!i)&&(i=a,n=t)}),n},a.dist=function(t,e){var i=this,n=i.config,r="y"===i.getAxisId(t.id)?i.y:i.y2,a=n.axis_rotated?1:0,s=n.axis_rotated?0:1;return Math.pow(i.x(t.x)-e[a],2)+Math.pow(r(t.value)-e[s],2)},a.convertUrlToData=function(t,e,i,n){var r=this,a=e||"csv";r.d3.xhr(t,function(t,e){var s;s="json"===a?r.convertJsonToData(JSON.parse(e.response),i):r.convertCsvToData(e.response),n.call(r,s)})},a.convertCsvToData=function(t){var e,i=this.d3,n=i.csv.parseRows(t);return 1===n.length?(e=[{}],n[0].forEach(function(t){e[0][t]=null})):e=i.csv.parse(t),e},a.convertJsonToData=function(t,e){var i,n,r=this,a=[];return e?(i=e.value,e.x&&(i.push(e.x),r.config.data_x=e.x),a.push(i),t.forEach(function(t){var e=[];i.forEach(function(i){var n=c(t[i])?null:t[i];e.push(n)}),a.push(e)}),n=r.convertRowsToData(a)):(Object.keys(t).forEach(function(e){a.push([e].concat(t[e]))}),n=r.convertColumnsToData(a)),n},a.convertRowsToData=function(t){var e,i,n=t[0],r={},a=[];for(e=1;e<t.length;e++){for(r={},i=0;i<t[e].length;i++){if(c(t[e][i]))throw new Error("Source data is missing a component at ("+e+","+i+")!");r[n[i]]=t[e][i]}a.push(r)}return a},a.convertColumnsToData=function(t){var e,i,n,r=[];for(e=0;e<t.length;e++)for(n=t[e][0],i=1;i<t[e].length;i++){if(c(r[i-1])&&(r[i-1]={}),c(t[e][i]))throw new Error("Source data is missing a component at ("+e+","+i+")!");r[i-1][n]=t[e][i]}return r},a.convertDataToTargets=function(t,e){var i,n=this,r=n.config,a=n.d3.keys(t[0]).filter(n.isNotX,n),s=n.d3.keys(t[0]).filter(n.isX,n);return a.forEach(function(i){var a=n.getXKey(i);n.isCustomX()||n.isTimeSeries()?s.indexOf(a)>=0?n.data.xs[i]=(e&&n.data.xs[i]?n.data.xs[i]:[]).concat(t.map(function(t){return t[a]}).filter(l).map(function(t,e){return n.generateTargetX(t,i,e)})):r.data_x?n.data.xs[i]=n.getOtherTargetXs():x(r.data_xs)&&(n.data.xs[i]=n.getXValuesOfXKey(a,n.data.targets)):n.data.xs[i]=t.map(function(t,e){return e})}),a.forEach(function(t){if(!n.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),i=a.map(function(e,i){var a=r.data_idConverter(e);return{id:a,id_org:e,values:t.map(function(t,s){var o=n.getXKey(e),l=t[o],h=n.generateTargetX(l,e,s);return n.isCustomX()&&n.isCategorized()&&0===i&&l&&(0===s&&(r.axis_x_categories=[]),r.axis_x_categories.push(l)),(c(t[e])||n.data.xs[e].length<=s)&&(h=undefined),{x:h,value:null===t[e]||isNaN(t[e])?null:+t[e],id:a}}).filter(function(t){return d(t.x)})}}),i.forEach(function(t){var e;t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)}),e=0,t.values.forEach(function(t){t.index=e++}),n.data.xs[t.id].sort(function(t,e){return t-e})}),r.data_type&&n.setTargetType(n.mapToIds(i).filter(function(t){return!(t in r.data_types)}),r.data_type),i.forEach(function(t){n.addCache(t.id_org,t)}),i},a.load=function(t,e){var i=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){i.setTargetType(t.id,e.types?e.types[t.id]:e.type)}),i.data.targets.forEach(function(e){for(var i=0;i<t.length;i++)if(e.id===t[i].id){e.values=t[i].values,t.splice(i,1);break}}),i.data.targets=i.data.targets.concat(t)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},a.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(i){e.load(e.convertDataToTargets(i),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},a.unload=function(t,e){var i=this;if(e||(e=function(){}),!(t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}))||0===t.length)return void e();i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style("opacity",0).remove().call(i.endall,e),t.forEach(function(t){i.withoutFadeIn[t]=!1,i.legend&&i.legend.selectAll("."+o.legendItem+i.getTargetSelectorSuffix(t)).remove(),i.data.targets=i.data.targets.filter(function(e){return e.id!==t})})},a.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},a.initEventRect=function(){this.main.select("."+o.chart).append("g").attr("class",o.eventRects).style("fill-opacity",0)},a.redrawEventRect=function(){var t,e,i=this,n=i.config,r=i.isMultipleX(),a=i.main.select("."+o.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null).classed(o.eventRectsMultiple,r).classed(o.eventRectsSingle,!r);a.selectAll("."+o.eventRect).remove(),i.eventRect=a.selectAll("."+o.eventRect),r?(t=i.eventRect.data([0]),i.generateEventRectsForMultipleXs(t.enter()),i.updateEventRect(t)):(e=i.getMaxDataCountTarget(i.data.targets),a.datum(e?e.values:[]),i.eventRect=a.selectAll("."+o.eventRect),t=i.eventRect.data(function(t){return t}),i.generateEventRectsForSingleX(t.enter()),i.updateEventRect(t),t.exit().remove())},a.updateEventRect=function(t){var e,i,n,r,a,s,o=this,l=o.config;t=t||o.eventRect.data(function(t){return t}),o.isMultipleX()?(e=0,i=0,n=o.width,r=o.height):(!o.isCustomX()&&!o.isTimeSeries()||o.isCategorized()?(a=o.getEventRectWidth(),s=function(t){return o.x(t.x)-a/2}):(a=function(t){var e=o.getPrevX(t.index),i=o.getNextX(t.index),n=o.data.xs[t.id][t.index],r=(o.x(i||n)-o.x(e||n))/2;return r<0?0:r},s=function(t){var e=o.getPrevX(t.index),i=o.data.xs[t.id][t.index];return(o.x(i)+o.x(e||i))/2}),e=l.axis_rotated?0:s,i=l.axis_rotated?s:0,n=l.axis_rotated?o.width:a,r=l.axis_rotated?a:o.height),t.attr("class",o.classEvent.bind(o)).attr("x",e).attr("y",i).attr("width",n).attr("height",r)},a.generateEventRectsForSingleX=function(t){var e=this,i=e.d3,n=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("mouseover",function(t){var i,r,a=t.index;e.dragging||e.hasArcType()||(i=e.data.targets.map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),r=[],Object.keys(n.data_names).forEach(function(t){for(var e=0;e<i.length;e++)if(i[e]&&i[e].id===t){r.push(i[e]),i.shift(e);break}}),i=r.concat(i),n.point_focus_expand_enabled&&e.expandCircles(a,null,!0),e.expandBars(a,null,!0),e.main.selectAll("."+o.shape+"-"+a).each(function(t){n.data_onmouseover.call(e,t)}))}).on("mouseout",function(t){var i=t.index;e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+o.shape+"-"+i).each(function(t){n.data_onmouseout.call(e,t)}))}).on("mousemove",function(t){var r,a=t.index,s=e.svg.select("."+o.eventRect+"-"+a);e.dragging||e.hasArcType()||(e.isStepType(t)&&i.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),n.tooltip_grouped&&(e.showTooltip(r,i.mouse(this)),e.showXGridFocus(r)),(!n.tooltip_grouped||n.data_selection_enabled&&!n.data_selection_grouped)&&e.main.selectAll("."+o.shape+"-"+a).each(function(){i.select(this).classed(o.EXPANDED,!0),n.data_selection_enabled&&s.style("cursor",n.data_selection_grouped?"pointer":null),n.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),n.data_selection_grouped||(e.unexpandCircles(a),e.unexpandBars(a)))}).filter(function(t){return"circle"===this.nodeName?e.isWithinCircle(this,e.pointSelectR(t)):"path"===this.nodeName?e.isWithinBar(this):void 0}).each(function(t){n.data_selection_enabled&&(n.data_selection_grouped||n.data_selection_isselectable(t))&&s.style("cursor","pointer"),n.tooltip_grouped||(e.showTooltip([t],i.mouse(this)),e.showXGridFocus([t]),n.point_focus_expand_enabled&&e.expandCircles(a,t.id,!0),e.expandBars(a,t.id,!0))}))}).on("click",function(t){var n=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&i.mouse(this)[0]<e.x(e.getXValue(t.id,n))&&(n-=1),e.main.selectAll("."+o.shape+"-"+n).each(function(t){e.toggleShape(this,t,n)})}}).call(i.behavior.drag().origin(Object).on("drag",function(){e.drag(i.mouse(this))}).on("dragstart",function(){e.dragstart(i.mouse(this))}).on("dragend",function(){e.dragend()})).on("dblclick.zoom",null)},a.generateEventRectsForMultipleXs=function(t){var e=this,i=e.d3,n=e.config;t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",o.eventRect).on("mouseout",function(){e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles())}).on("mousemove",function(){var t,r,a,s,l=e.filterTargetsToShow(e.data.targets);e.dragging||e.hasArcType(l)||(t=i.mouse(this),(r=e.findClosestFromTargets(l,t))&&(a=e.isScatterType(r)?[r]:e.filterByX(l,r.x),s=a.map(function(t){return e.addName(t)}),e.showTooltip(s,t),n.point_focus_expand_enabled&&e.expandCircles(r.index,r.id,!0),e.showXGridFocus(s),e.dist(r,t)<100?(e.svg.select("."+o.eventRect).style("cursor","pointer"),e.mouseover||(n.data_onmouseover.call(e,r),e.mouseover=!0)):e.mouseover&&(e.svg.select("."+o.eventRect).style("cursor",null),n.data_onmouseout.call(e,r),e.mouseover=!1)))}).on("click",function(){var t,n,r=e.filterTargetsToShow(e.data.targets);e.hasArcType(r)||(t=i.mouse(this),(n=e.findClosestFromTargets(r,t))&&e.dist(n,t)<100&&e.toggleShape&&e.main.select("."+o.circles+e.getTargetSelectorSuffix(n.id)).select("."+o.circle+"-"+n.index).each(function(){e.toggleShape(this,n,n.index)}))}).call(i.behavior.drag().origin(Object).on("drag",function(){e.drag(i.mouse(this))}).on("dragstart",function(){e.dragstart(i.mouse(this))}).on("dragend",function(){e.dragend()})).on("dblclick.zoom",null)},a.dispatchEvent=function(e,i,n){var r=this,a="."+o.eventRect+(r.isMultipleX()?"":"-"+i),s=r.main.select(a).node(),l=s.getBoundingClientRect(),h=l.left+(n?n[0]:0),u=l.top+(n?n[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,h,u,h,u,!1,!1,!1,!1,0,null),s.dispatchEvent(c)},a.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},a.getCurrentHeight=function(){var t=this,e=t.config,i=e.size_height?e.size_height:t.getParentHeight();return i>0?i:320/(t.hasType("gauge")?2:1)},a.getCurrentPaddingTop=function(){var t=this.config;return l(t.padding_top)?t.padding_top:0},a.getCurrentPaddingBottom=function(){var t=this.config;return l(t.padding_bottom)?t.padding_bottom:0},a.getCurrentPaddingLeft=function(){var t=this,e=t.config;return l(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max(g(t.getAxisWidthByAxisId("x")),40):1:e.axis_y_show?g(t.getAxisWidthByAxisId("y")):1},a.getCurrentPaddingRight=function(){var t=this,e=t.config,i=10,n=t.isLegendRight?t.getLegendWidth()+20:0;return l(e.padding_right)?e.padding_right+1:e.axis_rotated?i+n:(e.axis_y2_show?g(t.getAxisWidthByAxisId("y2")):i)+n},a.getParentRectValue=function(t){for(var e,i=this.selectChart.node();i&&"BODY"!==i.tagName&&!(e=i.getBoundingClientRect()[t]);)i=i.parentNode;return e},a.getParentWidth=function(){return this.getParentRectValue("width")},a.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},a.getSvgLeft=function(){var t=this,e=t.config,i=e.axis_rotated?o.axisX:o.axisY,n=t.main.select("."+i).node(),r=n?n.getBoundingClientRect():{right:0},a=t.selectChart.node().getBoundingClientRect(),s=t.hasArcType(),l=r.right-a.left-(s?0:t.getCurrentPaddingLeft());return l>0?l:0},a.getAxisWidthByAxisId=function(t){var e=this;return e.getAxisLabelPositionById(t).isInner?20+e.getMaxTickWidth(t):40+e.getMaxTickWidth(t)},a.getHorizontalAxisHeight=function(t){var e=this,i=e.config;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?(e.getAxisLabelPositionById(t).isInner?30:40)+("y2"===t?-10:0):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:0},a.getEventRectWidth=function(){var t,e,i,n,r,a,s=this,o=s.getMaxDataCountTarget(s.data.targets);return o?(t=o.values[0],e=o.values[o.values.length-1],0===(i=s.x(e.x)-s.x(t.x))?s.config.axis_rotated?s.height:s.width:(n=s.getMaxDataCount(),r=s.hasType("bar")?(n-(s.isCategorized()?.25:1))/n:1,a=n>1?i*r/(n-1):i,a<1?1:a)):0},a.getShapeIndices=function(t){var e,i,n=this,r=n.config,a={},s=0;return n.filterTargetsToShow(n.data.targets.filter(t,n)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(i=0;i<r.data_groups[e].length;i++)if(r.data_groups[e][i]in a){a[t.id]=a[r.data_groups[e][i]];break}c(a[t.id])&&(a[t.id]=s++)}),a.__max__=s-1,a},a.getShapeX=function(t,e,i,n){var r=this,a=n?r.subX:r.x;return function(n){var r=n.id in i?i[n.id]:0;return n.x||0===n.x?a(n.x)-t*(e/2-r):0}},a.getShapeY=function(t){var e=this;return function(i){return(t?e.getSubYScale(i.id):e.getYScale(i.id))(i.value)}},a.getShapeOffset=function(t,e,i){var n=this,r=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),a=r.map(function(t){return t.id});return function(t,s){var o=i?n.getSubYScale(t.id):n.getYScale(t.id),l=o(0),h=l;return r.forEach(function(i){i.id!==t.id&&e[i.id]===e[t.id]&&a.indexOf(i.id)<a.indexOf(t.id)&&i.values[s].value*t.value>=0&&(h+=o(i.values[s].value)-l)}),h}},a.getInterpolate=function(t){var e=this;return e.isSplineType(t)?"cardinal":e.isStepType(t)?"step-after":"linear"},
a.initLine=function(){this.main.select("."+o.chart).append("g").attr("class",o.chartLines)},a.updateTargetsForLine=function(t){var e,i,n=this,r=n.config,a=n.classChartLine.bind(n),s=n.classLines.bind(n),l=n.classAreas.bind(n),h=n.classCircles.bind(n);e=n.main.select("."+o.chartLines).selectAll("."+o.chartLine).data(t).attr("class",a),i=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s),i.append("g").attr("class",l),i.append("g").attr("class",function(t){return n.generateClass(o.selectedCircles,t.id)}),i.append("g").attr("class",h).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+o.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+o.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},a.redrawLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+o.lines).selectAll("."+o.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},a.addTransitionForLine=function(t,e){var i=this;t.push(i.mainLine.transition().attr("d",e).style("stroke",i.color).style("opacity",1))},a.generateDrawLine=function(t,e){var i=this,n=i.config,r=i.d3.svg.line(),a=i.generateGetLinePoints(t,e),s=e?i.getSubYScale:i.getYScale,o=function(t){return(e?i.subxx:i.xx).call(i,t)},l=function(t,e){return n.data_groups.length>0?a(t,e)[0][1]:s.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x(l).y(o):r.x(o).y(l),n.line_connect_null||(r=r.defined(function(t){return null!=t.value})),function(t){var a,o=n.line_connect_null?i.filterRemoveNull(t.values):t.values,l=e?i.x:i.subX,h=s.call(i,t.id),u=0,c=0;return i.isLineType(t)?a=n.data_regions[t.id]?i.lineWithRegions(o,l,h,n.data_regions[t.id]):r.interpolate(i.getInterpolate(t))(o):(o[0]&&(u=l(o[0].x),c=h(o[0].value)),a=n.axis_rotated?"M "+c+" "+u:"M "+u+" "+c),a||"M 0 0"}},a.generateGetLinePoints=function(t,e){var i=this,n=i.config,r=t.__max__+1,a=i.getShapeX(0,r,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isLineType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var r=l.call(i,t.id)(0),h=o(t,e)||r,u=a(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<r||t.value<0&&r<c)&&(c=r),[[u,c-(r-h)],[u,c-(r-h)],[u,c-(r-h)],[u,c-(r-h)]]}},a.lineWithRegions=function(t,e,i,n){function r(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}var a,s,o,l,h,u,g,f,p,m,x,v,_=this,y=_.config,b="M",w=[];if(d(n))for(a=0;a<n.length;a++)w[a]={},c(n[a].start)?w[a].start=t[0].x:w[a].start=_.isTimeSeries()?_.parseDate(n[a].start):n[a].start,c(n[a].end)?w[a].end=t[t.length-1].x:w[a].end=_.isTimeSeries()?_.parseDate(n[a].end):n[a].end;for(x=y.axis_rotated?function(t){return i(t.value)}:function(t){return e(t.x)},v=y.axis_rotated?function(t){return e(t.x)}:function(t){return i(t.value)},o=_.isTimeSeries()?function(t,n,r,a){var s=t.x.getTime(),o=n.x-t.x,l=new Date(s+o*r),u=new Date(s+o*(r+a));return"M"+e(l)+" "+i(h(r))+" "+e(u)+" "+i(h(r+a))}:function(t,n,r,a){return"M"+e(l(r),!0)+" "+i(h(r))+" "+e(l(r+a),!0)+" "+i(h(r+a))},a=0;a<t.length;a++){if(c(w)||!r(t[a].x,w))b+=" "+x(t[a])+" "+v(t[a]);else for(l=_.getScale(t[a-1].x,t[a].x,_.isTimeSeries()),h=_.getScale(t[a-1].value,t[a].value),u=e(t[a].x)-e(t[a-1].x),g=i(t[a].value)-i(t[a-1].value),f=Math.sqrt(Math.pow(u,2)+Math.pow(g,2)),p=2/f,m=2*p,s=p;s<=1;s+=m)b+=o(t[a-1],t[a],s,p);t[a].x}return b},a.redrawArea=function(t){var e=this,i=e.d3;e.mainArea=e.main.selectAll("."+o.areas).selectAll("."+o.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},a.addTransitionForArea=function(t,e){var i=this;t.push(i.mainArea.transition().attr("d",e).style("fill",i.color).style("opacity",i.orgAreaOpacity))},a.generateDrawArea=function(t,e){var i=this,n=i.config,r=i.d3.svg.area(),a=i.generateGetAreaPoints(t,e),s=e?i.getSubYScale:i.getYScale,o=function(t){return(e?i.subxx:i.xx).call(i,t)},l=function(t,e){return n.data_groups.length>0?a(t,e)[0][1]:s.call(i,t.id)(0)},h=function(t,e){return n.data_groups.length>0?a(t,e)[1][1]:s.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x0(l).x1(h).y(o):r.x(o).y0(l).y1(h),n.line_connect_null||(r=r.defined(function(t){return null!==t.value})),function(t){var e,a=n.line_connect_null?i.filterRemoveNull(t.values):t.values,s=0,o=0;return i.isAreaType(t)?e=r.interpolate(i.getInterpolate(t))(a):(a[0]&&(s=i.x(a[0].x),o=i.getYScale(t.id)(a[0].value)),e=n.axis_rotated?"M "+o+" "+s:"M "+s+" "+o),e||"M 0 0"}},a.generateGetAreaPoints=function(t,e){var i=this,n=i.config,r=t.__max__+1,a=i.getShapeX(0,r,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isAreaType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var r=l.call(i,t.id)(0),h=o(t,e)||r,u=a(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<r||t.value<0&&r<c)&&(c=r),[[u,h],[u,c-(r-h)],[u,c-(r-h)],[u,h]]}},a.redrawCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+o.circles).selectAll("."+o.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacity.bind(t)),t.mainCircle.exit().remove()},a.addTransitionForCircle=function(t,e,i){var n=this;t.push(n.mainCircle.transition().style("opacity",n.opacityForCircle.bind(n)).style("fill",n.color).attr("cx",e).attr("cy",i)),t.push(n.main.selectAll("."+o.selectedCircle).transition().attr("cx",e).attr("cy",i))},a.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},a.circleY=function(t,e){var i=this,n=i.getShapeIndices(i.isLineType),r=i.generateGetLinePoints(n);return i.config.data_groups.length>0?r(t,e)[0][1]:i.getYScale(t.id)(t.value)},a.getCircles=function(t,e){var i=this;return(e?i.main.selectAll("."+o.circles+i.getTargetSelectorSuffix(e)):i.main).selectAll("."+o.circle+(l(t)?"-"+t:""))},a.expandCircles=function(t,e,i){var n=this,r=n.pointExpandedR.bind(n);i&&n.unexpandCircles(),n.getCircles(t,e).classed(o.EXPANDED,!0).attr("r",r)},a.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(o.EXPANDED)}).classed(o.EXPANDED,!1).attr("r",i)},a.pointR=function(t){var e=this,i=e.config;return i.point_show&&!e.isStepType(t)?h(i.point_r)?i.point_r(t):i.point_r:0},a.pointExpandedR=function(t){var e=this,i=e.config;return i.point_focus_expand_enabled?i.point_focus_expand_r?i.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},a.pointSelectR=function(t){var e=this,i=e.config;return i.point_select_r?i.point_select_r:4*e.pointR(t)},a.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),a=1*r.attr("cx"),s=1*r.attr("cy");return Math.sqrt(Math.pow(a-n[0],2)+Math.pow(s-n[1],2))<e},a.initBar=function(){this.main.select("."+o.chart).append("g").attr("class",o.chartBars)},a.updateTargetsForBar=function(t){var e,i,n=this,r=n.config,a=n.classChartBar.bind(n),s=n.classBars.bind(n);e=n.main.select("."+o.chartBars).selectAll("."+o.chartBar).data(t).attr("class",a),i=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},a.redrawBar=function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),r=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+o.bars).selectAll("."+o.bar).data(i),e.mainBar.enter().append("path").attr("class",n).style("stroke",a).style("fill",a),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},a.addTransitionForBar=function(t,e){var i=this;t.push(i.mainBar.transition().attr("d",e).style("fill",i.color).style("opacity",1))},a.getBarW=function(t,e){var i=this,n=i.config,r="number"==typeof n.bar_width?n.bar_width:e?2*t.tickOffset()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},a.getBars=function(t){return this.main.selectAll("."+o.bar+(l(t)?"-"+t:""))},a.expandBars=function(t,e,i){var n=this;i&&n.unexpandBars(),n.getBars(t).classed(o.EXPANDED,!0)},a.unexpandBars=function(t){this.getBars(t).classed(o.EXPANDED,!1)},a.generateDrawBar=function(t,e){var i=this,n=i.config,r=i.generateGetBarPoints(t,e);return function(t,e){var i=r(t,e),a=n.axis_rotated?1:0,s=n.axis_rotated?0:1;return"M "+i[0][a]+","+i[0][s]+" L"+i[1][a]+","+i[1][s]+" L"+i[2][a]+","+i[2][s]+" L"+i[3][a]+","+i[3][s]+" z"}},a.generateGetBarPoints=function(t,e){var i=this,n=t.__max__+1,r=i.getBarW(i.xAxis,n),a=i.getShapeX(r,n,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isBarType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var n=l.call(i,t.id)(0),h=o(t,e)||n,u=a(t),c=s(t);return i.config.axis_rotated&&(0<t.value&&c<n||t.value<0&&n<c)&&(c=n),[[u,h],[u,c-(n-h)],[u+r,c-(n-h)],[u+r,h]]}},a.isWithinBar=function(t){var e=this.d3,i=e.mouse(t),n=t.getBoundingClientRect(),r=t.pathSegList.getItem(0),a=t.pathSegList.getItem(1),s=r.x,o=Math.min(r.y,a.y),l=n.width,h=n.height,u=2,c=s-u,d=s+l+u,g=o+h+u,f=o-u;return c<i[0]&&i[0]<d&&f<i[1]&&i[1]<g},a.initText=function(){var t=this;t.main.select("."+o.chart).append("g").attr("class",o.chartTexts),t.mainText=t.d3.selectAll([])},a.updateTargetsForText=function(t){var e,i,n=this,r=n.classChartText.bind(n),a=n.classTexts.bind(n);e=n.main.select("."+o.chartTexts).selectAll("."+o.chartText).data(t).attr("class",r),i=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",a)},a.redrawText=function(t){var e=this,i=e.config,n=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+o.texts).selectAll("."+o.text).data(n),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return i.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t){return e.formatByAxisId(e.getAxisId(t.id))(t.value,t.id)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},a.addTransitionForText=function(t,e,i,n){var r=this,a=n?0:r.opacityForText.bind(r);t.push(r.mainText.transition().attr("x",e).attr("y",i).style("fill",r.color).style("fill-opacity",a))},a.getTextRect=function(t,e){var i;return this.d3.select("body").selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).text(t).each(function(){i=this.getBoundingClientRect()}).remove(),i},a.generateXYForText=function(t,e,i,n){var r=this,a=r.generateGetAreaPoints(e,!1),s=r.generateGetBarPoints(e,!1),o=r.generateGetLinePoints(i,!1),l=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?a:r.isBarType(t)?s:o;return l.call(r,i(t,e),t,this)}},a.getXForText=function(t,e,i){var n,r,a=this,s=i.getBoundingClientRect();return a.config.axis_rotated?(r=a.isBarType(e)?4:6,n=t[2][1]+r*(e.value<0?-1:1)):n=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null!==e.value?n:n>a.width?a.width-s.width:n},a.getYForText=function(t,e,i){var n,r=this,a=i.getBoundingClientRect();return n=r.config.axis_rotated?(t[0][0]+t[2][0]+.6*a.height)/2:t[2][1]+(e.value<0?a.height:r.isBarType(e)?-3:-6),null!==e.value?n:n<a.height?a.height:n},a.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},a.hasType=function(t,e){var i=this,n=i.config.data_types,r=!1;return(e||i.data.targets).forEach(function(e){(n[e.id]&&n[e.id].indexOf(t)>=0||!(e.id in n)&&"line"===t)&&(r=!0)}),r},a.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},a.isLineType=function(t){var e=this.config,i=u(t)?t:t.id;return!e.data_types[i]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])>=0},a.isStepType=function(t){var e=u(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},a.isSplineType=function(t){var e=u(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},a.isAreaType=function(t){var e=u(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},a.isBarType=function(t){var e=u(t)?t:t.id;return"bar"===this.config.data_types[e]},a.isScatterType=function(t){var e=u(t)?t:t.id;return"scatter"===this.config.data_types[e]},a.isPieType=function(t){var e=u(t)?t:t.id;return"pie"===this.config.data_types[e]},a.isGaugeType=function(t){var e=u(t)?t:t.id;return"gauge"===this.config.data_types[e]},a.isDonutType=function(t){var e=u(t)?t:t.id;return"donut"===this.config.data_types[e]},a.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},a.lineData=function(t){return this.isLineType(t)?[t]:[]},a.arcData=function(t){return this.isArcType(t.data)?[t]:[]},a.barData=function(t){return this.isBarType(t)?t.values:[]},a.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},a.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},a.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPath).attr("class",o.grid),e.grid_x_show&&t.grid.append("g").attr("class",o.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",o.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",o.xgridFocus).append("line").attr("class",o.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},a.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPath).attr("class",o.grid+" "+o.gridLines),t.gridLines.append("g").attr("class",o.xgridLines),t.gridLines.append("g").attr("class",o.ygridLines),t.xgridLines=e.selectAll([])},a.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,r=e.generateGridData(i.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgrid=e.main.select("."+o.xgrids).selectAll("."+o.xgrid).data(r),e.xgrid.enter().append("line").attr("class",o.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+n.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},a.updateYGrid=function(){var t=this,e=t.config;t.ygrid=t.main.select("."+o.ygrids).selectAll("."+o.ygrid).data(t.y.ticks(e.grid_y_ticks)),t.ygrid.enter().append("line").attr("class",o.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},a.redrawGrid=function(t,e){var i,n,r,a=this,s=a.main,l=a.config;s.select("line."+o.xgridFocus).style("visibility","hidden"),l.grid_x_show&&a.updateXGrid(),a.xgridLines=s.select("."+o.xgridLines).selectAll("."+o.xgridLine).data(l.grid_x_lines),i=a.xgridLines.enter().append("g").attr("class",function(t){return o.xgridLine+(t["class"]?" "+t["class"]:"")}),i.append("line").style("opacity",0),i.append("text").attr("text-anchor","end").attr("transform",l.axis_rotated?"":"rotate(-90)").attr("dx",l.axis_rotated?0:-a.margin.top).attr("dy",-5).style("opacity",0),a.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),e&&l.grid_y_show&&a.updateYGrid(),e&&(a.ygridLines=s.select("."+o.ygridLines).selectAll("."+o.ygridLine).data(l.grid_y_lines),n=a.ygridLines.enter().append("g").attr("class",function(t){return o.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor","end").attr("transform",l.axis_rotated?"rotate(-90)":"").attr("dx",l.axis_rotated?0:-a.margin.top).attr("dy",-5).style("opacity",0),r=a.yv.bind(a),a.ygridLines.select("line").transition().duration(t).attr("x1",l.axis_rotated?r:0).attr("x2",l.axis_rotated?r:a.width).attr("y1",l.axis_rotated?0:r).attr("y2",l.axis_rotated?a.height:r).style("opacity",1),a.ygridLines.select("text").transition().duration(t).attr("x",l.axis_rotated?0:a.width).attr("y",r).text(function(t){return t.text}).style("opacity",1),a.ygridLines.exit().transition().duration(t).style("opacity",0).remove())},a.addTransitionForGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e);t.push(e.xgridLines.select("line").transition().attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:e.margin.top).attr("y2",i.axis_rotated?n:e.height).style("opacity",1)),t.push(e.xgridLines.select("text").transition().attr("x",i.axis_rotated?e.width:0).attr("y",n).text(function(t){return t.text}).style("opacity",1))},a.showXGridFocus=function(t){var e=this,i=e.config,n=t.filter(function(t){return t&&l(t.value)}),r=e.main.selectAll("line."+o.xgridFocus),a=e.xx.bind(e);i.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([n[0]]).attr(i.axis_rotated?"y1":"x1",a).attr(i.axis_rotated?"y2":"x2",a),e.smoothLines(r,"grid")))},a.hideXGridFocus=function(){this.main.select("line."+o.xgridFocus).style("visibility","hidden")},a.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+o.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},a.generateGridData=function(t,e){var i,n,r,a,s=this,l=[],h=s.main.select("."+o.axisX).selectAll(".tick").size();if("year"===t)for(i=s.getXDomain(),n=i[0].getFullYear(),r=i[1].getFullYear(),a=n;a<=r;a++)l.push(new Date(a+"-01-01 00:00:00"));else l=e.ticks(10),l.length>h&&(l=l.filter(function(t){return(""+t).indexOf(".")<0}));return l},a.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(n){("value"in n&&e.value===t.value||"class"in n&&e["class"]===t["class"])&&(i=!0)}),i}:function(){return!0}},a.removeGridLines=function(t,e){var i=this,n=i.config,r=i.getGridFilterToRemove(t),a=function(t){return!r(t)},s=e?o.xgridLines:o.ygridLines,l=e?o.xgridLine:o.ygridLine;i.main.select("."+s).selectAll("."+l).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(a):n.grid_y_lines=n.grid_y_lines.filter(a)},a.initTooltip=function(){var t,e=this,i=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").style("position","absolute").style("pointer-events","none").style("z-index","10").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&u(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},a.getTooltipContent=function(t,e,i,n){var r,a,s,l,h,u,c=this,d=c.config,g=d.tooltip_format_title||e,f=d.tooltip_format_name||function(t){return t},p=d.tooltip_format_value||i;for(a=0;a<t.length;a++)t[a]&&(t[a].value||0===t[a].value)&&(r||(s=g?g(t[a].x):t[a].x,r="<table class='"+o.tooltip+"'>"+(s||0===s?"<tr><th colspan='2'>"+s+"</th></tr>":"")),h=f(t[a].name),l=p(t[a].value,t[a].ratio,t[a].id,t[a].index),u=c.levelColor?c.levelColor(t[a].value):n(t[a].id),r+="<tr class='"+o.tooltipName+"-"+t[a].id+"'>",r+="<td class='name'><span style='background-color:"+u+"'></span>"+h+"</td>",r+="<td class='value'>"+l+"</td>",r+="</tr>");return r+"</table>"},a.showTooltip=function(t,e){var i,n,r,a,s,o,h,u=this,c=u.config,d=u.hasArcType(),g=t.filter(function(t){return t&&l(t.value)});0!==g.length&&c.tooltip_show&&(u.tooltip.html(c.tooltip_contents.call(u,t,u.getXAxisTickFormat(),u.getYFormat(d),u.color)).style("display","block"),i=u.tooltip.property("offsetWidth"),n=u.tooltip.property("offsetHeight"),d?(a=u.width/2+e[0],o=u.height/2+e[1]+20):(c.axis_rotated?(r=u.getSvgLeft(),a=r+e[0]+100,s=a+i,h=u.getCurrentWidth()-u.getCurrentPaddingRight(),o=u.x(g[0].x)+20):(r=u.getSvgLeft(),a=r+u.getCurrentPaddingLeft()+u.x(g[0].x)+20,s=a+i,h=r+u.getCurrentWidth()-u.getCurrentPaddingRight(),o=e[1]+15),s>h&&(a-=s-h),o+n>u.getCurrentHeight()&&o>n+30&&(o-=n+30)),u.tooltip.style("top",o+"px").style("left",a+"px"))},a.hideTooltip=function(){this.tooltip.style("display","none")},a.initLegend=function(){var t=this;t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show||(t.legend.style("visibility","hidden"),t.hiddenLegendIds=t.mapToIds(t.data.targets)),t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},a.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},a.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},a.updateLegendStep=function(t){this.legendStep=t},a.updateLegendItemWidth=function(t){this.legendItemWidth=t},a.updateLegendItemHeight=function(t){this.legendItemHeight=t},a.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},a.getLegendHeight=function(){var t=this,e=t.config,i=0;return e.legend_show&&(i=t.isLegendRight?t.currentHeight:t.isLegendInset?e.legend_inset_step?Math.max(20,t.legendItemHeight)*(e.legend_inset_step+1):t.height:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),i},a.opacityForLegend=function(t){var e=this;return t.classed(o.legendItemHidden)?e.legendOpacityForHidden:1},a.opacityForUnfocusedLegend=function(t){var e=this;return t.classed(o.legendItemHidden)?e.legendOpacityForHidden:.3},a.toggleFocusLegend=function(t,e){var i=this;i.legend.selectAll("."+o.legendItem).transition().duration(100).style("opacity",function(n){var r=i.d3.select(this);return t&&n!==t?e?i.opacityForUnfocusedLegend(r):i.opacityForLegend(r):e?i.opacityForLegend(r):i.opacityForUnfocusedLegend(r)})},a.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+o.legendItem).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},a.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible")),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},a.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&m(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},a.updateLegend=function(t,e,i){function n(e,i,n){function r(t,e){e||(a=(d-S-c)/2)<T&&(a=(d-c)/2,S=0,L++),q[t]=L,j[L]=_.isLegendInset?10:a,D[t]=S,S+=c}var a,s,l=_.getTextRect(e.textContent,o.legendItem),h=10*Math.ceil((l.width+w)/10),u=10*Math.ceil((l.height+b)/10),c=_.isLegendRight||_.isLegendInset?u:h,d=_.isLegendRight||_.isLegendInset?_.getLegendHeight():_.getLegendWidth();if(n&&(S=0,L=0,k=0,M=0),y.legend_show&&!_.isLegendToShow(i))return void(C[i]=A[i]=q[i]=D[i]=0);C[i]=h,A[i]=u,(!k||h>=k)&&(k=h),(!M||u>=M)&&(M=u),s=_.isLegendRight||_.isLegendInset?M:k,y.legend_equally?(Object.keys(C).forEach(function(t){C[t]=k}),Object.keys(A).forEach(function(t){A[t]=M}),a=(d-s*t.length)/2,a<T?(S=0,L=0,t.forEach(function(t){r(t)})):r(i,!0)):r(i)}var r,a,s,l,h,u,c,g,f,p,m,x,_=this,y=_.config,b=4,w=36,k=0,M=0,T=10,S=0,D={},C={},A={},j=[0],q={},L=0,R=_.legend.selectAll("."+o.legendItemFocused).size();e=e||{},g=v(e,"withTransition",!0),f=v(e,"withTransitionForTransform",!0),_.isLegendRight?(r=function(t){return k*q[t]},l=function(t){return j[q[t]]+D[t]}):_.isLegendInset?(r=function(t){return k*q[t]+10},l=function(t){return j[q[t]]+D[t]}):(r=function(t){return j[q[t]]+D[t]},l=function(t){return M*q[t]}),a=function(t,e){return r(t,e)+14},h=function(t,e){return l(t,e)+9},s=function(t,e){return r(t,e)-4},u=function(t,e){return l(t,e)-7},c=_.legend.selectAll("."+o.legendItem).data(t).enter().append("g").attr("class",function(t){return _.generateClass(o.legendItem,t)}).style("visibility",function(t){return _.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){y.legend_item_onclick?y.legend_item_onclick.call(_,t):_.api.toggle(t)}).on("mouseover",function(t){_.d3.select(this).classed(o.legendItemFocused,!0),_.transiting||_.api.focus(t),y.legend_item_onmouseover&&y.legend_item_onmouseover.call(_,t)}).on("mouseout",function(t){_.d3.select(this).classed(o.legendItemFocused,!1),_.transiting||_.api.revert(),y.legend_item_onmouseout&&y.legend_item_onmouseout.call(_,t)}),c.append("text").text(function(t){return d(y.data_names[t])?y.data_names[t]:t}).each(function(t,e){n(this,t,0===e)}).style("pointer-events","none").attr("x",_.isLegendRight||_.isLegendInset?a:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:h),c.append("rect").attr("class",o.legendItemEvent).style("fill-opacity",0).attr("x",_.isLegendRight||_.isLegendInset?s:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:u),c.append("rect").attr("class",o.legendItemTile).style("pointer-events","none").style("fill",_.color).attr("x",_.isLegendRight||_.isLegendInset?a:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:l).attr("width",10).attr("height",10),_.isLegendInset&&0!==k&&_.legend.insert("g","."+o.legendItem).attr("class",o.legendBackground).append("rect").attr("height",_.getLegendHeight()-10).attr("width",k*(L+1)+10),p=_.legend.selectAll("text").data(t).text(function(t){return d(y.data_names[t])?y.data_names[t]:t}).each(function(t,e){n(this,t,0===e)}),(g?p.transition():p).attr("x",a).attr("y",h),m=_.legend.selectAll("rect."+o.legendItemEvent).data(t),(g?m.transition():m).attr("width",function(t){return C[t]}).attr("height",function(t){return A[t]}).attr("x",s).attr("y",u),x=_.legend.selectAll("rect."+o.legendItemTile).data(t),(g?x.transition():x).style("fill",_.color).attr("x",r).attr("y",l),_.legend.selectAll("."+o.legendItem).classed(o.legendItemHidden,function(t){return!_.isTargetToShow(t)}).transition().style("opacity",function(t){var e=_.d3.select(this);return _.isTargetToShow(t)?!R||e.classed(o.legendItemFocused)?_.opacityForLegend(e):_.opacityForUnfocusedLegend(e):_.legendOpacityForHidden}),_.updateLegendItemWidth(k),_.updateLegendItemHeight(M),_.updateLegendStep(L),_.updateSizes(),_.updateScales(),_.updateSvgSize(),_.transformAll(f,i)},a.initAxis=function(){var t=this,e=t.config,i=t.main;t.axes.x=i.append("g").attr("class",o.axis+" "+o.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",o.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",t.textAnchorForXAxisLabel.bind(t)),t.axes.y=i.append("g").attr("class",o.axis+" "+o.axisY).attr("clip-path",t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",o.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",t.textAnchorForYAxisLabel.bind(t)),t.axes.y2=i.append("g").attr("class",o.axis+" "+o.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",o.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",t.textAnchorForY2AxisLabel.bind(t))},a.getXAxis=function(t,e,i,r){var a=this,s=a.config,o=n(a.d3,a.isCategorized()).scale(t).orient(e);return a.isTimeSeries()&&r&&(r=r.map(function(t){return a.parseDate(t)})),o.tickFormat(i).tickValues(r),a.isCategorized()?(o.tickCentered(s.axis_x_tick_centered),m(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1)):o.tickOffset=function(){var t=a.getEdgeX(a.data.targets),e=a.x(t[1])-a.x(t[0]);return(e||(s.axis_rotated?a.height:a.width))/a.getMaxDataCount()/2},o},a.getYAxis=function(t,e,i,r){return n(this.d3).scale(t).orient(e).tickFormat(i).ticks(r)},a.getAxisId=function(t){var e=this.config;return t in e.data_axes?e.data_axes[t]:"y"},a.getXAxisTickFormat=function(){var t=this,e=t.config,i=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(h(e.axis_x_tick_format)?i=e.axis_x_tick_format:t.isTimeSeries()&&(i=function(i){return i?t.axisTimeFormat(e.axis_x_tick_format)(i):""})),h(i)?function(e){return i.call(t,e)}:i},a.getAxisLabelOptionByAxisId=function(t){var e,i=this,n=i.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},a.getAxisLabelText=function(t){var e=this.getAxisLabelOptionByAxisId(t);return u(e)?e:e?e.text:null},a.setAxisLabelText=function(t,e){var i=this,n=i.config,r=i.getAxisLabelOptionByAxisId(t);u(r)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):r&&(r.text=e)},a.getAxisLabelPosition=function(t,e){var i=this.getAxisLabelOptionByAxisId(t),n=i&&"object"==typeof i&&i.position?i.position:e;return{isInner:n.indexOf("inner")>=0,isOuter:n.indexOf("outer")>=0,isLeft:n.indexOf("left")>=0,isCenter:n.indexOf("center")>=0,isRight:n.indexOf("right")>=0,isTop:n.indexOf("top")>=0,isMiddle:n.indexOf("middle")>=0,isBottom:n.indexOf("bottom")>=0}},a.getXAxisLabelPosition=function(){return this.getAxisLabelPosition("x",this.config.axis_rotated?"inner-top":"inner-right")},a.getYAxisLabelPosition=function(){return this.getAxisLabelPosition("y",this.config.axis_rotated?"inner-right":"inner-top")},a.getY2AxisLabelPosition=function(){return this.getAxisLabelPosition("y2",this.config.axis_rotated?"inner-right":"inner-top")},a.getAxisLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},a.textForXAxisLabel=function(){return this.getAxisLabelText("x")},a.textForYAxisLabel=function(){return this.getAxisLabelText("y")},a.textForY2AxisLabel=function(){return this.getAxisLabelText("y2")},a.xForAxisLabel=function(t,e){var i=this;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},a.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},a.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},a.xForXAxisLabel=function(){return this.xForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},a.xForYAxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},a.xForY2AxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},a.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},a.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},a.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},a.dyForXAxisLabel=function(){var t=this,e=t.config,i=t.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-t.getMaxTickWidth("x"):i.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},a.dyForYAxisLabel=function(){var t=this,e=t.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-20-t.getMaxTickWidth("y")},a.dyForY2AxisLabel=function(){var t=this,e=t.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":30+this.getMaxTickWidth("y2")},a.textAnchorForXAxisLabel=function(){var t=this
;return t.textAnchorForAxisLabel(!t.config.axis_rotated,t.getXAxisLabelPosition())},a.textAnchorForYAxisLabel=function(){var t=this;return t.textAnchorForAxisLabel(t.config.axis_rotated,t.getYAxisLabelPosition())},a.textAnchorForY2AxisLabel=function(){var t=this;return t.textAnchorForAxisLabel(t.config.axis_rotated,t.getY2AxisLabelPosition())},a.xForRotatedTickText=function(t){return 10*Math.sin(Math.PI*(t/180))},a.yForRotatedTickText=function(t){return 11.5-t/15*2.5},a.rotateTickText=function(t,e,i){t.selectAll(".tick text").style("text-anchor","start"),e.selectAll(".tick text").attr("y",this.yForRotatedTickText(i)).attr("x",this.xForRotatedTickText(i)).attr("transform","rotate("+i+")")},a.getMaxTickWidth=function(t){var e,i,n,r=this,a=r.config,s=0;return r.svg&&(e=r.filterTargetsToShow(r.data.targets),"y"===t?(i=r.y.copy().domain(r.getYDomain(e,"y")),n=r.getYAxis(i,r.yOrient,a.axis_y_tick_format,a.axis_y_ticks)):"y2"===t?(i=r.y2.copy().domain(r.getYDomain(e,"y2")),n=r.getYAxis(i,r.y2Orient,a.axis_y2_tick_format,a.axis_y2_ticks)):(i=r.x.copy().domain(r.getXDomain(e)),n=r.getXAxis(i,r.xOrient,r.getXAxisTickFormat(),a.axis_x_tick_values?a.axis_x_tick_values:r.xAxis.tickValues())),r.d3.select("body").append("g").style("visibility","hidden").call(n).each(function(){r.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();s<t.width&&(s=t.width)})}).remove()),r.currentMaxTickWidth=s<=0?r.currentMaxTickWidth:s,r.currentMaxTickWidth},a.updateAxisLabels=function(t){var e=this,i=e.main.select("."+o.axisX+" ."+o.axisXLabel),n=e.main.select("."+o.axisY+" ."+o.axisYLabel),r=e.main.select("."+o.axisY2+" ."+o.axisY2Label);(t?i.transition():i).attr("x",e.xForXAxisLabel.bind(e)).attr("dx",e.dxForXAxisLabel.bind(e)).attr("dy",e.dyForXAxisLabel.bind(e)).text(e.textForXAxisLabel.bind(e)),(t?n.transition():n).attr("x",e.xForYAxisLabel.bind(e)).attr("dx",e.dxForYAxisLabel.bind(e)).attr("dy",e.dyForYAxisLabel.bind(e)).text(e.textForYAxisLabel.bind(e)),(t?r.transition():r).attr("x",e.xForY2AxisLabel.bind(e)).attr("dx",e.dxForY2AxisLabel.bind(e)).attr("dy",e.dyForY2AxisLabel.bind(e)).text(e.textForY2AxisLabel.bind(e))},a.getAxisPadding=function(t,e,i,n){var r="ratio"===t.unit?n:1;return l(t[e])?t[e]*r:i},a.generateTickValues=function(t,e){var i,n,r,a,s,o,l,u=this,c=t;if(e)if(1===(i=h(e)?e():e))c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(i>2){for(a=i-2,n=t[0],r=t[t.length-1],s=(r-n)/(a+1),c=[n],o=0;o<a;o++)l=+n+s*(o+1),c.push(u.isTimeSeries()?new Date(l):l);c.push(r)}return u.isTimeSeries()||(c=c.sort(function(t,e){return t-e})),c},a.generateAxisTransitions=function(t){var e=this,i=e.axes;return{axisX:t?i.x.transition().duration(t):i.x,axisY:t?i.y.transition().duration(t):i.y,axisY2:t?i.y2.transition().duration(t):i.y2,axisSubX:t?i.subx.transition().duration(t):i.subx}},a.redrawAxis=function(t,e){var i=this;i.axes.x.style("opacity",e?0:1),i.axes.y.style("opacity",e?0:1),i.axes.y2.style("opacity",e?0:1),i.axes.subx.style("opacity",e?0:1),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)},a.getClipPath=function(e){return"url("+(t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+e+")"},a.getAxisClipX=function(t){return t?-31:-(this.margin.left-1)},a.getAxisClipY=function(t){return t?-20:-4},a.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},a.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},a.getYAxisClipX=function(){var t=this;return t.getAxisClipX(t.config.axis_rotated)},a.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},a.getAxisClipWidth=function(t){var e=this;return t?e.width+2+30+30:e.margin.left+20},a.getAxisClipHeight=function(t){var e=this,i=e.config;return t?(i.axis_x_height?i.axis_x_height:0)+80:e.height+8},a.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},a.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},a.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)},a.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},a.initPie=function(){var t=this,e=t.d3,i=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),i.data_order&&i.pie_sort&&i.donut_sort||t.pie.sort(null)},a.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},a.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},a.updateAngle=function(t){var e=this,i=e.config,n=!1,r=0;if(e.pie(e.filterTargetsToShow(e.data.targets)).sort(e.descByStartAngle).forEach(function(e){n||e.data.id!==t.data.id||(n=!0,t=e,t.index=r),r++}),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),e.isGaugeType(t.data)){var a=i.gauge_min,s=i.gauge_max,o=Math.abs(a)+s,l=Math.PI/o;t.startAngle=Math.PI/2*-1+l*Math.abs(a),t.endAngle=t.startAngle+l*(t.value>s?s:t.value)}return n?t:null},a.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),i=function(i,n){var r;return n?e(i):(r=t.updateAngle(i),r?e(r):"M 0 0")};return i.centroid=e.centroid,i},a.getSvgArcExpanded=function(t){var e=this,i=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var n=e.updateAngle(t);return n?i(n):"M 0 0"}},a.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},a.transformForArcLabel=function(t){var e,i,n,r,a,s=this,o=s.updateAngle(t),l="";return o&&!s.hasType("gauge")&&(e=this.svgArc.centroid(o),i=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1],r=Math.sqrt(i*i+n*n),a=s.radius&&r?(36/s.radius>.375?1.175-36/s.radius:.8)*s.radius/r:0,l="translate("+i*a+","+n*a+")"),l},a.getArcRatio=function(t){var e=this,i=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/i:null},a.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},a.textForArcLabel=function(t){var e,i,n,r,a=this;return a.shouldShowArcLabel()?(e=a.updateAngle(t),i=e?e.value:null,n=a.getArcRatio(e),a.hasType("gauge")||a.meetsArcLabelThreshold(n)?(r=a.getArcLabelFormat(),r?r(i,n):a.defaultArcValueFormat(i,n)):""):""},a.expandArc=function(t,e){var i=this,n=i.svg.selectAll("."+o.chartArc+i.selectorTarget(t)),r=i.svg.selectAll("."+o.arc).filter(function(e){return e.data.id!==t});i.shouldExpand(t)&&n.selectAll("path").transition().duration(50).attr("d",i.svgArcExpanded).transition().duration(100).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)}),e||r.style("opacity",.3)},a.unexpandArc=function(t){var e=this;e.svg.selectAll("."+o.chartArc+e.selectorTarget(t)).selectAll("path."+o.arc).transition().duration(50).attr("d",e.svgArc),e.svg.selectAll("."+o.arc).style("opacity",1)},a.shouldExpand=function(t){var e=this,i=e.config;return e.isDonutType(t)&&i.donut_expand||e.isGaugeType(t)&&i.gauge_expand||e.isPieType(t)&&i.pie_expand},a.shouldShowArcLabel=function(){var t=this,e=t.config,i=!0;return t.hasType("donut")?i=e.donut_label_show:t.hasType("pie")&&(i=e.pie_label_show),i},a.meetsArcLabelThreshold=function(t){var e=this,i=e.config;return t>=(e.hasType("donut")?i.donut_label_threshold:i.pie_label_threshold)},a.getArcLabelFormat=function(){var t=this,e=t.config,i=e.pie_label_format;return t.hasType("gauge")?i=e.gauge_label_format:t.hasType("donut")&&(i=e.donut_label_format),i},a.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},a.descByStartAngle=function(t,e){return t.startAngle-e.startAngle},a.updateTargetsForArc=function(t){var e,i,n=this,r=n.main,a=n.classChartArc.bind(n),s=n.classArcs.bind(n);e=r.select("."+o.chartArcs).selectAll("."+o.chartArc).data(n.pie(t)).attr("class",a),i=e.enter().append("g").attr("class",a),i.append("g").attr("class",s),i.append("text").attr("dy",n.hasType("gauge")?"-0.35em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},a.initArc=function(){var t=this;t.arcs=t.main.select("."+o.chart).append("g").attr("class",o.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",o.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},a.redrawArc=function(t,e,i){var n,r=this,a=r.d3,s=r.config,l=r.main;n=l.selectAll("."+o.arcs).selectAll("."+o.arc).data(r.arcData.bind(r)),n.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return s.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=Math.PI/2*-1),this._current=t}).on("mouseover",function(t){var e,i;r.transiting||(e=r.updateAngle(t),i=r.convertToArcData(e),r.expandArc(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(i,this))}).on("mousemove",function(t){var e=r.updateAngle(t),i=r.convertToArcData(e),n=[i];r.showTooltip(n,a.mouse(this))}).on("mouseout",function(t){var e,i;r.transiting||(e=r.updateAngle(t),i=r.convertToArcData(e),r.unexpandArc(e.data.id),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(i,this))}).on("click",function(t,e){var i,n;r.toggleShape&&(i=r.updateAngle(t),n=r.convertToArcData(i),r.toggleShape(this,n,e))}),n.attr("transform",function(t){return!r.isGaugeType(t.data)&&i?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,i=r.updateAngle(t);return i?(isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=a.interpolate(this._current,i),this._current=e(0),function(t){return r.getArc(e(t),!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),n.exit().transition().duration(e).style("opacity",0).remove(),l.selectAll("."+o.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?o.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),l.select("."+o.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0)},a.initGauge=function(){var t=this,e=t.config,i=t.arcs;t.hasType("gauge")&&(i.append("path").attr("class",o.chartArcsBackground).attr("d",function(){var i={data:[{value:e.gauge_max}],startAngle:Math.PI/2*-1,endAngle:Math.PI/2};return t.getArc(i,!0,!0)}),i.append("text").attr("dy",".75em").attr("class",o.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none").text(e.gauge_label_show?e.gauge_units:""),i.append("text").attr("dx",-1*(t.innerRadius+(t.radius-t.innerRadius)/2)+"px").attr("dy","1.2em").attr("class",o.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none").text(e.gauge_label_show?e.gauge_min:""),i.append("text").attr("dx",t.innerRadius+(t.radius-t.innerRadius)/2+"px").attr("dy","1.2em").attr("class",o.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none").text(e.gauge_label_show?e.gauge_max:""))},a.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},a.initRegion=function(){var t=this;t.main.append("g").attr("clip-path",t.clipPath).attr("class",o.regions)},a.redrawRegion=function(t){var e=this,i=e.config;e.mainRegion=e.main.select("."+o.regions).selectAll("."+o.region).data(i.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},a.addTransitionForRegion=function(t){var e=this,i=e.regionX.bind(e),n=e.regionY.bind(e),r=e.regionWidth.bind(e),a=e.regionHeight.bind(e);t.push(e.mainRegion.selectAll("rect").transition().attr("x",i).attr("y",n).attr("width",r).attr("height",a).style("fill-opacity",function(t){return l(t.opacity)?t.opacity:.1}))},a.regionX=function(t){var e=this,i=e.config,n="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?n(t.start):0:i.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},a.regionY=function(t){var e=this,i=e.config,n="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?n(t.end):0:i.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},a.regionWidth=function(t){var e,i=this,n=i.config,r=i.regionX(t),a="y"===t.axis?i.y:i.y2;return e="y"===t.axis||"y2"===t.axis?n.axis_rotated&&"end"in t?a(t.end):i.width:n.axis_rotated?i.width:"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.width,e<r?0:e-r},a.regionHeight=function(t){var e,i=this,n=i.config,r=this.regionY(t),a="y"===t.axis?i.y:i.y2;return e="y"===t.axis||"y2"===t.axis?n.axis_rotated?i.height:"start"in t?a(t.start):i.height:n.axis_rotated&&"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.height,e<r?0:e-r},a.isRegionOnX=function(t){return!t.axis||"x"===t.axis},a.drag=function(t){var e,i,n,r,a,s,l,h,u=this,c=u.config,d=u.main,g=u.d3;u.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!u.zoom.altDomain||c.data_selection_multiple&&(e=u.dragStart[0],i=u.dragStart[1],n=t[0],r=t[1],a=Math.min(e,n),s=Math.max(e,n),l=c.data_selection_grouped?u.margin.top:Math.min(i,r),h=c.data_selection_grouped?u.height:Math.max(i,r),d.select("."+o.dragarea).attr("x",a).attr("y",l).attr("width",s-a).attr("height",h-l),d.selectAll("."+o.shapes).selectAll("."+o.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var i,n,r,c,d,f,p=g.select(this),m=p.classed(o.SELECTED),x=p.classed(o.INCLUDED),v=!1;if(p.classed(o.circle))i=1*p.attr("cx"),n=1*p.attr("cy"),d=u.togglePoint,v=a<i&&i<s&&l<n&&n<h;else{if(!p.classed(o.bar))return;f=y(this),i=f.x,n=f.y,r=f.width,c=f.height,d=u.toggleBar,v=!(s<i||i+r<a||h<n||n+c<l)}v^x&&(p.classed(o.INCLUDED,!x),p.classed(o.SELECTED,!m),d.call(u,!m,p,t,e))})))},a.dragstart=function(t){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.dragStart=t,e.main.select("."+o.chart).append("rect").attr("class",o.dragarea).style("opacity",.1),e.dragging=!0,e.config.data_ondragstart())},a.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+o.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+o.shape).classed(o.INCLUDED,!1),t.dragging=!1,t.config.data_ondragend())},a.selectPoint=function(t,e,i){var n=this,r=n.config,a=(r.axis_rotated?n.circleY:n.circleX).bind(n),s=(r.axis_rotated?n.circleX:n.circleY).bind(n),l=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+o.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+o.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(o.selectedCircle,i)}).attr("cx",a).attr("cy",s).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",l)},a.unselectPoint=function(t,e,i){var n=this;n.config.data_onunselected(e,t.node()),n.main.select("."+o.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+o.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},a.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},a.selectBar=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},a.unselectBar=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),t.transition().duration(100).style("fill",function(){return i.color(e)})},a.toggleBar=function(t,e,i,n){t?this.selectBar(e,i,n):this.unselectBar(e,i,n)},a.toggleArc=function(t,e,i,n){this.toggleBar(t,e,i.data,n)},a.getToggle=function(t){var e=this;return"circle"===t.nodeName?e.togglePoint:e.d3.select(t).classed(o.bar)?e.toggleBar:e.toggleArc},a.toggleShape=function(t,e,i){var n,r,a=this,s=a.d3,l=a.config,h=s.select(t),u=h.classed(o.SELECTED);"circle"===t.nodeName?a.isStepType(e)?(n=!0,r=function(){}):(n=a.isWithinCircle(t,1.5*a.pointSelectR(e)),r=a.togglePoint):"path"===t.nodeName&&(h.classed(o.bar)?(n=a.isWithinBar(t),r=a.toggleBar):(n=!0,r=a.toggleArc)),(l.data_selection_grouped||n)&&(l.data_selection_enabled&&l.data_selection_isselectable(e)&&(l.data_selection_multiple||a.main.selectAll("."+o.shapes+(l.data_selection_grouped?a.getTargetSelectorSuffix(e.id):"")).selectAll("."+o.shape).each(function(t,e){var i=s.select(this);i.classed(o.SELECTED)&&r.call(a,!1,i.classed(o.SELECTED,!1),t,e)}),h.classed(o.SELECTED,!u),r.call(a,!u,h,e,i)),a.config.data_onclick.call(a.api,e,t))},a.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+o.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},a.initSubchart=function(){var t=this,e=t.config,i=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));e.subchart_show||i.style("visibility","hidden"),i.append("g").attr("clip-path",t.clipPath).attr("class",o.chart),i.select("."+o.chart).append("g").attr("class",o.chartBars),i.select("."+o.chart).append("g").attr("class",o.chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",o.brush).call(t.brush).selectAll("rect").attr(e.axis_rotated?"width":"height",e.axis_rotated?t.width2:t.height2),t.axes.subx=i.append("g").attr("class",o.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},a.updateTargetsForSubchart=function(t){var e,i,n,r,a=this,s=a.context,l=a.config,h=a.classChartBar.bind(a),u=a.classBars.bind(a),c=a.classChartLine.bind(a),d=a.classLines.bind(a),g=a.classAreas.bind(a);l.subchart_show&&(r=s.select("."+o.chartBars).selectAll("."+o.chartBar).data(t).attr("class",h),n=r.enter().append("g").style("opacity",0).attr("class",h),n.append("g").attr("class",u),i=s.select("."+o.chartLines).selectAll("."+o.chartLine).data(t).attr("class",c),e=i.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",g))},a.redrawSubchart=function(t,e,i,n,r,a,s){var l,h,u,c,d,g,f=this,p=f.d3,m=f.context,x=f.config,v=f.barData.bind(f),_=f.lineData.bind(f),y=f.classBar.bind(f),b=f.classLine.bind(f),w=f.classArea.bind(f),k=f.initialOpacity.bind(f);x.subchart_show&&(p.event&&"zoom"===p.event.type&&f.brush.extent(f.x.orgDomain()).update(),t&&(!x.axis_rotated&&x.axis_x_tick_rotate&&f.rotateTickText(f.axes.subx,e.axisSubX,x.axis_x_tick_rotate),f.brush.empty()||f.brush.extent(f.x.orgDomain()).update(),c=f.generateDrawArea(r,!0),d=f.generateDrawBar(a,!0),g=f.generateDrawLine(s,!0),u=m.selectAll("."+o.bars).selectAll("."+o.bar).data(v),u.enter().append("path").attr("class",y).style("stroke","none").style("fill",f.color),u.style("opacity",k).transition().duration(i).attr("d",d).style("opacity",1),u.exit().transition().duration(i).style("opacity",0).remove(),l=m.selectAll("."+o.lines).selectAll("."+o.line).data(_),l.enter().append("path").attr("class",b).style("stroke",f.color),l.style("opacity",k).transition().duration(i).attr("d",g).style("opacity",1),l.exit().transition().duration(i).style("opacity",0).remove(),h=m.selectAll("."+o.areas).selectAll("."+o.area).data(_),h.enter().append("path").attr("class",w).style("fill",f.color).style("opacity",function(){return f.orgAreaOpacity=+p.select(this).style("opacity"),0}),h.style("opacity",0).transition().duration(i).attr("d",c).style("fill",f.color).style("opacity",f.orgAreaOpacity),h.exit().transition().duration(n).style("opacity",0).remove()))},a.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:!1,withSubchart:!1,withUpdateXDomain:!0}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},a.transformContext=function(t,e){var i,n=this;e&&e.axisSubX?i=e.axisSubX:(i=n.context.select("."+o.axisX),t&&(i=i.transition())),n.context.attr("transform",n.getTranslate("context")),i.attr("transform",n.getTranslate("subx"))},a.initZoom=function(){var t=this,e=t.d3,i=t.config;t.zoom=e.behavior.zoom().on("zoomstart",function(){t.zoom.altDomain=e.event.sourceEvent.altKey?t.x.orgDomain():null}).on("zoom",function(){t.redrawForZoom.call(t)}),t.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},t.zoom.orgScaleExtent=function(){var e=i.zoom_extent?i.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=p(t.x.orgDomain())/p(t.orgXDomain),i=this.orgScaleExtent();return this.scaleExtent([i[0]*e,i[1]*e]),this}},a.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+o.zoomRect).call(e),t.main.selectAll("."+o.eventRect).call(e)},a.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x,a=t.orgXDomain;if(i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&n.altDomain)return r.domain(n.altDomain),void n.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===a[0]&&r.domain([a[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:!1,withSubchart:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),i.zoom_onzoom.call(t.api,r.orgDomain())}},a.generateColor=function(){var t=this,e=t.config,i=t.d3,n=e.data_colors,r=x(e.color_pattern)?e.color_pattern:i.scale.category10().range(),a=e.data_color,s=[];return function(t){var e,i=t.id||t;return n[i]instanceof Function?e=n[i](t):n[i]?e=n[i]:(s.indexOf(i)<0&&s.push(i),e=r[s.indexOf(i)%r.length],n[i]=e),a instanceof Function?a(e,t):e}},a.generateLevelColor=function(){var t=this,e=t.config,i=e.color_pattern,n=e.color_threshold,r="value"===n.unit,a=n.values&&n.values.length?n.values:[],s=n.max||100;return x(e.color_threshold)?function(t){var e,n=i[i.length-1];for(e=0;e<a.length;e++)if((r?t:100*t/s)<a[e]){n=i[e];break}return n}:null},a.getYFormat=function(t){var e=this,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,a){return("y2"===e.getAxisId(a)?n:i).call(e,t,r)}},a.yFormat=function(t){var e=this,i=e.config;return(i.axis_y_tick_format?i.axis_y_tick_format:e.defaultValueFormat)(t)},a.y2Format=function(t){var e=this,i=e.config;return(i.axis_y2_tick_format?i.axis_y2_tick_format:e.defaultValueFormat)(t)},a.defaultValueFormat=function(t){return l(t)?+t:""},a.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},a.formatByAxisId=function(t){var e=this,i=e.config.data_labels,n=function(t){return l(t)?+t:""};return"function"==typeof i.format?n=i.format:"object"==typeof i.format&&i.format[t]&&(n=i.format[t]),n},a.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},a.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},a.getCaches=function(t){var e,i=[];for(e=0;e<t.length;e++)t[e]in this.cache&&i.push(this.cloneTarget(this.cache[t[e]]));return i};var o=a.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",region:"c3-region",regions:"c3-regions",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};a.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},a.classText=function(t){return this.generateClass(o.text,t.index)},a.classTexts=function(t){return this.generateClass(o.texts,t.id)},a.classShape=function(t){return this.generateClass(o.shape,t.index)},a.classShapes=function(t){return this.generateClass(o.shapes,t.id)},a.classLine=function(t){return this.classShape(t)+this.generateClass(o.line,t.id)},a.classLines=function(t){return this.classShapes(t)+this.generateClass(o.lines,t.id)},a.classCircle=function(t){return this.classShape(t)+this.generateClass(o.circle,t.index)},a.classCircles=function(t){return this.classShapes(t)+this.generateClass(o.circles,t.id)},a.classBar=function(t){return this.classShape(t)+this.generateClass(o.bar,t.index)},a.classBars=function(t){return this.classShapes(t)+this.generateClass(o.bars,t.id)},a.classArc=function(t){return this.classShape(t.data)+this.generateClass(o.arc,t.data.id)},a.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(o.arcs,t.data.id)},a.classArea=function(t){return this.classShape(t)+this.generateClass(o.area,t.id)},a.classAreas=function(t){return this.classShapes(t)+this.generateClass(o.areas,t.id)},a.classRegion=function(t,e){return this.generateClass(o.region,e)+" "+("class"in t?t["class"]:"")},a.classEvent=function(t){return this.generateClass(o.eventRect,t.index)},a.classTarget=function(t){var e=this,i=e.config.data_classes[t],n="";return i&&(n=" "+o.target+"-"+i),e.generateClass(o.target,t)+n},a.classChartText=function(t){return o.chartText+this.classTarget(t.id)},a.classChartLine=function(t){return o.chartLine+this.classTarget(t.id)},a.classChartBar=function(t){return o.chartBar+this.classTarget(t.id)},a.classChartArc=function(t){return o.chartArc+this.classTarget(t.data.id)},a.getTargetSelectorSuffix=function(t){return t||0===t?"-"+(t.replace?t.replace(/([^a-zA-Z0-9-_])/g,"-"):t):""},a.selectorTarget=function(t){return"."+o.target+this.getTargetSelectorSuffix(t)},a.selectorTargets=function(t){var e=this;return t.length?t.map(function(t){return e.selectorTarget(t)}):null},a.selectorLegend=function(t){return"."+o.legendItem+this.getTargetSelectorSuffix(t)},a.selectorLegends=function(t){var e=this;return t.length?t.map(function(t){return e.selectorLegend(t)}):null};var l=a.isValue=function(t){return t||0===t},h=a.isFunction=function(t){return"function"==typeof t},u=a.isString=function(t){return"string"==typeof t},c=a.isUndefined=function(t){return void 0===t},d=a.isDefined=function(t){return void 0!==t},g=a.ceil10=function(t){return 10*Math.ceil(t/10)},f=a.asHalfPixel=function(t){return Math.ceil(t)+.5},p=a.diffDomain=function(t){return t[1]-t[0]},m=a.isEmpty=function(t){return!t||u(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},x=a.notEmpty=function(t){return Object.keys(t).length>0},v=a.getOption=function(t,e,i){return d(t[e])?t[e]:i},_=a.hasValue=function(t,e){var i=!1;return Object.keys(t).forEach(function(n){t[n]===e&&(i=!0)}),i},y=a.getPathBox=function(t){var e=t.getBoundingClientRect(),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}};r.focus=function(t){function e(t){i.filterTargetsToShow(t).transition().duration(100).style("opacity",1)}var i=this.internal,n=i.svg.selectAll(i.selectorTarget(t)),r=n.filter(i.isNoneArc.bind(i)),a=n.filter(i.isArc.bind(i));this.revert(),this.defocus(),e(r.classed(o.focused,!0)),e(a),i.hasArcType()&&i.expandArc(t,!0),i.toggleFocusLegend(t,!0)},r.defocus=function(t){function e(t){i.filterTargetsToShow(t).transition().duration(100).style("opacity",.3)}var i=this.internal,n=i.svg.selectAll(i.selectorTarget(t)),r=n.filter(i.isNoneArc.bind(i)),a=n.filter(i.isArc.bind(i));this.revert(),e(r.classed(o.focused,!1)),e(a),i.hasArcType()&&i.unexpandArc(t),i.toggleFocusLegend(t,!1)},r.revert=function(t){function e(t){i.filterTargetsToShow(t).transition().duration(100).style("opacity",1)}var i=this.internal,n=i.svg.selectAll(i.selectorTarget(t)),r=n.filter(i.isNoneArc.bind(i)),a=n.filter(i.isArc.bind(i));e(r.classed(o.focused,!1)),e(a),i.hasArcType()&&i.unexpandArc(t),i.revertLegend()},r.show=function(t,e){var i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),i.svg.selectAll(i.selectorTargets(t)).transition().style("opacity",1),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.hide=function(t,e){var i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),i.svg.selectAll(i.selectorTargets(t)).transition().style("opacity",0),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.toggle=function(t){this.internal.isTargetToShow(t)?this.hide(t):this.show(t)},r.zoom=function(){},r.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},r.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},r.load=function(t){var e=this.internal,i=e.config;if(t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(i.axis_x_categories=t.categories),"cacheIds"in t&&e.hasCaches(t.cacheIds))return void e.load(e.getCaches(t.cacheIds),t.done);"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},r.unload=function(t){var e=this.internal;t=t||{},e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},r.flow=function(t){var e,i,n,r,a,s,o,h=this.internal,u=[],c=h.getMaxDataCount(),g=0,f=0;if(t.json)i=h.convertJsonToData(t.json,t.keys);else if(t.rows)i=h.convertRowsToData(t.rows);else{if(!t.columns)return;i=h.convertColumnsToData(t.columns)}e=h.convertDataToTargets(i,!0),h.data.targets.forEach(function(t){var i,n,r=!1;for(i=0;i<e.length;i++)if(t.id===e[i].id){for(r=!0,t.values[t.values.length-1]&&(f=t.values[t.values.length-1].index+1),g=e[i].values.length,n=0;n<g;n++)e[i].values[n].index=f+n,h.isTimeSeries()||(e[i].values[n].x=f+n);t.values=t.values.concat(e[i].values),e.splice(i,1);break}r||u.push(t.id)}),h.data.targets.forEach(function(t){var e,i;for(e=0;e<u.length;e++)if(t.id===u[e])for(f=t.values[t.values.length-1].index+1,i=0;i<g;i++)t.values.push({id:t.id,index:f+i,x:h.isTimeSeries()?h.getOtherTargetX(f+i):f+i,value:null})}),h.data.targets.length&&e.forEach(function(t){var e,i=[];for(e=h.data.targets[0].values[0].index;e<f;e++)i.push({id:t.id,index:e,x:h.isTimeSeries()?h.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=f,h.isTimeSeries()||(t.x+=f)}),t.values=i.concat(t.values)}),h.data.targets=h.data.targets.concat(e),h.getMaxDataCount(),r=h.data.targets[0],a=r.values[0],d(t.to)?(g=0,o=h.isTimeSeries()?h.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<o&&g++})):d(t.length)&&(g=t.length),c?1===c&&h.isTimeSeries()&&(s=(r.values[r.values.length-1].x-a.x)/2,n=[new Date(+a.x-s),new Date(+a.x+s)],h.updateXDomain(null,!0,!0,n)):(s=h.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-a.x:a.x-h.getXDomain(h.data.targets)[0]:1,
n=[a.x-s,a.x],h.updateXDomain(null,!0,!0,n)),h.updateTargets(h.data.targets),h.redraw({flow:{index:a.index,length:g,duration:l(t.duration)?t.duration:h.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:c>1})},a.generateFlow=function(t){var e=this,i=e.config,n=e.d3;return function(){var r,a,s,l=t.targets,h=t.flow,u=t.drawBar,c=t.drawLine,d=t.drawArea,g=t.cx,f=t.cy,m=t.xv,x=t.xForText,v=t.yForText,_=t.duration,y=1,b=h.index,w=h.length,k=e.getValueOnIndex(e.data.targets[0].values,b),M=e.getValueOnIndex(e.data.targets[0].values,b+w),T=e.x.domain(),S=h.duration||_,D=h.done||function(){},C=e.generateWait(),A=e.xgrid||n.selectAll([]),j=e.xgridLines||n.selectAll([]),q=e.mainRegion||n.selectAll([]),L=e.mainText||n.selectAll([]),R=e.mainBar||n.selectAll([]),I=e.mainLine||n.selectAll([]),E=e.mainArea||n.selectAll([]),F=e.mainCircle||n.selectAll([]);e.data.targets.forEach(function(t){t.values.splice(0,w)}),s=e.updateXDomain(l,!0,!0),e.updateXGrid&&e.updateXGrid(!0),h.orgDataCount?r=1===h.orgDataCount||k.x===M.x?e.x(T[0])-e.x(s[0]):e.isTimeSeries()?e.x(T[0])-e.x(s[0]):e.x(k.x)-e.x(M.x):1!==e.data.targets[0].values.length?r=e.x(T[0])-e.x(s[0]):e.isTimeSeries()?(k=e.getValueOnIndex(e.data.targets[0].values,0),M=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(k.x)-e.x(M.x)):r=p(s)/2,y=p(T)/p(s),a="translate("+r+",0) scale("+y+",1)",n.transition().ease("linear").duration(S).each(function(){C.add(e.axes.x.transition().call(e.xAxis)),C.add(R.transition().attr("transform",a)),C.add(I.transition().attr("transform",a)),C.add(E.transition().attr("transform",a)),C.add(F.transition().attr("transform",a)),C.add(L.transition().attr("transform",a)),C.add(q.filter(e.isRegionOnX).transition().attr("transform",a)),C.add(A.transition().attr("transform",a)),C.add(j.transition().attr("transform",a))}).call(C,function(){var t,n=[],r=[],a=[];if(w){for(t=0;t<w;t++)n.push("."+o.shape+"-"+(b+t)),r.push("."+o.text+"-"+(b+t)),a.push("."+o.eventRect+"-"+(b+t));e.svg.selectAll("."+o.shapes).selectAll(n).remove(),e.svg.selectAll("."+o.texts).selectAll(r).remove(),e.svg.selectAll("."+o.eventRects).selectAll(a).remove(),e.svg.select("."+o.xgrid).remove()}A.attr("transform",null).attr(e.xgridAttr),j.attr("transform",null),j.select("line").attr("x1",i.axis_rotated?0:m).attr("x2",i.axis_rotated?e.width:m),j.select("text").attr("x",i.axis_rotated?e.width:0).attr("y",m),R.attr("transform",null).attr("d",u),I.attr("transform",null).attr("d",c),E.attr("transform",null).attr("d",d),F.attr("transform",null).attr("cx",g).attr("cy",f),L.attr("transform",null).attr("x",x).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),q.attr("transform",null),q.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),e.updateEventRect(),D()})}},r.selected=function(t){var e=this.internal,i=e.d3;return i.merge(e.main.selectAll("."+o.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+o.shape).filter(function(){return i.select(this).classed(o.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},r.select=function(t,e,i){var n=this.internal,r=n.d3,a=n.config;a.data_selection_enabled&&n.main.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(s,l){var h=r.select(this),u=s.data?s.data.id:s.id,c=n.getToggle(this).bind(n),g=a.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(l)>=0,p=h.classed(o.SELECTED);h.classed(o.line)||h.classed(o.area)||(g&&f?a.data_selection_isselectable(s)&&!p&&c(!0,h.classed(o.SELECTED,!0),s,l):d(i)&&i&&p&&c(!1,h.classed(o.SELECTED,!1),s,l))})},r.unselect=function(t,e){var i=this.internal,n=i.d3,r=i.config;r.data_selection_enabled&&i.main.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(a,s){var l=n.select(this),h=a.data?a.data.id:a.id,u=i.getToggle(this).bind(i),c=r.data_selection_grouped||!t||t.indexOf(h)>=0,d=!e||e.indexOf(s)>=0,g=l.classed(o.SELECTED);l.classed(o.line)||l.classed(o.area)||c&&d&&r.data_selection_isselectable(a)&&g&&u(!1,l.classed(o.SELECTED,!1),a,s)})},r.transform=function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)},a.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),a=i||{withTransitionForAxis:r};a.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateAndRedraw(a)},r.groups=function(t){var e=this.internal,i=e.config;return c(t)?i.data_groups:(i.data_groups=t,e.redraw(),i.data_groups)},r.xgrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_x_lines=t,e.redraw(),i.grid_x_lines):i.grid_x_lines},r.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},r.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},r.ygrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_y_lines=t,e.redraw(),i.grid_y_lines):i.grid_y_lines},r.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},r.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},r.regions=function(t){var e=this.internal,i=e.config;return t?(i.regions=t,e.redraw(),i.regions):i.regions},r.regions.add=function(t){var e=this.internal,i=e.config;return t?(i.regions=i.regions.concat(t),e.redraw(),i.regions):i.regions},r.regions.remove=function(t){var e,i,n,r=this.internal,a=r.config;return t=t||{},e=r.getOption(t,"duration",a.transition_duration),i=r.getOption(t,"classes",[o.region]),n=r.main.select("."+o.regions).selectAll(i.map(function(t){return"."+t})),(e?n.transition().duration(e):n).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){i.indexOf(t)>=0&&(e=!0)}),!e)}),a.regions},r.data=function(){},r.data.get=function(t){var e=this.data.getAsTarget(t);return d(e)?e.values.map(function(t){return t.value}):undefined},r.data.getAsTarget=function(t){var e=this.data.targets.filter(function(e){return e.id===t});return e.length>0?e[0]:undefined},r.data.names=function(t){var e=this.internal,i=e.config;return arguments.length?(Object.keys(t).forEach(function(e){i.data_names[e]=t[e]}),e.redraw({withLegend:!0}),i.data_names):i.data_names},r.data.colors=function(t){var e=this.internal,i=e.config;return arguments.length?(Object.keys(t).forEach(function(e){i.data_colors[e]=t[e]}),e.redraw({withLegend:!0}),i.data_colors):i.data_colors},r.category=function(t,e){var i=this.internal,n=i.config;return arguments.length>1&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},r.categories=function(t){var e=this.internal,i=e.config;return arguments.length?(i.axis_x_categories=t,e.redraw(),i.axis_x_categories):i.axis_x_categories},r.color=function(t){return this.internal.color(t)},r.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},r.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},r.axis=function(){},r.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(i){e.setAxisLabelText(i,t[i])}),e.updateAxisLabels())},r.axis.max=function(t){var e=this.internal,i=e.config;arguments.length&&("object"==typeof t?(l(t.x)&&(i.axis_x_max=t.x),l(t.y)&&(i.axis_y_max=t.y),l(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},r.axis.min=function(t){var e=this.internal,i=e.config;arguments.length&&("object"==typeof t?(l(t.x)&&(i.axis_x_min=t.x),l(t.y)&&(i.axis_y_min=t.y),l(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},r.axis.range=function(t){arguments.length&&(d(t.max)&&this.axis.max(t.max),d(t.min)&&this.axis.min(t.min))},r.legend=function(){},r.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},r.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},r.resize=function(t){var e=this.internal,i=e.config;i.size_width=t?t.width:null,i.size_height=t?t.height:null,this.flush()},r.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.destroy=function(){var e=this.internal;e.data.targets=undefined,e.data.xs={},e.selectChart.classed("c3",!1).html(""),t.onresize=null},r.tooltip=function(){},r.tooltip.show=function(t){var e,i,n=this.internal;t.mouse&&(i=t.mouse),t.data?n.isMultipleX()?(i=[n.x(t.data.x),n.getYScale(t.data.id)(t.data.value)],e=null):e=l(t.data.index)?t.data.index:n.getIndexByX(t.data.x):t.x?e=n.getIndexByX(t.x):t.index&&(e=t.index),n.dispatchEvent("mouseover",e,i),n.dispatchEvent("mousemove",e,i)},r.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)},"function"==typeof define&&define.amd?define("c3",["d3"],s):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=s:t.c3=s}(window);