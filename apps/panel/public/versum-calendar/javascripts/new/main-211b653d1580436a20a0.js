(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1:function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var a=n(14),r=n(2),o=(n(107),n.t(107,1)),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},c=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=function(e){return e.default||e};window.v2I18n=a,a.defaultLocale=r.r.EN;var u,d,m,p,f=(u=window.v2Locale,d=(u||"pl").replace("_","-").split("-"),m=d[0],p=d[1],"pt"===m?"pt-BR":p?m+"-"+p.toUpperCase():m);a.locale=f,a.fallbacks=!0,a.translations={en:l(o)};var E=function(){return s(void 0,void 0,void 0,(function(){var e,t;return c(this,(function(r){switch(r.label){case 0:return[4,function(){return s(void 0,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return-1!=["en","en-GB","en-US"].indexOf(f)?[2,o]:[4,n(375)("./"+f+".json")];case 1:return[2,e.sent()]}}))}))}()];case 1:return e=r.sent(),a.translations=i(i({},"en"===f?{}:((t={})[f]=l(e),t)),{en:l(o)}),[2]}}))}))};E();var y=function(e){return e?1===e?["one"]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?["few"]:["many"]:["zero"]};["pl","en","es","ro","de","pt","pt-BR"].forEach((function(e){a.pluralization[e]=y})),t.a=a},107:function(e){e.exports=JSON.parse('{"404":{"title":"This page does not exist","dialogTitle":"404","messageHtml":"Go to the <a href=\\"https://panel.versum.com\\">main page</a> or <a href=\\"https://panel.versum.com/signin?locale=pl\\">sign in</a> again.","backLinkHtml":"&laquo; Back to the previous page","footerMessageHtml":"If you have any questions, please send an email to: %{link}"},"common":{"processing":"Processing...","loading":"Loading...","save":"save","noSaveWarning":"Your changes may not be saved.","noChanges":"Saved","saveChanges":"Save changes","saveSettings":"Save settings","addAnother":"Add another","settingsSaved":"Settings have been saved","settingsUpdated":"Settings have been updated","delete":"delete","cancel":"cancel","edit":"edit","close":"close","change":"change","more":"more","see":"see","status":"Status","empty":"none","yes":"Yes","no":"no","closeConfirm":"Are you sure you want to exit?","serverError":"Something went wrong. Please try again.","emptyResults":"No results","net":"net","gross":"gross","not_found":"Not found","active":"Active","noDetails":"no details","notSpecified":"not specified","month":{"one":"month","few":"months","many":"months","zero":"months"},"dateRange":{"yesterday":"Yesterday","today":"Today","lastYear":"Last year","selectDateRange":"select a period","lastDays":{"one":"last day","few":"last {{count}} days","many":"last {{count}}"},"currentMonth":"current month","lastMonths":{"one":"last month","few":"last {{count}} months","many":"last {{count}} months"}},"day":{"one":"{{days}}&nbsp;day","few":"{{days}}&nbsp;days","many":"{{days}}&nbsp;days"},"choose":"select","photo":{"add":"Add picture","change":"Change picture","crop":"Crop picture","delete":"Delete picture"},"back":"back","filter":"filter","range":{"from":"From","to":"To"},"otherPeriod":"different period","learnMore":"Learn more","limitExceeded":"Viewing contact details has been blocked. You have reached your daily limit set by the account administrator. To increase your daily limit, please contact the administrator.","inactive":"disabled","confirm":"confirm","qty":"quantity","add":"add","saved":"Changes have been saved.","less":"less","missing":"none","activationStatus":{"active":"enabled","inactive":"disabled"},"actionNeedsConfirmation":"Are you sure?","next":"Next","understood":"OK","vat":{"exempt":"exempt"},"payingOnly":"The feature is available only for paying customers.","unavailable":"This feature is not available for your salon.","requestTimeout":"Something went wrong...","requestTimeoutDescription":"We couldn\'t load the data. Please refresh the page. If the problem persists, please contact the <a href=\\"{{supportPath}}\\">customer service team.</a>","refreshPage":"Refresh the page","backward":"back","otherNetworkError":"An error occurred while loading data. Please check your internet connection and try again.","networkError":"Unable to load data. Please check your internet connection and try again.","timeoutError":"Unable to connect to the server. Please check your internet connection and try again.","netGross":{"price":"{{netGross}} price","priceC":"{{netGross}} price","value":"{{netGross}} value","totalC":"Total {{netGross}}","sum":"{{netGross}} amount"},"noDescription":"No description","accountDeleted":"account deleted","confirmDeletion":"This operation cannot be undone. Do you wish to proceed?","use":"use","search":"search","show":"show","hide":"hide","minutes":{"zero":"{{count}} minutes","one":"{{count}} minute","few":"{{count}} minutes","many":"{{count}} minute"},"hours":{"zero":"{{count}} hours","one":"{{count}} hour","few":"{{count}} hours","many":"{{count}} hours"},"days":{"zero":"{{count}} days","one":"{{count}} day","few":"{{count}} days","many":"{{count}} days"},"moment":"Moment","booksy":"Booksy","workInProgress":"Feature in progress"},"validation":{"errorTitle":"The form contains the following errors:","required":"This field cannot be blank","blank":"This field cannot be blank","email":"Invalid email address","www":"Invalid website address","phone":"Invalid phone number","minlength":"Minimum number of characters is {{characters}}","maxlength":"Maximum number of characters is {{characters}}","invalid":"The field contains incorrect value","invalidVat":"Invalid format","invalidVatPl":"Invalid format","minZero":"The value cannot be less than zero","maxHundred":"The value cannot be more than 100%","negative":"The value cannot be negative","requiredDigitsLength":"The required number of digits is {{digits}}","notNegativeOrZero":"The value must be greater than zero","valueTaken":"The value is already in use. Provide a different one.","tooLong":"The name is too long","bankAccountAddress":"Invalid bank account number","selectCountry":"Select a country","tooLongAddress":"The address is too long","minMinusHundred":"The value cannot be less than -100%","integer":"The value must be an integer","too_long":"The value entered is too long","less_than":"The value entered is too high","greater_than":"The value entered is too low","company":{"form_invalid":"The form contains errors","name":{"blank":"The \'company name\' field cannot be blank","too_long":"The value entered in the \'company name\' field is too long"},"region":{"blank":"The \'region\' field cannot be blank"},"address":{"blank":"The \'address\' field cannot be blank","too_long":"The value entered in the \'address\' field is too long"},"city":{"blank":"The \'city\' field cannot be blank","too_long":"The value entered in the \'city\' field is too long"},"post_code":{"invalid":"The postal code is invalid","too_long":"The value entered in the \'postal code\' field is too long"},"invoice_email":{"blank":"The \'billing email address\' field cannot be blank","too_long":"The value entered in the \'billing email address\' field is too long"},"nip":{"invalid":"Invalid tax ID","invalid_vat":"Invalid company identification number","invalid_vat_pl":"Invalid tax ID number","cannot_be_changed":"If you want to change your tax ID number, please contact our Customer Service Team."},"tax_identity":{"blank":"This field cannot be blank","invalid":"Invalid tax ID","cannot_be_changed":"If you want to change your tax ID number, please contact our Customer Service Team."}},"acceptAgreement":"The agreement must be accepted","zipCode":"The postal code is invalid","bad_sale_inventory":"Insufficient quantity of the product in stock","bad_product_quantity":"Incorrect product quantity","already_present":"A sale for this order has already been created","not_found":"Object not found","acceptRegulations":"The Terms and Conditions must be accepted","not_enough_safety_measures":"At least five safety criteria must be selected.","transition_unsupported":"It is not possible to change the order status.","error":"Error","orderError":"Order error","online_payments_are_active":"Prepayments must remain enabled if you want to use Moment Pay.","impossible":"Update not possible.","eventreminder":{"message":{"sms_too_long":"The questionnaire cannot be activated, because there are too many characters in the appointment reminder."}},"unavailable":"Feature unavailable","can_not_receive_communication":"No communication channels have been set for the customer","initial_newsletter_blockade":"Verification process has not been completed for your account","non_paying":"Disabled on trial accounts","blocked_access_to_send_newsletters":"Blocked access to send newsletters","pending_invitations_exist":"Invitations are currently being processed"},"forms":{"enterPhoneNumber":"enter your phone number"},"payments":{"saveAndSendLinkToPayment":"save and send a payment link","sendLinkToPayment":"send a payment link","paymentLinkHasBeenSent":"Payment link has been sent","payThroughTheBlik":"Pay with BLIK","transaction":{"details":"Transaction details","type":"payment method","subjectType":"transaction subject","status":"status","amount":"amount","customer":"customer","date":"payment date","id":"ID","eventDetails":{"title":"Services","id":"ID","service":"service","employee":"employee","date":"date","unknown":"Unlisted service"}},"payoutInfo":{"notConfirmed":"Authorise your bank account to enable balance payouts","zeroBalance":"No funds available"},"payoutDetails":{"receiver":"recipient details","fromAccount":"from","toAccount":"to","nameAndAddress":"name and address","payoutFromVersum":"balance payout from Versum account ","payoutDate":"transaction date","balanceAfterTransaction":"balance after transaction"},"status":{"created":"Payment initiated","in_progress":"Processing","success":"Paid","failure":"Failed","not_found":"Not found"},"modal":{"onlinePayment":"Online payment","blikPayment":"BLIK payment","thankYouForPayment":"Thank you for your payment","whereToFindBlik":"You will find the BLIK code in your banking app","enterBlikCode":"Enter the BLIK code generated by the customer","howToPayByBlik":"How to pay with BLIK","changePaymentMethod":"change payment method","missingData":"To send a link with an online payment request, complete the customer\'s details.","success":{"title":"Your payment has been processed successfully!","message":"The amount paid by the customer has been transfered to the salon\'s account."},"failure":{"title":"Something went wrong...","message":"BLIK payment has not been successful. You can pay once again or select a different payment method."},"progress":{"title":"Wait for the BLIK payment confirmation","message":"The time to confirm payment \\nin a banking application is limited. \\n\\nIf the payment is not confirmed within the time limit, \\nthe transaction will need to be repeated."},"linkSent":{"title":"Payment link has been sent","message":"Payment link has been sent to the customer","on":"to","and":"and "},"sendLinkSms":"Send an SMS text with the payment link","clientDetails":"Customer details:","sendPaymentLink":"Send a payment link:","sendLinkEmail":"Send an email with the payment link","communicationValidation":"To be able send the prepayment link, you need to select one of the available options"},"communication":{"title":"Messages","messageNewOnlinePayment":{"label":"Send notifications about new prepayments "},"messageNewPayout":{"label":"Send notificatons about balance payouts"},"notificationsEmail":"Email address to send notifications to","status":{"false":"disabled","true":"enabled"},"messagePrepaymentUnpaid":{"label":"Send notifications about unpaid prepayments"},"notificationsEmailTooltip":"You can add several email addresses by separating them with a comma. Notifications will be sent to all the email addresses provided."},"customerPaysNow":"instant payment","customerPaysLater":"payment postponed","blik":"BLIK","onlinePayments":"Online payments","sendMailWithPayment":"Send payment email","transferOfFunds":"Balance payout","periodicTransfer":"Periodic transfer (free","transferOnDemand":"Payout on request (commission fee applies)","paymentMethod":{"cash":"cash","credit_card":"debit card","transfer":"transfer","carnet":"package","registered_carnet":"registered package","certificate":"gift card","certificate_with_gift_card":"registered gift card","certificate_with_gift_card_spv":"registered SPV gift card","barter":"barter","gift":"reward","gratis":"free of charge","group_buying":"group buying","paypal":"PayPal","balance":"balance","online":"online payment","online_link":"Moment Pay - online payment","online_blik":"Moment Pay - BLIK","other":"alternative payment method","online_online_booking":"Moment Pay - online booking","online_order_online":"online payment for an order","online_gift_coupon":"Moment.pl gift card"},"chargeBack":{"chargeBackModalTitle":"Prepayment refund","prepayment":"Prepayment","consumer":"Customer","employeeName":"Employee making the refund","prepaymentChargeBack":"Prepayment refund","refundModalTitle":"Prepayment refund"},"accountBalanceInfo":"The amount available on your balance is the total revenue from online payments minus the commission fees charged for processing online payments.","onlySendLinkToPayment":"continue without saving","refund":{"refundPrepaymentModalTitle":"Prepayment refund","refundModalTitle":"Refund","prepayment":"Prepayment","consumer":"Customer","employeeName":"Employee making the refund","prepaymentRefund":"Prepayment refund","payment":"Payment","paymentRefund":"Refund","refundAmount":"Refund: {{amount}}","success":"The payment has been refunded","blikSubsidyInfo":"The customer used the BLIK discount. Reduce the refunded amount by 10 zł.","blikSubsidyTooltip":"The BLIK discount is valid for customers who book services worth at least PLN 100 via the Moment mobile app. Making a BLIK payment will get customers a PLN 10 discount, while the full amount will be credited to your balance. Once you make a refund, the amount of PLN 10 from the BLIK discount will be automatically deducted from your Moment Pay balance.","error":{"not_prepaid":"The prepayment has not been paid.","not_paid":"The payment has not been made.","not_found":"Not found","not_allowed":"Access denied","not_paid_online":"The payment has not been made online","invalid_charge_back_method":"Invalid refund method","amount_too_small":"The refunded amount is too small","branch_balance_too_small":"Insufficient funds on the salon\'s balance","amount_do_not_cover_costs":"The balance is not sufficient to cover the cost of payout","customer_balance_too_small":"Insufficient funds on the customer\'s balance","balance_too_small":"Insufficient balance","refund_unprocessable":"Refunds via the selected bank are temporarily not available. Please choose a different refund method. ","pending_refund":"The refund is currently being processed","event_finalized":"You cannot refund the prepayment because the appointment has been checked out.","offline_unavailable":"You cannot make a refund offline for this payment"},"blik2SubsidyTooltip":"The BLIK discount is valid for customers who book services worth at least PLN {{value}} via the Moment mobile app. Making a BLIK payment will get customers a PLN 10 discount, while the full amount will be credited to your balance. Once you make a refund, the amount of PLN 10 from the BLIK discount will be automatically deducted from your Moment Pay balance.","couponBalanceRefund":"Gift card balance refund","giftCardBalanceRefund":"Gift card balance refund"},"giftCards":{"modal":{"search":{"title":"Browse gift cards owned by {{customer}}","enterGiftCardNumber":"Enter gift card number","giftCardNumber":"gift card number","enterNumber":"enter number","searchError":"There is no gift card with the selected number or the gift card cannot be used"},"unavailabilityReason":{"unavailable_in_services":"the gift card cannot be redeemed for the services you\'ve selected","services_missing":"no services selected","expired":"the gift card has expired","incompatible_vat":"the tax rate of the services is higher than that of the gift card","locked":"The voucher balance has been blocked, as it has been used to make a prepayment"},"list":{"title":"Customer\'s gift cards","giftCard":"Gift card","balance":"balance","number":"ID","validTo":"valid until","empty":"No gift cards","balanceWarning":"The gift card balance is not sufficient to cover the prepayment. You will need to pay the remaining amount using a different payment method.","cantUse":"the selected gift card cannot be used"},"confirm":{"expired":"The gift card has expired, are you sure you want to use it?"}}}},"services":{"addService":"add service","selectedCount":"selected","editSelected":"edit selected","changePriceByPercentage":"change prices by percentage","changePriceByValue":"change prices by amount","assignToCategory":"assign to category","assignResources":"assign resources","changePrepaymentsAmount":"change prepayment amount","changeVatValue":"change tax rate","changeServiceType":"change service type: medical/standard","downloadExcel":"save to an Excel file","submit":"change","assign":"assign","actionTitle":{"percentage":"Change prices by percentage","price":"Change prices by amount","category":"Assign to category","prepayment":"Change prepayment amount","booking":"Change the online booking status"},"actionBox":{"correctionFor":"Adjustment for","services":"services"},"valueAction":{"valueAmount":"adjustment value","grossPrice":"gross","netPrice":"net"},"prepaymentAction":{"changeOn":"change to"},"percentAction":{"valueAmount":"adjustment value"},"categoryAction":{"assignTo":"assign services to","allServices":"All services"},"serviceTypeAction":{"changeValue":"adjustment value","medical":"medical service","nonMedical":"standard service"},"vatAction":{"changeTo":"change tax rate to"},"successNotifications":{"percentage":"Price of the selected services has been changed.","price":"Price of the selected services has been changed.","category":"Category of the selected services has been changed.","prepayment":"The prepayment amount has been changed.","booking":"Online booking status has been changed.","medical":"Type of the selected services has been changed to medical.","nonMedical":"Type of the selected services has been changed to standard.","vat":"Tax rate of the selected services has been changed.","resource":"The resources for the selected services have been updated.","duration":"Prep time and recovery time for the selected services have been updated."},"tableHeader":{"name":"name","category":"category","duration":"Duration","popularity":"Popularity","price":"Gross price","vat":"Tax"},"tableBody":{"duration":{"zero":"{{count}} minutes","one":"{{count}} minute","few":"{{count}} minutes","many":"{{count}} minutes","break":"{{count}} minutes gap time"},"popularity":{"zero":"{{count}} times","one":"1 time","many":"{{count}} times","few":"{{count}} times"},"noCategory":"no category","vat":"{{count}}%","noVatInfo":"exempt"},"resourcesModal":{"require":"Require","requireAlso":"Require also","bindResources":"Assign resources to the selected services","checkedServices":"Selected services","and":"and","or":"or","priority":"Priority","createNew":"Add a new resource","tooltipInfo":"If the service can be provided using any of several resources, use the \\"or\\" operator to add them to the list. Optionally, you can define priority for each of them. Resources with a higher priority will be booked first. If multiple resources with the same priority are available, the resource will be selected randomly.","recipeInputPlaceholder":"select a resource","warningMessage":"Services listed below have already been linked to resources. Existing relationships will be removed and replaced.","highest":"Highest","high":"High","normal":"Normal","low":"Low","lowest":"Lowest","notification":"Changes are being saved. This may take several minutes.","updateFutureEvents":"Update future appointments (no. of appointments: {{count}})","updateFutureEventsTooltip":"If you select this option, resources assigned to all future appointments containing the edited service will be updated, even if new resources will not be available. Once the update is complete, an activity log will be created. It will show appointments with availability conflicts. It is strongly recommended to verify these appointments. ","warningBoxMessage":"All existing connections of services with resources will be removed and replaced with new ones. "},"noServicesView":{"notFound":"No services found","addNew":"Add your first service","emptyListDescription":"The service list will allow you to schedule appointments - both through the appointment book and the online booking panel.","emptyListDescriptionDetailed":"It will streamline the scheduling process and let you gather useful statistics on service popularity. You will know which services are most popular and which require additional advertising, which will help you boost your income.","importInfo":"If you have a service database (e.g. in an Excel file) you can have it imported to Versum.","sendMessage":"Please send us a message through","contactForm":"Contact form","booksyTitle":"Fill your list of services automatically!","booksyDescription":"Select your business category and we\'ll prepare a list of services tailored to your buiness. You will be able to edit and categorise your services later.","booksyRedirect":"Select business category"},"pending":"processing data","alertMessage":"Update is in progress. Please do not leave this page yet.","sideNavigation":{"options":"add/edit/delete","submit":"save changes and finish","addCategory":"Add a category","unCategorized":"uncategorized services","noVatInfo":"Exempt from VAT"},"categoryDropdown":{"addSubCategory":"add a subcategory","configureCommission":"set up commission","confirmDeletion":"This operation cannot be undone. Do you wish to proceed?"},"dropdown":{"enterNameOrSelect":"enter the name or select from the list","addAnother":"add a service","searching":"Searching","performedBy":"performed by {{employeeName}}","noServicesAssignedToEmployee":"No service assigned to {{employeeName}}","browse":"Browse services","showAll":"Show all","withoutCategory":"No category assigned","noNameCategory":"Unnamed category","servicesNotFound":"No services found","addNewService":"Add a new service"},"browser":{"services":"Services","allServices":"All services","servicesPerformedBy":"Services performed by {{employeeName}}","serviceIsNotPerformedBy":"This service is not performed by {{employeeName}}"},"createServiceModal":{"newService":"New service","name":"Name","duration":"Duration","price":"Price","minutes":"minutes","gross":"gross","tooltip":{"name":"The name should clearly identify the service. <br>An example of a suitable name would be &quot;Diamond microdermabrasion&quot;."},"addedService":"Service added successfully","category":"Category","addService":"Add service"},"change_online_booking_status":"change the online booking status","bookingAction":{"onlineBookingAllowed":"The service can be booked online","onlineBookingDisabled":"Disabled. The service can be booked by phone.","hideFromCustomers":"Disabled. The service is not available in the customer online booking panel."},"categoryModals":{"title":"Category","allServices":"All services","confirmationTitle":"Are you sure?","name":"Name","addAsSubcategory":"add as a subcategory","mainCategory":"Parent category","vat":"VAT","changeVat":"Update the VAT rate for all services in the category","employeesAssigned":"Staff assigned to this service category","allEmployees":"All employees","exempt":"exempt","isInheritedForUser":"You cannot deselect this employee because he or she is assigned to a parent category.","errorNotification":"Please check the following fields"},"batchUpdate":{"queued":"Changes are being saved. This may take up to several minutes.","disabled":"Changes can only be made once the previous changes have been updated. Please try again later.","success":"Updated successfully.","error":"Update has failed. Please try again in a few minutes."},"changeDuration":"set prep and recovery time","durationModal":{"title":"Set prep time and recovery time","durationBefore":"Prep time","durationAfter":"Recovery time","durationBeforeTooltip":"Set how much extra time is needed to prepare the required resources before a treatment.","durationAfterTooltip":"Set how much extra time is needed to free up the resources after a treatment.","beforeGraphLabel":"Prep time","afterGraphLabel":"Recovery time","serviceGraphLabel":"Service","minutes":"min."}},"pagination":{"positionsFromTo":"Items from {{firstPosition}} to {{lastPosition}} out of","from":"of","onPage":"per page"},"searchBar":{"searchForService":"find a service"},"settings":{"settingsSaved":"Settings saved successfully","settingsNotSaved":"Settings have not been saved","branchNotUpdated":"Unable to update account settings. Please try again.","branchUpdated":"Account settings updated.","branch":{"name":"Name","email":"Email","phone":"Phone number","www":"Website address","description":"Description","logo":"Logo","tooltip":{"name":"Provide a short name which will appear, among others, in appointment reminders sent to your customers.","email":"This is the email address your customers will send messages to.","www":"If you have a website, enter the address here."}},"customer":{"firstName":"First name","lastName":"Last name","email":"Email address","phone":"Phone number","phones":"Phone number"},"customerDiff":{"position":"position","beforeChange":"before","afterChange":"after","title":"Do you want to update the details in the customer record?"},"facilityTypes":{"parking":"Parking space","creditCard":"Payment cards accepted","accessible":"Accessible for people with disabilities","kids":"Child-friendly","animals":"Pets allowed","loyalty":"Loyalty Program","opinion":"Customer Reviews","live":"Instant online booking","trusted":"Featured","wifi":"Wi-Fi"},"prepayments":{"title":"Prepayments","whatIsIt":"What is it?","whatIsItInfo":"Versum gives you the possibility to enter information about prepayments your clients make into the system, determine the default prepayment amount for all services offered in your salon as well as each service individually. You can choose either a percentage of the service price or a fixed amount of money.","whyWorthIt":"What are the benefits?","whyWorthItInfo":"Accepting prepayments will help you reduce the number of no-shows in your salon and minimise the related losses. Prepayments will motivate your clients to turn up for their scheduled appointments and let you benefit from greater financial security.","turnOn":"Enable prepayments","prepaymentPayoutData":"Payout details","prepaymentsEnabled":"Prepayments have been enabled","prepaymentsDisabled":"Prepayments have been disabled","hoursBefore":"h before","hoursBeforeVisit":"h before an appointment","switch":{"enabledForParticullar":"selected services","enabledForAll":"all services","enabled":"Enabled","disabled":"Disabled"},"labels":{"defaultValue":"Default prepayment amount","minimalAmount":"Minimum prepayment amount","roundDown":"Round prepayment amounts down to the nearest whole number","cancelEvents":"Automatic cancellation of appointments: ","prepayments":"Prepayments","prepaidServices":"Require prepayments for services","daysOfTheWeekRule":"Selected days of the week","dateRules":"Selected dates","customerRule":"Require prepayments from customers"},"preview":{"roundDown":"Round prepayments down","cancelEvents":"Automatic cancellation of appointments","eventPrepaymentRequirement":{"title":"Require prepayments for appointments","selectedDays":"scheduled for selected days","all":"all"},"prepaidServices":{"title":"Require prepayments for services","all":"all","particular":"selected"},"customerRules":{"title":"Require prepayments from customers"}},"tooltip":{"minimalAmount":"If the minimum prepayment amount is higher than the service price, a prepayment of 100% o the service price will be charged.<br>If the prepayment amount defined in settings is less than the minimum prepayment amount, the value entered in this field will be charged.</br>","roundDown":"For a prepayment of {{currency}} 10.99, the amount of {{currency}} 10 will be charged.","customerRules":"Only appointments that have been checked out are taken into account. If a checked-out appointment has been cancelled or deleted, the customer will still be required to make a prepayment. "},"activityStatus":{"true":"enabled","false":"disabled"},"validation":{"blikCode":{"tooShort":"The BLIK code is too short","tooLong":"The BLIK code is too long","invalid":"The BLIK code is incorrect"},"defaultValueMinimalAmount":"The value cannot be less than the minumum prepayment amount.","payment":{"customer":{"not_found":"The customer has not been found"},"amount":{"already_paid":"Payment has already been made","too_small":"The amount provided is too low"}},"transfertransaction":{"amount_requested":{"greater_than":"The amount must be greater than 0"}},"eventPrepaymentRequirement":"The days when prepayments should be required have not been specified","minimalAmountIsHigherThanDefault":"The amount must be higher the default prepayment amount.","can_not_receive_communication":"No communication channels have been set for the customer","request":{"customer":{"can_not_receive_communication":"The payment link cannot be sent because the customer has not given their consent to receive communication. Go to the customer record and select the checkbox in the Customer consents field and then try again."}}},"payouts":{"error":{"payout_method_missing_or_not_approved":"The account has not been accepted"},"status":{"pending":"Pending","complete":"Completed","failed":"Failed"},"table":{"header":{"date":"Date","amount":"Amount","commission":"Commission","cost":"Cost","status":"Status"}}},"prepaymentRefunded":" The prepayment has been refunded","chargeBack":{"doRefund":"refund","refunded":"refunded","error":{"not_prepaid":"There was no prepayment made for the appointment","not_found":"Not found","not_allowed":"Access denied","not_paid_online":"The prepayment has not been made online","invalid_charge_back_method":"Invalid refund method","amount_too_small":"The refunded amount is too small","branch_balance_too_small":"Insufficient funds on the salon\'s balance","amount_do_not_cover_costs":"The balance is too low to cover the cost of payout","customer_balance_too_small":"Insufficient funds on the customer\'s balance","balance_too_small":"Insufficient funds ","refund_unprocessable":"Refunds via the selected bank are temporarily not available. Please choose a different refund method. ","pending_refund":"The refund is currently being processed","event_finalized":"You cannot refund the prepayment because the appointment has been checked out.","offline_unavailable":"You cannot make a refund offline for this payment"}},"communication":{"title":"Messages to customers","preview":"preview","tableHeader":{"type":"Message type","time":"Time of dispatch","kind":"Type","sms":"SMS","email":"Email"},"messages":{"sms":"SMS","email":"Email"},"deliveryTime":{"hoursAfterAdd":"{{hours}}h after scheduling","immediatelyAfterAdd":"instantly after scheduling ","immediatelyAfterRecivedPayment":"instantly after receiving payment","immediatelyAfterFinalization":"instantly after checking out","hoursBeforeCancellation":"{{hours}}h after adding a prepayment","xxx":"instantly after cancellation","hoursAfterRequestSent":"{{hours}}h after sending the payment request","immediatelyAfterSale":"instantly after purchase"},"messagesName":{"confirmReservationRequestPayment":"Booking confirmation with a payment request","remindUnpaidVisit":"Pending prepayment - reminder","confirmReservationWithPayment":"Booking and payment confirmation","paymentRequestForVisit":"Appointment thank-you message with a payment request","paymentReqestForFinalizedVisit":"Pending payment for an appointment - reminder","acknowledgement":"Appointment and payment thank-you message","paymentRequestForPurchase":"Purchase thank-you message with a payment request","paymentRemind":"Pending payment for a purchase - reminder","paymentPaid":"Appointment and purchase thank-you message","cancelVisit":"Appointment cancellation due to an overdue payment","confirmPurchase":"Purchase thank-you message with a payment request"},"tooltip":"Messages will not be active until you enable prepayments. ","categories":{"pendingEvent":"Pending appointments","finalizedEvent":"Checked-out appointments","sale":"Product purchase"}},"prepaymentsDefaultValueForParticularInfo":"The default value for individual services can be set in the \\"services\\" module","hoursAfter":"h after adding a prepayment","hoursAfterVisit":"h after adding the prepayment","info":"Enable prepayments and stop losing money on no-shows. Thanks to prepayments, you will be able to secure appointment dates for your loyal customers. The prepayment requirement will motivate them to come for their appointment or, in case they can\'t come, reschedule it in advance.  ","howItWorks":"How does it work?","howItWorksInfo":"Once you enable prepayments, you will be able to set the default prepayment amount for all services from your offer. Alternatively, you can enable prepayments only for selected services and set the required amount for each service individually. Thanks to that, prepayments will be required every time you add an appointment with a given service to the appointment book. You can also enable automatic cancellation of appointments to cope with appointments for which prepayments have not been made on time.","whyWorth":"What are the benefits?","whyWorthInfo":"Enabling prepayments will help you cut down on no-shows. If a customer needs to make a prepayment to book an appointment, the risk that they do not show up will be significantly reduced and you will get greater financial security.","prepaymentNotifications":{"notificationsEmail":"Email address for notifications","messagePrepaymentUnpaid":"Send notifications about unpaid prepayments","notificationsTitle":"Notifications","notificationsEmailTooltip":"You can add several email addresses by separating them with a comma. Notifications will be sent to all the email addresses provided."},"notifications":"Notifications","labelActive":"enabled","status":{"enabledForParticullar":"selected services","enabledForAll":"all services"},"dateRules":{"addDateRange":"add date range","removeDateRange":"delete range"},"customerRules":{"everyone":"all","eventCounter":{"one":"on their first appointment","few":"on their first {{eventCount}} appointments","many":"on their first {{eventCount}} appointments"}},"eventPrepaymentRequirement":{"title":"Require prepayments for appointments","all":"All","selectedDays":"Scheduled for selected days"},"advancedSettings":{"title":"Advanced","show":"Show"},"errors":{"online_payments_are_active":"Prepayments must remain enabled if you want to use Moment Pay.","config":{"enabled":{"online_payments_are_active":"Prepayments must remain enabled if you want to use Moment Pay."},"default_value":{"greater_than_or_equal_to":"The default value must be greater than or equal to the minimum prepayment amount"},"online_payment_state":{"invalid":"Online payment status is invalid"},"customer_rule_event_count":{"greater_than":"An error occurred, please try again. "}}},"prepaymentRefundedBy":{"online":"The refund via Moment Pay has been registered. The funds will be transferred to the customer\'s account immediately. ","transfer":"The refund by bank transfer has been registered. The maximum processing time is 7 working days.","credit_card":"The refund to the customer\'s payment card has been registered. The maximum processing time is 14 working days.","other":"The refund has been registered","online_blik":"The refund via Moment Pay - BLIK has been registered. The funds will be transferred to the customer\'s account immediately. ","online_link":"The refund via Moment Pay - online payment has been registered. The funds will be transferred to the customer\'s account immediately. ","blik":"The refund via Moment Pay - BLIK has been registered. The funds will be transferred to the customer\'s account immediately. ","card":"The refund to the customer\'s payment card has been registered. The maximum processing time is 14 working days."},"prepaymentsDefaultValueForParticularHint":"You can set the prepayment amount you wish to require for a selected service in the “Advanced” section of the service record or by updating the prepayment amount for multiple services in bulk in the \\"services\\" module.","selectedServicesPrepaymentsHintModal":{"title":"Prepayment settings","header":"Prepayments enabled - what\'s the next step?","content":"Go to the list of services and set the prepayment amount for services which prepayment is to be required for. You can do this in the \'advanced\' section in the service record or on the list of services for multiple services at once."},"foreignBranchUsingPolishLocale":{"info":"Enable prepayments and stop losing money on no-shows. Thanks to prepayments, you will be able to secure appointment dates for your loyal customers. The prepayment requirement will motivate them to come for their appointment or, in case they can\'t come, reschedule it in advance.  ","howItWorksInfo":"Once you enable prepayments, you will be able to set the default prepayment amount for all services from your offer. Alternatively, you can enable prepayments only for selected services and set the required amount for each service individually. Thanks to that, prepayments will be required every time you add an appointment with a given service to the appointment book. You can also enable automatic cancellation of appointments to cope with appointments for which prepayments have not been made on time.","whyWorthInfo":"Enabling prepayments will help you cut down on no-shows. If a customer needs to make a prepayment to book an appointment, the risk that they do not show up will be significantly reduced and you will get greater financial security.","howItWorks":"Once you enable prepayments, you will be able to set the default prepayment amount for all services from your offer. Alternatively, you can enable prepayments only for selected services and set the required amount for each service individually. Thanks to that, prepayments will be required every time you add an appointment with a given service to the appointment book. You can also enable automatic cancellation of appointments to cope with appointments for which prepayments have not been made on time."}},"customerTransactions":{"tableHeader":{"id":"ID","type":"payment method","subjectType":"transaction subject","amount":"amount","customer":"customer","startDate":"start date","finishDate":"end date","status":"status"},"transactionType":{"blik":"Moment Pay - BLIK","card":"card","transfer":"Moment Pay - online payment","gift_coupon":"Moment.pl gift card"},"transactionSubjectType":{"event_finalization":"payment for appointment","event_prepayment":"appointment prepayment","order":"product sale from the inventory"},"transactionStatus":{"created":"initiated","failure":"failed","in_progress":"processing","success":"completed"},"details":{"employee":"Employee","balance":"Balance"},"emptyState":"No transactions","allTransactions":"All transactions"},"PaymentsDashboard":{"PrepaymentConfig":{"title":"Prepayments","description":"Enable prepayments and stop losing money on no-shows. Thanks to prepayments, you will be able to secure appointment dates for your loyal customers. The prepayment requirement will motivate them to come for their appointment or, in case they can\'t come, reschedule it in advance.  ","turnOn":"Enable prepayments","status":"Status"}},"OnlinePaymentBankAccountView":{"title":"Moment Pay","status":"Moment Pay status","settleTransactionToConfirmAccount":"Make a bank transfer to confirm your account","bankTransferDetails":"Bank transfer details","funds":"Balance","payout":"Pay out","payoutPaidOut":"Your balance has been paid out","payoutAccount":"Bank account for payouts","accountNumber":"Account number","payoutAccountNumber":"Account number","accountNumberState":{"CREATED":"Awaiting authorisation","APPROVED":"Approved","CEASED":"Cancelled","LOCKED":"Blocked","CANCELED":"Cancelled"},"payoutAddress":"Address for payout","payoutMethod":"Method of payout","payoutData":"Payout details","confirmingTitle":"Transfer title","confirmingAccountNumber":"Account number","confirmingAmount":"Amount","DAILY":"Every day (paid)","nextAutoPayout":"Next automatic payout ","WEEKLY":"Once a week (free)","details":"Details","nameOfTheRecipient":"Beneficiary name","accountNumberToolTip":"It is not possible to edit details of the bank account for payouts. You can change the details or add a new account in the \\"Account for payouts\\" section by initiating the authorisation process once again.","addAccountCard":{"title":"Add a bank account for payouts","text":"Add a bank account to which the Moment Pay balance should be transferred. Complete the bank account details and then go through the account authorisation process. After the process is completed, the balance will be paid out automatically once a week.","button":"Add new account"},"momentPayStatus":{"active":"enabled","inactive":"disabled"},"nextPayout":"Next payout:","configuration":{"status":"Moment Pay status","momentPay":"Moment Pay","notifications":"Notifications for a salon","notificationsEmail":"Email address for notifications","messageNewOnlinePayment":"Send notifications about new inflows and payouts","messagePaymentRequestUnpaid":"Send notifications about outstanding payments for appointments and products","messageNewOnlinePaymentHint":"If this notification is enabled, you will receive email messages when customers pay for appointments or purchased products and when the Moment Pay balance is paid out. ","messagePaymentRequestUnpaidHint":"If this notification is enabled, you will receive email messages when customers do not make a payment for appointments or purchased products three days after they receive an email with a payment request. "},"disableMomentPay":{"title":"What are the consequences of disabling Moment Pay?","subtitle":"When you disable Moment Pay:","disableButton":"enable Moment Pay","momentPayLock":{"title":"Accepting online payments and making refunds online will not be possible","description":"Your customers will no longer be able to choose online payment methods. Refunds via Moment Pay will also be disabled."},"notificationLock":{"title":"Payment links will be deactivated","description":"All online payments links previously sent to customers will be canceled. A list of pending transactions is available in the statistics module; however, it will not be available once Moment Pay is disabled."},"balanceLock":{"title":"Moment Pay balance will be paid out","description":"All funds collected on your Moment Pay balance will be transferred to your authorized bank account on the next business day after you disable Moment Pay."},"onlineGiftCardsLock":{"title":"Voucher sales through Moment.pl will be disabled","description":"Your customers will no longer be able to buy vouchers online through Moment.pl"}},"bankAccountInfo":{"ownerName":"Owner name","cityAndZipCode":"Postal code and city","address":"Street and number","country":"Country","statusTooltip":"The account requires verification. You can find detailed instructions and bank transfer details in the \'Moment Pay\' tab. Once the account is verified, its status will change to \'active\'."},"noAccountModal":{"title":"Add a bank account to enable payouts","subtitle":"You have some funds on your Moment Pay balance. It\'s necessary to pay out the balance if you want to disable Moment Pay. Please add a bank account for payouts and make an authorisation transfer.","addAccount":"Add a bank account"},"lastPayout":"Last payout:","lastPayoutTooltip":"It may take up to 2 working days for the funds to be credited to your account"},"onlinePaymentBankAccountModal":{"addAccount":"Add account","addNewAccount":"Add new account"},"requestWithdrawalModal":{"title":"Payout request (paid)","save":"Pay out the balance","avaibleAmount":"Available balance","payoutCost":"Payout commission fee","maxPayout":"Maximum payout","payoutTooltip":"The maximum amount you can pay out is the sum of payments from customers minus the commission fees for processing online payments.","account":"Bank account for balance payouts","employee":"Paid out by","requestPayout":"The amount you want to pay out","validation":{"max":"The amount cannot be greater than the maximum payout ","moreThanZero":"The amount must be greater than 0"}},"onlinePaymentTabs":{"general":"General","communication":"Messages","onlinePaymentBalanceHistory":"Transaction history","bankAccounts":"Bank accounts for payouts"},"onlinePaymentBankAccountEdit":{"accountDetails":"Bank account details","accountSettings":"Account settings","payoutSettings":"Payout settings","accountNumber":"Account number","ownerAddress":{"countryCode":"Country","street":"Address (street, number)"},"labels":{"zipCodeAndAddress":"Postal code and city","minimalBalanceAmount":"Minimum balance after payouts","autoPayment":"Automatic payout ","zipCode":"Postal code","Address":"City"},"cantEditAccount":"It is not possible to edit details of the bank account for payouts. To change the details or add a new account, go to the ","andStartAgain":"section and initiate the authorisation process once again.","addNewPayoutAccountText":"It is not possible to edit details of the bank account for payouts. To add a new bank account, go to the ","payoutAccounts":"account for payouts section","minimalBalanceInfo":"It is recommended to specify the amount that will remain on the balance after each payout. Setting the minimum balance will block the selected amount and prevent you from paying out the whole balance. Thanks to this, you will avoid a situation where you need to make a refund of an online payment and there is no funds available in your balance."},"onlinePaymentStatus":{"title":"Moment Pay","description":"Enable online payments to allow customers to make prepayments and pay for appointments and products using BLIK or an instnt transfer. Additional payment methods will certainly encourage customers to use the services of your salon.","turnOnOnlinePayments":"Enable online payments","fillData":"Complete details","payoutsAccount":"Bank account for payouts:","transactionConfirmed":"The transfer has been posted","waitingForConfirmation":"The bank account is awaiting verification"},"prepaymentsAgreementsModal":{"title":"Enable Moment Pay","acceptAgreementsLabel":"I have read and accepted the Moment Pay Terms of Use."},"onlinePayoutsAgreements":{"agreementsAndPolicy":"Terms of Use and Refund Policy","returnPolicy":"Refund Policy","paymentsAgreement":"Prepayments Terms of Use","agreementAcceptedAt":"<a href=\'https://www.versum.pl/regulamin-platnosci/\', target=\'_blank\'>The Terms of Use have been accepted: <strong>{{day}}</strong>, by: <strong>{{name}}</strong>"},"onlinePaymentBalanceHistoryTableHeader":{"id":"ID","date":"date","type":"transaction type","subject":"transaction subject","amount":"amount","balance":"balance after transaction","transactionAmount":"transaction amount"},"OnlinePaymentProductSaleDetails":{"title":"Sale details","table":{"lp":"No.","name":"name","gross":"gross price","net":"net price","quantity":"amount","vat":"Tax","grossWorth":"gross value","grossSum":"Total gross"},"list":{"kind":"type","client":"customer","method":"payment method","employee":"employee","points":"loyalty points","sold":"sold","details":"details","show":"show more"}},"onlinePaymentBalancePurpose":{"event_prepayment":"appointment prepayment","event_prepayment_online":"online prepayment for an appointment ","event_payment_online":"online payment for an appointment ","order_payment_online":"online payment for a purchase","gift_card_promise":"online payment for a gift card","bank_account_confirmation":"bank account confirmation","online_payments_payout_costs":"payout commission fee ","online_payments_commission":"processing commission fee","online_payments_payout":"payout","online_product_sale_payment":"payment for online purchase"},"onlinePaymentBalanceType":{"credit":"inflow","debit":"outflow"},"settings":"Settings","routes":{"branch":"Business details","i18n":"Regional settings","facilities":"Amenities","agreements":"Consents"},"i18n":{"country":"Country","street":"Address (street, number)","zipCode":"Postal code","city":"City","addressHints":"How to find us","locale":"Language","defaultPhoneCountry":"Default calling code","currency":"Currency","timeZone":"Time zone","dateFormat":"Date format","isoTimeFormat":"Time format","firstDayOfTheWeek":"First day of the week","tooltip":{"country":"Country of operation","addressHints":"Additional directions (e.g. \\"Opposite the post office\\")"}},"onlinePaymentActivationScreen":{"title":"Moment Pay","info":"Enable Moment Pay, Versum\'s online payment system, to reduce the number of no-shows and facilitate the online booking process. Moment Pay will let you accept prepayments for services booked online and those you or your employees add in the appointment book. Additionally, you can give your customers the possibility to pay for their appointments and purchased products online, from any place they find convenient, which will significantly increase their comfort.","howItWorks":"How does it work?","howItWorksInfo":"Thanks to Moment Pay, your customers will be able to make a prepayment or pay for their appointment or a purchased product by card, BLIK or a bank transfer. The amount will be credited to your salon’s online payment balance and then transferred to your authorised bank account once a week free of charge. If necessary, it will also be possible to refund the paid amount, for example in the event of cancelling the appointment for reasons which are beyond the customer’s control. ","whyWorth":"What are the benefits?","whyWorthInfo":"Moment Pay is a convenient and safe solution for your customers. The possibility of accepting payments online will help you reduce financial loss resulting from no-shows and therefore provide you with greater financial security. \\n\\n\\n","activateMomentPay":"enable Moment Pay","tooltip":"Moment Pay is not available during the trial period of Versum. If you would like to know more about the possibilities offered by Moment Pay, please contact our customer service team on 33 482 43 21."},"onlinePaymentBankAccounts":{"payoutAccount":"Bank account for payouts","activeAccount":"Active account","savedAccounts":"Saved accounts","addNewAccount":"add new account"},"cantEnableOnlinePaymentsBecause":{"blocked":"It is not possible to enable Moment Pay, because the feature is blocked.","deactivating":"You will be able to activate Moment Pay again 24 hours after disabling it.","closing":"In order to enable Moment Pay again, wait until the online payments balance is paid out to your account."},"onlinePaymentError":{"config":{"online_payment_transition_to_run":{"pending_deactivation":"You cannot change the Moment Pay status because the process of disabling it has not been finished","payout_method_missing":"You cannot change the Moment Pay status because an account for payouts has not been added or is awaiting confirmation","already_deactivated":"You cannot change the Moment Pay status, because it is no longer active","blocked":"You cannot change the Moment Pay status because it has been blocked","impossible":"You cannot change the status. Please contact the Customer Service Team."}}},"invoiceData":{"saved":"Billing details have been saved","saveAndAddNewAccount":"save and add new account","changeTaxIdInfo":"Changing the company identification number requires re-authorisation of the account for payouts within the Moment Pay system. Online payments will not be available until the new account is confirmed."},"customerPanel":{"onlineGiftCards":{"title":"Online vouchers","status":"Voucher sales through Moment.pl","customerBenefit":"Bonus for the voucher holder","customerBenefitTooltip":"Select a bonus that your customers will get together with the voucher they buy online. Information about the selected bonus will be displayed on your salon\'s online booking microsite.","customerBenefitOther":"Custom text (max. 50 characters)","deactivated":"Voucher sales through Moment.pl have been disabled","teaser":{"activateButton":"Activate online vouchers","activateButtonTooltip":"If you want to start selling vouchers through Moment.pl, first activate your salon\'s online booking microsite on Moment.pl. To do it, complete salon contact details and address in settings > business details.","title":"Start selling vouchers through <strong>Moment.pl</strong>","info":"Selling vouchers through Moment.pl will help you increase your salon\'s profits and maintain financial stability. Your customers will be able to choose any voucher amount and pay online. The voucher will remain valid for a year after the date of purchase. ","additionalInfo":"Enabling the feature will automatically activate your online booking microsite on Moment.pl, the free <strong>Gift Cards and Packages</strong> add-on and <strong>Moment Pay</strong> online payments."},"customerBenefits":{"SERVICE_GRATIS":"Free treatment","PRODUCT_GRATIS":"Free product","QUEUE_PRIORITY":"Priority booking ","OTHER":"Other","DISABLED":"None"},"activationModal":{"title":"Activation successful!","info":"Voucher sales through Moment.pl have been enabled. The feature has automatically activated the free <strong>Gift Cards and Packages</strong> add-on, <strong>Moment Pay</strong> online payments and your online booking page on Moment.pl. You can find it here:","additionalInfo":"Your customers can now buy and pay for vouchers online. In order for their payments to be regularly credited to your account, make sure you have added an account for payouts in Moment Pay settings.","preview":"Online booking microsite preview","close":"Close"},"nonPl":{"status":"Online vouchers","deactivated":"Online vouchers have been disabled","teaser":{"title":"Start selling vouchers online","info":"Selling vouchers online will let you increase your salon’s profits and maintain financial liquidity. Your customers will be able to choose any voucher amount and pay online via PayPal. The voucher will remain valid for a year after the date of purchase.","activateButtonTooltip":"To be able to sell vouchers online, you need to enable the PayPal Payments add-on."},"activationModal":{"info":"Online vouchers have been activated! Your customers can now buy vouchers through your online microsite and pay in a convenient way via PayPal. Encourage your customers to buy prepaid vouchers and make a profit!","preview":"Microsite preview"}}},"onlineSales":{"title":"Online store","status":"Product sales through Moment.pl","deliveryOption":"Delivery method","agreement":"Terms and Conditions of Sale","acceptAgreement":"I accept the Terms and Conditions of Sale of the Moment.pl portal","deactivated":"Product sales through Moment.pl have been disabled","teaser":{"activateButton":"Enable online store","activateButtonTooltip":"If you want to start selling products through Moment.pl, first activate your salon\'s online booking microsite on Moment.pl. To do it, complete salon contact details and address in settings > business details.","title":"Sell products through <strong>Moment.pl</strong>","info":"Now your customers don\'t have to wait for their next appointment to buy their favourite products. Instead, they can buy them online through Moment.pl and have them delivered to their homes. It\'s a convenient solution for them as well as a perfect chance for you to provide your customers with the highest quality products and increase your salon\'s profits at the same time!","additionalInfo":"Moment Pay must be active to enable customers to pay for products online. If it hasn\'t been active so far, it will be enabled automatically."},"activationModal":{"title":"Activation successful!","info":"You can start selling products through Moment.pl! To do it, go to the <strong>inventory</strong> module and select products which you want to make available for online purchase. In the product form, change the online sales status to \\"available\\" and complete the necessary details. Once you do it, the product will be available for purchase on Moment.pl!","additionalInfo":"Online payments for products are possible thanks to <strong>Moment Pay</strong>. In order for your customers\' payments to be regularly credited to your account, make sure you have added the account for payouts in Moment Pay settings.","configureProducts":"Go to product settings","close":"Close"},"deliveryOptions":{"COURIER":"Courier service","BRANCH":"Delivery to customer","PERSONAL":"Self pick-up"},"unavailabilityReason":{"EPIDEMY":"During the epidemic, the self pick-up option is not available.","OTHER":"The option has been blocked by the system."},"accepted":"Terms and Conditions accepted on {{acceptDate}}","by":"by {{userName}}","deletedUser":"Deleted user","acceptAgreementWithLink":"I accept the <a href=\\"https://www.moment.pl/regulamin\\" target=\\"_blank\\">Terms and Conditions of Sale</a> of the Moment.pl portal","acceptedWithLink":"The <a href=\\"https://www.moment.pl/regulamin\\" target=\\"_blank\\">Terms and Conditions</a> have been accepted on {{acceptDate}}","deliveryOptionRequired":"You have to select at least one delivery method","nonPl":{"status":"Sale of products online","acceptAgreement":"I accept the Terms and Conditions of Sale","deactivated":"Your online store has been disabled","acceptAgreementWithLink":"I accept the Terms and Conditions of Sale","teaser":{"title":"Start selling products online","info":"Now your customers don\'t have to wait until their next appointment to buy their favourite products. Instead, they can order them online and get a home delivery. An online store is a perfect chance for you to provide your customers with the highest quality products and increase your salon\'s profits at the same time!","activateButtonTooltip":"To be able to sell products online, you need to enable the PayPal Payments add-on."},"activationModal":{"info":"You can start selling products online! To add products to your online store, go to the <strong>inventory</strong> module and select products which you want to make available for online purchase. In the product form, change the online sales status to \\"available\\" and complete the necessary details. "},"showAgreement":"View Terms and Conditions","agreementNotice":"Verify the Terms and Conditions and edit the content to adapt it to your business, if necessary."}},"safeBranch":{"title":"Safe salon","teaser":{"activateButton":"Enable the Safe salon badge","title":"Safe salon badge","info":"Inform your customers of the safety measures you\'ve introduced after reopening your salon. Thanks to that, you\'ll show them you\'re doing your best to comply with safety regulations and protect their health. Information about the introduced safety measures will be displayed on your salon\'s online booking microsite on Moment.pl. You will also receive the Safe salon badge.","tooltip":"To enable the \\"Safe salon\\" badge, go to the online booking settings and activate your online booking microsite on Moment.pl."},"measures":{"title":{"general":"General safety rules","equipment":"Rooms and equipment","employees":"Staff","clients":"Customers"},"NO_CONTACT_BETWEEN_CLIENTS":"No contact between customers","SINGLE_CLIENT":"Only one customer on the premises during a service","CONTACTLESS_PAYMENTS":"Contactless payments","LONGER_WORK_HOURS":"Extended salon working hours","TWO_METERS_SPACE":"2 metre distance between salon stations","SEPARATE_ROOM":"A separate room for every customer","EQUIPMENT_DISINFECTION":"Disinfection of equipment after each customer","ROOM_DISINFECTION":"Room disinfection after each customer","RECEPTION_DISINFECTION":"Disinfection of the reception area after each customer","DISPOSABLE_MASKS":"Disposable masks","DISPOSABLE_GLOVES":"Disposable gloves","DISPOSABLE_SMOCKS":"Disposable aprons","DISPOSABLE_VISORS":"Disposable face shields","TEMPERATURE_MEASUREMENT":"Temperature checks","DISINFECTANT":"Disinfectant","categoryInfo":{"employees":"Personal protective measures used by the staff","clients":"Personal protective measures prepared for customers"}},"editSettings":"edit settings","form":{"addCustom":"add custom","info":"To receive the Safe salon badge, your salon must meet at least 5 safety criteria.","delete":"Disable the Safe salon badge","measuresCountError":"At least five safety criteria must be selected.","deleteModal":{"title":"Do you want to disable the Safe salon badge?","info":"Once you disable the badge, information about the safety measures applied in your salon will no longer be displayed on your online booking microsite.","confirm":"disable the badge"},"unsavedMeasureError":"The selected safety criteria must be saved."},"badgeAwarded":"The Safe salon badge has been enabled.","badgeRevoked":"The Safe salon badge has been disabled.","badgeRevokingError":"The Safe salon badge could not be disabled. Please try again later.","booksyBanner":"Safety rules are available only for Moment.pl online booking pages"},"onlineReservation":{"active":"Enabled","activationNotify":"Online booking has been enabled","enableReservationModal":{"activation":{"title":"All done!","description":"Click the button below to enable online booking.​<br>​ You can change the default settings which will be selected at any time.","cta":"Enable online booking"},"shareOnFacebook":{"title":"Congratulations!","description":"Your online booking is now available. Click the button below to share the information on Facebook. Let your customers know they can book appointments online. No need to make a phone call! ","cta":"Share on Facebook"}},"enableBooksyReservation":{"title":"Congratulations!","description":"Your Booksy Profile is now available<br><a href=\\"{{url}}\\"/>{{url}}</a><br>Let your customers know that they can now book appointments online, no need to call","cta":"Invite customers to book online","reservationAvailable":"Your Booksy Profile is now available","informClients":"Let your customers know that they can now book appointments online, no need to call"}},"branchCategories":{"title":"Choose your business category","previewTitle":"Business category preview","primaryCategory":"Main category","optionalCategory":"Other business categories","servicesModal":{"title":"Complete your offer","description":"Based on the selected business categories, we\'ve prepared a list of proposed services. Select the services you want to add to your offer. You can edit them later on in the services module.","addServices":"add services","servicesUpdated":"the list of services in the services module has been updated"},"emptyCategories":{"title":"Define your business category","description":"Business categories describe the type of work you perform and the service you provide your clients. You can select a primary business category or the category that best describes the focus of your work here. But don’t worry—you can always change your primary business category later on.","chooseCategory":"Select business category"}},"booksyBoost":{"active":"Active","inactive":"Inactive","title":"Spełnij kryteria, abyś był bardziej widoczny","description":"Congratulations! You\'ve activated Boost. Standby, more clients will be hearing about you soon.","steps":{"PHOTO":"Add logo","PORTFOLIO":"Add 3+ photos of your work","RATING":"Get 5 reviews of +4.5"},"done":"Done","options":{"PROMOTE":{"title":"Promote your business","desc":"Let Booksy bring you new customers"},"SHARE":{"title":"Share your link","desc":"Link to your Booksy profile so we know which bookings you deserve all the credit for."},"HELP":{"title":"Get help","desc":"Find out more about Booksy tools"}},"modal":{"PROMOTE":{"title":"Promote your business","description":"When you activate Boost you\'ll secure a higher ranking on the Booksy search engine and increase your exposure. But that s not all.<br/><br/>Consider the Boost team like your mini marketing department. Leveraging our search engine, galleries, special badges, ads, blog, and newsletters we\'ll help you show off your talent(s) to potential customers.<br/><br/>You get to focus on doing what you love and enjoy the bookings that come as a result.","promoted":"Recommended by Booksy"},"SHARE":{"title":"Share your link","description":"Use your unique link below to separate existing clients from new clients who find you through Boost.<br/><br/>When a new client books an appointment through your unique link you won\'t be charged a commission. Rather we\'ll attribute that visit to your stellar marketing skills.<br/><br/>If a new client books you through your Boost listing on Booksy you\'ll be charged a commission on their first visit. As for recurring visits, those are all yours too!","link":"Booksy Profile link"}}},"booksyInvitations":{"title":"Send your customers a free invitation to Booksy","description":"Send a free message to your customers to inform them that they can book appointments online. Save time spent on answering the phone and let customers book appointments on their own.","message":{"title":"Message body","tooltip":"You will not be charged for the text messages","description":"You can now book appointments at {{name}} using Booksy. Go to <a href=\\"{{url}}\\"/>{{url}}</a> to check available slots. See you!"},"details":{"title":"Dispatch details","recieversGroup":"Recipient group","requiredConsents":"Required consents","newConsent":"New consent","sendTime":"Dispatch time","now":"Now","later":"Later","date":"Date","hour":"Time","cta":"Send an invitation","ALL":"All customers","WITHOUT_ONLINE_BOOKING":"Don\'t book online"},"facebookBanner":{"title":"Notify your customer that they can book appointments<br>at your salon online.","cta":"Share on Facebook"},"modal":{"title":"Sending invitations scheduled","description":"Within 24 hours, your customers will receive a free message with invitation to book appointments online using <strong>booksy.com</strong> Sit back and watch your appointment book fill up with bookings","cta":"Share on Facebook"},"errorMessage":{"title":"Booksy activation in progress","description":"Come back later."}},"booksyOnlineReservationPreview":{"title":"Online booking","booksyReservation":"Booksy Profile","notActive":"Booksy Profile is disabled","preview":"Preview","active":"active","inactive":"inactive","bookingUrl":"Booksy Profile web address","advancedSettings":"Advanced booking settings","blankTitle":"Let your customers book online","bookingMaxLeadTime":"Booking window","bookingMaxAdvance":"Future booking window","bookingMaxModificationTime":"Rescheduling","onlineReservationInterval":"Time slot length","onlineReservationEmail":"Email address","fetchError":"Failed to load data, please try again","beforeAppointment":"in advance","inAdvance":"in the future","activationStatusProgress":"Online booking status is being changed. Please refresh the page in a moment.","activationStatus":{"initial":"disabled","activating":"activating","active":"enabled","deactivating":"deactivating","deactivated":"disabled","reactivating":"reactivating","updating":"updating"}}},"communication":{"customerHealthSurvey":{"title":"Screening Questionnaire","status":"Dispatch","preview":"questionnaire preview","reminderDaysBefore":"time of dispatch","reminderPlatform":"send as","reminderPlatformTooltip":"The link is included in the appointment reminder. The time and method of dispatch depend on the appointment reminder settings defined in Settings > Automatic messages.","teaser":{"activateButton":"Enable the questionnaire","title":"Start sending a <strong>screening questionnaire</strong>","info":"The Screening Questionnaire feature will help you apply the safety quidelines introduced by the government and ensure a safe reopening of your salon. ","additionalInfo":"A short questionnaire will help you make sure that there are no contraindications for an appointment to take place as well as inform customers about the safety rules they need to follow in your salon. A link to the questionnaire will be sent with an appointment reminder, so you can be sure that the information about the customer\'s health is up-to-date."},"infoModal":{"tab1":{"title":"Reminder with a questionnaire","info":"A link to the screening questionnaire will be sent to your customers together with an appointment reminder. The link will take them to a dedicated page with all the necessary information about the safety rules they need to follow in your salon.","charactersInfo":"The number of characters in the appointment reminder will be increased to {{amount}}. You can edit the content in settings > automatic messages."},"tab2":{"title":"Monitor the questionnaire results","info":"An additional field in the appointment window will allow you to check when the questionnaire was sent and verify its result."}},"detailsModal":{"title":"Details of the screening questionnaire","customer":"Customer","lastSentAt":"Dispatch time","filledAt":"Questionnaire completed","status":"Questionnaire result","ip":"IP address","userAgent":"Browser","os":"Operating system","browser":"Browser"},"resendModal":{"title":"Send the screening questionnaire","content":"Message","sendSurvey":"Send the questionnaire","shouldSendEmail":"Send an email ","shouldSendSms":"Send an SMS text ","deliveryOptionMissingError":"Select at least one channel to be able to send the message.","successMessage":"The screening questionnaire has been sent to the customer."},"activated":"The Screening Questionnaire has been enabled.","deactivated":"The Screening Questionnaire has been disabled.","noThreat":"no risk","infectionRisk":"risk of COVID","validation":{"sms_unicode_too_long":"The SMS appointment reminder containing special characters has exceeded the maximum number of characters. <a target=\\"_blank\\" href=\\"{{reminderEditPath}}\\">Shorten the message</a> or <a target=\\"_blank\\" href=\\"{{smsSettingsPath}}\\">disable special characters</a> and try again.","sms_too_long":"The SMS appointment reminder has exceeded the maximum number of characters. <a target=\\"_blank\\" href=\\"{{reminderEditPath}}\\">Shorten the message</a> and try again.","too_short":"The appointment reminder is too short. <a target=\\"_blank\\" href=\\"{{reminderEditPath}}\\">Redraft the message</a> and try again.","invalid_tokens":"The SMS appointment reminder contains invalid tags. <a target=\\"_blank\\" href=\\"{{reminderEditPath}}\\">Correct the message</a> and try again."},"reminderDaysBeforeTooltip":"A reminder with the questionnaire will be sent regardless of how much time is left before the appointment starts, i.e. also if the appointment has been scheduled on the same day on which it is to take place.","deactivatedNotRemoved":"The Screening Questionnaire has been disabled <a target=\\"_blank\\" href=\\"{{reminderEditPath}}\\">Remove information about the questionnaire</a> from the appointment reminder."},"callForwarding":{"somthingWentWrong":"Something went wrong...","tryAgain":"Try again","turnOnTheFeature":"Enable phone answering system","addNumber":"Add another number","title":"Phone answering system","featureDescription":"Would you like to streamline the appointment booking process and encourage customers to book online? Enable the phone answering system! You can set up call forwarding for numbers which your customers call when they want to make an appointment. If a given number is busy, doesn\'t answer, or if the phone is switched off, the system will inform the customer that you are currently not able to answer and encourage them to book an appointment online through Moment.pl. The customer will also receive a text message with a link to the Moment mobile app and will therefore be able to make an appointment in a quick and convenient way.","dialNumber":"Select number","showMore":"Show more...","hideDetail":"Hide","validation":{"phoneNumberToActivate":{"invalid":"Invalid phone number. Format (123456789)"}},"notify":{"featureActivationSuccess":"Call forwarding for the number has been successfully activated.","featureActivationError":"An error occurred when activating call forwarding for the number","numberCreationSuccess":"A number for call forwarding has been added.","numberCreationError":"An error occurred when adding a number for call forwarding","smsHasNotBeenSent":"Could not send a text message with configuration","smsHasBeenSent":"Text message has been sent"},"error":{"onlineReservationDisabled":"To activate the phone answering system, first you need to enable <a href=\\"/settings/customer_panel/settings\\">online booking</a>","phone":{"number":{"invalid":"Invalid phone number","taken":"The phone number has already been activated"}},"phonenumberownership":{"pbx_phone_number_id":{"blank":"You cannot enable the phone answering system at the moment. Please contact the customer service team. "},"branch_id":{"taken":"The service has already been activated. "},"phone_number":{"taken":"Call forwarding has already been enabled for the number"}},"activatePbxRedirection":{"moment_not_activated":"To activate the phone answering system, first you need to enable <a href=\\"/settings/customer_panel/settings\\">online booking</a>","already_activated":"The phone number has already been activated"}},"modal":{"sendSMSCode":"Send in a text message","firstStep":{"title":"Enter the phone number for which you want to activate the phone answering system"},"busy":{"title":"Forward a call when the number is busy","description":"Dial the above code on your phone and select the green call icon to confirm"},"notResponding":{"title":"Forward a call when the number does not answer","description":"Dial the above code on your phone and select the green call icon to confirm"},"turnedOff":{"title":"Forward a call when the phone is switched off","description":"Dial the above code on your phone and select the green call icon to confirm"}},"phoneList":{"forwardingForNumber":"Call forwarding for the following number:","phoneNumberTitle":{"busy":"When the number is busy","notResponding":"When the number does not answer","turnedOff":"When the phone is switched off"},"activationCode":"Enable call forwarding","statusCode":"Check call forwarding status","deactivationCode":"Deactivate call forwarding"},"errorTitle":"Something went wrong..."}}},"bankAccount":{"accountNumber":{"invalid":"Invalid account number","service_error":"Unable to communicate with the payment system. Please try again."},"ownerAddress":{"zipCode":{"invalid":"Invalid postal code format"},"city":{"too_long":"Too many characters"}},"ownerName":{"too_long":"Too many characters"}},"company":{"name":{"blank":"This field cannot be blank"},"address":{"street":{"blank":"This field cannot be blank"},"city":{"blank":"This field cannot be blank"},"zipCode":{"blank":"This field cannot be blank","invalid":"Enter the postal code in the following format: 12-345"},"province":{"blank":"This field cannot be blank","invalid":"The value entered is not valid"},"region":{"blank":"This field cannot be blank","invalid":"The value entered is not valid"}},"email":{"blank":"This field cannot be blank","invalid":"Invalid email address"},"taxID":{"invalidVatPl":"Invalid tax identification number","invalidVat":"The value you entered is not valid"},"companyID":{"blank":"This field cannot be blank"},"invoiceData":{"title":"Billing details","edit":"Change billing details","name":"Company name","address":"Address (street, number)","zipCode":"Postal code","city":"City","country":"Country","taxID":"Tax ID","companyID":"Company identification number","email":"Billing email address","emailHint":"You can provide several email addresses, separating them with a comma","street":"Street name","houseNumber":"Street number","unitNumber":"Unit number"}},"subscription":{"title":"New order","change":"Change","discount":"Discount","needHelp":"I need assistance","needHelpAlternative":"I need assistance","recommended":"Popular","promotion":"Special","backTo":"Edit order","empty":"None","notification":{"success":"The order has been placed successfully. In a moment you will be redirected to the payment.","error":"An error occurred while placing the order. Please try again. "},"steps":{"next":"Next","step1":{"notCompleted":"Please choose your subscription plan","completed":"Subscription plan","introText":"Current number of employees with active employee calendars: {{calendars}}"},"step2":{"notCompleted":"Select subscription settlement period","completed":"Subscription settlement period"},"step3":{"notCompleted":"Choose add-ons","completed":"Add-ons"},"step4":{"notCompleted":"Complete billing details","completed":"Billing details"},"step5":{"notCompleted":"Choose payment method","completed":"Payment method"}},"plans":{"name":"{{name}} plan","nameCustom":"Custom plan","validTo":"The special offer is valid until {{validTo}} if you subscribe for {{months}}.","showDefault":"Show regular plans","period":{"one":"{{months}} month","few":"{{months}} months","many":"{{months}} months"},"tooManyEmployees":"The current number of active employee calendars ({{calendars}}) exceeds the maximum number for the plan.","unsupportedExtension":"Add-ons which are not included with this subscription plan have been enabled.","theSamePlan":"The selected plan is currently active.","employeeLimit":{"one":"{{limit}} employee calendar","few":"maximum {{limit}} employee calendars","many":"maximum {{limit}} employee calendars","zero":"unlimited employee calendars"},"price":{"from":"from","billing":"monthly settlement"},"freeSms":"One-off bonus: {{freeSms}} free SMS texts"},"period":{"month":"1 month","quarter":"3 months","year":"1 year","discount":"{{discount}}% off"},"company":{"country":"Country","taxID":"Tax ID","companyID":"Company identification number","haveTaxId":"I have a tax ID","notHaveTaxId":"I do not have a tax ID","name":"Company name","username":"First and last name","street":"Street name","city":"City","zipCode":"Postal code","email":"Billing email address","submit":"Next","statement":"I hereby declare that my company operates on the territory of: {{countryName}}, in accordance with the <a href=\\"https://www.versum.com/m/terms-of-service/\\" target=\\"_blank\\">terms of service</a>.","province":"Region","cnpjNumber":"CNPJ number","cpfNumber":"CPF number","region":"Region","haveCNPJ":"CNPJ","notHaveCNPJ":"CPF","houseNumber":"Street number","unitNumber":"Unit number"},"payments":{"card":"Payment card","transfer":"Instant bank transfer","transfer_manual":"Bank transfer","alior":"Bank transfer","paypal":"PayPal","blik":"BLIK","discount":"{{discount}}% off","now":"Pay now","later":"Pay later","mexicanPayments":{"transfer":"SPEI","transfer_manual":"OXXO"}},"cart":{"title":"Your order","planTitle":"Subscription plan","extensionsTitle":"Add-ons","total":"Total"},"tax":{"title":"Tax","name":"Tax","nameShort":"Tax","reverseCharge":"Reverse charge"},"summary":{"goto":"Proceed to summary","title":"Order summary","paymentSummary":"Total price:","invoice":"Billing details","paymentChannel":"Payment method","order":"Your order","monthlyCost":"Price per month","yearlyCost":"Annual cost","validTo":"Valid until","validToInfo":"The trial period ends in: <b>{{daysLeft}}</b>. Your paid subscription will begin after the trial period has ended.","period":"Settlement period","sum":"Total","checkout":"Order"},"validation":{"plan":{"id":{"invalid":"The offer is no longer available"}},"company":{"taxID":{"invalid_vat":"Invalid company identification number","invalid_vat_pl":"Invalid tax ID number"},"name":{"blank":"the \'company name\' field cannot be blank"},"address":{"street":{"blank":"the \'address\' field cannot be blank"},"city":{"blank":"the \'city\' field cannot be blank"},"zipCode":{"invalid":"invalid postal code","blank":"the \'postal code\' field cannot be blank"}},"companyID":{"blank":"This field cannot be blank","invalid_cnpj":"Invalid CNPJ number","invalid_cpf":"Invalid CPF number","invalid_name":"The name must include at least one alphanumerical or diacritic character."}}},"offerHasChanged":"Your system order offer has been changed. Check the new offer before placing the order. ","prolongs":{"validTo":"The offer expires: {{date}}","noOffer":"The offer does not exist or has already expired, please contact the Customer Service Team","ribbonText":"special offer","title":"Custom plan","subtitle":"We have a special offer, tailored to your needs:","subtitle2":"Renew your subscription now!","planName":"Your offer","perMonth":"per month","grossSavings":"gross saved","orderFor":{"one":"Subscription for a month","few":"Subscription for {{count}} months","many":"Subscription for {{count}} months "},"freeSms":"{{count}} free SMS texts if you pay now ","freeMomentPay":"{{count}} months of Moment Pay without commission","toPay":"Total:","order":"Order","netGrossSavings":"{{netGross}} saved"},"offerHasChangedReload":"Your offer has expired, the page will refresh in a moment.","extensions":{"automatic_marketing":"Marketing Automation ","fiscalization":"Versum POS","lumo":"Loyalty Program"},"companyHasChanged":"Business details have been changed. Please verify the details before placing your order.","orderSystem":"Order"},"api":{"errors":{"badRequest":{"title":"Invalid query","message":"The request cannot be processed by the server!"},"forbidden":{"title":"Permission error","message":"No permission to perform this action!"},"branchBlocked":{"title":"Access blocked","message":"Your access has been blocked. Contact the salon administrator."},"ipRestricted":{"title":"Access blocked","message":"Sign-in failed, because your IP address has not been authorized by the account administrator. Please contact the account administrator."},"hourRestricted":{"title":"Access blocked","message":"Sign-in failed due to the sign-in time restriction set up by the account administrator. Please contact the account administrator."},"deviceRestricted":{"title":"Access blocked","message":"Sign-in failed, because your device has not been authorized by the account administrator. Please contact the account administrator."},"notFound":{"title":"Error","message":"Object not found!"},"unauthorized":{"title":"Authorization error","message":"Your session has expired. Please log in again to continue."},"other":{"title":"Application error","message":"Data could not be retrieved."},"networkError":{"title":"Connection error","message":"Unable to connect to the server. <br>Please check your internet connection.<br><a href=\\"javascript:window.location.reload()\\">Click here to reload the website</a>."},"timeoutExceeded":{"title":"Connection has timed out","message":"Unable to connect to the server. Please check your internet connection and try again later."}}},"serverError":{"500":"An error occurred. Technical support has been automatically notified of the problem. Sorry for the inconvenience. The problem will be resolved as soon as possible."},"countryNames":{"AD":"Andorra","AE":"United Arab Emirates","AF":"Afghanistan","AG":"Antigua and Barbuda","AI":"Anguilla","AL":"Albania","AM":"Armenia","AO":"Angola","AQ":"Antarctica","AR":"Argentina","AS":"American Samoa","AT":"Austria","AU":"Australia","AW":"Aruba","AX":"Åland Islands","AZ":"Azerbaijan","BA":"Bosnia and Herzegovina","BB":"Barbados","BD":"Bangladesh","BE":"Belgium","BF":"Burkina Faso","BG":"Bulgaria","BH":"Bahrain","BI":"Burundi","BJ":"Benin","BL":"Saint Barthélemy","BM":"Bermuda","BN":"Brunei","BO":"Bolivia","BQ":"Bonaire, Saint Eustatius and Saba","BR":"Brazil","BS":"Bahamas","BT":"Bhutan","BV":"Bouvet Island","BW":"Botswana","BY":"Belarus","BZ":"Belize","CA":"Canada","CC":"Cocos (Keeling) Islands","CD":"Democratic Republic of the Congo","CF":"Central African Republic","CG":"Republic of the Congo","CH":"Switzerland","CI":"Côte d\'Ivoire","CK":"Cook Islands","CL":"Chile","CM":"Cameroon","CN":"China","CO":"Colombia","CR":"Costa Rica","CU":"Cuba","CV":"Cape Verde","CW":"Curaçao","CX":"Christmas Island","CY":"Cyprus","CZ":"Czech Republic","DE":"Germany","DJ":"Djibouti","DK":"Denmark","DM":"Dominica","DO":"Dominican Republic","DZ":"Algeria","EC":"Ecuador","EE":"Estonia","EG":"Egypt","EH":"Western Sahara","ER":"Eritrea","ES":"Spain","ET":"Ethiopia","FI":"Finland","FJ":"Fiji","FK":"Falkland Isl (Malvinas)","FM":"Micronesia","FO":"Faroe Islands","FR":"France","GA":"Gabon","GB":"United Kingdom","GD":"Grenada","GE":"Georgia","GF":"French Guiana","GG":"Guernsey","GH":"Ghana","GI":"Gibraltar","GL":"Greenland","GM":"Gambia","GN":"Guinea","GP":"Guadeloupe","GQ":"Equatorial Guinea","GR":"Greece","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemala","GU":"Guam","GW":"Guinea-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"Heard Island and McDonald Islands","HN":"Honduras","HR":"Croatia","HT":"Haiti","HU":"Hungary","ID":"Indonesia","IE":"Ireland","IL":"Israel","IM":"Isle of Man","IN":"India","IO":"British Indian Ocean Territory","IQ":"Iraq","IR":"Iran","IS":"Iceland","IT":"Italy","JE":"Jersey","JM":"Jamaica","JO":"Jordan","JP":"Japan","KE":"Kenya","KG":"Kyrgyzstan","KH":"Cambodia","KI":"Kiribati","KM":"Comoros","KN":"Saint Kitts and Nevis","KP":"North Korea","KR":"South Korea","KW":"Kuwait","KY":"Cayman Islands","KZ":"Kazakhstan","LA":"Laos","LB":"Lebanon","LC":"Saint Lucia","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Liberia","LS":"Lesotho","LT":"Lithuania","LU":"Luxembourg","LV":"Latvia","LY":"Libya","MA":"Morocco","MC":"Monaco","MD":"Moldova","ME":"Montenegro","MF":"Saint Martin","MG":"Madagascar","MH":"Marshall Islands","MK":"Macedonia","ML":"Mali","MM":"Myanmar","MN":"Mongolia","MO":"Macau","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritania","MS":"Montserrat","MT":"Malta","MU":"Mauritius","MV":"Maldives","MW":"Malawi","MX":"Mexico","MY":"Malaysia","MZ":"Mozambique","NA":"Namibia","NC":"New Caledonia","NE":"Niger","NF":"Norfolk Island","NG":"Nigeria","NI":"Nicaragua","NL":"Netherlands","NO":"Norway","NP":"Nepal","NR":"Nauru","NU":"Niue","NZ":"New Zealand","OM":"Oman","PA":"Panama","PE":"Peru","PF":"French Polynesia","PG":"Papua New Guinea","PH":"Philippines","PK":"Pakistan","PL":"Poland","PM":"Saint Pierre and Miquelon","PN":"Pitcairn Islands","PR":"Puerto Rico","PS":"Palestine","PT":"Portugal","PW":"Palau","PY":"Paraguay","QA":"Qatar","RE":"Reunion","RO":"Romania","RS":"Serbia","RU":"Russia","RW":"Rwanda","SA":"Saudi Arabia","SB":"Solomon Islands","SC":"Seychelles","SD":"Sudan","SE":"Sweden","SG":"Singapore","SH":"Saint Helena, Ascension and Tristan da Cunha","SI":"Slovenia","SJ":"Svalbard and Jan Mayen","SK":"Slovakia","SL":"Sierra Leone","SM":"San Marino","SN":"Senegal","SO":"Somalia","SR":"Suriname","SS":"South Sudan","ST":"São Tomé and Príncipe","SV":"El Salvador","SX":"Sint Maarten","SY":"Syria","SZ":"Swaziland","TC":"Turks and Caicos Islands","TD":"Chad","TF":"French Southern and Antarctic Lands","TG":"Togo","TH":"Thailand","TJ":"Tajikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkmenistan","TN":"Tunisia","TO":"Tonga","TR":"Turkey","TT":"Trinidad and Tobago","TV":"Tuvalu","TW":"Taiwan","TZ":"Tanzania","UA":"Ukraine","UG":"Uganda","UM":"United States Minor Outlying Islands","US":"United States","UY":"Uruguay","UZ":"Uzbekistan","VA":"Vatican City","VC":"Saint Vincent and the Grenadines","VE":"Venezuela","VG":"British Virgin Islands","VI":"United States Virgin Islands","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis and Futuna","WS":"Samoa","YE":"Yemen","YT":"Mayotte","ZA":"South Africa","ZM":"Zambia","ZW":"Zimbabwe"},"eventBox":{"prepayments":{"paid":"paid","queued":"pending"}},"grapesjs":{"expTplBtnTitle":"View code","fullScrBtnTitle":"FullScreen","swichtVwBtnTitle":"View components","modalTitleImport":"Import template","modalTitleExport":"Export template","modalBtnImport":"Import","assetsModalTitle":"Select image","clearTitle":"Clear","clearConfirmText":"Are you sure you want to clear?","openBlocksBtnTitle":"Block manager","openSmBtnTitle":"Style manager","openLayersBtnTitle":"Asset manager","openTmBtnTitle":"Trait manager","blockManager":{"1Section":"1 section","12Section":"2 sections","13Section":"3 sections","37Section":"2 sections 3/7","button":"Button","divider":"Divider","text":"Text","textSection":"Text section","image":"Image","quote":"Quote","link":"Link","linkBlock":"Link block","gridItems":"Grid items","listItems":"List items"},"styleManager":{"textNoElement":"Select an element before using style manager","sectors":{"dimension":"Dimensions","typography":"Typography","decorations":"Effects"},"properties":{"width":"Width","height":"Height","maxWidth":"Max. width","minHeight":"Min. height","margin":"Margin","padding":"Padding","font":"Font","fontSize":"Font size","weight":"Weight","letterSpacing":"Letter spacing","fontColor":"Font color","lineHeight":"Line height","textAlign":"Text align","textDecoration":"Text decoration","fontStyle":"Font style","verticalAlign":"Vertical align","textShadow":"Text shadow","borderCollapse":"Border collapse","borderRadius":"Border radius","border":"Border","background":"Background","top":"Top","bottom":"Bottom","left":"Left","right":"Right","xPosition":"X position","yPosition":"Y position","blur":"Blur","color":"Color","style":"Style","image":"Image","repeat":"Repeat","position":"Position","attachment":"Attachment","size":"Size"},"items":{"thin":"Thin","extraLight":"Extra-Light","light":"Light","normal":"Normal","medium":"Medium","semiBold":"Semi-Bold","bold":"Bold","extraBold":"Extra-Bold","ultraBold":"Ultra-Bold","left":"Left","center":"Center","right":"Right","justify":"Justify","none":"None","underline":"Underline","lineThrough":"Line-through","italic":"Italic","yes":"Yes","no":"No"}},"assetManager":{"addBtnText":"Add image","modalTitle":"Select image","uploadText":"Drop files here or click to upload"},"traitManager":{"labelContainer":"Component settings","labelPlhText":"eg. Text here","textNoElement":"Select an element before using Trait manager","labelPlhHref":"e.g. https://google.com"},"richTextEditor":{"bold":"Bold","italic":"Italic","underline":"Underline","strikeThrough":"Strike-through","link":"Link"}},"provinceNames":{"br":{"AC":"Acre","AL":"Alagoas","AP":"Amapá","AM":"Amazonas","BA":"Bahia","CE":"Ceará","DF":"Distrito Federal","ES":"Espírito Santo","GO":"Goiás","MA":"Maranhão","MT":"Mato Grosso","MS":"Mato Grosso do Sul","MG":"Minas Gerais","PA":"Pará","PB":"Paraíba","PR":"Paraná","PE":"Pernambuco","PI":"Piauí","RJ":"Rio de Janeiro","RN":"Rio Grande do Norte","RS":"Rio Grande do Sul","RO":"Rondônia","RR":"Roraima","SC":"Santa Catarina","SP":"São Paulo","SE":"Sergipe","TO":"Tocantins"}},"weekdayNames":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday","thursday":"Thursday","friday":"Friday","saturday":"Saturday","sunday":"Sunday"},"timeFormatNames":{"h12":"12-hour","h24":"24-hour"},"timeZoneNames":{"Pacific/Pago_Pago":"American Samoa","Etc/GMT+12":"International Date Line West","Pacific/Midway":"Midway Island","Pacific/Honolulu":"Hawaii","America/Juneau":"Alaska","America/Los_Angeles":"Pacific Time (US & Canada)","America/Tijuana":"Tijuana","America/Phoenix":"Arizona","America/Chihuahua":"Chihuahua","America/Mazatlan":"Mazatlan","America/Denver":"Mountain Time (US & Canada)","America/Guatemala":"Central America","America/Chicago":"Central Time (US & Canada)","America/Mexico_City":"Mexico City","America/Monterrey":"Monterrey","America/Regina":"Saskatchewan","America/Bogota":"Bogota","America/New_York":"Eastern Time (US & Canada)","America/Indiana/Indianapolis":"Indiana (East)","America/Lima":"Quito","America/Caracas":"Caracas","America/Halifax":"Atlantic Time (Canada)","America/Guyana":"Georgetown","America/La_Paz":"La Paz","America/Santiago":"Santiago","America/St_Johns":"Newfoundland","America/Sao_Paulo":"Brazil","America/Argentina/Buenos_Aires":"Buenos Aires","America/Godthab":"Greenland","Atlantic/South_Georgia":"Mid-Atlantic","Atlantic/Azores":"Azores","Atlantic/Cape_Verde":"Cape Verde Is.","Africa/Casablanca":"Casablanca","Europe/Dublin":"Dublin","Europe/London":"London","Europe/Lisbon":"Lisbon","Africa/Monrovia":"Monrovia","Etc/UTC":"UTC","Europe/Amsterdam":"Amsterdam","Europe/Belgrade":"Belgrade","Europe/Berlin":"Berlin","Europe/Zurich":"Zurich","Europe/Bratislava":"Bratislava","Europe/Brussels":"Brussels","Europe/Budapest":"Budapest","Europe/Copenhagen":"Copenhagen","Europe/Ljubljana":"Ljubljana","Europe/Madrid":"Madrid","Europe/Paris":"Paris","Europe/Prague":"Prague","Europe/Rome":"Rome","Europe/Sarajevo":"Sarajevo","Europe/Skopje":"Skopje","Europe/Stockholm":"Stockholm","Europe/Vienna":"Vienna","Europe/Warsaw":"Warsaw","Africa/Algiers":"West Central Africa","Europe/Zagreb":"Zagreb","Europe/Athens":"Athens","Europe/Bucharest":"Bucharest","Africa/Cairo":"Cairo","Africa/Harare":"Harare","Europe/Helsinki":"Helsinki","Europe/Istanbul":"Istanbul","Asia/Jerusalem":"Jerusalem","Europe/Kiev":"Kyiv","Africa/Johannesburg":"Pretoria","Europe/Kaliningrad":"Kaliningrad","Europe/Riga":"Riga","Europe/Sofia":"Sofia","Europe/Tallinn":"Tallinn","Europe/Vilnius":"Vilnius","Asia/Baghdad":"Baghdad","Asia/Kuwait":"Kuwait","Europe/Minsk":"Minsk","Africa/Nairobi":"Nairobi","Asia/Riyadh":"Riyadh","Asia/Tehran":"Tehran","Asia/Muscat":"Muscat","Asia/Baku":"Baku","Europe/Moscow":"St. Petersburg","Asia/Tbilisi":"Tbilisi","Europe/Volgograd":"Volgograd","Europe/Samara":"Samara","Asia/Yerevan":"Yerevan","Asia/Kabul":"Kabul","Asia/Karachi":"Karachi","Asia/Tashkent":"Tashkent","Asia/Kolkata":"New Delhi","Asia/Colombo":"Sri Jayawardenepura","Asia/Kathmandu":"Kathmandu","Asia/Almaty":"Almaty","Asia/Dhaka":"Dhaka","Asia/Yekaterinburg":"Ekaterinburg","Asia/Rangoon":"Rangoon","Asia/Bangkok":"Hanoi","Asia/Jakarta":"Jakarta","Asia/Novosibirsk":"Novosibirsk","Asia/Shanghai":"Beijing","Asia/Chongqing":"Chongqing","Asia/Hong_Kong":"Hong Kong","Asia/Krasnoyarsk":"Krasnoyarsk","Asia/Kuala_Lumpur":"Kuala Lumpur","Australia/Perth":"Perth","Asia/Singapore":"Singapore","Asia/Taipei":"Taipei","Asia/Urumqi":"Urumqi","Asia/Irkutsk":"Irkutsk","Asia/Tokyo":"Tokyo","Asia/Seoul":"Seoul","Australia/Adelaide":"Adelaide","Australia/Darwin":"Darwin","Australia/Brisbane":"Brisbane","Australia/Melbourne":"Melbourne","Pacific/Guam":"Guam","Australia/Hobart":"Hobart","Pacific/Port_Moresby":"Port Moresby","Australia/Sydney":"Sydney","Asia/Yakutsk":"Yakutsk","Pacific/Noumea":"New Caledonia","Asia/Vladivostok":"Vladivostok","Asia/Srednekolymsk":"Srednekolymsk","Pacific/Auckland":"Wellington","Pacific/Fiji":"Fiji","Asia/Kamchatka":"Kamchatka","Asia/Magadan":"Magadan","Pacific/Majuro":"Marshall Is.","Pacific/Guadalcanal":"Solomon Is.","Pacific/Tongatapu":"Nuku\'alofa","Pacific/Apia":"Samoa","Pacific/Fakaofo":"Tokelau Is.","America/Montevideo":"Montevideo","Asia/Ulaanbaatar":"Ulaanbaatar","Pacific/Chatham":"Chatham Is."},"currencyNames":{"AED":"UAE Dirham","AFN":"Afghani","ALL":"Lek","AMD":"Armenian Dram","ANG":"Netherlands Antillian Guilder","AOA":"Kwanza","ARS":"Argentine Peso","AUD":"Australian Dollar","AWG":"Aruban Guilder","AZN":"Azerbaijanian Manat","BAM":"Convertible Marks","BBD":"Barbados Dollar","BDT":"Taka","BGN":"Bulgarian Lev","BHD":"Bahraini Dinar","BIF":"Burundi Franc","BMD":"Bermudian Dollar","BND":"Brunei Dollar","BOB":"Boliviano","BRL":"Brazilian Real","BSD":"Bahamian Dollar","BTN":"Bhutanese Ngultrum","BWP":"Pula","BYR":"Belarussian Ruble","BZD":"Belize Dollar","CAD":"Canadian Dollar","CDF":"Congolese Franc","CHF":"Swiss Franc","CLF":"Unidad de Fomento","CLP":"Chilean Peso","CNY":"Chinese Yuan","COP":"Colombian Peso","CRC":"Costa Rican Colon","CUC":"Cuban Convertible Peso","CUP":"Cuban Peso","CVE":"Cape Verde Escudo","CZK":"Czech Koruna","DJF":"Djibouti Franc","DKK":"Danish Krone","DOP":"Dominican Peso","DZD":"Algerian Dinar","EGP":"Egyptian Pound","ERN":"Nakfa","ETB":"Ethiopian Birr","EUR":"Euro","FJD":"Fiji Dollar","FKP":"Falkland Islands Pound","GBP":"Pound Sterling","GEL":"Lari","GHS":"Cedi","GIP":"Gibraltar Pound","GMD":"Dalasi","GNF":"Guinea Franc","GTQ":"Quetzal","GYD":"Guyana Dollar","HKD":"Hong Kong Dollar","HNL":"Lempira","HRK":"Croatian Kuna","HTG":"Haitian Gourde","HUF":"Hungary Forint","IDR":"Rupiah","ILS":"Israeli Sheqel","INR":"Indian Rupee","IQD":"Iraqi Dinar","IRR":"Iranian Rial","ISK":"Iceland Krona","JMD":"Jamaican Dollar","JOD":"Jordanian Dinar","JPY":"Japan Yen","KES":"Kenyan Shilling","KGS":"Som","KHR":"Riel","KMF":"Comoro Franc","KPW":"North Korean Won","KRW":"Won","KWD":"Kuwaiti Dinar","KYD":"Cayman Islands Dollar","KZT":"Tenge","LAK":"Kip","LBP":"Lebanese Pound","LKR":"Sri Lanka Rupee","LRD":"Liberian Dollar","LSL":"Loti","LYD":"Libyan Dinar","MAD":"Moroccan Dirham","MDL":"Moldovan Leu","MGA":"Malagasy Ariary","MKD":"Denar","MMK":"Kyat","MNT":"Tugrik","MOP":"Pataca","MUR":"Mauritius Rupee","MVR":"Rufiyaa","MWK":"Kwacha","MXN":"Mexican Peso","MYR":"Malaysian Ringgit","MZN":"Metical","NAD":"Namibian Dollar","NGN":"Naira","NIO":"Cordoba Oro","NOK":"Norwegian Krone","NPR":"Nepalese Rupee","NZD":"New Zealand Dollar","OMR":"Rial Omani","PAB":"Balboa","PEN":"Nuevo Sol","PGK":"Kina","PHP":"Philippine Peso","PKR":"Pakistan Rupee","PLN":"Polish Zloty","PYG":"Guarani","QAR":"Qatari Rial","RON":"New Leu","RSD":"Serbian Dinar","RUB":"Russian Ruble","RWF":"Rwanda Franc","SAR":"Saudi Riyal","SBD":"Solomon Islands Dollar","SCR":"Seychelles Rupee","SDG":"Sudanese Pound","SEK":"Swedish Krona","SGD":"Singapore Dollar","SHP":"Saint Helena Pound","SLL":"Leone","SOS":"Somali Shilling","SRD":"Surinam Dollar","SSP":"South Sudanese pound","STD":"Dobra","SVC":"Salvadoran Colon","SYP":"Syrian Pound","SZL":"Lilangeni","THB":"Baht","TJS":"Somoni","TMT":"Turkmenistan New Manat","TND":"Tunisian Dinar","TOP":"Pa\'anga","TRY":"Turkish Lira","TTD":"Trinidad and Tobago Dollar","TWD":"Taiwan Dollar","TZS":"Tanzanian Shilling","UAH":"Hryvnia","UGX":"Uganda Shilling","USD":"US Dollar","UYU":"Peso Uruguayo","UZS":"Uzbekistan Sum","VEF":"Bolivar Fuerte","VND":"Dong","VUV":"Vatu","WST":"Tala","YER":"Yemeni Rial","ZAR":"Rand","ZMW":"Zambian Kwacha","ZWL":"Zimbabwe Dollar","XCD":"East Caribbean Dollar","XOF":"CFA Franc BCEAO","XAF":"CFA Franc BEAC","XPF":"CFP Franc","LVL":"Latvian Lats","LTL":"Lithuanian Litas","MRO":"Ouguiya","SKK":"Slovak Koruna","XAG":"Silver (Troy Ounce)","XAU":"Gold (Troy Ounce)","XDR":"Special Drawing Rights","ZMK":"Zambian Kwacha"},"languageNames":{"en":"English (International)","en_US":"English (United States)","en_GB":"English (United Kingdom)","es_ES":"Español","pl_PL":"Polski","pt":"Português","pt_BR":"Português (Brasil)","ro":"Română","de":"Deutsch"},"clipboard":{"trigger":"copy to clipboard","copied":"copied to clipboard"},"table":{"error":"Failed to load data"},"exceptions":{"show404":{"title":"This page does not exist","dialogTitle":"404","message":"Go to the <a href=\\"https://panel.versum.com\\">main page</a> or <a href=\\"https://panel.versum.com/signin?locale=pl\\">sign in</a> again.","backLink":"&laquo; Back to the previous page","footerMessage":"If you have any questions, please send an email to: {{link}}"},"show500":{"title":"An error occurred.","dialogTitle":"The technical support team has been automatically notified about the issue.","message":"We apologise for the inconvenience. The issue will be fixed as soon as possible.","backLink":"&laquo; Back to the previous page","footerMessage":"If you have any questions, please send an email to: {{link}}"}},"calendar":{"today":"today","month":"month","week":"week","day":"day","agendaResource":"side-by-side","allDay":"day","event":{"template":{"eventDescription":"Notes","infoFromCustomer":"Customer\'s comments","lockDescription":"Blocked","cancelledAppointment":"Appointment cancelled","onlineReservationFrom":"Online booking from","customerDescription":"Customer description","paid":"Payments","prepayment":{"status":{"paid":"paid","queued":"awaiting prepayment","refunded":"refunded","unpaid":"unpaid","canceled":"cancelled","any":"any","refund_pending":"refund initiated","refund_failed":"refund failed","paid_canceled":"collected from the balance"},"paidAmount":"Prepayment paid"},"healthSurvey":{"status":{"positive":"no risk","negative":"risk of COVID"}}}},"eventRecurrence":{"modal":{"payloadEditor":{"title":"Resolve availability conflicts","message":"The following problems occurred while saving the appointment:","table":{"header":{"startsAt":"Date","details":"Reason","actions":"Actions"},"actions":{"edit":"edit","delete":"remove","correct":"correct"}},"eventStatus":{"new":"New appointment","edited":"Appointment updated","error":{"already_booked":"Appointment date is not available","out_of_working_hours":"Appointment outside the opening hours"}},"buttons":{"save":"Try again","ignoreAndSave":"Ignore and save","ignoreAndSaveTooltip":" Add appointments to the appointment book despite the availability conflicts"},"showAll":"Show all occurrences"},"recurrenceControls":{"title":"Custom recurrence"}},"tooltip":"The maximum number of occurrences is 50.","repeat":"Repeat","repeatEvery":"Repeat every","repeatEnds":"Ends","afterDay":"End date","afterTimes":"No. of occurrences","events":"appointments","days":{"one":"day","few":"days","many":"days"},"weeks":{"one":"week","few":"weeks","many":"weeks"},"months":{"one":"month","few":"months","many":"months"},"years":{"one":"year","few":"years","many":"years"},"hours":{"one":"hour","few":"hours","many":"hours"},"minutes":{"one":"minute","few":"minutes","many":"minutes"},"recurrenceTypeSelectOption":{"daily":"daily","weekly":"weekly ({{details}})","monthly":"monthly ({{details}})","yearly":"anually ({{details}})","weekdays":"every weekday (Mon-Fri)","custom":"custom"},"toText":{"every":"every","byweekday":"on","workdays":"weekdays","times":{"one":"1 time","few":"times","many":"times"},"events":{"one":"appointment","few":"appointments","many":"appointments"},"until":"until"},"edition_disabled":"It is not possible to update the appointment occurrences."},"modals":{"booksyEnableOnlineReservation":{"title":"Get 2x more customers!","description":"Now your salon can also be listed on Booksy. Enable your online booking profile on Booksy and get even more customers!","cta":"enable online booking"}}},"regionNames":{"br":{"AC":"Acre","AL":"Alagoas","AM":"Amazonas","AP":"Amapá","BA":"Bahia","CE":"Ceará","DF":"Distrito Federal","ES":"Espírito Santo","GO":"Goiás","MA":"Maranhão","MG":"Minas Gerais","MS":"Mato Grosso do Sul","MT":"Mato Grosso","PA":"Pará","PB":"Paraíba","PE":"Pernambuco","PI":"Piauí","PR":"Paraná","RJ":"Rio de Janeiro","RN":"Rio Grande do Norte","RO":"Rondônia","RR":"Roraima","RS":"Rio Grande do Sul","SC":"Santa Catarina","SE":"Sergipe","SP":"São Paulo","TO":"Tocantins"},"mx":{"AG":"Aguascalientes","BC":"Baja California","BS":"Baja California Sur","CH":"Chihuahua","CL":"Colima","CM":"Campeche","CO":"Coahuila","CS":"Chiapas","DF":"Mexico City","DG":"Durango","EM":"México","GR":"Guerrero","GT":"Guanajuato","HG":"Hidalgo","JA":"Jalisco","MI":"Michoacán","MO":"Morelos","NA":"Nayarit","NL":"Nuevo León","OA":"Oaxaca","PU":"Puebla","QR":"Quintana Roo","QT":"Querétaro","SI":"Sinaloa","SL":"San Luis Potosí","SO":"Sonora","TB":"Tabasco","TL":"Tlaxcala","TM":"Tamaulipas","VE":"Veracruz","YU":"Yucatán","ZA":"Zacatecas"}},"prepayment":{"status":{"queued":"awaiting prepayment","paid":"paid","refunded":"refunded","unpaid":"unpaid","canceled":"cancelled","any":"any","refund_pending":"refund initiated","refund_failed":"refund failed","paid_canceled":"retained"}},"eventScreen":{"addVisit":"add appointment","moreOptions":"advanced view","newCustomer":"new customer","insertCustomer":"enter the name or phone number","insertService":"enter the name or select from the list","noPrepayment":"no prepayment","labels":"tags","eventBoxLabels":{"visit":"Appointment","customer":"Customer","services":"Services","description":"Notes","prepayment":"Prepayment","cancellationReason":"Reason for cancellation","blockadeReason":"Reason","tags":"Tags"},"addCustomerModal":{"addCustomer":"add customer","firstName":"First name","lastName":"Last name","phoneNumber":"Phone","email":"Email","agreements":"Customer consents","loyality":"Loyalty","origin":"Acquisition source","birthDate":"Date of birth","pesel":"National Identification Number","cardNumber":"Customer record number","groups":"Groups","insertOneOf":"Please provide the name or email address.","loyalty":"Loyalty","additionalInfo":"more details","customerAgreementReminder":"Remember about the information obligation in regard to contract performance","customerAgreementReminderExtended":"Data processing for the purpose of performing a treatment or service requires fulfilling the information obligation, i.e. informing the client how his or her data is processed, in particular who the data controller is and what is the purpose and basis of its processing.","loyaltyProgramParticipation":"Does the customer want to participate in the loyalty program?","customerLoyaltyInitial":"The customer has not yet decided whether to join the loyalty program.","customerLoyaltyEnabled":"The customer participates in the loyalty program","customerLoyaltyDisabled":"The customer does not agree to participate in the loyalty program","validation":{"email":"The email address you have entered is invalid. Please provide an existing email address.","customerIdentification":"Please provide the name or email address.","day":"Date of birth - the \'day\' field cannot be blank","month":"Date of birth - the \'month\' field cannot be blank","year":"Date of birth - the \'year\' field cannot be blank","acceptAgreement":"The agreement must be accepted","wrongPesel":"Invalid National Identification Number "}},"infoFromCustomer":"Notes from {{customer}}","undefinedCustomer":"The customer has not been found in the customer base","addNewCustomer":"Add a new customer ","employeesAndResourcesModal":{"title":"Select staff and resources","employee":"Employee","resource":"Resources","insertData":"enter the name or select from the list"},"noResultsForQuery":"No results for {{query}}","typeOrSelect":"enter the name or select from the list","employee":"employee","NoEmployee":"no employee","resources":"resources","NoResources":"no resources"},"customerOrigins":{"recommendation":"Customer referral","moment":"Moment.pl","internet":"Online advertising","facebook":"Facebook","advertisement":"Billboard / banner","passerby":"Walk-in","press":"Press advertising","leaflet":"Leaflet","group_purchase":"Group buying"},"monthNames":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"},"stock":{"onlineOrders":{"showOrders":"View orders:","status":{"CANCELED":"cancelled","PENDING":"pending","PAYMENT_PAID":"paid","PAYMENT_PENDING":"pending","PAYMENT_REFUNDED":"refunded","FINALIZED":"completed","DONE":"completed","PAYMENT_REFUND_PENDING":"the refund is being processed","PAYMENT_REFUND_FAILED":"refund failed","PAYMENT_STATE_REFUND_PENDING":"the refund is being processed","PAYMENT_STATE_REFUND_FAILED":"refund failed","PAYMENT_AWAITING_APPROVAL":"to be confirmed"},"list":{"orderNumber":"order no.","products":"items ordered","price":"total gross","date":"order date","status":"status","payment":"payment","customer":"customer","details":"details","emptyTable":"no data"},"select":{"all":"all","waiting":"pending","done":"completed","canceled":"cancelled"},"details":{"header":"Details of order no.","customer":"customer","orderDate":"order date","orderStatus":"order status","payment":"payment","paymentMethod":"payment method","deliveryMethod":"delivery method","deliveryAddress":"delivery address","messageFromCustomer":"message from the customer","noMessage":"none","actions":{"finalize":"mark as completed","cancel":"cancel order","finalizeConfirmation":"Are you sure you want to mark the order as completed? The action cannot be undone.","cancelConfirmation":"Are you sure you want to cancel the order? The action cannot be undone.","changeState":"update status","refundConfirmation":"The refund will result in cancelling the order and deleting the sale of all products included in the order. Do you want to make a refund?"},"edit":"change","refund":"refund","street":"Street","items":{"ordinal":"No.","name":"name","netPrice":"net price","grossPrice":"gross price","quantity":"quantity","tax":"VAT","grossValue":"gross value","unit":"pk.","grossSum":"Total gross"},"form":{"deliveryAddress":"Delivery address","recipientData":"Recipient details","firstName":"First name","lastName":"Last name","phone":"Phone","email":"Email","shippingAddress":"Shipping address","street":"Street name","houseNumber":"Street number","unitNumber":"Unit number","zipCode":"Postal code","city":"City","saved":"Shipping details of the order have been updated"},"cancelModal":{"cancelOrder":"Cancel order","message":"The order you are trying to cancel has already been paid for. Would you like to make a refund?","refund":"Make a refund","skipRefund":"Cancel without a refund"},"canceled":"The order status has been changed to cancelled.","finalized":"Status of the order has been changed to completed.","transactionTypes":{"BLIK":"Moment Pay BLIK","TRANSFER":"Instant bank transfer","CARD":"Payment card","OFFLINE_TRANSFER":"Bank transfer"},"nonPl":{"actions":{"cancelConfirmation":"Are you sure you want to cancel the order? The action cannot be undone. You can refund the payment to the customer directly from your PayPal account.  "}},"invoice":"Invoice","invoiceAccepted":"The customer wants to receive an invoice","notApplicable":"N/A","invoiceDetails":"Billing details","taxId":"Tax ID"}}},"safeBranch":{"categories":{"general":"General safety rules","equipment":"Rooms and equipment","employees":"Staff","clients":"Customers"},"measures":{"NO_CONTACT_BETWEEN_CLIENTS":"No contact between customers","SINGLE_CLIENT":"Only one customer on the premises during a service","CONTACTLESS_PAYMENTS":"Contactless payments","LONGER_WORK_HOURS":"Extended salon working hours","TWO_METERS_SPACE":"2 metre distance between salon stations","SEPARATE_ROOM":"A separate room for every customer","EQUIPMENT_DISINFECTION":"Disinfection of equipment after each customer","ROOM_DISINFECTION":"Room disinfection after each customer","RECEPTION_DISINFECTION":"Disinfection of the reception area after each customer","DISPOSABLE_MASKS":"Disposable masks","DISPOSABLE_GLOVES":"Disposable gloves","DISPOSABLE_SMOCKS":"Disposable aprons","DISPOSABLE_VISORS":"Disposable face shields","TEMPERATURE_MEASUREMENT":"Temperature checks","DISINFECTANT":"Disinfectant"}},"jobAdvertForm":{"title":"Application form","actionDescription":"Are you looking for employees? By posting an advert on the most popular Polish recruitment website, you can find them faster than ever! Pracuj.pl has prepared a special offer for Versum customers from the hair & beauty industry - you can post a job advert for half the price!<br/><br/>Basic price - <del>PLN 599 net</del><br/><strong>Price for Versum users - PLN 299 net!</strong>T<br/><br/>The offer applies to the first published advert. The price for next adverts is calculated as per Pracuj.pl pricing.","send":"Send application","sent":"The application has been sent","field":{"companyName":"Business name","taxID":"Tax ID","city":"City","street":"Street name","zipCode":"Postal code","firstName":"First name","lastName":"Last name","email":"email","phone":"phone","jobPosition":"advertised position"},"callToAction":"Verify the below details and send the form. You will soon be contacted by a consultant who will help you publish a job advert."},"paymentBonus":{"info":"Thank you for your payments during the epidemic (from {{dateStart}} to {{dateEnd}}). For each payment, you receive a bonus to use for our services.<br>\\nYou can make a choice until {{promotionEnd}}.","bonusValue":"Your bonus (25%) is:","netValue":"net","summary":{"title":{"LOYALTY_PROGRAM":"You have selected Loyalty Program. Thank you!","MARKETING_AUTOMATION":"You have selected Marketing Automation. Thank you!","MOMENT_PREMIUM":"You have selected Moment Premium. Thank you!","SUBSCRIPTION_WITH_SMS":"You have selected an extension of subscription and a package of text messages. Thank you!","SMS":"You have selected a package of text messages. Thank you!","SUBSCRIPTION_WITHOUT_SMS":"You have selected subscription extension. Thank you!"},"description":{"LOYALTY_PROGRAM":"Your bonus has been used for Loyalty Program subscription.","MARKETING_AUTOMATION":"Your bonus has been used for Marketing Automation subscription.","MOMENT_PREMIUM":"Your bonus has been credited to your Moment Premium account.","SUBSCRIPTION_WITH_SMS":"Your bonus has been used for Versum subscription and a package of text messages.","SMS":"Your bonus has been used for a package of text messages.","SUBSCRIPTION_WITHOUT_SMS":"Your bonus has been used for Versum subscription."},"extensionButton":{"LOYALTY_PROGRAM":"Enable Loyalty Program","MARKETING_AUTOMATION":"Enable Marketing Automation","MOMENT_PREMIUM":"Enable Moment Premium"},"settings":"Settings"},"success":"The selected bonus settlement option has been saved.","options":{"promotedHeader":"Double the reward!","promotedDescription":"You will receive a bonus of at least 40% for the following options.","showRegular":"Other options","regularDescription":"Basic bonus - 25%","title":{"LOYALTY_PROGRAM":"Loyalty Program","MARKETING_AUTOMATION":"Marketing Automation ","MOMENT_PREMIUM":"Moment Premium","SUBSCRIPTION_WITH_SMS":"Subscription extension + a package of text messages","SMS":"Package of text messages","SUBSCRIPTION_WITHOUT_SMS":"Subscription extension"},"description":{"EXTENSION_MONTHS":"{{monthCount}} of subscription for free (until: {{endDate}})","MOMENT_PREMIUM_FUNDS":"use your bonus to acquire new customers on Moment.pl","SUBSCRIPTION_MONTHS":"{{subscriptionPlan}} subscription for: {{monthCount}} (until {{endDate}})","SMS_MESSAGES":"{{smsCount}} text messages to promote your salon"},"learnMore":"Learn more","choosePromoted":"Select","chooseRegular":"select","value":"Value","noOptions":"No options available.","confirmation":"Are you sure you want to select {{extension}} as your bonus settlement method? You will not be able to change it later on.","unavailable":"Your bonus is not sufficient to select this option.","chooseBonus":"Select bonus"},"title":"Payback","bonusExpired":"You can select a bonus until:","unavailable":"Your bonus is not sufficient to select this option.","errors":{"promotion_bonus":{"already_used":"Your bonus has already been used."},"promotion_end_date":{"expired":"Your bonus has expired. If you would like to use it, please <a href=\\"{{supportPath}}\\">send us an email</a>."}}},"communication":{"thread":{"unreadSuccessfully":"The message has been marked as unread"}},"momentPremium":{"smsActivationModal":{"title":"Get more reviews","subtitle":"Activate text messages with a review request","description":"Customer reviews increase the credibility of your salon, that\'s why you need to collect at least 50 of them to become a <strong>premium</strong> salon. We\'ll help you get them by sending free text messages with a review request to your customers.","clientOpinions":{"title":"What can you get thanks to customer reviews?","credibility":"credibility and good reputation among customers","feedback":"valuable feedback and the opportunity to improve the quality of your services","interest":"interest of new customers thanks to Moment Premium","relations":"good relations with existing customers"},"benefits":{"title":"What do you get from us?","freeSms":"free text messages sent out until you get 50 reviews","acceleration":"possibility to activate Moment Premium faster","tooltip":"It is not possible to change the default content of the text message with a review request","status":"premium status on the lists of salons"},"activate":"Activate text messages","cancel":"Cancel"},"smsActivationSuccessModal":{"title":"Activation successful!","description":"Free text messages with a review request have been activated. Messages will be sent until you collect 50 reviews. You can find the list of reviews in the Messages > Reviews section as well as on your online booking microsite on Moment.pl."}},"notificationCenter":{"tableHeader":{"title":"Message title","content":"Message","type":"Type","date":"Date"},"notificationType":{"NEW_FEATURES":"new feature"},"notificationsState":{"title":"Notification status","allNotifications":"All notifications","unreadNotifications":"Unread notifications","readNotifications":"Read notifications"},"backToList":"back to the list of notifications","notificationsNotFound":"No notifications","emptyNotificationsList":{"title":"Notification Centre","description":"Thanks to the Notification Centre we will keep you informed about new features available in Versum. Stay up to date with the novelties we are preparing for you!"}},"socialPosts":{"postsNotFound":"No post templates"},"productOrders":{"action":{"send":"Send order","cancel":"cancel"},"sideNav":{"title":"Orders","add":"add order","drafts":"drafts","history":"order history","templates":"order templates","suppliers":"suppliers"},"breadcrumbs":{"stock":"Inventory","addOrder":"Add order","orders":"Orders","history":"Order history","templates":"Order templates","details":"Order details"},"topNav":{"products":"PRODUCTS","sales":"SALES","use":"USAGE","deliveries":"DELIVERIES","stocktakings":"STOCKTAKING","orders":"ORDERS"},"actions":{"addSupplier":"add supplier"},"orderDetails":{"title":"Details of order no.","noOrderNumber":"no order number","status":"status","supplier":"supplier","remarks":"notes","noRemarks":"no notes","orderDate":"order dispatch date","orderEmployee":"order created by","orderItems":"Items ordered","supplierDetails":{"companyName":"company name","contactPerson":"contact person","email":"email","description":"description","phone":"phone"},"actions":{"createSimilar":"create a similar order","print":"print order"},"productsTable":{"index":"No.","name":"name","quantity":"quantity"},"createDelivery":"create a delivery based on the order","cancelModal":{"title":"Are you sure you want to change the order status?","content":"The order status will be changed to \\"Cancelled\\". Do you want to continue?","sendEmail":"Send information about the change of order status to","changeStatus":"Change status","infoSentTo":"Information about the cancellation of the order will be sent to the supplier\'s address:"},"noOrderDate":"no date of dispatch of the order","sendModal":{"title":"Verify the details before sending ","sendCopy":"Send a copy of the order to","confirm":"Confirm order","supplier":"supplier","supplierEmail":"supplier\'s email"}},"orderState":{"ORDERED":"sent","DELIVERED":"completed","CANCELED":"cancelled","DRAFT":"draft"},"draftOrdersTable":{"tableHeader":{"summary":"summary","supplier":"supplier","created":"created","delete":"delete"},"products":{"zero":"{{count}} products","one":"{{count}} product","few":"{{count}} products","many":"{{count}} products"},"draftsNotFound":"No draft versions"},"ordersHistoryTable":{"tableHeader":{"number":"order no.","supplier":"supplier","count":"number of items","date":"order placed","state":"status"},"ordersNotFound":"No orders","searchBar":{"searchForOrder":"search for order"},"createOrder":"create order","supplier":"Supplier","state":"Status","allStates":"all","allSuppliers":"all","changeToDelivery":"Create a delivery based on the order"},"orderForm":{"supplier":{"add":"add supplier","title":"Supplier"},"product":{"add":"add another item","placeholder":"enter name, barcode, etc.","tableHeader":{"no":"No.","name":"name","unit":"unit","quantity":"quantity","delete":"delete"},"units":{"gram":"gram","item":"items","mililiter":"millilitres","pack":"pack","service_unit":"impulses","ampoule":"ampoules","single_unit":"units","ounce":"ounces","short":{"gram":"g","item":"it.","mililiter":"ml","pack":"pk.","service_unit":"im.","single_unit":"u.","ampoule":"amp.","ounce":"oz"}},"title":"Items ordered","addNewProduct":"add new product"},"remarks":{"title":"Notes","add":"add notes","tooltip":"The notes will be included in the email with the order"},"actions":{"delete":"delete draft","print":"print order"},"draftSaved":"Draft saved","validation":{"supplier":{"id":"No supplier selected","email":"The selected supplier\'s email address has not been provided.","name":"The selected supplier\'s business name has not been provided.","phone":"The selected supplier\'s phone number has not been provided."},"products":{"count":"The order must contain at least one item.","quantity":"The number of products ordered must be greater than 0."}}},"deliveryConversion":{"existingDraftQuestion":"Do you want to use the existing delivery draft or create a new one?","useExisting":"Use existing","createNew":"Create new"},"pdf":{"queued":"The order printout is being prepared. It will be displayed in a new tab.","error":"Failed to print the order."}},"b2bOrders":{"sideNav":{"title":"Orders","add":"add order","drafts":"drafts","history":"order history","templates":"order templates","suppliers":"suppliers"},"breadcrumbs":{"stock":"Inventory","addOrder":"Add order","orders":"Orders","history":"Order history","templates":"Order templates","details":"Order details"},"topNav":{"products":"PRODUCTS","sales":"SALE","use":"USAGE","deliveries":"DELIVERIES","stocktakings":"STOCKTAKING","orders":"ORDERS"}},"weekdayShort":{"monday":"Mon.","tuesday":"Tue.","wednesday":"Wed.","thursday":"Thu.","friday":"Fri.","saturday":"Sat.","sunday":"Sun."},"weekday":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday","thursday":"Thursday","friday":"Friday","saturday":"Saturday","sunday":"Sunday"},"sale":{"black_week":{"summary":{"breadcrumb":"{{offer_name}} special offer 2020","title":"Summary and invoice","thanks":"Thank you for your payment","subscription_extended":"Your subscription has been extended until","invoice":"The invoice will be sent via email. You can also download it from the Invoices and subscription section."},"landing":{"title":"Take advantage of the offer and gain 33%","description":"The {{offer_name}} special offer lasts until {{expiresAt}}.\\nPurchase your desired plan today to receive up to 12 months of free subscription.","explanation":"Access to your account will be extended for the time period of your choice.","table":{"variant":"Variant","plus":"plus","popular":"popular","receiveFor":"You will get the system for","months":{"few":"{{count}} months","many":"{{count}} months"},"payFor":"You pay just for","years":{"one":"{{count}} year","few":"{{count}} years"},"saveGross":"You save","toPay":"The discounted price","order":"purchase"}},"error":{"order_create":"The order cannot be placed"},"message":{"order_create_in_progress":"Processing order","order_create_success":"The order has been placed successfully. You will be redirected to the payment in a moment."},"order":{"paid":"Paid: {{paidAt}}","waitingForPayment":"Awaiting payment","payAgain":"Retry payment"}},"christmas":{"breadcrumb":"December special offer","landing":{"title":"With Versum you always get more! Grab your 25% bonus now","description":"25% of your subscription value will be returned to you after the payment. You can spend this bonus on any Versum service - let it be a subscription plan, text messages or add-ons.\\nOffer valid only until 31 December 2020.\\nPurchase today and receive an even greater bonus!","table":{"variant":"Variant","and":"and","popular":"most popular","buyFor":"You will get the system for","additionallyGain":"You get additionally","gratisExplained":"Which means you gain","bonusTitle":"{{number}}% to spend on any Versum services","bonusDescription":"(a subscription plan, text messages, add-ons)","toPay":"You pay","months":{"few":"{{count}} months","many":"{{count}} months"},"years":{"one":"{{count}} year","few":"{{count}} years"},"order":"purchase"}},"summary":{"title":"Summary and invoice","thanks":"Thank you for the purchase.","subscription_extended":"Your subscription has been extended to","invoice":"You will receive the invoice via email. You can also download it from the Invoices and subscription section.","bonus":"You will collect the 25% bonus once the payment is credited in the Invoices and Subscription > Payback section."},"order":{"paid":"Paid: {{paidAt}}","waitingForPayment":"Awaiting payment","payAgain":"Retry payment"},"message":{"orderInProgress":"Processing order","orderCreateSuccess":"The order has been placed successfully. You will be redirected to the payment in a moment."},"error":{"orderCreate":"The order cannot be placed"}}},"tssFiscalization":{"breadcrumbs":{"settings":"Settings","fiscalization":"Fiskalisierung ","receipt":"Receipt details","activation":"Confirmation of activation"},"vatRates":{"NORMAL":"19%","REDUCED_1":"7%","SPECIAL_RATE_1":"10,7%","SPECIAL_RATE_2":"5,5%","NULL":"0%","EXEMPT":"exempt"},"employee":"Employee","list":{"title":"List of receipts","date":"Date","closeRegister":"Close the register (fiskalize)","downloadReport":"Download a fiscal report","headers":{"created":"Created","fiscalised":"Fiscalized","event":"Type of event"},"details":"details","empty":"No receipts","generate":"Generate","events":{"TssFiscalizationRegisterClosure":"register closed out","TssFiscalizationReceipt":"receipt","TssFiscalizationCashPointClosing":"register closed out"},"no":"No","cashPointClosingStarted":"Closing out the cash register has been initiated.","cashPointClosingFailed":"Closing out the cash register failed.","cashPointClosed":"Cash register closed out!","cashPointClosingStatus":{"CREATED":"Created","SYNC_ERROR":"Sync error","PENDING":"Pending","WORKING":"Working","COMPLETED":"Completed","CANCELLED":"Cancelled","EXPIRED":"Expired","DELETED":"Deleted","ERROR":"Error"},"cashPointClosingError":{"NO_RECEIPTS":"No receipts","API_ERROR":"Communication error with Fiscaly"},"exportCreationStarted":"Fiscal report is being generated.","exportCreationFailed":"Generating fiscal report failed.","exportCreated":"Report generated!","mode":{"title":"Operating mode","production":{"changeStatus":"Switch to fiscal","status":"Fiscal","activated":"Switched to fiscal mode"},"test":{"changeStatus":"Switch to test","status":"Test","activated":"Switched to test mode"},"tooltip":"Each mode has its own set of data. When operating in test mode, you have no access to fiscal data. You can freely switch modes, no data will be lost.","error":"Failed to switch modes","unavailableTooltip":"In order to switch to fiscal mode, please subscribe to the add-on"},"generateInfo":"<strong>Note:</strong> It may take up to several dozen hours to generate the report. It will be sent to your email address."},"details":{"title":"Receipt details","created":"created","printed":"printed","headers":{"name":"name","gross":"gross price","quantity":"quantity","value":"value","tax":"VAT"},"taxId":"The tax ID printed on the receipt","status":{"CREATED":"the receipt has not been fiskalized","ACTIVE":"the receipt has not been fiskalized due to error in communication with fiskaly","SYNC_ERROR":"receipt status cannot be synchronized with fiskaly"},"back":"Back","preview":"Preview","issuedFor":"issued for","paymentMethods":"Payment methods","subject":"item","subjectType":{"TssFiscalizationReceiptSubjectEventFinalization":"appointment","TssFiscalizationReceiptSubjectEventPrepayment":"prepayment","TssFiscalizationReceiptSubjectOrder":"sale"}},"activation":{"description":"One you enable the add on, we will inform the Tax Office that your business uses our fiscalization software. It is possible because our software is integrated with a certified institution that provides a fiscal system which is compliant with the latest fiscal regulations. You just need to enable the Fiskalisierung add-on and we\'ll do the rest for you!","company":"Make sure your company details are correct:","confirmation":"If the details are incorrect, go to <a href=\\"{{invoicingSettingsPath}}\\">Settings</a> and add correct details.","note":"By enabling the Fiskalisierung add-on, you agree to transfering your company details to fiskaly, which is a certified Versum integration service provider, and to the German Tax Office.","cancel":"Cancel","activate":"Confirm and enable","activated":"Add-on enabled","companyName":"Company","vatId":"Tax ID"},"new":{"title":"New receipt","print":"issue","receipt_issued":"Receipt issued","error":"Unable to create the receipt preview","issued":{"title":"Receipt","print":"Print","send":"Send by email","cancel":"Cancel","sent":"Receipt sent","email":{"title":"Send receipt","address":"Email address","send":"Send"},"mode":{"test":"Test mode","production":"Fiscal mode"}},"customer":"customer","customerRequired":"In order to print a receipt, first select a customer.","validation":{"items":{"vat_rate":{"invalid":"Invalid VAT rate."}}},"itemsRequired":"To issue a receipt, select at least one valid sale item.","paymentsRequired":"To issue a receipt, select at least one valid payment method."},"show":{"title":"Receipt details","choose":"Select a receipt","printAnother":"issue again","error":"Receipt details could not be retrieved.","preview":"preview"},"order":{"show":"view receipt","new":"print receipt"},"paymentMethods":{"CASH":"cash","CASHLESS":"cashless","CREDIT_CARD":"credit card","ONLINE":"online payment","DEBIT_CARD":"debit card","PREPAID_CARD":"gift cards and packages","NONE":"other"}}}')},108:function(e,t,n){"use strict";var a,r=n(15),o=n(1),i=n(155),s=n(53);!function(e){e.DAILY="daily",e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly",e.WEEKDAYS="weekdays",e.CUSTOM="custom"}(a||(a={})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f}));var c=function(){return(c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l=(r.a.DAILY,s.b,function(e){var t;try{t=e instanceof r.d?e:i.a.parseRRuleStr(e)}catch(e){return console.error("parseRRuleStr error",e),a.CUSTOM}var n=t.options,o=n.interval,s=n.freq,c=n.byweekday,l=n.until,u=[0,1,2,3,4].every((function(e){return c&&c.includes(e)}));return o>1||l?a.CUSTOM:u?a.WEEKDAYS:s===r.a.DAILY?a.DAILY:s===r.a.WEEKLY?a.WEEKLY:s===r.a.MONTHLY?a.MONTHLY:s===r.a.YEARLY?a.YEARLY:a.CUSTOM}),u=function(e){var t;return(t={})[a.DAILY]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.daily"),value:a.DAILY},t[a.WEEKLY]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.weekly",{details:""+window.dateUtils.getWeekdayName(e)}),value:a.WEEKLY},t[a.MONTHLY]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.monthly",{details:""+e.getDate()}),value:a.MONTHLY},t[a.YEARLY]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.yearly",{details:e.getDate()+" "+window.dateUtils.getMonthName(e)}),value:a.YEARLY},t[a.WEEKDAYS]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.weekdays"),value:a.WEEKDAYS},t[a.CUSTOM]={label:o.a.t("calendar.eventRecurrence.recurrenceTypeSelectOption.custom"),value:a.CUSTOM},t},d=function(e,t,n,o,i){return function(i){var l={freq:r.d.DAILY,dtstart:new Date(e.eventModel.beginning.toISOString()),count:e.options.count||s.b,interval:1};if(i.value===a.CUSTOM&&n(!0),i.value!==a.CUSTOM&&t&&n(!1),i.value===a.DAILY&&e.update(l),i.value===a.WEEKLY){var u=e.eventModel.beginning.toDate().getDay(),d=[r.d.SU,r.d.MO,r.d.TU,r.d.WE,r.d.TH,r.d.FR,r.d.SA];e.update(c(c({},l),{freq:r.d.WEEKLY,byweekday:[d[u]]}))}i.value===a.MONTHLY&&e.update(c(c({},l),{freq:r.d.MONTHLY,bymonthday:[e.eventModel.beginning.toDate().getDate()]})),i.value===a.YEARLY&&e.update(c(c({},l),{freq:r.d.YEARLY})),i.value===a.WEEKDAYS&&e.update(c(c({},l),{freq:r.d.WEEKLY,byweekday:[r.d.MO,r.d.TU,r.d.WE,r.d.TH,r.d.FR]})),o()}},m=function(e){return+e>s.b?s.b:+e<=0?1:parseInt(e+"")},p=function(e,t){return function(n){var a=n.currentTarget.value,r=m(a);e.update(c(c({},e.options),{count:r})),t()}},f=function(e,t){return function(n,a){e.update(c(c({},e.options),{until:n.toDate()})),t()}}},111:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.ADD_CATEGORY="ADD_CATEGORY",e.EDIT_CATEGORY="EDIT_CATEGORY"}(a||(a={}))},112:function(e,t,n){"use strict";var a,r=n(125),o=n(111),i=n(0),s=n(5),c=n(18),l=n(1),u=function(){return(u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e){var t=e.field,n=e.form,a=s("e2e-category-name w-100p",{invalid:n.errors.categoryName&&n.touched.categoryName});return i.createElement("div",{className:"v2-form-controls"},i.createElement(c.f,u({},t,{type:"text",className:a})),n.errors.categoryName&&n.touched.categoryName&&i.createElement("div",{className:"v2-form-input-hint",style:{color:"#e00"}},n.errors.categoryName),i.createElement(c.a,u({},t,{label:l.a.t("services.categoryModals.addAsSubcategory"),checked:!!n.values.addAsSubcategory,onChange:function(){return n.setFieldValue("addAsSubcategory",!n.values.addAsSubcategory)},labelClassName:"v2-form-option mt-m"})))},m=n(47),p=n(55),f=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(V).vatRates.map((function(e){return{label:e===m.b?l.a.t("services.categoryModals.exempt"):e+"%",value:e}}));return i.createElement(p.a,{value:a.find((function(e){return e.value===t.value})),onChange:function(e){return n.setFieldValue(t.name,e.value)},isSearchable:!1,options:a,className:"w-25p"})},E=n(59),y=n(8),h=n.n(y),v=n(7);!function(e){e.TOGGLE_TREE_EXPANDED="TOGGLE_TREE_EXPANDED",e.TOGGLE_ROOT_CHECKED="TOGGLE_ROOT_CHECKED",e.SET_EMPLOYEES="SET_EMPLOYEES",e.SET_SELECTED_EMPLOYEES="SET_SELECTED_EMPLOYEES",e.TOGGLE_SELECTED_EMPLOYEE="TOGGLE_SELECTED_EMPLOYEE"}(a||(a={}));var b,g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=function(){return(S=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},T=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},O=h()(b||(b=g(["\n  query GetEmployees {\n    employees(count: 200) {\n      items{\n        id\n        firstName\n        lastName\n      }\n    }\n  }\n"],["\n  query GetEmployees {\n    employees(count: 200) {\n      items{\n        id\n        firstName\n        lastName\n      }\n    }\n  }\n"]))),C=function(e){return{rootChecked:!1,treeExpanded:!1,employees:[],selectedEmployees:e}},w=function(e,t){switch(void 0===e&&(e=C([])),t.type){case a.TOGGLE_ROOT_CHECKED:return S(S({},e),{rootChecked:!e.rootChecked});case a.TOGGLE_TREE_EXPANDED:return S(S({},e),{treeExpanded:!e.treeExpanded});case a.SET_EMPLOYEES:return S(S({},e),{employees:t.payload});case a.SET_SELECTED_EMPLOYEES:return S(S({},e),{selectedEmployees:t.payload});case a.TOGGLE_SELECTED_EMPLOYEE:return S(S({},e),{selectedEmployees:e.selectedEmployees.includes(t.payload)?e.selectedEmployees.filter((function(e){return e!==t.payload})):N(N([],e.selectedEmployees,!0),[t.payload],!1)});default:return e}},A=function(e){var t=e.field,n=e.form,r=e.requiredEmployees,o=Object(i.useReducer)(w,C(t.value)),c=o[0],u=o[1];!function(e){Object(i.useEffect)((function(){_(void 0,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return[4,v.a.query({options:{query:O},result:function(e){return e.employees&&e.employees.items||[]}})];case 1:return(t=n.sent())&&e({type:a.SET_EMPLOYEES,payload:t}),[2]}}))}))}),[])}(u),function(e,t,n,r){Object(i.useEffect)((function(){var o=n.length>0&&n.reduce((function(e,t){return e&&r.includes(t.id)}),!0);t!==o&&e({type:a.TOGGLE_ROOT_CHECKED})}),[r,n])}(u,c.rootChecked,c.employees,c.selectedEmployees),function(e,t,n){Object(i.useEffect)((function(){e({type:a.SET_SELECTED_EMPLOYEES,payload:Array.from(new Set(N(N([],t,!0),n,!0)).values())})}),[t])}(u,r,c.selectedEmployees),function(e,t,n){Object(i.useEffect)((function(){t.setFieldValue("employeeIds",n)}),[n])}(0,n,c.selectedEmployees);var d=function(){u({type:a.SET_SELECTED_EMPLOYEES,payload:c.employees.map((function(e){return e.id})).filter((function(e){return m(e)||!c.rootChecked}))})},m=function(e){return r.includes(e)};var p=s("fancytree-node fancytree-lastsib",{"fancytree-expanded fancytree-exp-el fancytree-ico-e":c.treeExpanded,"fancytree-has-children":c.selectedEmployees.length>0,"fancytree-exp-cl fancytree-ico-c":!c.treeExpanded,"fancytree-selected":c.rootChecked,"fancytree-unselectable":c.employees.length>0&&c.employees.length===r.length});return i.createElement("div",{className:"employee-checkboxes"},i.createElement("ul",{className:"ui-fancytree fancytree-container"},i.createElement("li",{className:"fancytree-lastsib"},i.createElement("span",{className:p},i.createElement("span",{className:"fancytree-expander",onClick:function(){u({type:a.TOGGLE_TREE_EXPANDED})}}),i.createElement("span",{className:"fancytree-checkbox",onClick:d}),i.createElement("span",{className:"fancytree-title",onClick:d},l.a.t("services.categoryModals.allEmployees"))),i.createElement("ul",{className:"shrinked-tree "+(c.treeExpanded&&"expand")},c.employees.map((function(e){var t=m(e.id),n=s("fancytree-node fancytree-exp-n fancytree-ico-c",{"fancytree-active fancytree-selected":c.selectedEmployees.includes(e.id),"fancytree-unselectable":t}),r=i.createElement("li",{key:e.id},i.createElement("span",{className:n,onClick:function(t){return n=e.id,void(m(n)||u({type:a.TOGGLE_SELECTED_EMPLOYEE,payload:n}));var n}},i.createElement("span",{className:"fancytree-expander"}),i.createElement("span",{className:"fancytree-checkbox"}),i.createElement("span",{className:"fancytree-title"},e.firstName," ",e.lastName)));return t?i.createElement(E.a,{key:"tooltip"+e.id,trigger:r,content:l.a.t("services.categoryModals.isInheritedForUser"),type:E.d.Dark}):r}))))))},R=n(74),I=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},P=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(V),r=Object(i.useContext)(R.a),o=r.selectedCategoryId,s=r.editCategoryModalVisible,c=a.serviceCategories,l=c.find((function(e){return e.id===o})),u=I([{label:a.rootCategory.name,value:a.rootCategory.id}],c.filter((function(e){return!s||l&&e.id!==l.id})).map((function(e){return{value:e.id,label:e.name,ancestry:e.ancestry}})),!0);return i.createElement(p.a,{value:u.find((function(e){return e.value===t.value})),onChange:function(e){return n.setFieldValue(t.name,e.value)},isSearchable:!0,options:u,className:"v2-form-controls",formatOptionLabel:function(e){return i.createElement(i.Fragment,null,e.ancestry&&e.ancestry.map((function(e){return i.createElement(i.Fragment,{key:e},"  ")})),e.label)}})},D=function(){return(D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},k=function(e){var t=e.field,n=e.form;return i.createElement(c.a,D({},t,{label:l.a.t("services.categoryModals.changeVat"),checked:!!t.value,onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])}}))},M=n(10);function x(e){var t=e.formikBag,n=e.vatPayer,a=e.modalType,s=Object(i.useContext)(V),u=Object(i.useState)([]),m=u[0],p=u[1],E=s.rootCategory.id,y=t.values,h=y.parentCategoryId,v=y.addAsSubcategory,b=Object(i.useRef)(h);return Object(i.useEffect)((function(){var e=v?h:a===o.a.EDIT_CATEGORY?b.current:E;p(Object(r.c)(e,s.serviceCategories))}),[h,v]),i.createElement(M.b,{className:"v2-form v2-form-counted"},i.createElement("fieldset",null,i.createElement(c.d,{label:l.a.t("services.categoryModals.name")},i.createElement(M.a,{name:"categoryName",component:d})),!!t.values.addAsSubcategory&&i.createElement(c.d,{label:l.a.t("services.categoryModals.mainCategory")},i.createElement(M.a,{name:"parentCategoryId",component:P})),n&&i.createElement(c.d,{label:l.a.t("services.categoryModals.vat")},i.createElement(M.a,{name:"categoryVat",component:f})),a===o.a.EDIT_CATEGORY&&n&&i.createElement(c.d,null,i.createElement(M.a,{name:"updateAllVatRates",component:k})),i.createElement(c.d,{label:l.a.t("services.categoryModals.employeesAssigned")},i.createElement(M.a,{name:"employeeIds",component:A,requiredEmployees:m}))))}var L=n(4),F=n(31);n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return V}));var B=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},j=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function G(e){var t=this,n=Object(i.useRef)(null),a=F.object().shape({categoryName:F.string().required(l.a.t("validation.required"))});return i.createElement(L.p,{title:l.a.t("services.categoryModals.title"),isOpened:!0,onClose:e.onClose,onSave:function(){n.current&&n.current.submitForm()},modalScrollable:!0},i.createElement(M.c,{ref:n,initialValues:e.initialValues,onSubmit:function(n,a){return B(t,void 0,void 0,(function(){return j(this,(function(t){switch(t.label){case 0:return[4,e.onSubmit(n)];case 1:return t.sent(),e.onClose(),a.setSubmitting(!1),[2]}}))}))},children:function(t){return i.createElement(x,{formikBag:t,vatPayer:e.vatPayer,modalType:e.modalType})},validationSchema:a}))}var V=i.createContext({rootCategory:{id:-1,name:"",employeeIds:[]},vatPayer:!1,serviceCategories:[],vatRates:[]})},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,r=n(5),o=n.n(r),i=n(0),s=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return s(t,e),t.prototype.select=function(e){this.input.checked=!0,this.onClick(e)},t.prototype.onClick=function(e){this.props.onChange&&(this.props.onChange({originalEvent:e,value:this.props.value,checked:!this.props.checked,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,value:this.props.value}}),this.input.checked=!this.props.checked)},t.prototype.render=function(){var e=this;this.input&&(this.input.checked=this.props.checked);var t=o()("v2-radiobutton",this.props.className),n=i.createElement("span",{className:t},i.createElement("input",{id:this.props.inputId,ref:function(t){return e.input=t},type:"radio",name:this.props.name,defaultChecked:this.props.checked}));return this.props.label?i.createElement("label",{htmlFor:this.props.inputId,className:"v2-radiobutton-label",onClick:this.onClick},n," ",this.props.label):n},t.defaultProps={inputId:null,name:null,label:null,value:null,checked:!1,onChange:null,className:null},t}(i.Component)},118:function(e,t,n){"use strict";var a=n(41),r=n(0),o=n(1),i=function(e){var t=e.itemsCount,n=e.pageSize,a=e.currentPage,i=e.onPageChange,s=e.onSizeChange,c=e.disabled,l=r.useState(a),u=l[0],d=l[1];r.useEffect((function(){d(a)}),[a]);var m=Math.ceil(t/n),p=n*a<t?n*a:t,f=n*a-(n-1),E=r.createElement("a",{className:"e2e-pagination-previous button button-link button_prev mr-s"},r.createElement("span",{className:"fc-icon fc-icon-left-single-arrow",onClick:function(){c||i(a-1)}})),y=r.createElement("a",{className:"e2e-pagination-next button button-link button_next ml-s"},r.createElement("span",{className:"fc-icon fc-icon-right-single-arrow",onClick:function(){c||i(a+1)}}));return r.createElement("div",{className:"column_row"},r.createElement("div",{className:"row"},r.createElement("div",{className:"info col-xs-7"},o.a.t("pagination.positionsFromTo",{firstPosition:f,lastPosition:p}),r.createElement("span",{id:"total_found"}," ",t," "),r.createElement("span",{className:"hidden-xs"}," | ",o.a.t("pagination.onPage")+" "),r.createElement("select",{onChange:function(e){return s(+e.target.value)},name:"size",id:"size",style:{width:55},value:n,className:"e2e-pagination-range",disabled:c},[5,10,20,50,100].map((function(e){return r.createElement("option",{className:"e2e-pagination-range-"+e,key:e,value:e},e)})))),r.createElement("div",{className:"form_pagination col-xs-5 text-right"},1!=a&&E,r.createElement("input",{type:"text",className:"e2e-pagination-page-input pagination-page-input",value:0===u||isNaN(u)?"":u,onKeyUp:function(e){return"Enter"===e.key&&i(u)},onChange:function(e){return d(+e.target.value)},disabled:c}),r.createElement("span",{className:"conjunction"},o.a.t("pagination.from")),r.createElement("a",{className:"e2e-pagination-last-page pointer",onClick:function(){return i(m)}},m),a!=m&&y)))},s=n(803),c=function(e){var t=e.itemsCount,n=e.pageSize,a=e.currentPage,o=e.onPageChange,i=e.disabled,c=Math.ceil(t/n);if(1===c||0===t)return null;var l=Object(s.a)(1,c+1);return r.createElement("nav",null,r.createElement("ul",{className:"pagination"},l.map((function(e){return r.createElement("li",{key:e,className:e===a?"page-item active":"page-item"},r.createElement("a",{className:"page-link",onClick:function(){i||o(e)}},e))}))))},l=n(29);n.d(t,"a",(function(){return u}));var u=function(e){var t=e.itemsCount,n=e.pageSize,o=e.currentPage,s=e.onPageChange,u=e.type,d=e.onSizeChange,m=e.disabled,p=e.cacheKey;if(p){var f=Object(a.a)(),E=Object(l.c)(o,n,f,p);o=E.cachePage,n=E.cachePageSize}return"list"===u?r.createElement(c,{itemsCount:t,currentPage:o,pageSize:n,onPageChange:function(e){return s(e)}}):r.createElement(i,{itemsCount:t,currentPage:o,pageSize:n,onPageChange:function(e){return s(e)},onSizeChange:function(e){return d(e)},disabled:m})}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=null,r=function(){if(null!==a)return a;var e=document.querySelector("meta[name=csrf-token]");return a=e&&e.getAttribute("content")||""}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,r,o,i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.AFTER="after",e.BEFORE="before"}(a||(a={})),function(e){e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.CENTER="center"}(r||(r={})),function(e){e.ERROR="flash_alert",e.ALERT="flash_info",e.SUCCESS="flash_notice",e.INFO="flash_default",e.PUSH="flash_push"}(o||(o={}));var s=function(e,t,n){window.jGrowl(e,i(i({theme:t},n),{position:(n?n.position:"top-right")+(n&&n.modal?" jGrowl-modal":"")}))},c={success:function(e,t){return s(e,o.SUCCESS,t)},alert:function(e,t){return s(e,o.ALERT,t)},error:function(e,t){return s(e,o.ERROR,t)},info:function(e,t){return s(e,o.INFO,t)},push:function(e,t){return function(e,t,n){window.jGrowlPush(e,i(i({theme:t},n),{position:(n?n.position:"top-right")+(n&&n.modal?" jGrowlPush-modal":"")}))}(e,o.PUSH,t)}}},120:function(e,t,n){"use strict";var a,r,o=n(0),i=n(51),s=n(24),c=n(124),l=n(20),u=n(5),d=n(17),m=n(802),p=n(1),f=function(){return(f=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.INVALID="v2-notification-bar-invalid"}(a||(a={})),function(e){e.SHOW_NOTIFICATION="SHOW_NOTIFICATION",e.HIDE_NOTIFICATION="HIDE_NOTIFICATION"}(r||(r={}));var E=Object(o.createContext)({showNotificationBar:function(){},hideNotificationBar:function(){}}),y=function(e){var t=e.showRefresh,n=void 0===t||t,r=e.variant,i=void 0===r?a.INVALID:r,s=e.text,c=e.visible,l=Object(o.useContext)(E).hideNotificationBar;return o.createElement(m.a,{in:c,timeout:300,classNames:"v2-notification-bar"},o.createElement("div",{className:u("v2-notification-bar d-flex p-xs",i)},o.createElement("div",{className:"v2-col v2-col-11 text-center"},o.createElement("div",{className:"mr-s d-inline-block"},o.createElement("div",{className:"d-inline-block align-middle"},s)),n&&o.createElement("button",{onClick:function(){l(),window.location.reload()},className:"v2-notification-bar-button"},o.createElement("div",{className:"v2-notification-bar-text-holder"},p.a.t("common.refreshPage")))),o.createElement("div",{className:"v2-col text-right"},o.createElement("a",{href:"javascript:void(0)",className:"v2-notification-bar-close-button",onClick:function(){return l()}},o.createElement(d.a,{name:d.b.x})))))},h=function(){return{variant:a.INVALID,text:p.a.t("common.otherNetworkError"),visible:!1,showRefresh:!0}},v=function(e,t){switch(t.type){case r.SHOW_NOTIFICATION:return f(f({},t.payload),{visible:!0});case r.HIDE_NOTIFICATION:return f(f({},e),{visible:!1});default:return h()}},b=function(e){var t=e.children,n=Object(o.useReducer)(v,h()),a=n[0],i=n[1],s=function(e){void 0===e&&(e=h()),i({type:r.SHOW_NOTIFICATION,payload:e})},c=function(){i({type:r.HIDE_NOTIFICATION})};Object(o.useEffect)((function(){return window.notificationBar={show:s,hide:c},function(){window.notificationBar=void 0}}),[]);var u,d=(u=Array.from(document.body.getElementsByClassName("notification-bar-container"))).length>0?u[0]:document.body.firstElementChild||document.body;return o.createElement(o.Fragment,null,o.createElement(E.Provider,{value:{showNotificationBar:s,hideNotificationBar:c}},l.createPortal(o.createElement(y,f({},a)),d),t))};function g(e){var t=e.components,n=void 0===t?[]:t,a=e.children;return o.createElement(o.Fragment,null,n.reduceRight((function(e,t){return o.createElement(t,null,e)}),a))}var S=n(23),_=n(57);n.d(t,"a",(function(){return T}));var T=function(e){var t=e.children,n=e.client,a=e.wrapperComponents;return o.createElement(o.Fragment,null,o.createElement(g,{components:a||[S.b,b,s.b,i.b]},o.createElement(c.ApolloProvider,{client:n||_.a},t)))}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return E}));var a=n(168),r=n(63),o=n(126),i=n(42),s=n(73),c=n(74),l=function(){return(l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},d=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},m=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},p=function(e,t){return function(n){return u(void 0,void 0,void 0,(function(){return d(this,(function(r){return[2,t(Object(a.a)(l(l({name:n.categoryName,employeeIds:n.employeeIds},e?{vat:n.categoryVat}:{}),n.addAsSubcategory?{parentId:n.parentCategoryId}:{})))]}))}))}},f=function(e,t){return t.filter((function(t){return t.id===e})).reduce((function(e,t){return m(m([],e,!0),t.employees.map((function(e){return e.id})),!0)}),[])},E=function(e,t,n){return function(a){return u(void 0,void 0,void 0,(function(){var l,u;return d(this,(function(d){switch(d.label){case 0:return t({type:i.a.SET_CREATE_SERVICE_CATEGORY_MODAL_VISIBLE,payload:!1}),t({type:i.a.SET_IS_FETCHING,payload:!0}),[4,a];case 1:return d.sent(),[4,Object(s.d)("network-only")];case 2:return l=d.sent(),u=Object(o.b)(n,l||[]),t({type:i.a.SET_CATEGORIES,payload:u.categories}),e({type:r.a.SET_CATEGORY_TREE,payload:Object(c.b)(u.categories)}),t({type:i.a.SET_IS_FETCHING,payload:!1}),[2]}}))}))}}},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(2),r=n(14),o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},s=function(e,t){var n=t.map((function(e){return o(o({},e),{path:(e.ancestry&&e.ancestry.length?e.ancestry.join(".children.")+".children.":"")+e.id})})),s={id:l,name:r.t("services.dropdown.withoutCategory"),position:1/0,path:l+"",ancestry:[],employees:[],vat:0},u=i(i([],n,!0),n.find((function(e){return e.id===l}))?[]:[s],!0),d=c(u),m=function(e){switch(e){case a.S.HIGHEST:return 0;case a.S.HIGH:return 5;case a.S.NORMAL:return 10;case a.S.LOW:return 15;case a.S.LOWEST:return 20;default:return 10}};return{services:e.map((function(e){var t=e.category,n=e.variants,a=e.loyaltyPoints,r=e.loyaltyStandardConversion,i=e.requiredResources,s=e.name,c=t&&t.id||l,u=""+(d[c]&&d[c].path);return o(o({},e),{categoryId:c,categoryPath:u,variants:n.map((function(e){var t=e.name,n=e.maxPrice,c=e.vat,l=e.prepaymentAmount,u=e.employees;return o(o({},e),{name:s+(t?" - "+t:""),price_max:n,vat_value:c,lumo_points:a,lumo_standard_conversion:r,prepayment_amount:l,requiredResources:i.map((function(e){var t=e.resources.map((function(e){var t=e.serviceResourceId,n=e.priority;return{item_id:t,priority:m(n),priority_symbol:n}}));return{optional:t.length>1,item_ids:t.map((function(e){return e.item_id})),components:t}})),durationsByEmployeeId:u.reduce((function(e,t){var n,a=t.duration,r=t.employee;return r?o(o({},e),((n={})[r.id]=a,n)):e}),{})})}))})})),categories:u}},c=function(e){return e.reduce((function(e,t){var n;return o(o({},e),((n={})[t.id]=t,n))}),{})},l=-1},131:function(e,t,n){"use strict";var a=n(152),r=n(5),o=n(0),i=function(e){var t=e.children,n=e.horizontal,a=e.className,i=e.separated,s=r(a,{"v2-cards":!0,"v2-cards-horizontal":n,"v2-cards-separated":i});return o.createElement("div",{className:s},t)};n.d(t,"b",(function(){return a.b})),n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return i}))},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(0),r=n(75),o=function(e,t,n){void 0===t&&(t=function(){return{}}),Object(a.useEffect)((function(){if(e){var a=function(e){var n=e.target.classList;(n.contains("modal-backdrop")||n.contains("bootstrap-dialog")||n.contains("modal-dialog")||n.contains("v2-modal-backdrop"))&&t()};return n.current&&n.current.addEventListener("click",a),function(){n.current&&n.current.removeEventListener("click",a)}}}))},i=function(e,t,n){void 0===t&&(t=function(){return{}}),Object(a.useEffect)((function(){if(e){var a=window.reactLegacyBridge.modalManagerDispatch;if(a)return a(n?{type:r.b.REGISTER_HANDLER,payload:t}:{type:r.b.DEREGISTER_HANDLER,payload:t}),function(){a({type:r.b.DEREGISTER_HANDLER,payload:t})}}}),[n])}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n(5),o=n.n(r),i=n(0),s=n(21),c=n(28);!function(e){e.APPROVED="badge-green-neon",e.CREATED="badge-orange",e.CONFIRMED="badge-orange",e.CEASED="badge-gray",e.LOCKED="badge-gray",e.CANCELED="badge-gray",e.NEW="badge-blue"}(a||(a={}));var l=function(e){var t,n=e.text,r=e.variant,l=e.className,u=e.pill,d=e.icon,m=o()(((t={"v2-badge":!0,"v2-badge-pill":u})["v2-"+[a[r]]]=!!r,t),l);return i.createElement("span",{className:m},d&&r===a.APPROVED&&i.createElement(c.a,{name:s.a.active,className:"mr-s",size:16}),n)}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(5),o=n.n(r),i=function(e){var t=e.children,n=e.isGroupConnected,r=void 0!==n&&n,i=e.className,s=o()({"button-group":!0,"button-group-separated":!r},i);return a.createElement("div",{className:s},t)}},142:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(395),r=n(373),o=function(e){return(e.id+"_"+e.purpose+"_"+e.date).replace(/[:+]/g,"_")},i=new a.b({introspectionQueryResultData:{__schema:{types:[]}}}),s=new r.a({dataIdFromObject:function(e){switch(e.__typename){case"OnlinePaymentBalanceItem":return"OnlinePaymentBalanceItem: "+o(e);case"VersumInvoiceRecipient":return"VersumInvoiceRecipient: "+function(e){return(e.id+"_"+e.type).replace(/[:+]/g,"_")}(e);default:return Object(r.b)(e)}},fragmentMatcher:i})},145:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(2),r=a.n.PL,o=a.o.PLN},152:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a,r=n(5),o=n(0);!function(e){e.blue="v2-card-blue",e.gray="v2-card-gray",e.orange="v2-card-orange",e.transparent="v2-card-transparent"}(a||(a={}));var i=function(e){var t,n=e.children,a=e.ribbonText,i=e.active,s=e.disabled,c=e.className,l=e.onClick,u=e.variant,d=e.narrow,m=e.link,p=void 0!==m&&m,f=r(c,((t={"v2-card":!0,"v2-card-narrow":d,selected:i,disabled:s})[""+u]=!!u,t)),E=o.createElement(o.Fragment,null,a&&o.createElement("div",{className:"v2-ribbon"},o.createElement("svg",{height:"67",width:"78",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M73.347 4L4 63.565V67H0v-6l.001-23L44 .003h24V0h10v4h-4.653z",fill:"currentColor",fillRule:"nonzero"}),o.createElement("text",{fill:"#FFF",fontSize:"12",fontWeight:"600",textAnchor:"middle",transform:"rotate(-41 56.62 -29.131)"},a),o.createElement("path",{d:"M78 3.994h-4.647L78 0zM4 67H0l4-3.452z",fill:"#000",fillRule:"nonzero",opacity:".2"}))),n);return p?o.createElement("a",{className:f,onClick:l},E):o.createElement("div",{className:f,onClick:l},E)}},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(1),o=function(){return a.useEffect((function(){!function(){var e=window.getAssetHost("images/common/logo.svg");document.open(),document.write('\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta http-equiv="content-type" content="text/html; charset=UTF-8">\n      <meta name="robots" content="noindex">\n      <title>'+r.a.t("404.title")+' - Versum</title>\n      <style>\n        #wrapper { max-width: 700px; margin: 0 auto }\n        * { -webkit-box-sizing: border-box; box-sizing: border-box }\n        .dialog { max-width: 650px; padding: 20px; margin: 50px auto 20px auto; border: 1px solid #eee; -webkit-box-shadow: 0 0 7px #ccc; box-shadow: 0 0 7px #ccc }\n        .logo-container { text-align: center; margin: 0 0 40px }\n        .margin-bottom { margin-bottom: 40px }\n        .text-center { text-align: center }\n        a { color: #3795de; text-decoration: none }\n        a.dark-link { color: #444; text-decoration: underline }\n        a.dark-link:hover { text-decoration: none }\n        a:hover { text-decoration: underline }\n        body { font-family: "Open Sans"; padding: 40px 10px 0; color: #424242; overflow: auto; font-size: 16px; line-height: 22px; color: #444 }\n        h1 { text-align: center; font-weight: 300; font-size: 36px; line-height: 44px; margin: 0 0 40px }\n        h2 { text-align: center; font-weight: 300; font-size: 20px; line-height: 28px; margin: 0 0 40px }\n        h1.big, h2.big { font-size: 100px; line-height: 108px }\n        p { margin: 0 0 15px }\n      </style>\n    </head>\n    <body>\n      <div id="wrapper">\n        <div class="logo-container">\n          <a href="http://www.versum.com">\n            <img alt="versum.com logo"\n              width="150"\n              src="'+e+'"\n            />\n          </a>\n        </div>\n        <h1>Strona o podanym adresie nie istnieje</h1>\n        <div class="dialog text-center">\n          <h2 class="big">404</h2>\n          <p class="margin-bottom">'+r.a.t("404.messageHtml")+'</p>\n          <a href="javascript:history.back()">'+r.a.t("404.backLinkHtml")+'</a>\n        </div>\n        <p class="text-center">'+r.a.t("404.footerMessageHtml",{link:'<a class="dark-link" href="mailto:biuro@versum.pl">biuro@versum.pl</a>'})+' </p>\n        <script async src="'+("https:"==document.location.protocol?"https://ssl":"http://www")+'.google-analytics.com/ga.js"\n      </div>\n    </body>\n  </html> \n  '),document.close();var t=t||[];t.push(["_setAccount","UA-17470321-2"]),t.push(["_trackPageview"]),t.push(["_trackEvent","Errors","404","404"])}()})),a.createElement(a.Fragment,null)}},155:function(e,t,n){"use strict";var a=n(1),r=n(805),o=n(13),i=n(27),s=n(0),c=n(20),l=n(15),u=n(24),d=n(82),m=n(96),p=n(117),f=n(18),E=n(53),y=n(40),h=function(){return(h=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},v=function(){var e=Object(s.useContext)(E.a),t=e.dispatch,n=e.until,r=e.count;return s.createElement(s.Fragment,null,s.createElement(f.d,{label:a.a.t("calendar.eventRecurrence.repeatEnds"),labelClassName:"v2-form-label-narrow"},s.createElement("div",{className:"v2-form-controls"},s.createElement("div",{className:"v2-row"},Object.keys(y.b).map((function(e){return s.createElement("div",{className:"v2-col",key:e},s.createElement(p.a,{name:"recurringEventsEnd",value:y.b[e],label:a.a.t("calendar.eventRecurrence."+y.b[e]),checked:!n&&y.b[e]===y.b.AFTER_TIMES||n&&y.b[e]===y.b.AFTER_DAY||!1,onChange:function(e){return t({type:y.a.SET_RECURRENCE_ENDING_TYPE,payload:e.target.value})}}))}))))),n&&s.createElement(f.d,{label:a.a.t("calendar.eventRecurrence.afterDay"),labelClassName:"v2-form-label-narrow"},s.createElement("div",{className:"v2-form-controls"},s.createElement(d.a,{name:"repeatUntilDate",options:h({singleDatePicker:!0},!!n&&{startDate:new Date(n)}),onChange:function(e){t({type:y.a.SET_UNTIL,payload:e.toDate()})}})))||s.createElement(f.d,{label:a.a.t("calendar.eventRecurrence.afterTimes"),labelClassName:"v2-form-label-narrow"},s.createElement("div",{className:"v2-form-controls"},s.createElement("div",{className:"v2-row"},s.createElement("div",{className:"v2-col-4"},s.createElement(m.a,{type:"number",value:r,min:"1",max:E.b+"",onChange:function(e){var n=e.target.value;return t({type:y.a.SET_COUNT,payload:+n})}}))))))},b=n(5),g=n(80),S=n(70),_=function(e){return{label:e+" dnia",value:e}},T=Array(32).fill(null).map((function(e,t){return _(t)})).filter((function(e){return 0!==e.value})),N=function(e){switch(e){case 0:return a.a.t("weekdayNames.monday");case 1:return a.a.t("weekdayNames.tuesday");case 2:return a.a.t("weekdayNames.wednesday");case 3:return a.a.t("weekdayNames.thursday");case 4:return a.a.t("weekdayNames.friday");case 5:return a.a.t("weekdayNames.saturday");case 6:return a.a.t("weekdayNames.sunday");default:return""}},O=function(e){var t=Object(s.useContext)(u.a).dateUtils,n=H().recurrenceManager,r=Object(s.useContext)(E.a),o=r.eventStartDate,i=r.dispatch,c=r.freq,d=r.interval,p=r.byweekday,h=void 0===p?[]:p,v=r.bymonthday,b=void 0===v?[]:v,O=d&&[{label:a.a.t("calendar.eventRecurrence.days",{count:d}),value:l.a.DAILY},{label:a.a.t("calendar.eventRecurrence.weeks",{count:d}),value:l.a.WEEKLY},{label:a.a.t("calendar.eventRecurrence.months",{count:d}),value:l.a.MONTHLY},{label:a.a.t("calendar.eventRecurrence.years",{count:d}),value:l.a.YEARLY}]||[],A=o&&[{label:t.formatDate(o.toDate(),g.a.SHORT),value:o.toDate().toISOString()}]||[];return s.createElement(s.Fragment,null,s.createElement(f.d,{label:a.a.t("calendar.eventRecurrence.repeatEvery"),labelClassName:"v2-form-label-narrow"},s.createElement("div",{className:"v2-form-controls"},s.createElement("div",{className:"v2-row"},s.createElement("div",{className:"v2-col-4"},s.createElement(m.a,{type:"number",value:d,min:"1",onChange:function(e){return i({type:y.a.SET_INTERVAL,payload:parseInt(e.target.value)})}})),s.createElement("div",{className:"v2-col-8"},s.createElement(S.a,{options:O,value:O.find((function(e){return e.value===c})),onChange:function(e){n&&(n.updateEventModelBeginningDate(),i({type:y.a.SET_REPEAT_FREQUENCY,payload:{freq:e.value,event:n.eventModel}}),n.updateEventModelBeginningDate())}}))))),function(e){return e===l.a.YEARLY||e===l.a.WEEKLY||e===l.a.MONTHLY}(c)&&s.createElement(f.d,{label:" ",labelClassName:"v2-form-label-narrow"},s.createElement("div",{className:"v2-form-controls"},c===l.a.WEEKLY&&s.createElement("div",{className:"days my-s"},w().map((function(e){return s.createElement(C,{checked:h&&Array.isArray(h)&&h.map((function(e){return V.getWeekdayNo(e)})).includes(e)||!1,onChange:function(e){return function(e){var t,a=h&&Array.isArray(h)&&h.map((function(e){return V.getWeekdayNo(e)})).includes(e)?h.map((function(e){return V.getWeekdayNo(e)})).filter((function(t){return t!==e})):(null===(t=h)||void 0===t?void 0:t.concat(e))||[e];i({type:y.a.SET_DAYS,payload:a}),null==n||n.updateEventModelBeginningDate(a,"weekDays")}(e)},value:e,label:N(e),key:e.toString()})}))),c===l.a.MONTHLY&&s.createElement(S.a,{className:"monthly-freq-select",options:T,value:b&&Array.isArray(b)&&b.map((function(e){return _(e)})),isMulti:!0,onChange:function(e){if(n){var t=e.map((function(e){return e.value}));i({type:y.a.SET_BY_MONTH_DAY,payload:t}),n.updateEventModelBeginningDate(t,"monthDays")}}}),c===l.a.YEARLY&&s.createElement(S.a,{options:A,value:A[0],disabled:!0}))))},C=function(e){var t=e.checked,n=e.onChange,a=e.value,r=e.label;return s.createElement("div",{className:b("day-check",{checked:t}),onClick:function(){return n(a)}},(r[0]||"").toUpperCase())},w=function(){return Array(7).fill("").map((function(e,t){return t}))},A=function(){return(A=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},R=function(e){var t=e.initialState,n=e.onChange,a=e.eventStartDate,r=Object(s.useReducer)(E.e,t||E.d),o=r[0],i=r[1];return Object(s.useEffect)((function(){n(o)}),[o]),s.createElement(u.b,null,s.createElement(E.a.Provider,{value:A(A({},o),{dispatch:i,eventStartDate:a})},s.createElement("form",{className:"v2-form"},s.createElement(O,null),s.createElement(v,null))))},I=n(4),P=n(55),D=n(108),k=function(){return(k=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},M=function(e){var t,n=e.recurrenceManager,r=s.useState(!1),o=r[0],i=r[1],c=s.useState(n.options),l=c[0],u=c[1],m=s.useState((null===(t=n.options.count)||void 0===t?void 0:t.toString())||""),p=m[0],f=m[1],y=Object(D.d)(n.eventModel.beginning.toDate()),h=Object.keys(y).map((function(e){return y[e]})),v=Object(E.f)().forceUpdate;return s.createElement(U.Provider,{value:{recurrenceManager:n}},n.eventModel.id?s.createElement(s.Fragment,null,s.createElement("span",null,n.toText({includeRepeat:!1})),s.createElement(I.A,{trigger:s.createElement(I.w,{name:I.x.info}),content:a.a.t("calendar.eventRecurrence.edition_disabled"),className:"ml-m",type:I.D.Info})):s.createElement(s.Fragment,null,s.createElement(P.a,{options:h,defaultValue:y[Object(D.e)(n.eventModel.recurrence_params||"")],onChange:Object(D.b)(n,o,i,v),className:"event_recurrence_select"}),!n.options.until&&s.createElement(s.Fragment,null,s.createElement("span",{className:"mx-s"},"x"),s.createElement("input",{className:"recurrence-count-input",type:"number",step:"1",max:E.b,min:1,value:p||"",onChange:function(e){var t;Object(D.a)(n,v)(e||{currentTarget:{value:""}});var a=""===e.currentTarget.value?"":(null===(t=n.options.count)||void 0===t?void 0:t.toString())||"";f(a)}}),s.createElement(I.A,{trigger:s.createElement(I.w,{name:I.x.info}),content:a.a.t("calendar.eventRecurrence.tooltip"),className:"ml-s",type:I.D.Info}))||s.createElement("div",{className:"simple-recurrence-date-range"},s.createElement(d.a,{name:"repeatUntilDate",options:k({singleDatePicker:!0},!!n.options&&{startDate:new Date(n.options.until||new Date)}),onChange:Object(D.c)(n,v)})),s.createElement(I.p,{"data-testid":"event-recurrence-controls-modal",isOpened:o,type:I.r.simple,className:"event-recurrence-controls-modal",onClose:function(){return i(!1)},backdropClose:!1,onSave:function(){n.update(k(k({},l),{dtstart:new Date(n.eventModel.beginning.toISOString())})),i(!1),!l.until&&f(""+l.count)}},s.createElement("h2",{className:"mt-0 mb-xl"},a.a.t("calendar.eventRecurrence.modal.recurrenceControls.title")),s.createElement(R,{onChange:u,initialState:n.options,eventStartDate:n.eventModel.beginning}))))};n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return H}));var x=function(){return(x=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},F=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},B=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},j=function(e,t){void 0===t&&(t=window.dateUtils);var n="string"!=typeof e?null==e?void 0:e.toISOString().split("+")[0]:e.split("+")[0];return e?t.formatRestPayloadDateTime(o(n).toDate()):""},G=function(e,t){var n=this;void 0===t&&(t=!1),this.beginningUpdated=!1,this.equals=function(e){return e.id&&e.id.toString()===n.uid||j(e.beginning)==n.uid},this.hasId=function(){return!!n.event.id},this.isBeginningUpdated=function(){return n.beginningUpdated},this.event=e,this.uid=e.id?e.id.toString():j(e.beginning),this.beginningUpdated=t},V=function(){function e(t){var n=this;this.event=t,this.getRecurringEventsFromDrafts=function(){return n.draftRecurringEvents.map((function(e){return e.event}))},this.recurringEventsBeginningsUpdated=function(){return n.draftRecurringEvents.some((function(e){return e.isBeginningUpdated()}))},this.updateRecurrenceRuleStartTime=function(t){n.options=x(x({},n.options),{dtstart:t,byhour:[t.getUTCHours()],byminute:[t.getUTCMinutes()],bysecond:[t.getUTCSeconds()]}),n.rrule=new e.RRule(n.options)},this.createEmptyDraftRecurringEvents=function(){return n.rrule?n.rrule.all().map(n.correctDaylightSavingTime).map(n.createEmptyDraftRecurringEvent).filter((function(e,t){return o(n.eventModel.beginning.toDate()).isSame(n.rrule.all()[0])?0!==t:e})).filter((function(e){return j(e.event.beginning)>j(n.eventModel.beginning.toDate())})):[]},this.correctDaylightSavingTime=function(e){var t=o(e);return t.hour(n.eventModel.beginning.hour()),t.minute(n.eventModel.beginning.minute()),t.toDate()},this.createEmptyDraftRecurringEvent=function(e){return new G({beginning:window.dateUtils.formatRestPayloadDateTime(e)})},this.draftRecurringEventsEditedManually=function(){return n.draftRecurringEvents.length>0&&(n.hasConflicts||n.recurringEventsBeginningsUpdated())},this.getRecurringEventsCreatePayload=function(){return n.draftRecurringEventsEditedManually()||(n.draftRecurringEvents=n.createEmptyDraftRecurringEvents()),n.getRecurringEventsForCreatePayload()},this.getRecurringEventsForCreatePayload=function(){return n.draftRecurringEvents.filter((function(e){return!e.event.deleted})).map((function(e){return Object(r.a)(e.event,"end","errors")}))},this.getRecurringEventsUpdatePayload=function(e){return e||n.eventModel.event_type_changed?(n.draftRecurringEventsEditedManually()||(n.draftRecurringEvents=(n.eventsFromServer||[]).map(n.createDraftRecurringEvent)),n.getRecurringEventsForUpdatePayload()):[]},this.getRecurringEventsForUpdatePayload=function(){return n.draftRecurringEvents.map((function(e){return Object(r.a)(e.hasId()&&!e.isBeginningUpdated()?Object(r.a)(e.event,"beginning"):e.event,"end","errors")}))},this.createDraftRecurringEvent=function(e){return new G(e)},this.hasSameDateAsMainEvent=function(e){return j(e.event.beginning)===j(n.eventModel.beginning.toDate())},this.isInDrafts=function(e){return n.draftRecurringEvents.some((function(t){return t.equals(e)}))},this.removeDraftRecurringEvent=function(e){var t=n.draftRecurringEvents.find((function(t){return(null==t?void 0:t.event.id)===e||(null==t?void 0:t.event.beginning)===e}));if(t){var a=n.draftRecurringEvents.indexOf(t);t.hasId()?n.draftRecurringEvents[a]=new G(x(x({},t.event),{_destroy:1})):n.draftRecurringEvents[a]=new G(x(x({},t.event),{deleted:!0}))}},this.handleRecurringEventStartDateChange=function(e,t){return function(a){var r=n.draftRecurringEvents.find((function(t){return(null==t?void 0:t.event.id)===e||(null==t?void 0:t.event.beginning)===e}));if(r){var o=n.draftRecurringEvents.indexOf(r);n.draftRecurringEvents=n.draftRecurringEvents.map((function(e,t){return t===o?new G(x(x({},e.event),{beginning:j(a.toDate()),errors:void 0}),!0):e})),null==t||t()}}},t.recurrence_params&&this.update(t.recurrence_params),this.clearDrafts(),this.originalEventModelDates={beginning:t.beginning,end:t.end}}return Object.defineProperty(e.prototype,"eventModel",{get:function(){return this.event},enumerable:!1,configurable:!0}),e.prototype.updateEventModelBeginningDate=function(e,t){var n;void 0===t&&(t="weekDays");var a=this.originalEventModelDates,r=a.beginning,s=a.end;if(!(this.eventModel.beginning.isSame(r)||e&&e.length))return this.eventModel.beginning=r,this.eventModel.end=s,void(this.eventBoxUpdate&&this.eventBoxUpdate());var c=(e||[]).map((function(e){return e+1})),l="weekDays"===t?c:e||[],u=Array("weekDays"===t?7:31).fill("").map((function(e,t){return t})).map((function(e){return Object(i.a)(r.toDate()).add(e,"days")})).find((function(e){return l.includes("weekDays"===t?e.isoWeekday():e.date())})),d=this.eventModel.get_total_services_duration()||15,m=u&&o.duration(u.diff(r)).asMinutes();this.eventModel.beginning=u||r,this.eventModel.end=Object(i.a)(this.eventModel.beginning).add(d,"minutes"),this.rrule.options.dtstart=this.eventModel.beginning.toDate(),null===(n=this.eventTimeManager)||void 0===n||n.move_services(m||0),this.eventBoxUpdate&&this.eventBoxUpdate()},e.prototype.rRuleHasChanged=function(){return this.rrule.toString()!==this.eventModel.recurrence_params},e.prototype.update=function(t){if(t&&Object.keys(t).length>0&&(this.options=t),t instanceof l.b&&(this.options=t.options),"string"==typeof t){var n=this.getSafeRruleString(t);this.options=e.parseRRuleStr(n).options}this.rrule=new e.RRule(this.options),this.clearDrafts()},e.prototype.getSafeRruleString=function(e){void 0===e&&(e="");return e.split(";").map((function(e){return e.split("=")})).map((function(e){var t=e[0],n=e[1].split(",").filter((function(e){return/^(YEARLY|MONTHLY|WEEKLY|DAILY|HOURLY|MINUTELY|SECONDLY|MO|TU|WE|TH|FR|SA|SU|\d+|^\d{8}T\d{6}Z$)$/.test(e)}));return n.length>0?t+"="+n.join(","):""})).filter((function(e){return!!e})).join(";")},e.prototype.getRecurringEventsPayload=function(e){var t=e||this.eventModel.id&&this.eventModel.event_type_changed;return this.eventModel.id||this.updateRecurrenceRuleStartTime(new Date(this.eventModel.beginning.toISOString())),x(x({recurrence_params:this.rrule.toString()},t&&{update_all_future_events:1}),{recurring_events:this.eventModel.id?this.getRecurringEventsUpdatePayload(e):this.getRecurringEventsCreatePayload()})},e.prototype.clearDrafts=function(){this.draftRecurringEvents=[]},e.prototype.handleEventSaveRecurrenceErrors=function(e){var t=this;this.hasConflicts=!0;var n=e.map((function(e){var t=function(e){return/\d+/.test(e)};return{id:e.id,beginning:j(e.beginning),end:j(e.end),errors:B(B(B([],(Array.isArray(e.error_message.event)?e.error_message.event:[]).map((function(e){return{item_type:"event",error_message:[e]}})),!0),Object.keys(e.error_message.allocations||{}).filter(t).reduce((function(t,n){var a,r;return B(B([],t,!0),Array.isArray(null===(a=e.error_message.allocations)||void 0===a?void 0:a[n])?null===(r=e.error_message.allocations)||void 0===r?void 0:r[n]:[],!0)}),[]),!0),Object.keys(e.error_message||{}).filter(t).reduce((function(t,n){var a,r;return B(B([],t,!0),Array.isArray(null===(a=e.error_message)||void 0===a?void 0:a[n])?null===(r=e.error_message)||void 0===r?void 0:r[n]:[],!0)}),[]),!0)}}));this.mainEventErrors=n.filter((function(e){return!t.isInDrafts(e)})).map((function(e){return x(x({},e),{isMainEvent:!0})})),this.draftRecurringEvents=this.draftRecurringEvents.map((function(e){var t=n.find((function(t){return e.equals(t)}));return t&&new G(t)||e})).filter((function(e){return t.isInDrafts(e.event)})).filter((function(e){return!t.hasSameDateAsMainEvent(e)}))},e.prototype.fetchEventsInRecurrenceGroup=function(){return L(this,void 0,void 0,(function(){var e;return F(this,(function(t){switch(t.label){case 0:return[4,fetch("/events/"+this.eventModel.id+"/recurring_events_data")];case 1:return[4,t.sent().json()];case 2:return(null==(e=t.sent().recurring_events)?void 0:e.length)>0&&(this.eventsFromServer=e.map((function(e){return x(x(x({},e),!!e.beginning&&{beginning:window.dateUtils.formatRestPayloadDateTime(new Date(e.beginning))}),!!e.end&&{end:window.dateUtils.formatRestPayloadDateTime(new Date(e.end))})}))),[2]}}))}))},e.prototype.showPayloadEditorModal=function(e){window.reactLegacyBridge.modals.EventRecurrencePayloadEditorModal.renderModal({recurrenceManager:this,onSave:e}),setTimeout((function(){var e=document.querySelector(".modal-body.inner-scrollable");e&&e.scrollTo(0,0)}),0)},e.prototype.renderControls=function(e,t){if(e){e.addEventListener("unmount",(function(){return Object(c.unmountComponentAtNode)(e)})),Object(c.render)(s.createElement(M,{recurrenceManager:this}),e)}},e.getWeekdayNo=function(e){return"number"==typeof e?new l.c(e).weekday:e instanceof l.c?e.weekday:isNaN(parseInt(e))?0:parseInt(e)},e.prototype.toText=function(t){var n=function(e,t){return a.a.t("calendar.eventRecurrence.toText."+e,t)},r=this.rrule.options,o=r.freq,i=r.interval,s=r.byweekday,c=r.count,l=r.until,u=x(x(x(x(x({},(null==t?void 0:t.includeRepeat)&&{repeat:a.a.t("calendar.eventRecurrence.repeat")+": "}),(o||0===o)&&{freq:n("every")+(i>1?" "+i:"")+" "+e.getTextFrequency(o,i)}),s&&{byweekday:", "+(e.areWorkdays(s)?"":a.a.t("calendar.eventRecurrence.days",{count:s.length})+": ")+(e.areWorkdays(s)?n("workdays"):s.map(e.getTextWeekday).join(", "))}),c&&!l&&{count:", "+c+" "+n("events",{count:c})}),l&&{until:", "+a.a.t("calendar.eventRecurrence.toText.until")+" "+window.dateUtils.formatDate(l)});return Object.keys(u).map((function(e){return u[e]})).join("")},e.RRule=l.b,e.parseRRuleStr=l.e,e.getTextFrequency=function(e,t){var n=function(e,t){return a.a.t("calendar.eventRecurrence."+e,t)};return{0:n("years",{count:t}),1:n("months",{count:t}),2:n("weeks",{count:t}),3:n("days",{count:t}),4:n("hours",{count:t}),5:n("minutes",{count:t}),6:n("seconds",{count:t})}[e]},e.getTextWeekday=function(e){var t=function(e,t){return a.a.t("weekdayShort."+e,t)};return""+{0:t("monday"),1:t("tuesday"),2:t("wednesday"),3:t("thursday"),4:t("friday"),5:t("saturday"),6:t("sunday")}[e]},e.areWorkdays=function(e){return e&&5===e.length&&e.every((function(e){return 5!==e&&6!==e}))},e}(),U=s.createContext({recurrenceManager:void 0}),H=function(){return s.useContext(U)}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=function(e){var t=e.id,n=e.name,r=e.label,o=e.value,i=e.checked,s=e.onChange,c=e.labelClassName,l=void 0===c?"v2-form-option":c,u=e.inputClassName,d=void 0===u?"v2-form-check":u,m=e.disabled,p=e.onBlur;return a.createElement(a.Fragment,null,a.createElement("label",{className:l},a.createElement("input",{type:"checkbox",className:d,id:t,name:n,checked:i,onChange:s,key:t,value:o,disabled:m,onBlur:p}),r?"string"==typeof r?a.createElement("span",null,r):r:a.createElement(a.Fragment,null)))}},16:function(e,t,n){"use strict";var a,r;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.TOGGLE_ALL_CHECKBOXES="TOGGLE_ALL_CHECKBOXES",e.MARK_SERVICE="MARK_SERVICE",e.SET_SERVICE_CATEGORIES="SET_SERVICE_CATEGORIES",e.SET_VIEWER_SETTINGS="SET_VIEWER_SETTINGS",e.SET_CURRENT_CATEGORY="SET_CURRENT_CATEGORY",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_SEARCHED_QUERY="SET_SEARCHED_QUERY",e.SET_PAGE_SIZE="SET_PAGE_SIZE",e.SET_SORT_BY="SET_SORT_BY",e.SET_SERVICES="SET_SERVICES",e.SET_IS_FETCHING_SERVICES="SET_IS_FETCHING_SERVICES",e.SET_IS_FETCHING_SERVICE_CATEGORIES="SET_IS_FETCHING_SERVICE_CATEGORIES",e.SET_IS_FETCHING_VIEWER_SETTINGS="SET_IS_FETCHING_VIEWER_SETTINGS",e.SET_IS_MUTATING_SERVICES="SET_IS_MUTATING_SERVICES",e.SET_FETCH_SERVICES_ERRORS="SET_FETCH_SERVICES_ERRORS",e.BATCH_UPDATE_IN_PROGRESS="BATCH_UPDATE_IN_PROGRESS",e.BATCH_UPDATE_COMPLETED="BATCH_UPDATE_COMPLETED",e.UPDATE_BATCH_UPDATE_STATE="UPDATE_BATCH_UPDATE_STATE",e.RESOURCES_TRANSFER_IN_PROGRESS="RESOURCES_TRANSFER_IN_PROGRESS",e.RESOURCES_TRANSFER_COMPLETED="RESOURCES_TRANSFER_COMPLETED",e.UPDATE_RESOURCES_BATCH_UPDATE_STATE="UPDATE_RESOURCES_BATCH_UPDATE_STATE",e.UPDATE_RESOURCES_TRANSFER_STATE="UPDATE_RESOURCES_TRANSFER_STATE"}(a||(a={})),function(e){e.PERCENT="updateServicesPricesByPercent",e.VALUE="updateServicesPricesByValue",e.CATEGORY="updateServicesCategory",e.ONLINE_BOOKING="updateServicesOnlineBooking",e.PREPAYMENTS="updateServicesPrepayments",e.DURATION="updateServicesDuration",e.VAT="updateServicesVatValue",e.MEDICAL="updateServicesToMedical",e.NON_MEDICAL="updateServicesToNonMedical"}(r||(r={}))},168:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return _}));var a=n(8),r=n.n(a),o=n(7),i=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},l=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},d=r()(E||(E=i(["\n  mutation deleteServiceCategory($id: Int!) {\n    deleteServiceCategory(id: $id)\n  }\n"],["\n  mutation deleteServiceCategory($id: Int!) {\n    deleteServiceCategory(id: $id)\n  }\n"]))),m=r()(y||(y=i(["\n  mutation createServiceCategory($category: ServiceCategoryCreateInput!) {\n    createServiceCategory(category: $category){\n      errors {\n        code\n        argument\n      }\n    }\n  }\n"],["\n  mutation createServiceCategory($category: ServiceCategoryCreateInput!) {\n    createServiceCategory(category: $category){\n      errors {\n        code\n        argument\n      }\n    }\n  }\n"]))),p=r()(h||(h=i(["\n  mutation updateServiceCategory($id: Int!, $category: ServiceCategoryUpdateInput!) {\n    updateServiceCategory(id: $id, category: $category){\n      errors {\n        code\n        argument\n      }\n    }\n  }\n"],["\n  mutation updateServiceCategory($id: Int!, $category: ServiceCategoryUpdateInput!) {\n    updateServiceCategory(id: $id, category: $category){\n      errors {\n        code\n        argument\n      }\n    }\n  }\n"])));function f(e){var t=e.join("\n");return r()(v||(v=i(["\n      mutation updateServiceCategories {\n        ","\n      }\n    "],["\n      mutation updateServiceCategories {\n        ","\n      }\n    "])),t)}var E,y,h,v,b=function(e){return c(void 0,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return 0===(t=e.map((function(e){return"\n    category_"+(t=e).id+": updateServiceCategory(id: "+t.id+", category: "+JSON.stringify(t.input).replace(/"/g,"")+"){\n        errors{\n            code\n            argument\n        }\n    }\n  ";var t}))).length?[3,2]:[4,o.a.mutate({options:{mutation:f(t)},result:function(e){return e||null},mutationErrors:function(e){return Object.keys(e).reduce((function(t,n){var a=e[n];return a&&a.errors?u(u([],t,!0),a.errors.map((function(e){return s(s({},e),{detail:n})})),!0):t}),[])}})];case 1:return[2,n.sent()];case 2:return[2,null]}}))}))},g=function(e,t){return c(void 0,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,o.a.mutate({options:{mutation:p,variables:{id:e,category:t}},result:function(e){return e.updateServiceCategory||null},mutationErrors:function(e){return e.updateServiceCategory&&e.updateServiceCategory.errors||[]}})];case 1:return[2,n.sent()]}}))}))},S=function(e){return c(void 0,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,o.a.mutate({options:{mutation:d,variables:{id:e}},result:function(e){return!!e},mutationErrors:function(e){return[]}})];case 1:return[2,t.sent()]}}))}))},_=function(e){return c(void 0,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,o.a.mutate({options:{mutation:m,variables:{category:e}},result:function(e){return e.createServiceCategory||null},mutationErrors:function(e){return e.createServiceCategory&&e.createServiceCategory.errors||[]}})];case 1:return[2,t.sent()]}}))}))}},17:function(e,t,n){"use strict";var a=n(28);n.d(t,"a",(function(){return a.a}));var r=n(21);n.d(t,"b",(function(){return r.a}))},18:function(e,t,n){"use strict";var a,r=n(157),o=(n(117),n(5)),i=n.n(o),s=n(0),c=function(e){var t=e.children,n=e.error,a=e.className,r=o(a||"v2-form-group",{"has-error":n}),i=s.createElement("div",{className:"v2-form-error"},n);return s.createElement(s.Fragment,null,s.createElement("div",{className:r},t,n?i:""))},l=n(1),u=n(98),d=n(347),m=n(348),p=(n(468),n(2)),f=n(86),E=function(e){return e&&"+"+e.countryPrefix+e.number||"+"},y=function(e){var t=e.phone,n=e.onChange,a=e.errorMessage,r=e.defaultPhone,o=e.className,c=e.onBlur,y=e.disabled,h=e.skipValidation,v=Object(u.c)(E(t)),b=i()("v2-phone-input",{invalid:h?a:v&&!v.isValid()},o),g=v&&v.nationalNumber?E(t):E(r);return s.createElement("span",{className:b},s.createElement(d.a,{inputComponent:m.a,value:g,country:v?v.country:r&&r.countryCode||p.n.PL,placeholder:l.a.t("forms.enterPhoneNumber"),onChange:function(e){var t=Object(u.c)(e||"");n&&n({number:(t||{nationalNumber:""}).nationalNumber,countryPrefix:(t||{countryCallingCode:""}).countryCallingCode,countryCode:(t||{country:""}).country}),c&&c()},onKeyDown:c,onCountryChange:c,disabled:y}),v&&!v.isValid()&&!h&&s.createElement(f.a,{message:l.a.t("validation.phone")}),a&&s.createElement(f.a,{message:a}))},h=n(96),v=function(e){var t=e.text,n=e.className;return s.createElement("span",{className:["v2-form-label",n].join(" ")},t)},b=n(81);!function(e){e.gray="gray"}(a||(a={}));var g=function(e){var t=e.children,n=e.className,r=e.color,i=void 0===r?a.gray:r;return s.createElement("span",{className:o(n,"v2-form-box","flex-column",{"v2-form-box-gray":i===a.gray})},t)},S=function(e){var t=e.checked,n=e.onChange,a=e.className;return s.createElement("label",{className:"v2-switch "+a},s.createElement("input",{type:"checkbox",checked:t,onClick:_(t||!1,n),onChange:T}),s.createElement("span",{className:"slider round"}))},_=function(e,t){return function(n){return t&&t(!e)}},T=function(){};n.d(t,"a",(function(){return r.a})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return y})),n.d(t,"f",(function(){return h.a})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return b.a})),n.d(t,"b",(function(){return f.a})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return S}))},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var a=n(65),r=[{code:"AFN",symbol:"؋",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"ALL",symbol:"L",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"DZD",symbol:"د.ج",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"USD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"EUR",symbol:"€",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"AOA",symbol:"Kz",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"XCD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"ARS",symbol:"$",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"AMD",symbol:"դր.",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"AWG",symbol:"ƒ",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"AUD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"AZN",symbol:"",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BSD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BHD",symbol:"ب.د",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:3},{code:"BDT",symbol:"৳",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BBD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"BYR",symbol:"Br",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"BZD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"XOF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"BMD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"INR",symbol:"₹",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BOB",symbol:"Bs.",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BAM",symbol:"КМ",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BWP",symbol:"P",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"NOK",symbol:"kr",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"BRL",symbol:"R$",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BND",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"BGN",symbol:"лв",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"BIF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"KHR",symbol:"",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"XAF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"CAD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"CVE",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"KYD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"CLP",symbol:"$",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:0},{code:"CNY",symbol:"¥",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"COP",symbol:"$",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"KMF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"CDF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"NZD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"CRC",symbol:"₡",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"HRK",symbol:"kn",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"CUP",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"ANG",symbol:"ƒ",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"CZK",symbol:"Kč",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"DKK",symbol:"kr",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"DJF",symbol:"Fdj",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"DOP",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"EGP",symbol:"ج.م",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"ERN",symbol:"Nfk",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"ETB",symbol:"Br",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"FKP",symbol:"£",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"FJD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"XPF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"GMD",symbol:"D",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"GEL",symbol:"ლ",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"GHS",symbol:"₵",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"GIP",symbol:"£",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"GTQ",symbol:"Q",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"GBP",symbol:"£",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"GNF",symbol:"Fr",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"GYD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"HNL",symbol:"L",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"HKD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"HUF",symbol:"Ft",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"ISK",symbol:"kr",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:0},{code:"IDR",symbol:"Rp",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"IRR",symbol:"﷼",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"IQD",symbol:"ع.د",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:3},{code:"ILS",symbol:"₪",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"JMD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"JPY",symbol:"¥",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:0},{code:"JOD",symbol:"د.ا",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:3},{code:"KZT",symbol:"〒",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"KES",symbol:"KSh",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"KPW",symbol:"₩",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"KRW",symbol:"₩",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:0},{code:"KWD",symbol:"د.ك",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:3},{code:"KGS",symbol:"som",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"LAK",symbol:"₭",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"LVL",symbol:"Ls",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"LBP",symbol:"ل.ل",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"ZAR",symbol:"R",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"LRD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"LYD",symbol:"ل.د",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:3},{code:"CHF",symbol:"Fr",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"LTL",symbol:"Lt",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MOP",symbol:"P",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MKD",symbol:"ден",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MGA",symbol:"Ar",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"MWK",symbol:"MK",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MYR",symbol:"RM",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"MVR",symbol:"MVR",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MRO",symbol:"UM",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MUR",symbol:"₨",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"MXN",symbol:"MXN$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"MDL",symbol:"L",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MNT",symbol:"₮",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MAD",symbol:"د.م.",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"MZN",symbol:"MTn",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"MMK",symbol:"K",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"NPR",symbol:"₨",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"NIO",symbol:"C$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"NGN",symbol:"₦",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"OMR",symbol:"ر.ع.",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:3},{code:"PKR",symbol:"₨",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"PGK",symbol:"K",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"PYG",symbol:"₲",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:0},{code:"PEN",symbol:"S/.",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"PHP",symbol:"₱",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"QAR",symbol:"ر.ق",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"RON",symbol:"Lei",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"RUB",symbol:"р.",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"RWF",symbol:"FRw",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"SHP",symbol:"£",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"WST",symbol:"T",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"STD",symbol:"Db",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SAR",symbol:"ر.س",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"RSD",symbol:"РСД",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"SCR",symbol:"₨",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SLL",symbol:"Le",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SGD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"SBD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SOS",symbol:"Sh",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SSP",symbol:"£",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"LKR",symbol:"₨",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SDG",symbol:"£",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"SRD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SZL",symbol:"L",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"SEK",symbol:"kr",decimal:",",separator:"",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SYP",symbol:"£S",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"TWD",symbol:"$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"TJS",symbol:"ЅМ",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"TZS",symbol:"Sh",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"THB",symbol:"฿",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"TOP",symbol:"T$",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"TTD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"TND",symbol:"د.ت",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:3},{code:"TRY",symbol:"₺",decimal:",",separator:".",pattern:"# !",negativePattern:"-# !",precision:2},{code:"TMT",symbol:"T",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"UGX",symbol:"USh",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"UAH",symbol:"₴",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"AED",symbol:"د.إ",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"UYU",symbol:"$",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"UZS",symbol:"",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"VUV",symbol:"Vt",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:0},{code:"VEF",symbol:"Bs F",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:2},{code:"VND",symbol:"₫",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:0},{code:"YER",symbol:"﷼",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"ZMW",symbol:"ZK",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"ZWL",symbol:"",decimal:"",separator:"",pattern:"# !",negativePattern:"-# !",precision:2},{code:"BTN",symbol:"Nu.",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"CLF",symbol:"UF",decimal:",",separator:".",pattern:"! #",negativePattern:"-! #",precision:0},{code:"CUC",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"HTG",symbol:"G",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"LSL",symbol:"L",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"NAD",symbol:"$",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"PAB",symbol:"B/.",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"SKK",symbol:"Sk",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"SVC",symbol:"₡",decimal:".",separator:",",pattern:"! #",negativePattern:"-! #",precision:2},{code:"XAG",symbol:"oz t",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"XAU",symbol:"oz t",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"XDR",symbol:"SDR",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:0},{code:"ZMK",symbol:"ZK",decimal:".",separator:",",pattern:"# !",negativePattern:"-# !",precision:2},{code:"PLN",symbol:"zł",decimal:",",separator:"",pattern:"# !",negativePattern:"-# !",precision:2}],o={};function i(e,t,n){var r=function(e){return a(e,{precision:void 0!==n?n:0}).format()};return t&&o[t]?o[t](e,n):r(e)}function s(e){var t=r.find((function(t){return t.code===e}));return t?t.symbol:e}function c(e){return e.replace(/(^[0-9]{2})?([0-9]{1,4})/g,"$1 $2").trim()}r.forEach((function(e){var t=e.code,n=e.symbol,r=e.pattern,i=e.negativePattern,s=e.precision,c=e.separator,l=e.decimal;o[t]=function(e,t){return a(e,{symbol:n,pattern:r,negativePattern:i,precision:void 0!==t?t:s,separator:c,decimal:l}).format(!0)}}))},2:function(e,t,n){"use strict";var a,r,o,i,s,c,l,u,d,m,p,f,E,y,h,v,b,g,S,_,T,N,O,C,w,A,R,I,P,D,k,M,x,L,F,B,j,G,V,U,H,z,Y,q,W,K,$,Z,X,J,Q,ee,te,ne,ae,re,oe,ie,se,ce,le,ue,de,me,pe,fe,Ee,ye,he,ve,be,ge,Se,_e,Te,Ne,Oe,Ce,we,Ae,Re,Ie,Pe,De,ke,Me,xe,Le,Fe,Be,je,Ge,Ve,Ue,He,ze,Ye,qe,We,Ke,$e,Ze,Xe,Je,Qe,et,tt,nt,at,rt,ot,it,st,ct,lt,ut,dt,mt,pt,ft;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return M})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return W})),n.d(t,"s",(function(){return $})),n.d(t,"t",(function(){return Z})),n.d(t,"u",(function(){return X})),n.d(t,"v",(function(){return ee})),n.d(t,"w",(function(){return ne})),n.d(t,"x",(function(){return ae})),n.d(t,"y",(function(){return re})),n.d(t,"z",(function(){return se})),n.d(t,"A",(function(){return ce})),n.d(t,"B",(function(){return le})),n.d(t,"C",(function(){return ue})),n.d(t,"D",(function(){return me})),n.d(t,"E",(function(){return be})),n.d(t,"F",(function(){return ge})),n.d(t,"G",(function(){return Se})),n.d(t,"I",(function(){return Oe})),n.d(t,"J",(function(){return Ce})),n.d(t,"H",(function(){return Re})),n.d(t,"K",(function(){return Ie})),n.d(t,"L",(function(){return Pe})),n.d(t,"M",(function(){return ke})),n.d(t,"N",(function(){return Me})),n.d(t,"O",(function(){return Fe})),n.d(t,"P",(function(){return Be})),n.d(t,"Q",(function(){return Ve})),n.d(t,"R",(function(){return ze})),n.d(t,"S",(function(){return Ye})),n.d(t,"T",(function(){return qe})),n.d(t,"U",(function(){return We})),n.d(t,"V",(function(){return Ke})),n.d(t,"W",(function(){return Xe})),n.d(t,"X",(function(){return Je})),n.d(t,"Y",(function(){return ot})),n.d(t,"Z",(function(){return it})),n.d(t,"ab",(function(){return lt})),n.d(t,"bb",(function(){return dt})),n.d(t,"cb",(function(){return mt})),function(e){e.UPDATE_SERVICE_CATEGORIES="UPDATE_SERVICE_CATEGORIES",e.CREATE_SERVICES="CREATE_SERVICES",e.UPDATE_SERVICES_IN_BULK="UPDATE_SERVICES_IN_BULK",e.READ_STATISTICS="READ_STATISTICS",e.READ_FINANCES="READ_FINANCES"}(a||(a={})),function(e){e.UPC_A="UPC_A",e.UPC_E="UPC_E",e.EAN_13="EAN_13",e.EAN_8="EAN_8",e.CODE_39="CODE_39",e.CODE_128="CODE_128",e.ITF="ITF"}(r||(r={})),function(e){e.EXISTING="EXISTING",e.NEW="NEW"}(o||(o={})),function(e){e.UPDATE_CATEGORY="UPDATE_CATEGORY",e.UPDATE_ONLINE_BOOKING_STATUS="UPDATE_ONLINE_BOOKING_STATUS",e.UPDATE_PREPAYMENTS="UPDATE_PREPAYMENTS",e.UPDATE_PRICES_BY_PERCENT="UPDATE_PRICES_BY_PERCENT",e.UPDATE_PRICES_BY_VALUE="UPDATE_PRICES_BY_VALUE",e.CHANGE_TO_NON_MEDICAL="CHANGE_TO_NON_MEDICAL",e.CHANGE_TO_MEDICAL="CHANGE_TO_MEDICAL",e.CHANGE_VAT_VALUE="CHANGE_VAT_VALUE",e.UPDATE_RESOURCES="UPDATE_RESOURCES",e.UPDATE_DURATION="UPDATE_DURATION"}(i||(i={})),function(e){e.INITIAL="INITIAL",e.PROCESSING="PROCESSING",e.SUCCESSED="SUCCESSED",e.FAILED="FAILED"}(s||(s={})),function(e){e.SERVICES="SERVICES"}(c||(c={})),function(e){e.PRIMARY="PRIMARY",e.OPTIONAL="OPTIONAL",e.NONE="NONE"}(l||(l={})),function(e){e.ALL="ALL",e.WITHOUT_ONLINE_BOOKING="WITHOUT_ONLINE_BOOKING"}(u||(u={})),function(e){e.INITIAL="INITIAL",e.ACTIVATING="ACTIVATING",e.ACTIVE="ACTIVE",e.DEACTIVATING="DEACTIVATING",e.DEACTIVATED="DEACTIVATED",e.REACTIVATING="REACTIVATING"}(d||(d={})),function(e){e.PERSONAL_DATA="PERSONAL_DATA",e.MARKETING="MARKETING",e.CUSTOM="CUSTOM"}(m||(m={})),function(e){e.EXTENSION_MONTHS="EXTENSION_MONTHS",e.MOMENT_PREMIUM_FUNDS="MOMENT_PREMIUM_FUNDS",e.SUBSCRIPTION_MONTHS="SUBSCRIPTION_MONTHS",e.SMS_MESSAGES="SMS_MESSAGES"}(p||(p={})),function(e){e.LOYALTY_PROGRAM="LOYALTY_PROGRAM",e.MARKETING_AUTOMATION="MARKETING_AUTOMATION",e.MOMENT_PREMIUM="MOMENT_PREMIUM",e.SUBSCRIPTION_WITH_SMS="SUBSCRIPTION_WITH_SMS",e.SMS="SMS"}(f||(f={})),function(e){e.PENDING="PENDING",e.SELECTED="SELECTED",e.UNAVAILABLE="UNAVAILABLE"}(E||(E={})),function(e){e.MIGRATED="MIGRATED",e.TRIAL_EXPIRED="TRIAL_EXPIRED",e.CANCELED="CANCELED",e.PAUSED="PAUSED",e.ONLINE_PROFILE="ONLINE_PROFILE",e.VERSUM_INTERNAL="VERSUM_INTERNAL",e.TRIAL="TRIAL",e.PAYING_WITHOUT_AUTOMATIC_INVOICING="PAYING_WITHOUT_AUTOMATIC_INVOICING",e.ORDERED_SYSTEM="ORDERED_SYSTEM",e.PAYING="PAYING"}(y||(y={})),function(e){e.BLOCKED_ACCESS="BLOCKED_ACCESS",e.BLOCKED_COMMUNICATION="BLOCKED_COMMUNICATION"}(h||(h={})),function(e){e.PREFER_SMS="PREFER_SMS",e.PREFER_EMAIL="PREFER_EMAIL",e.SMS="SMS",e.EMAIL="EMAIL",e.SMS_AND_EMAIL="SMS_AND_EMAIL"}(v||(v={})),function(e){e.WRONG_NUMBER="WRONG_NUMBER",e.INVALID_MESSAGE="INVALID_MESSAGE"}(b||(b={})),function(e){e.SCHEDULED="SCHEDULED",e.START_DELIVERY="START_DELIVERY",e.DELIVERED="DELIVERED"}(g||(g={})),function(e){e.CUSTOMERS_GROUP="CUSTOMERS_GROUP",e.ALL_CUSTOMERS="ALL_CUSTOMERS",e.TEST_GROUP="TEST_GROUP",e.ALL_EMPLOYEES="ALL_EMPLOYEES",e.FROM_LIST="FROM_LIST"}(S||(S={})),function(e){e.EVENT_REMINDER="EVENT_REMINDER",e.INSPECTION_VISIT="INSPECTION_VISIT",e.ONE_VISIT="ONE_VISIT",e.TWO_VISITS="TWO_VISITS",e.NEW_RESERVATION="NEW_RESERVATION",e.EDIT_RESERVATION="EDIT_RESERVATION",e.CANCEL_RESERVATION="CANCEL_RESERVATION",e.LONG_ABSENCE="LONG_ABSENCE",e.BIRTHDAY_WISHES="BIRTHDAY_WISHES",e.NAME_DAY_WISHES="NAME_DAY_WISHES"}(_||(_={})),function(e){e.SMS="SMS",e.EMAIL="EMAIL"}(T||(T={})),function(e){e.SUBSCRIPTION_ORDER="SUBSCRIPTION_ORDER",e.SUBSCRIPTION_UPDATE="SUBSCRIPTION_UPDATE",e.INVOICES="INVOICES"}(N||(N={})),function(e){e.OUT_OF_RANGE="OUT_OF_RANGE",e.BUSY="BUSY",e.NO_ANSWER="NO_ANSWER"}(O||(O={})),function(e){e.UNSUPPORTED_CONVERSION="UNSUPPORTED_CONVERSION"}(C||(C={})),function(e){e.TEXT_HTML="TEXT_HTML",e.TEXT_MARKDOWN="TEXT_MARKDOWN",e.TEXT_PLAIN="TEXT_PLAIN"}(w||(w={})),function(e){e.AD="AD",e.AE="AE",e.AF="AF",e.AG="AG",e.AI="AI",e.AL="AL",e.AM="AM",e.AO="AO",e.AR="AR",e.AS="AS",e.AT="AT",e.AU="AU",e.AW="AW",e.AX="AX",e.AZ="AZ",e.BA="BA",e.BB="BB",e.BD="BD",e.BE="BE",e.BF="BF",e.BG="BG",e.BH="BH",e.BI="BI",e.BJ="BJ",e.BL="BL",e.BM="BM",e.BN="BN",e.BO="BO",e.BQ="BQ",e.BR="BR",e.BS="BS",e.BT="BT",e.BW="BW",e.BY="BY",e.BZ="BZ",e.CA="CA",e.CC="CC",e.CD="CD",e.CF="CF",e.CG="CG",e.CH="CH",e.CI="CI",e.CK="CK",e.CL="CL",e.CM="CM",e.CN="CN",e.CO="CO",e.CR="CR",e.CU="CU",e.CV="CV",e.CW="CW",e.CX="CX",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DJ="DJ",e.DK="DK",e.DM="DM",e.DO="DO",e.DZ="DZ",e.EC="EC",e.EE="EE",e.EG="EG",e.EH="EH",e.ER="ER",e.ES="ES",e.ET="ET",e.FI="FI",e.FJ="FJ",e.FK="FK",e.FM="FM",e.FO="FO",e.FR="FR",e.GA="GA",e.GB="GB",e.GD="GD",e.GE="GE",e.GF="GF",e.GG="GG",e.GH="GH",e.GI="GI",e.GL="GL",e.GM="GM",e.GN="GN",e.GP="GP",e.GQ="GQ",e.GR="GR",e.GT="GT",e.GU="GU",e.GW="GW",e.GY="GY",e.HK="HK",e.HN="HN",e.HR="HR",e.HT="HT",e.HU="HU",e.ID="ID",e.IE="IE",e.IL="IL",e.IM="IM",e.IN="IN",e.IO="IO",e.IQ="IQ",e.IR="IR",e.IS="IS",e.IT="IT",e.JE="JE",e.JM="JM",e.JO="JO",e.JP="JP",e.KE="KE",e.KG="KG",e.KH="KH",e.KI="KI",e.KM="KM",e.KN="KN",e.KP="KP",e.KR="KR",e.KW="KW",e.KY="KY",e.KZ="KZ",e.LA="LA",e.LB="LB",e.LC="LC",e.LI="LI",e.LK="LK",e.LR="LR",e.LS="LS",e.LT="LT",e.LU="LU",e.LV="LV",e.LY="LY",e.MA="MA",e.MC="MC",e.MD="MD",e.ME="ME",e.MF="MF",e.MG="MG",e.MH="MH",e.MK="MK",e.ML="ML",e.MM="MM",e.MN="MN",e.MO="MO",e.MP="MP",e.MQ="MQ",e.MR="MR",e.MS="MS",e.MT="MT",e.MU="MU",e.MV="MV",e.MW="MW",e.MX="MX",e.MY="MY",e.MZ="MZ",e.NA="NA",e.NC="NC",e.NE="NE",e.NF="NF",e.NG="NG",e.NI="NI",e.NL="NL",e.NO="NO",e.NP="NP",e.NR="NR",e.NU="NU",e.NZ="NZ",e.OM="OM",e.PA="PA",e.PE="PE",e.PF="PF",e.PG="PG",e.PH="PH",e.PK="PK",e.PL="PL",e.PM="PM",e.PN="PN",e.PR="PR",e.PS="PS",e.PT="PT",e.PW="PW",e.PY="PY",e.QA="QA",e.RE="RE",e.RO="RO",e.RS="RS",e.RU="RU",e.RW="RW",e.SA="SA",e.SB="SB",e.SC="SC",e.SD="SD",e.SE="SE",e.SG="SG",e.SH="SH",e.SI="SI",e.SJ="SJ",e.SK="SK",e.SL="SL",e.SM="SM",e.SN="SN",e.SO="SO",e.SR="SR",e.SS="SS",e.ST="ST",e.SV="SV",e.SX="SX",e.SY="SY",e.SZ="SZ",e.TC="TC",e.TD="TD",e.TG="TG",e.TH="TH",e.TJ="TJ",e.TK="TK",e.TL="TL",e.TM="TM",e.TN="TN",e.TO="TO",e.TR="TR",e.TT="TT",e.TV="TV",e.TW="TW",e.TZ="TZ",e.UA="UA",e.UG="UG",e.UM="UM",e.US="US",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VC="VC",e.VE="VE",e.VG="VG",e.VI="VI",e.VN="VN",e.VU="VU",e.WF="WF",e.WS="WS",e.YE="YE",e.YT="YT",e.ZA="ZA",e.ZM="ZM",e.ZW="ZW"}(A||(A={})),function(e){e.AED="AED",e.AFN="AFN",e.ALL="ALL",e.AMD="AMD",e.ANG="ANG",e.AOA="AOA",e.ARS="ARS",e.AUD="AUD",e.AWG="AWG",e.AZN="AZN",e.BAM="BAM",e.BBD="BBD",e.BDT="BDT",e.BGN="BGN",e.BHD="BHD",e.BIF="BIF",e.BMD="BMD",e.BND="BND",e.BOB="BOB",e.BRL="BRL",e.BSD="BSD",e.BTN="BTN",e.BWP="BWP",e.BYR="BYR",e.BZD="BZD",e.CAD="CAD",e.CDF="CDF",e.CHF="CHF",e.CLF="CLF",e.CLP="CLP",e.CNY="CNY",e.COP="COP",e.CRC="CRC",e.CUC="CUC",e.CUP="CUP",e.CVE="CVE",e.CZK="CZK",e.DJF="DJF",e.DKK="DKK",e.DOP="DOP",e.DZD="DZD",e.EGP="EGP",e.ERN="ERN",e.ETB="ETB",e.EUR="EUR",e.FJD="FJD",e.FKP="FKP",e.GBP="GBP",e.GEL="GEL",e.GHS="GHS",e.GIP="GIP",e.GMD="GMD",e.GNF="GNF",e.GTQ="GTQ",e.GYD="GYD",e.HKD="HKD",e.HNL="HNL",e.HRK="HRK",e.HTG="HTG",e.HUF="HUF",e.IDR="IDR",e.ILS="ILS",e.INR="INR",e.IQD="IQD",e.IRR="IRR",e.ISK="ISK",e.JMD="JMD",e.JOD="JOD",e.JPY="JPY",e.KES="KES",e.KGS="KGS",e.KHR="KHR",e.KMF="KMF",e.KPW="KPW",e.KRW="KRW",e.KWD="KWD",e.KYD="KYD",e.KZT="KZT",e.LAK="LAK",e.LBP="LBP",e.LKR="LKR",e.LRD="LRD",e.LSL="LSL",e.LTL="LTL",e.LVL="LVL",e.LYD="LYD",e.MAD="MAD",e.MDL="MDL",e.MGA="MGA",e.MKD="MKD",e.MMK="MMK",e.MNT="MNT",e.MOP="MOP",e.MRO="MRO",e.MUR="MUR",e.MVR="MVR",e.MWK="MWK",e.MXN="MXN",e.MYR="MYR",e.MZN="MZN",e.NAD="NAD",e.NGN="NGN",e.NIO="NIO",e.NOK="NOK",e.NPR="NPR",e.NZD="NZD",e.OMR="OMR",e.PAB="PAB",e.PEN="PEN",e.PGK="PGK",e.PHP="PHP",e.PKR="PKR",e.PLN="PLN",e.PYG="PYG",e.QAR="QAR",e.RON="RON",e.RSD="RSD",e.RUB="RUB",e.RWF="RWF",e.SAR="SAR",e.SBD="SBD",e.SCR="SCR",e.SDG="SDG",e.SEK="SEK",e.SGD="SGD",e.SHP="SHP",e.SKK="SKK",e.SLL="SLL",e.SOS="SOS",e.SRD="SRD",e.SSP="SSP",e.STD="STD",e.SVC="SVC",e.SYP="SYP",e.SZL="SZL",e.THB="THB",e.TJS="TJS",e.TMT="TMT",e.TND="TND",e.TOP="TOP",e.TRY="TRY",e.TTD="TTD",e.TWD="TWD",e.TZS="TZS",e.UAH="UAH",e.UGX="UGX",e.USD="USD",e.UYU="UYU",e.UZS="UZS",e.VEF="VEF",e.VND="VND",e.VUV="VUV",e.WST="WST",e.XAF="XAF",e.XAG="XAG",e.XAU="XAU",e.XCD="XCD",e.XDR="XDR",e.XOF="XOF",e.XPF="XPF",e.YER="YER",e.ZAR="ZAR",e.ZMK="ZMK",e.ZMW="ZMW",e.ZWL="ZWL"}(R||(R={})),function(e){e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE"}(I||(I={})),function(e){e.INITIAL="INITIAL",e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.SUSPENDED="SUSPENDED"}(P||(P={})),function(e){e.DEFAULT="DEFAULT",e.ALWAYS="ALWAYS",e.NEVER="NEVER"}(D||(D={})),function(e){e.SCORE="SCORE",e.FIRST_NAME="FIRST_NAME",e.LAST_NAME="LAST_NAME"}(k||(k={})),function(e){e.SUNDAY="SUNDAY",e.MONDAY="MONDAY",e.TUESDAY="TUESDAY",e.WEDNESDAY="WEDNESDAY",e.THURSDAY="THURSDAY",e.FRIDAY="FRIDAY",e.SATURDAY="SATURDAY"}(M||(M={})),function(e){e.OWNER="owner",e.BACKGROUND="background",e.RETARDED_EMPLOYEE="retarded_employee",e.EMPLOYEE="employee",e.RECEPTIONIST="receptionist",e.ADMIN="admin",e.SCOPED_EMPLOYEE="scoped_employee"}(x||(x={})),function(e){e.RETARDED_EMPLOYEE="retarded_employee",e.EMPLOYEE="employee",e.SCOPED_EMPLOYEE="scoped_employee",e.BACKGROUND="background",e.RECEPTIONIST="receptionist",e.ADMIN="admin"}(L||(L={})),function(e){e.ID="ID",e.EMAIL="EMAIL",e.FIRST_NAME="FIRST_NAME",e.LAST_NAME="LAST_NAME",e.POSITION="POSITION"}(F||(F={})),function(e){e.API="api",e.CUSTOMER_PANEL="customer_panel",e.CALENDAR="calendar"}(B||(B={})),function(e){e.PENDING_FOR_SERVICES="PENDING_FOR_SERVICES"}(j||(j={})),function(e){e.BEGINNING_DATE="BEGINNING_DATE",e.END_DATE="END_DATE"}(G||(G={})),function(e){e.PARKING="PARKING",e.CREDIT_CARD="CREDIT_CARD",e.ACCESSIBLE="ACCESSIBLE",e.KIDS="KIDS",e.ANIMALS="ANIMALS",e.WIFI="WIFI"}(V||(V={})),function(e){e.SUNDAY="sunday",e.MONDAY="monday"}(U||(U={})),function(e){e.NOTSPECIFIED="notSpecified",e.FEMALE="female",e.MALE="male"}(H||(H={})),function(e){e.SPV="SPV",e.MPV="MPV"}(z||(z={})),function(e){e.ALL="ALL",e.SELECTED="SELECTED",e.NONE="NONE"}(Y||(Y={})),function(e){e.SERVICE_GRATIS="SERVICE_GRATIS",e.PRODUCT_GRATIS="PRODUCT_GRATIS",e.QUEUE_PRIORITY="QUEUE_PRIORITY",e.OTHER="OTHER",e.DISABLED="DISABLED"}(q||(q={})),function(e){e.EN="en",e.EN_GB="en_GB",e.EN_US="en_US",e.ES_ES="es_ES",e.PL_PL="pl_PL",e.PT="pt",e.PT_BR="pt_BR",e.RO="ro",e.DE="de"}(W||(W={})),function(e){e.ANDROID="android",e.IOS="ios"}(K||(K={})),function(e){e.INCLUDE="INCLUDE",e.EXCLUDE="EXCLUDE"}($||($={})),function(e){e.STANDARD="STANDARD",e.SWITCHED="SWITCHED"}(Z||(Z={})),function(e){e.CREATED_AT="CREATED_AT"}(X||(X={})),function(e){e.SYSTEM_NOTIFICATION="SYSTEM_NOTIFICATION"}(J||(J={})),function(e){e.PL="pl",e.EN="en",e.ES="es",e.PT="pt",e.PT_BR="pt_BR",e.RO="ro",e.DE="de"}(Q||(Q={})),function(e){e.NEW_FEATURES="NEW_FEATURES"}(ee||(ee={})),function(e){e.FIRST="FIRST",e.LAST="LAST"}(te||(te={})),function(e){e.COMPANY="COMPANY",e.PRIVATE_PERSON="PRIVATE_PERSON"}(ne||(ne={})),function(e){e.CREATED_AT="CREATED_AT"}(ae||(ae={})),function(e){e.PAYMENT_PENDING="PAYMENT_PENDING",e.PAYMENT_AWAITING_APPROVAL="PAYMENT_AWAITING_APPROVAL",e.PAYMENT_PAID="PAYMENT_PAID",e.PAYMENT_REFUND_PENDING="PAYMENT_REFUND_PENDING",e.PAYMENT_REFUND_FAILED="PAYMENT_REFUND_FAILED",e.PAYMENT_REFUNDED="PAYMENT_REFUNDED"}(re||(re={})),function(e){e.COURIER="COURIER",e.BRANCH="BRANCH",e.PERSONAL="PERSONAL"}(oe||(oe={})),function(e){e.EPIDEMY="EPIDEMY",e.OTHER="OTHER"}(ie||(ie={})),function(e){e.PENDING="PENDING",e.FINALIZED="FINALIZED",e.CANCELED="CANCELED"}(se||(se={})),function(e){e.EVENT_PREPAYMENT="EVENT_PREPAYMENT",e.EVENT_PREPAYMENT_ONLINE="EVENT_PREPAYMENT_ONLINE",e.EVENT_PAYMENT_ONLINE="EVENT_PAYMENT_ONLINE",e.ORDER_PAYMENT_ONLINE="ORDER_PAYMENT_ONLINE",e.BANK_ACCOUNT_CONFIRMATION="BANK_ACCOUNT_CONFIRMATION",e.ONLINE_PAYMENTS_PAYOUT_COSTS="ONLINE_PAYMENTS_PAYOUT_COSTS",e.ONLINE_PAYMENTS_COMMISSION="ONLINE_PAYMENTS_COMMISSION",e.ONLINE_PAYMENTS_PAYOUT="ONLINE_PAYMENTS_PAYOUT",e.OVERPAYMENT_BALANCE_USAGE="OVERPAYMENT_BALANCE_USAGE",e.GIFT_CARD_PROMISE="GIFT_CARD_PROMISE",e.ONLINE_PRODUCT_SALE_PAYMENT="ONLINE_PRODUCT_SALE_PAYMENT"}(ce||(ce={})),function(e){e.CREATED="CREATED",e.CONFIRMED="CONFIRMED",e.APPROVED="APPROVED",e.CEASED="CEASED",e.LOCKED="LOCKED",e.CANCELED="CANCELED"}(le||(le={})),function(e){e.WEEKLY="WEEKLY",e.DAILY="DAILY"}(ue||(ue={})),function(e){e.REQUESTED="REQUESTED",e.PAID="PAID",e.CANCELED="CANCELED",e.EXPIRED="EXPIRED"}(de||(de={})),function(e){e.NOT_ACTIVATED="NOT_ACTIVATED",e.ACTIVATED="ACTIVATED",e.DEACTIVATING="DEACTIVATING",e.CLOSING="CLOSING",e.DEACTIVATED="DEACTIVATED",e.BLOCKED="BLOCKED"}(me||(me={})),function(e){e.CERTIFICATE="CERTIFICATE",e.CARNET="CARNET"}(pe||(pe={})),function(e){e.PROPORTIONAL="PROPORTIONAL",e.AMOUNT="AMOUNT"}(fe||(fe={})),function(e){e.ESPAGO="ESPAGO",e.EBANX="EBANX",e.TPAY="TPAY"}(Ee||(Ee={})),function(e){e.VISA="VISA",e.MASTERCARD="MASTERCARD",e.MAESTRO="MAESTRO",e.AMERICAN_EXPRESS="AMERICAN_EXPRESS"}(ye||(ye={})),function(e){e.EVENT_PREPAYMENT_REQUIRED="EVENT_PREPAYMENT_REQUIRED",e.EVENT_PREPAYMENT_REQUIRED_ONLINE="EVENT_PREPAYMENT_REQUIRED_ONLINE",e.EVENT_WILL_BE_CANCELED="EVENT_WILL_BE_CANCELED",e.EVENT_WILL_BE_CANCELED_ONLINE="EVENT_WILL_BE_CANCELED_ONLINE",e.EVENT_CANCELED="EVENT_CANCELED",e.EVENT_PREPAYMENT_PAID="EVENT_PREPAYMENT_PAID",e.EVENT_PREPAYMENT_PAID_ONLINE="EVENT_PREPAYMENT_PAID_ONLINE",e.ONLINE_PAYMENT_REQUIRED="ONLINE_PAYMENT_REQUIRED",e.ONLINE_PAYMENT_UNPAID="ONLINE_PAYMENT_UNPAID",e.ONLINE_PAYMENT_PAID="ONLINE_PAYMENT_PAID"}(he||(he={})),function(e){e.LINK="LINK",e.BLIK="BLIK",e.ONLINE_BOOKING="ONLINE_BOOKING"}(ve||(ve={})),function(e){e.CREATED="CREATED",e.IN_PROGRESS="IN_PROGRESS",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(be||(be={})),function(e){e.EVENT_PREPAYMENT="EVENT_PREPAYMENT",e.RECURRING_EVENT_PREPAYMENT="RECURRING_EVENT_PREPAYMENT",e.EVENT_FINALIZATION="EVENT_FINALIZATION",e.ORDER="ORDER",e.ONLINE_ORDER="ONLINE_ORDER",e.ONLINE_PAYMENT_REQUEST="ONLINE_PAYMENT_REQUEST",e.GIFT_CARD_PROMISE="GIFT_CARD_PROMISE",e.GIFT_COUPON_PROMISE="GIFT_COUPON_PROMISE"}(ge||(ge={})),function(e){e.BLIK="BLIK",e.TRANSFER="TRANSFER",e.CARD="CARD",e.GIFT_COUPON="GIFT_COUPON",e.GIFT_CARD="GIFT_CARD",e.OFFLINE_TRANSFER="OFFLINE_TRANSFER"}(Se||(Se={})),function(e){e.VIRGIN="VIRGIN",e.ASSIGNED="ASSIGNED",e.ACTIVE="ACTIVE",e.SUSPENDED="SUSPENDED"}(_e||(_e={})),function(e){e.BRANCH="BRANCH",e.ONLINE_CUSTOMER="ONLINE_CUSTOMER"}(Te||(Te={})),function(e){e.CASH="CASH",e.CREDIT_CARD="CREDIT_CARD",e.TRANSFER="TRANSFER",e.ONLINE="ONLINE",e.CERTIFICATE="CERTIFICATE"}(Ne||(Ne={})),function(e){e.EVERYONE="EVERYONE",e.EVENT_COUNTER="EVENT_COUNTER"}(Oe||(Oe={})),function(e){e.PERCENT="PERCENT",e.AMOUNT="AMOUNT"}(Ce||(Ce={})),function(e){e.PENDING="PENDING",e.COMPLETE="COMPLETE",e.FAILED="FAILED"}(we||(we={})),function(e){e.QUEUED="QUEUED",e.PAID="PAID",e.PAID_CANCELED="PAID_CANCELED",e.REFUNDED="REFUNDED",e.UNPAID="UNPAID",e.CANCELED="CANCELED"}(Ae||(Ae={})),function(e){e.UNAVAILABLE_IN_SERVICES="UNAVAILABLE_IN_SERVICES",e.SERVICES_MISSING="SERVICES_MISSING",e.EXPIRED="EXPIRED",e.INCOMPATIBLE_VAT="INCOMPATIBLE_VAT",e.LOCKED="LOCKED"}(Re||(Re={})),function(e){e.GROSS="GROSS",e.NET="NET"}(Ie||(Ie={})),function(e){e.NONE="NONE",e.SELECT="SELECT",e.DELETE="DELETE"}(Pe||(Pe={})),function(e){e.SUPPLIER="SUPPLIER",e.NUMBER="NUMBER"}(De||(De={})),function(e){e.DRAFT="DRAFT",e.ORDERED="ORDERED",e.CANCELED="CANCELED",e.DELIVERED="DELIVERED"}(ke||(ke={})),function(e){e.ORDER="ORDER",e.CANCEL="CANCEL",e.DELIVER="DELIVER"}(Me||(Me={})),function(e){e.NAME="NAME"}(xe||(xe={})),function(e){e.PACK="PACK",e.PRODUCT_UNIT="PRODUCT_UNIT"}(Le||(Le={})),function(e){e.UNIVERSAL="UNIVERSAL",e.STOCK="STOCK",e.SUPPLY="SUPPLY"}(Fe||(Fe={})),function(e){e.PACK="PACK",e.GRAM="GRAM",e.OUNCE="OUNCE",e.MILILITER="MILILITER",e.ITEM="ITEM",e.AMPOULE="AMPOULE",e.SERVICE_UNIT="SERVICE_UNIT",e.SINGLE_UNIT="SINGLE_UNIT"}(Be||(Be={})),function(e){e.CREATED_EVENT="CREATED_EVENT",e.CREATED_EVENT_ASSIGNED_TO_ME="CREATED_EVENT_ASSIGNED_TO_ME",e.CREATED_EVENT_ONLINE="CREATED_EVENT_ONLINE",e.CANCELED_EVENT="CANCELED_EVENT",e.CANCELED_EVENT_ASSIGNED_TO_ME="CANCELED_EVENT_ASSIGNED_TO_ME",e.CANCELED_EVENT_BOOKED_ONLINE="CANCELED_EVENT_BOOKED_ONLINE"}(je||(je={})),function(e){e.ANDROID="ANDROID",e.IOS="IOS"}(Ge||(Ge={})),function(e){e.PROCESSING="PROCESSING",e.SUCCESSED="SUCCESSED",e.CONFLICT="CONFLICT",e.FAILED="FAILED",e.INITIAL="INITIAL"}(Ve||(Ve={})),function(e){e.OUT="OUT",e.USE="USE",e.MANUAL_USE="MANUAL_USE",e.USE_FORMULA="USE_FORMULA",e.INSIDE_DELIVERY_CORRECTION="INSIDE_DELIVERY_CORRECTION",e.INSIDE_DELIVERY_REMOVAL="INSIDE_DELIVERY_REMOVAL",e.INSIDE_PRODUCT_INVENTORY_CORRECTION="INSIDE_PRODUCT_INVENTORY_CORRECTION",e.INSIDE_PRODUCT_REMOVAL="INSIDE_PRODUCT_REMOVAL",e.ONLINE_SALE="ONLINE_SALE"}(Ue||(Ue={})),function(e){e.GROSS_SUM="GROSS_SUM",e.SOLD_AT="SOLD_AT"}(He||(He={})),function(e){e.ENABLED="ENABLED",e.DISABLED_VISIBLE="DISABLED_VISIBLE",e.DISABLED_HIDDEN="DISABLED_HIDDEN"}(ze||(ze={})),function(e){e.HIGHEST="HIGHEST",e.HIGH="HIGH",e.NORMAL="NORMAL",e.LOW="LOW",e.LOWEST="LOWEST"}(Ye||(Ye={})),function(e){e.PENDING_EVENTS="PENDING_EVENTS"}(qe||(qe={})),function(e){e.ID="ID",e.NAME="NAME",e.POPULARITY="POPULARITY",e.DURATION="DURATION",e.GROSS_PRICE="GROSS_PRICE",e.VAT="VAT",e.CATEGORY="CATEGORY"}(We||(We={})),function(e){e.ASC="ASC",e.DESC="DESC"}(Ke||(Ke={})),function(e){e.OPEN_PAST="OPEN_PAST",e.OPEN_FUTURE="OPEN_FUTURE",e.DAYOFF="DAYOFF",e.HOLIDAY="HOLIDAY",e.VACATION="VACATION",e.HANGOVER="HANGOVER",e.DISEASE="DISEASE",e.ALLDAY_TRAINING="ALLDAY_TRAINING",e.GAP="GAP",e.TRAINING="TRAINING",e.OTHER="OTHER"}($e||($e={})),function(e){e.DAY="DAY",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR"}(Ze||(Ze={})),function(e){e.TRANSFER="TRANSFER",e.TRANSFER_MANUAL="TRANSFER_MANUAL",e.BLIK="BLIK",e.CARD="CARD",e.PAYPAL="PAYPAL",e.ALIOR="ALIOR"}(Xe||(Xe={})),function(e){e.MONTH="MONTH",e.QUARTER="QUARTER",e.YEAR="YEAR",e.CUSTOM="CUSTOM"}(Je||(Je={})),function(e){e.TOO_MANY_EMPLOYEES="TOO_MANY_EMPLOYEES",e.UNSUPPORTED_EXTENSION="UNSUPPORTED_EXTENSION",e.THE_SAME_PLAN="THE_SAME_PLAN"}(Qe||(Qe={})),function(e){e.CUSTOMER_ARRIVED="CUSTOMER_ARRIVED",e.RESERVED_ONLINE="RESERVED_ONLINE",e.FIRST_APPOINTMENT="FIRST_APPOINTMENT",e.STANDARD="STANDARD",e.ALREADY_PAID="ALREADY_PAID",e.MOMENT="MOMENT",e.REFUND="REFUND",e.BOOKSY="BOOKSY"}(et||(et={})),function(e){e.ONE_WEEK="ONE_WEEK",e.TWO_WEEKS="TWO_WEEKS"}(tt||(tt={})),function(e){e.INACTIVE="INACTIVE",e.DAYOFF="DAYOFF",e.HOLIDAY="HOLIDAY",e.VACATION="VACATION",e.HANGOVER="HANGOVER",e.DISEASE="DISEASE",e.ALLDAY_TRAINING="ALLDAY_TRAINING",e.GAP="GAP",e.TRAINING="TRAINING",e.OTHER="OTHER"}(nt||(nt={})),function(e){e.OPEN="OPEN",e.CLOSED="CLOSED"}(at||(at={})),function(e){e.INACTIVE="INACTIVE",e.DAYOFF="DAYOFF",e.HOLIDAY="HOLIDAY",e.VACATION="VACATION",e.GAP="GAP",e.OTHER="OTHER"}(rt||(rt={})),function(e){e.TEST="TEST",e.PRODUCTION="PRODUCTION"}(ot||(ot={})),function(e){e.OFF="OFF",e.INITIAL="INITIAL",e.TEST="TEST",e.PRODUCTION="PRODUCTION"}(it||(it={})),function(e){e.NO_RECEIPTS="NO_RECEIPTS",e.API_ERROR="API_ERROR"}(st||(st={})),function(e){e.CREATED="CREATED",e.SYNC_ERROR="SYNC_ERROR",e.PENDING="PENDING",e.WORKING="WORKING",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.EXPIRED="EXPIRED",e.DELETED="DELETED",e.ERROR="ERROR"}(ct||(ct={})),function(e){e.CREATED="CREATED",e.SYNC_ERROR="SYNC_ERROR",e.PENDING="PENDING",e.WORKING="WORKING",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.EXPIRED="EXPIRED",e.DELETED="DELETED",e.ERROR="ERROR"}(lt||(lt={})),function(e){e.CASH="CASH",e.CASHLESS="CASHLESS",e.CREDIT_CARD="CREDIT_CARD",e.ONLINE="ONLINE",e.DEBIT_CARD="DEBIT_CARD",e.PREPAID_CARD="PREPAID_CARD",e.NONE="NONE"}(ut||(ut={})),function(e){e.CREATED="CREATED",e.ACTIVE="ACTIVE",e.FINISHED="FINISHED",e.SYNC_ERROR="SYNC_ERROR"}(dt||(dt={})),function(e){e.NORMAL="NORMAL",e.REDUCED_1="REDUCED_1",e.SPECIAL_RATE_1="SPECIAL_RATE_1",e.SPECIAL_RATE_2="SPECIAL_RATE_2",e.NULL="NULL",e.EXEMPT="EXEMPT"}(mt||(mt={})),function(e){e.YEARS="YEARS",e.MONTHS="MONTHS",e.DAYS="DAYS",e.CUSTOM_DATETIME="CUSTOM_DATETIME",e.UNCONSTRAINED="UNCONSTRAINED"}(pt||(pt={})),function(e){e.ACTIVE="ACTIVE",e.DELETED="DELETED",e.EXPIRED="EXPIRED"}(ft||(ft={}))},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5),r=n.n(a),o=n(0),i=function(e){var t=e.onItemSearch,n=e.placeholder,a=e.className,i=e.autoFocus,s=e.reRenderFocus,c=e.disabled,l=r()({"e2e-search-bar":!0},a);return o.createElement("input",{ref:function(e){return e&&s&&e.focus()},type:"text",placeholder:n,onChange:function(e){return t(e.target.value)},className:l,autoFocus:i,disabled:c})}},21:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.active="active",e.balanceCredit="balance-credit",e.balanceDebit="balance-debit",e.balanceLock="balance-lock",e.balancePayout="balance-payout",e.bankIcon="bank-icon",e.bell="bell",e.blackWeek="black_week",e.blikExplainer="blik-explainer",e.blikLogoSmall="blik-logo-small",e.blikLogo="blik-logo",e.blikPhone="blik-phone",e.blockedEvent="blocked-event",e.booksyIcon="booksy-icon",e.booksyReservationOff="booksy-reservation-off",e.callForwardingBusy="call_forwarding_busy",e.callForwardingNotResponding="call_forwarding_not_responding",e.callForwardingTurnedOff="call_forwarding_turned_off",e.check="check",e.chevronDown="chevron-down",e.chevronLeft="chevron-left",e.chevronRight="chevron-right",e.chevronUp="chevron-up",e.christmasPresents="christmas_presents",e.failureClouds="failure-clouds",e.fetchingError="fetching-error",e.flag="flag",e.giftCard="gift-card",e.greenCheck="green-check",e.inactive="inactive",e.info="info",e.inventoryProducts="inventory_products",e.momentIcon="moment-icon",e.momentPayLock="moment-pay-lock",e.momentPay="moment-pay",e.moneySack="money-sack",e.negativeStatus="negative-status",e.newOrder="new_order",e.notificationLock="notification-lock",e.onlineGiftCardsLock="online-gift-cards-lock",e.onlinePayments="online-payments",e.orderDrafts="order_drafts",e.orderHistory="order_history",e.paymentAlior="payment-alior",e.paymentBlik="payment-blik",e.paymentCard="payment-card",e.paymentPaypal="payment-paypal",e.paymentTransfer="payment-transfer",e.planBasic="plan-basic",e.planCustom="plan-custom",e.planMedium="plan-medium",e.planPro="plan-pro",e.planSolo="plan-solo",e.plus="plus",e.positiveStatus="positive-status",e.prepaymentPaid="prepayment-paid",e.prepaymentQueued="prepayment-queued",e.prepaymentsDisabled="prepayments-disabled",e.prepaymentsIcon="prepayments-icon",e.prepaymentsLogo="prepayments-logo",e.recurringEvent="recurring-event",e.safeBranchTeaser="safe-branch-teaser",e.save="save",e.statusActive="status-active",e.statusFailed="status-failed",e.statusPending="status-pending",e.successClouds="success-clouds",e.suppliers="suppliers",e.transactionIcon="transaction-icon",e.transactionList="transaction-list",e.wallet="wallet",e.whiteCheck="white-check",e.x="x"}(a||(a={}));var r={active:{width:12,height:12,viewBox:"0 0 12 12",content:'<circle cx="6" cy="6" r="6" fill="#02d48e"/><path d="M3 6l2 2L9 4" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>'},"balance-credit":{width:64,height:60,viewBox:"0 0 64 60",content:'<circle fill="#EDEDED" cx="38.5" cy="34.5" r="25.5"/><circle fill="#FFF" stroke="#00CB6F" stroke-width="2" cx="26.5" cy="26.5" r="25.5"/><path fill="#00CB6F" d="M34.4 17.3H23.2c-.6 0-1 .4-1 1s.4 1 1 1h8.7L28 23.1 17 33.6c-.4.4-.4 1 0 1.4.2.2.5.3.7.3.2 0 .5-.1.7-.3l11-10.6 4-3.8v8.8c0 .6.4 1 1 1s1-.4 1-1V18.3c0-.6-.5-1-1-1z"/>'},"balance-debit":{width:64,height:60,viewBox:"0 0 64 60",content:'<circle fill="#EDEDED" cx="38.5" cy="34.5" r="25.5"/><circle stroke="#FF6A6A" fill="#fff" stroke-width="2" cx="26.5" cy="26.5" r="25.5"/><path fill="#FF6A6A" d="M36 19.4c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0l-11 10.6-4 3.8v-8.8c0-.6-.4-1-1-1s-1 .4-1 1v11.2c0 .6.4 1 1 1h11.2c.6 0 1-.4 1-1s-.4-1-1-1h-8.7L25 30l11-10.6z"/>'},"balance-lock":{width:60,height:60,viewBox:"0 0 60 60",content:'<defs><clipPath id="clip-path"><path id="Path_2775" d="M1892.217 1695.309a35.821 35.821 0 00-8.417-13.217l-.007-.007q-.388-.406-.785-.805l-.032-.032-1.217-1.247h-5.414l-2.049 2.091a39.761 39.761 0 00-6.522 8.839 21.954 21.954 0 00-2.566 7.3 7.342 7.342 0 004.02 7.98 16.249 16.249 0 003.309 1.208 28.642 28.642 0 0010.422.494 16.483 16.483 0 006.131-1.8 6.95 6.95 0 003.758-5.233 11.715 11.715 0 00-.631-5.571z" data-name="Path 2775" transform="translate(-1447.813 -878.262)" fill="#c9c2bb"/></clipPath><style>.clx-2{fill:#aaa49f}.clx-10,.clx-7{fill:none}.clx-7{stroke:#707070;stroke-width:3px}.clx-9{stroke:none}</style></defs><g id="balance" transform="translate(-401.937 -782.123)"><path id="Path_2716" d="M1933.322 1627.05l2.172-2.948h-.087l.026-.034c-1.72-1.137-11.553-1.111-13.012.023l.348.478 2.8 4.43h6.317l1.039-1.41a3.9 3.9 0 00.397-.539z" class="clx-2" data-name="Path 2716" transform="translate(-1497.736 -828.81)"/><path id="Path_2717" d="M1892.217 1695.309a35.821 35.821 0 00-8.417-13.217l-.007-.007q-.388-.406-.785-.805l-.032-.032-1.217-1.247h-5.414l-2.049 2.091a39.761 39.761 0 00-6.522 8.839 21.954 21.954 0 00-2.566 7.3 7.342 7.342 0 004.02 7.98 16.249 16.249 0 003.309 1.208 28.642 28.642 0 0010.422.494 16.483 16.483 0 006.131-1.8 6.95 6.95 0 003.758-5.233 11.715 11.715 0 00-.631-5.571z" data-name="Path 2717" transform="translate(-1447.813 -878.262)" fill="#96918c"/><g id="Mask_Group_5" data-name="Mask Group 5" clip-path="url(#clip-path)"><path id="Path_2774" d="M1892.217 1695.309a35.821 35.821 0 00-8.417-13.217l-.007-.007q-.388-.406-.785-.805l-.032-.032-1.217-1.247h-5.414l-2.049 2.091a39.761 39.761 0 00-6.522 8.839 21.954 21.954 0 00-2.566 7.3 7.342 7.342 0 004.02 7.98 16.249 16.249 0 003.309 1.208 28.642 28.642 0 0010.422.494 16.483 16.483 0 006.131-1.8 6.95 6.95 0 003.758-5.233 11.715 11.715 0 00-.631-5.571z" class="clx-2" data-name="Path 2774" transform="translate(-1451.813 -882.262)"/></g><path id="Path_2718" d="M1948.625 1748.725c-1.557-.437-2.912-1.093-2.909-3s1.119-2.826 2.908-3.057l.031-.285.028-.279h.78l.055.552a2.983 2.983 0 012.817 2.7 11.117 11.117 0 01-1.212.171c-.094 0-.244-.214-.29-.355a1.569 1.569 0 00-1.308-1.263v3.626c.253.075.544.158.833.248a2.945 2.945 0 012.251 3.106 3.17 3.17 0 01-2.67 3.015c-.141.025-.279.07-.452.114v1.22h-.834a6.675 6.675 0 01.006-.756c.043-.385-.1-.531-.49-.6a3.016 3.016 0 01-2.615-2.555c-.035-.174-.036-.354-.059-.586a9.579 9.579 0 011.108-.209c.1-.009.287.177.316.3a2.458 2.458 0 00.809 1.524 7.562 7.562 0 00.9.5zm.89.259v3.75a1.86 1.86 0 001.673-1.91 1.765 1.765 0 00-1.673-1.84zm-.884-5.059a1.581 1.581 0 00-1.521 1.555 1.636 1.636 0 001.521 1.812z" data-name="Path 2718" transform="translate(-1517.836 -932.362)" fill="#faf7f4"/><g id="Group_2005" data-name="Group 2005" transform="translate(401.937 782.123)" opacity=".542"><g id="Ellipse_334" class="clx-7" data-name="Ellipse 334"><circle cx="30" cy="30" r="30" class="clx-9"/><circle cx="30" cy="30" r="28.5" class="clx-10"/></g><path id="Line_509" d="M0 0l40.755 40.755" class="clx-7" data-name="Line 509" transform="translate(9.708 10.755)"/></g><g id="Rectangle_2662" data-name="Rectangle 2662" transform="translate(427 800)" stroke="#c9c2bb" fill="#96918c"><rect width="8" height="2" class="clx-9" rx="1"/><rect width="7" height="1" x=".5" y=".5" class="clx-10" rx=".5"/></g></g>'},"balance-payout":{width:64,height:60,viewBox:"0 0 64 60",content:'<circle fill="#EDEDED" cx="38.5" cy="34.5" r="25.5"/><circle fill="#fff" stroke="#FDAB29" stroke-width="2.5" cx="26.5" cy="26.5" r="25.2"/><path fill="#FDAB29" d="M41.5 26.1l-7.9-7.9c-.5-.5-1.3-.5-1.8 0s-.5 1.3 0 1.8l.9.9 4.7 4.7-4.7-.1-12.3-.2-4.8-.1 5.1-4.6.9-.8c.5-.5.6-1.3.1-1.8s-1.3-.6-1.8-.1l-8.3 7.5c-.5.5-.6 1.3-.1 1.8l7.5 8.3c.2.3.6.4.9.4.3 0 .6-.1.8-.3.5-.5.6-1.3.1-1.8L20 33l-4.7-5.2 5 .1 12.4.1 5.1.1-5.1 5.1-.9.9c-.5.5-.5 1.3 0 1.8.2.2.6.4.9.4s.6-.1.9-.4l7.9-7.9c.5-.6.5-1.4 0-1.9z"/>'},"bank-icon":{width:36,height:36,viewBox:"0 0 36 36",content:'<circle fill="#A5D3EA" cx="18" cy="18" r="18"/><path d="M17.54 8.212a1 1 0 01.894 0l5.764 2.882a1 1 0 01-.447 1.894H12.223a1 1 0 01-.447-1.894z" fill="#ebf9ff"/><path fill="#EBF9FF" d="M13.787 15.188c.5 0 .9.4.9.9v3.9c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-3.9c0-.5.4-.9.9-.9zM17.887 15.188c.5 0 .9.4.9.9v3.9c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-3.9c0-.5.4-.9.9-.9zM21.987 15.188c.5 0 .9.4.9.9v3.9c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-3.9c0-.5.4-.9.9-.9zM11.187 23.288c0-.5.4-.9.9-.9h12.1c.5 0 .9.4.9.9s-.4.9-.9.9h-12c-.6 0-1-.4-1-.9z"/>'},bell:{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="#707070" stroke-linecap="round" stroke-linejoin="round"><path d="M18.238 8.237a6.382 6.382 0 10-12.764 0c0 7.446-3.191 9.573-3.191 9.573h19.146s-3.191-2.127-3.191-9.573M13.696 22.065a2.127 2.127 0 01-3.68 0"/></g>'},black_week:{width:94,height:117,viewBox:"0 0 94 117",content:'<style>.st1{fill:#f15f4b}.st2{fill:#f1513b}.st3{enable-background:new}.st4{fill:#fff}</style><ellipse cx="47.42" cy="106.18" rx="46.49" ry="10.64" id="Kształt_24"/><path fill="#e03d27" d="M83.65 17.46L12.44 17.46 10.64 46.06 85.45 46.06z" id="Kształt_19"/><path class="st1" d="M11.98 17.35L11.98 27.49 14.12 27.49 14.17 19.82z" id="Kształt_21"/><path class="st2" d="M10.08 22.69L10.08 27.39 14.99 27.39 14.99 19.92z" id="Kształt_20"/><path class="st1" d="M81.93 19.82L81.98 27.49 84.11 27.49 84.11 17.35z" id="Kształt_21_1_"/><path class="st2" d="M81.11 19.92L81.11 27.39 86.01 27.39 86.01 22.69z" id="Kształt_20_1_"/><g id="Kształt_19__x2B__Kształt_23_2_" class="st3"><defs><path id="SVGID_1_" class="st3" d="M86.57 22.88L9.78 22.88 7.72 107.61 88.37 107.61z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><g clip-path="url(#SVGID_2_)"><image width="82" height="86" id="Kształt_19__x2B__Kształt_23_xA0_Image" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABWCAIAAADT31baAAAACXBIWXMAAAsSAAALEgHS3X78AAAA GXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlhJREFUeNrs29tugzAMBuAM9e32 EHv/y00l5Mx+qDR1W+mAEBLby0XVVXTSJzuOQ+jL+9urEjXGUV0/OiVtBA+5PLZ3eBHGTkmFII89 h/qfLaSYIcnFsZ37eiuGPRUzL4/t7P1fMtjozLyTx4YZcnFsa3980MkIdZLH/hVqAWyPFiXKY1vz 8OOO+ax+FGru7IVQs2ajLUtJGBvNyaMCzp2NUI9JGBu57ezzSziyUcm+d+AC2CH82GzJYJthzVUd t/Re6E/4slHJrF15LSO20VivhbGdux13SGJP6T1s+kbHJL3HURgbDdmW9GbBjnHlQs2IjcQe+n1f pcxGnFMSxsaUXtF782LvndKU2RlTmjJb97unNFn2oFUM+f+GFBv7yowyRpMN8PJ9b6ZstJ9I7+MG BTaWq+zSTY2Noq2vWzdYxNllzG2zb+bsJZoUu6S5VXZhM8alPXNUff/84I4dG2tVmRrWMHvqSfoT zC2xg1d6w/19Fmz024f2nhTY1m69uU+fbYY/nzzgxZ7uDen7R9sFsLEs635ariqNGuzbRjKlinPr dDaKNubzOKqq41w2Kra1qoFxFrtqAavExu5CV57Mp7MR4UFXn8znsit1I/XYSOmDTjDosJtM7MJs aw48vqDAbjuxy7DbaL9OZIMK8EFnkUTYcT6Ua6kVKc+mUL0OZU+bR73y4W0ubLJB3stOc5BjVMTH evb8gzLiQd7IplmuM9jTrwZNm7uoYmzv58YrKXbjsthdG73j8XS6bFalax07+JyHtAmysSAb086d zfJsprX6+fgUYACv33yoyRazIwAAAABJRU5ErkJggg==" transform="translate(7 22)" overflow="visible"/></g></g><path class="st4" d="M68.57,22.81c0.04-0.5,0.06-0.99,0.06-1.5c0-11.29-9.16-20.45-20.45-20.45c-10.88,0-19.77,8.49-20.41,19.21 l-0.04-0.77v20.63c0,0.02-0.01,0.04-0.01,0.06s0.01,0.04,0.01,0.06v0.01h0c0.04,1.08,0.91,1.94,2,1.94c1.08,0,1.96-0.86,2-1.94 h0.02V19.89l0.03,0.77c0.52-8.61,7.66-15.44,16.41-15.44c9.08,0,16.44,7.36,16.44,16.44c0,0.41-0.02,0.81-0.05,1.21v17.19h0.04 c0.04,1.06,0.91,1.92,1.98,1.92c1.1,0,1.99-0.89,1.99-1.99c0-0.08-0.01-0.16-0.02-0.24V22.81z" id="Kształt_22"/><path class="st4" d="M33.52,65.33v-1.31c0-1.7-0.53-2.92-1.88-3.45c1.13-0.53,1.63-1.59,1.63-3.24v-0.57c0-2.48-1.13-3.7-3.75-3.7 h-3.81v16.08h3.98C32.21,69.15,33.52,67.81,33.52,65.33z M28.24,55.36h1.22c0.9,0,1.29,0.51,1.29,1.65v0.9 c0,1.29-0.57,1.7-1.52,1.7h-0.99V55.36z M28.24,61.91h1.13c1.15,0,1.63,0.46,1.63,1.95v1.4c0,1.19-0.46,1.59-1.31,1.59h-1.45 V61.91z M41.72,66.85h-4.16V53.06h-2.53v16.08h6.69V66.85z M48.43,53.06h-3.7l-2.57,16.08h2.32l0.44-2.92h3.1l0.44,2.92h2.55 L48.43,53.06z M45.24,64.05l1.22-8.13l1.22,8.13H45.24z M55.74,52.88c-2.48,0-3.77,1.47-3.77,4.04v8.36 c0,2.57,1.29,4.04,3.77,4.04s3.77-1.47,3.77-4.04v-2.14h-2.39v2.3c0,1.15-0.51,1.56-1.31,1.56s-1.31-0.41-1.31-1.56v-8.69 c0-1.15,0.51-1.59,1.31-1.59s1.31,0.44,1.31,1.59v1.72h2.39v-1.56C59.51,54.35,58.22,52.88,55.74,52.88z M69.41,53.06h-2.53 l-3.31,7.01v-7.01h-2.53v16.08h2.53v-4.94l0.78-1.47l2.46,6.41h2.6l-3.52-8.92L69.41,53.06z M34.03,87.59l-1.26-12.78h-2.44 l-1.22,12.68l-1.36-12.68H25.3l1.79,16.08h3.47l0.92-8.57l0.92,8.57h3.35l1.79-16.08h-2.21L34.03,87.59z M40.53,90.89h6.89v-2.3 h-4.37v-4.71h3.47v-2.3h-3.47v-4.48h4.37v-2.3h-6.89V90.89z M50.71,90.89h6.89v-2.3h-4.37v-4.71h3.47v-2.3h-3.47v-4.48h4.37v-2.3 h-6.89V90.89z M66.72,74.81l-3.31,7.01v-7.01h-2.53v16.08h2.53v-4.94l0.78-1.47l2.46,6.41h2.6l-3.52-8.92l3.52-7.17H66.72z" id="black_week"/>'},"blik-explainer":{width:1684,height:631,viewBox:"0 0 1684 631",content:'<g id="Group_2228" transform="translate(11522 -10692)"><rect id="Rectangle_2388" width="1684" height="631" rx="6" transform="translate(-11522 10692)" fill="#fff"/><g id="Group_2221" transform="translate(-10851 8613)"><g id="Group_2187" transform="translate(-812 1129)" opacity="0.3"><path id="Path_2603" d="M434.5,1210.1v45.306A18.6,18.6,0,0,1,415.9,1274H331.6a18.6,18.6,0,0,1-18.6-18.595V1103.584" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_590" y2="1.099" transform="translate(434.5 1201)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_591" x2="30.5" transform="translate(358.5 1076.5)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2604" d="M313,1093.812v-18.217A18.6,18.6,0,0,1,331.6,1057H415.9a18.6,18.6,0,0,1,18.6,18.595v118.869" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><circle id="Ellipse_112" cx="8.25" cy="8.25" r="8.25" transform="translate(365.5 1247)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></g><g id="Rectangle_2369" transform="translate(-485 2227)" fill="none" stroke="#2f2f2f" stroke-width="4" opacity="0.3"><rect width="40.162" height="40.162" rx="5" stroke="none"/><rect x="2" y="2" width="36.162" height="36.162" rx="3" fill="none"/></g><g id="Rectangle_2370" transform="translate(-485 2325.338)" fill="none" stroke="#2f2f2f" stroke-width="4" opacity="0.3"><rect width="40.162" height="40.162" rx="5" stroke="none"/><rect x="2" y="2" width="36.162" height="36.162" rx="3" fill="none"/></g><g id="Rectangle_2371" transform="translate(-430.309 2227)" fill="none" stroke="#2f2f2f" stroke-width="4" opacity="0.3"><rect width="40.162" height="40.162" rx="5" stroke="none"/><rect x="2" y="2" width="36.162" height="36.162" rx="3" fill="none"/></g><g id="Rectangle_2372" transform="translate(-430.309 2275.134)" fill="none" stroke="#2f2f2f" stroke-width="4" opacity="0.3"><rect width="40.162" height="40.162" rx="5" stroke="none"/><rect x="2" y="2" width="36.162" height="36.162" rx="3" fill="none"/></g><g id="Group_2188" transform="translate(-484.311 2274.82)"><g id="Group_2181" transform="translate(0 0)"><g id="Group_2178" transform="translate(0)"><rect id="Rectangle_2363" width="41" height="41.32" rx="5" fill="#535353"/><path id="Subtraction_1" d="M9.8,29.09a9.794,9.794,0,0,1-9.8-9.8c0-.21.007-.423.02-.632H0V0H5.375V10.54A9.8,9.8,0,1,1,9.8,29.09Zm0-14.229a4.427,4.427,0,1,0,3.13,1.3A4.4,4.4,0,0,0,9.8,14.861Z" transform="translate(10.698 7.171)" fill="#fff"/><ellipse id="Ellipse_116" cx="4.585" cy="4.585" rx="4.585" ry="4.585" transform="translate(21.22 5.375)" fill="#ff6a6a"/></g></g></g></g><g id="Group_2222" transform="translate(-10516 8613)"><g id="Group_2180" transform="translate(63 398)" opacity="0.3"><path id="Path_2605" d="M630.077,1224H502.333A12.333,12.333,0,0,1,490,1211.667V1083.8" transform="translate(-674 740)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2606" d="M704.5,1014h63.167A12.333,12.333,0,0,1,780,1026.333v185.334A12.333,12.333,0,0,1,767.667,1224H641.8" transform="translate(-674 740)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_592" x2="2.721" transform="translate(19.5 1754)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2607" d="M490,1061.808v-35.475A12.333,12.333,0,0,1,502.333,1014H685.5" transform="translate(-674 740)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_593" y2="36" transform="translate(-37.5 1976.5)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_594" x2="57" transform="translate(-66.5 2012.5)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2608" d="M500,1194H780" transform="translate(-674 740)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><circle id="Ellipse_113" cx="6" cy="6" r="6" transform="translate(-43 1942)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></g><text id="_602_2___" transform="translate(-66 2270.542)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="1" font-size="49" font-family="OpenSans, Open Sans"><tspan x="0" y="0">602 2_ _</tspan></text></g><g id="Group_2223" transform="translate(-10406 8610)"><g id="Group_2190" opacity="0.3"><g id="Group_2189" transform="translate(-51 1129)"><path id="Path_2603-2" d="M434.5,1210.1v45.306A18.6,18.6,0,0,1,415.9,1274H331.6a18.6,18.6,0,0,1-18.6-18.595V1103.584" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_590-2" y2="1.099" transform="translate(434.5 1201)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_591-2" x2="30.5" transform="translate(358.5 1076.5)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2604-2" d="M313,1093.812v-18.217A18.6,18.6,0,0,1,331.6,1057H415.9a18.6,18.6,0,0,1,18.6,18.595v118.869" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><circle id="Ellipse_112-2" cx="8.25" cy="8.25" r="8.25" transform="translate(365.5 1247)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></g></g><text id="zatwierdź" transform="translate(279 2290)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="19" font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="0">zatwierdź</tspan></text></g><g id="Group_2224" transform="translate(-11269 8610)"><g id="Group_2190-2" opacity="0.3"><g id="Group_2189-2" transform="translate(-51 1129)"><path id="Path_2603-3" d="M434.5,1210.1v45.306A18.6,18.6,0,0,1,415.9,1274H331.6a18.6,18.6,0,0,1-18.6-18.595V1103.584" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_590-3" y2="1.099" transform="translate(434.5 1201)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line id="Line_591-3" x2="30.5" transform="translate(358.5 1076.5)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path id="Path_2604-3" d="M313,1093.812v-18.217A18.6,18.6,0,0,1,331.6,1057H415.9a18.6,18.6,0,0,1,18.6,18.595v118.869" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><circle id="Ellipse_112-3" cx="8.25" cy="8.25" r="8.25" transform="translate(365.5 1247)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></g></g></g><g id="Group_2225" transform="translate(-9827.773 8544)" opacity="0.3"><g id="Group_2196" ><path id="Path_2609" d="M-438.227,2289.129h38.785" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-width="4"/><path id="Path_2612" d="M-418.762,2269.329l19.695,19.773-19.695,19.5" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/></g></g><g id="Group_2226" transform="translate(-10326.773 8544)" opacity="0.3"><g id="Group_2196-2" ><path id="Path_2609-2" d="M-438.227,2289.129h38.785" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-width="4"/><path id="Path_2612-2" d="M-418.762,2269.329l19.695,19.773-19.695,19.5" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/></g></g><g id="Group_2227" transform="translate(-10684.773 8544)" opacity="0.3"><g id="Group_2196-3" ><path id="Path_2609-3" d="M-438.227,2289.129h38.785" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-width="4"/><path id="Path_2612-3" d="M-418.762,2269.329l19.695,19.773-19.695,19.5" transform="translate(0 72)" fill="none" stroke="#2f2f2f" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/></g></g><text id="Poproś_klienta_aby_wszedł_do_aplikacji_swojego_banku_i_wygenerował_kod_BLIK" transform="translate(-11396 11102)" fill="#2f2f2f" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="27" font-family="OpenSans, Open Sans"><tspan x="0" y="0">Poproś klienta aby</tspan><tspan x="0" y="37">wszedł do aplikacji</tspan><tspan x="0" y="74">swojego banku</tspan><tspan x="0" y="111">i wygenerował kod</tspan><tspan font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="148">BLIK</tspan></tspan></text><text id="Poproś_klienta_o_podanie_kodu_BLIK_wyświetlonego_na_jego_urządzeniu" transform="translate(-11044.933 11102)" fill="#2f2f2f" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="27" font-family="OpenSans, Open Sans"><tspan x="0" y="0">Poproś klienta </tspan><tspan x="0" y="37">o podanie kodu </tspan><tspan y="37" font-family="OpenSans-Semibold, Open Sans" font-weight="600">BLIK</tspan><tspan x="0" y="74">wyświetlonego na jego </tspan><tspan x="0" y="111">urządzeniu</tspan></text><text id="Otrzymany_kod_BLIK_wpisz_w_okienku_i_zatwierdź" transform="translate(-10651.152 11102)" fill="#2f2f2f" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="27" font-family="OpenSans, Open Sans"><tspan x="0" y="0">Otrzymany kod </tspan><tspan y="0" font-family="OpenSans-Semibold, Open Sans" font-weight="600">BLIK</tspan><tspan x="0" y="37">wpisz w okienku i zatwierdź</tspan></text><text id="Zaczekaj_aż_klient_potwierdzi_transakcję_na_swoim_telefonie" transform="translate(-10202.62 11102)" fill="#2f2f2f" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="27" font-family="OpenSans, Open Sans"><tspan x="0" y="0">Zaczekaj aż klient</tspan><tspan x="0" y="37">potwierdzi transakcję</tspan><tspan x="0" y="74">na swoim telefonie</tspan></text><text id="_602_206" transform="translate(-10990 10914)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="1" font-size="24" font-family="OpenSans-Bold, Open Sans" font-weight="700"><tspan x="0" y="0">602 206</tspan></text><text id="KOD_BLIK" transform="translate(-10989 10881)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="1" font-size="19" font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="0">KOD BLIK</tspan></text><text id="Wpisz_kod_BLIK" transform="translate(-10566 10825)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="1" font-size="19" font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="0">Wpisz kod BLIK</tspan></text><text id="_20_sek." transform="translate(-10109 10941)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="1" font-size="15" font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="0">20 sek.</tspan></text><g id="Rectangle_2389" transform="translate(-10134 10878)" fill="none" stroke="#535353" stroke-width="2.4"><rect width="103" height="33" rx="5" stroke="none"/><rect x="1.2" y="1.2" width="100.6" height="30.6" rx="3.8" fill="none"/></g></g>'},"blik-logo-small":{width:98.63,height:99.4,viewBox:"0 0 98.63 99.4",content:'<rect width="98.63" height="99.4" rx="13" fill="#535353"/><path d="M49.31 87.07a23.87 23.87 0 01-23.88-23.89c0-.51.02-1.03.05-1.54h-.05V16.18h13.1v25.69a23.9 23.9 0 1110.78 45.2zm0-34.67a10.79 10.79 0 107.63 3.16 10.72 10.72 0 00-7.63-3.16z" fill="#fff"/><circle cx="11.17" cy="11.17" r="11.17" transform="translate(50.86 13.1)" fill="#ff6a6a"/>'},"blik-logo":{width:58.208,height:30.692,viewBox:"0 0 58.208 30.692",content:'<defs><clipPath clipPathUnits="userSpaceOnUse" id="a"><path d="M2805.83 0H254.164C113.793 0 0 113.801 0 254.172V1355.83C0 1496.21 113.793 1610 254.164 1610H2805.83c140.37 0 254.17-113.79 254.17-254.17V254.172C3060 113.801 2946.2 0 2805.83 0z"/></clipPath><clipPath clipPathUnits="userSpaceOnUse" id="c"><path d="M1118.75 1241.67c0-102.18-82.83-185-185-185-102.172 0-185 82.82-185 185 0 102.17 82.828 185 185 185 102.17 0 185-82.83 185-185z"/></clipPath><radialGradient fx="-.012" fy="-.003" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="scale(606.529 -606.529) rotate(40 3.9 .59)" spreadMethod="pad" id="d"><stop offset="0" stop-color="#ee252c"/><stop offset=".495" stop-color="#ef304c"/><stop offset="1" stop-color="#9c41a6"/></radialGradient><linearGradient x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 1610 1610 0 1530 0)" spreadMethod="pad" id="b"><stop offset="0" stop-color="#3d3e3f"/><stop offset="1" stop-color="#050606"/></linearGradient></defs><g clip-path="url(#a)" transform="matrix(.01902 0 0 -.01902 0 30.659)"><path d="M2805.83 0H254.164C113.793 0 0 113.801 0 254.172V1355.83C0 1496.21 113.793 1610 254.164 1610H2805.83c140.37 0 254.17-113.79 254.17-254.17V254.172C3060 113.801 2946.2 0 2805.83 0" fill="url(#b)"/></g><path d="M27.915 26.727h-3.947V4.614h3.947v22.113m7.324 0h-3.947V12.08h3.947v14.647m17.691 0l-5.932-7.751 5.456-6.896h-4.66l-5.232 6.69V4.614h-3.947v22.113h3.947v-7.52l5.232 7.52h5.136m-39.02-3.78a3.543 3.543 0 110-7.086 3.543 3.543 0 010 7.086zm0-11.033a7.456 7.456 0 00-3.543.89v-8.19H6.42v14.79a7.49 7.49 0 107.49-7.49" fill="#fff"/><g clip-path="url(#c)" transform="matrix(.01902 0 0 -.01902 0 30.659)"><path d="M1118.75 1241.67c0-102.18-82.83-185-185-185-102.172 0-185 82.82-185 185 0 102.17 82.828 185 185 185 102.17 0 185-82.83 185-185" fill="url(#d)"/></g>'},"blik-phone":{width:378.24,height:392.03,viewBox:"0 0 378.24 392.03",content:'<g><path fill="#d6d6d6" d="M373.84 171.53h4.4v87.96h-4.4zM0 118.75h4.4v30.79H0zM0 171.53h4.4v30.79H0z"/><g fill="#e0e0e0"><path d="M372.34 389.53H5.9V47.94A46.15 46.15 0 0119.5 15.1 46.3 46.3 0 0152.34 1.5H325.9a46.16 46.16 0 0132.84 13.6 46.3 46.3 0 0113.6 32.84v341.59z"/><path d="M370.84 388.03V47.94a44.66 44.66 0 00-13.16-31.78A44.8 44.8 0 00325.9 3H52.34a44.66 44.66 0 00-31.78 13.16A44.8 44.8 0 007.4 47.94v340.09h363.44m3 3H4.4V47.94a47.64 47.64 0 0114.04-33.9A47.79 47.79 0 0152.34 0H325.9a47.65 47.65 0 0133.9 14.04 47.78 47.78 0 0114.04 33.9v343.09z" fill="#d6d6d6"/></g><path d="M351.85 392.03H26.39V62.99a39.74 39.74 0 013.14-15.57 39.85 39.85 0 018.57-12.71 39.85 39.85 0 0112.72-8.57 39.75 39.75 0 0115.57-3.15h34.77v12.79a17.88 17.88 0 001.41 7 17.94 17.94 0 003.86 5.73 17.95 17.95 0 005.72 3.86 17.9 17.9 0 007 1.41h139.93a17.9 17.9 0 007-1.41 17.97 17.97 0 005.73-3.86 17.92 17.92 0 003.86-5.72 17.88 17.88 0 001.41-7.01V22.99h34.77a39.76 39.76 0 0115.57 3.14 39.86 39.86 0 0112.71 8.58 39.85 39.85 0 018.58 12.71 39.73 39.73 0 013.14 15.57v329.04z" fill="#fff"/><g transform="translate(130.52 104.46)"><rect width="113.82" height="114.71" rx="13" fill="#535353"/><path d="M56.91 100.49a27.54 27.54 0 01-27.56-27.57c0-.6.01-1.2.05-1.78h-.05V18.67h15.11v29.65a27.57 27.57 0 1112.45 52.17zm0-40.02a12.45 12.45 0 108.8 3.65 12.37 12.37 0 00-8.8-3.65z" fill="#fff"/><circle cx="12.89" cy="12.89" transform="translate(58.69 15.12)" fill="#ff6a6a" r="12.89"/></g><text transform="translate(128.81 294.33)" fill="#4a4a4a" stroke="rgba(0,0,0,0)" stroke-width="4" font-size="26" font-family="OpenSans-Semibold, Open Sans" font-weight="600"><tspan x="0" y="0">zatwierdź</tspan></text><g transform="translate(98.83 255.85)" fill="none" stroke="#535353" stroke-width="2.4"><rect width="180.84" height="57.94" rx="11" stroke="none"/><rect x="1.2" y="1.2" width="178.44" height="55.54" rx="9.8"/></g></g>'},"blocked-event":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-slash"><circle cx="12" cy="12" r="10"/><path d="M4.93 4.93l14.14 14.14"/></g>'},"booksy-icon":{width:32,height:32,viewBox:"0 0 32 32",content:'<g id="Group_5783" data-name="Group 5783" transform="translate(-1037 -233)"><g id="Group_5780" data-name="Group 5780" transform="translate(1037 233)"><circle id="Ellipse_375" data-name="Ellipse 375" cx="16" cy="16" r="16" fill="currentColor"/><g id="afm9oc" transform="translate(5 8.033)"><g id="Group_1" data-name="Group 1" transform="translate(0 0)"><path id="Path_2" data-name="Path 2" d="M1308,974.863a12.16,12.16,0,0,1,.787-1.379,5.182,5.182,0,0,1,7.094-1.04c1.05.733,2.056,1.529,3.1,2.267a8.243,8.243,0,0,0,3.474,1.548,4.013,4.013,0,0,0,3.4-.9,2.877,2.877,0,0,0,1.016-1.809,3.794,3.794,0,0,0-1.263-3.792,2.891,2.891,0,0,0-3.336-.343,3.182,3.182,0,0,0-1.8,2.946,7.923,7.923,0,0,1-.02.838c-.045.37-.2.461-.509.28a14.463,14.463,0,0,1-1.329-.886.633.633,0,0,1-.189-.452q-.015-4.328.008-8.656c0-.162.2-.323.307-.484h1.282c.434.093.45.435.451.775,0,1.162,0,2.323.006,3.485,0,.207.025.413.045.712a6.2,6.2,0,0,1,.623-.307,8.478,8.478,0,0,1,1.955-.636,5.247,5.247,0,0,1,5.7,4.1c.085.333.133.675.2,1.014v1.2a2.554,2.554,0,0,0-.067.267,5.154,5.154,0,0,1-3.528,4.376,13.13,13.13,0,0,1-1.776.406h-1.122c-.207-.037-.414-.075-.621-.111a10.31,10.31,0,0,1-4.294-2.016q-1.455-1.056-2.944-2.064a4.544,4.544,0,0,0-1.039-.5,2.447,2.447,0,0,0-3.1,1.172.929.929,0,0,1-.543.448,8.323,8.323,0,0,1-1.516,0c-.153-.009-.3-.142-.447-.218Z" transform="translate(-1308 -963)" fill="#fff"/></g></g></g></g>'},"booksy-reservation-off":{width:224,height:224,viewBox:"0 0 224 224",content:'<g data-name="Group 5906" transform="translate(-504 -301)"><circle data-name="Ellipse 404" cx="112" cy="112" r="112" transform="translate(504 301)" fill="#f7f7f7"/><path data-name="Intersection 9" d="M-7797.389-7646h210.778A112.041,112.041,0,0,1-7692-7572,112.04,112.04,0,0,1-7797.389-7646Z" transform="translate(8308 8097)" fill="#e9eaef"/><path data-name="Intersection 3" d="M-7831.691-7631A111.528,111.528,0,0,1-7845-7684a111.489,111.489,0,0,1,18.712-62H-7692a6,6,0,0,1,6,6v109Z" transform="translate(8349 8097)" fill="#fff"/><path data-name="Intersection 4" d="M-7795.615-7621a111.77,111.77,0,0,1-7.126-12H-7620v6a6,6,0,0,1-6,6Z" transform="translate(8319 8097)" fill="#f2f4f5"/><path data-name="Intersection 5" d="M-7792.758-7617q-1.471-1.967-2.856-4H-7629a4,4,0,0,1,4,4Z" transform="translate(8319 8097)" fill="#d4d5d6" opacity=".486"/><path data-name="Intersection 2" d="M-7847.258-7643a111.718,111.718,0,0,1-7.742-41,111.515,111.515,0,0,1,11.753-50H-7706v91Z" transform="translate(8359 8097)" fill="#f0f1f2"/><circle data-name="Ellipse 402" cx="2" cy="2" r="2" transform="translate(577 354)" fill="#dddee1"/><rect data-name="Rectangle 3331" width="50" height="9" rx="4.5" transform="translate(520 381)" fill="#fff"/><rect data-name="Rectangle 3334" width="50" height="9" rx="4.5" transform="translate(579 436)" fill="#fff"/><rect data-name="Rectangle 3335" width="9" height="9" rx="4.5" transform="translate(631 436)" fill="#fff"/><rect data-name="Rectangle 3332" width="22" height="8" rx="4" transform="translate(520 394)" fill="#fff"/><rect data-name="Rectangle 3333" width="14" height="8" rx="4" transform="translate(545 394)" fill="#fff"/><path data-name="Rectangle 3336" d="M0,0H45a0,0,0,0,1,0,0V0a6,6,0,0,1-6,6H6A6,6,0,0,1,0,0V0A0,0,0,0,1,0,0Z" transform="translate(559 464)" fill="#dddee1"/><path data-name="Rectangle 3330" d="M0,0H36a0,0,0,0,1,0,0V0a3,3,0,0,1-3,3H3A3,3,0,0,1,0,0V0A0,0,0,0,1,0,0Z" transform="translate(678 415)" fill="#d4d5d6" opacity=".377"/><path data-name="Intersection 6" d="M-7681-7682a6,6,0,0,1-6-6v-73a6,6,0,0,1,6-6h13.2a112.227,112.227,0,0,1,28.8,41.351V-7688a6,6,0,0,1-6,6Z" transform="translate(8359 8097)" fill="#fff"/><path data-name="Intersection 8" d="M-7665-7760a2,2,0,0,1,2-2,2,2,0,0,1,.415.043c.523.54,1.046,1.09,1.559,1.641a2.051,2.051,0,0,1,.025.317,2,2,0,0,1-2,2A2,2,0,0,1-7665-7760Z" transform="translate(8359 8097)" fill="#dddee1"/><path data-name="Intersection 7" d="M-7687-7691v-63h31.435A111.9,111.9,0,0,1-7639-7725.648V-7691Z" transform="translate(8359 8097)" fill="#f0f1f2"/></g>'},call_forwarding_busy:{width:36,height:36,viewBox:"0 0 36 36",content:'<g data-name="Group 5723" transform="translate(-370 -230)"><circle data-name="Ellipse 144" cx="18" cy="18" r="18" transform="translate(370 230)" fill="#3899ec" opacity=".835"/><g data-name="Group 5698" fill="#fff"><path data-name="Path 2880" d="M2620.9-1287.195a9.388,9.388,0,0,1-3.985-.97,20.386,20.386,0,0,1-10.255-10.632,7.873,7.873,0,0,1-.681-3.5,4.267,4.267,0,0,1,1.466-3.219,4.369,4.369,0,0,1,2.629-1.017,1.231,1.231,0,0,1,1.377.953q.627,1.908,1.255,3.816a1.2,1.2,0,0,1-.47,1.486c-.264.2-.531.39-.792.589a1.112,1.112,0,0,0-.4,1.4,6.249,6.249,0,0,0,.681,1.253,19.209,19.209,0,0,0,4.111,4.1,6.147,6.147,0,0,0,1.279.681,1.094,1.094,0,0,0,1.335-.4c.214-.28.42-.566.633-.848a1.178,1.178,0,0,1,1.392-.449q1.987.649,3.971,1.309a1.144,1.144,0,0,1,.855,1.159,4.143,4.143,0,0,1-3.558,4.205C2621.409-1287.227,2621.071-1287.212,2620.9-1287.195Z" transform="translate(-2229.773 1546.835)"/><path data-name="Path 2881" d="M4643.381-1876.018v-1.733h.3c1.049,0,2.1,0,3.147,0a2.529,2.529,0,0,0,2.571-2.239,2.545,2.545,0,0,0-2.033-2.892,2.884,2.884,0,0,0-.593-.054q-3.119-.006-6.239,0c-.069,0-.138.009-.265.017l1.948,1.92-1.2,1.21-3.981-3.989,4-4,1.149,1.156-1.887,1.88.032.073h.28c2.116,0,4.232-.016,6.349.01a4.222,4.222,0,0,1,4.045,3.143,4.305,4.305,0,0,1-4.142,5.5C4645.709-1876.012,4644.562-1876.018,4643.381-1876.018Z" transform="translate(-4251.25 2125.136)"/></g></g>'},call_forwarding_not_responding:{width:36,height:36,viewBox:"0 0 36 36",content:'<g data-name="Group 5724" transform="translate(-370 -411)"><circle data-name="Ellipse 144" cx="18" cy="18" r="18" transform="translate(370 411)" fill="#35cd4b" opacity=".823"/><path data-name="Path 2882" d="M2620.229-1288.06a8.976,8.976,0,0,1-3.807-.927,19.475,19.475,0,0,1-9.8-10.157,7.52,7.52,0,0,1-.651-3.346,4.076,4.076,0,0,1,1.4-3.075,4.174,4.174,0,0,1,2.511-.971,1.176,1.176,0,0,1,1.315.91q.6,1.823,1.2,3.645a1.145,1.145,0,0,1-.449,1.42c-.252.188-.507.372-.757.563a1.063,1.063,0,0,0-.382,1.334,5.989,5.989,0,0,0,.65,1.2,18.354,18.354,0,0,0,3.927,3.92,5.875,5.875,0,0,0,1.222.65,1.045,1.045,0,0,0,1.275-.383c.205-.267.4-.541.6-.81a1.125,1.125,0,0,1,1.33-.429q1.9.62,3.793,1.25a1.092,1.092,0,0,1,.817,1.107,3.958,3.958,0,0,1-3.4,4.017C2620.718-1288.091,2620.4-1288.077,2620.229-1288.06Z" transform="translate(-2229.773 1728.7)" fill="#fff"/><g data-name="Group 5689"><g data-name="Group 5664" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="2"><path data-name="Path 2860" d="M9.056,9.056A9.056,9.056,0,0,0,0,0" transform="rotate(-3 8267.3915 -7155.1158)" opacity=".8"/><path data-name="Path 2862" d="M12.813,12.812A12.813,12.813,0,0,0,0,0" transform="rotate(-3 8178.2017 -7169.8329)" opacity=".575"/></g></g></g>'},call_forwarding_turned_off:{width:36,height:36,viewBox:"0 0 36 36",content:'<g data-name="Group 5707" transform="translate(-370 -852)"><circle data-name="Ellipse 144" cx="18" cy="18" r="18" transform="translate(370 852)" fill="#fa6e6e"/><g data-name="Group 5691"><g data-name="Group 5695" fill="#fff"><path data-name="Path 2883" d="M217.182,53a1.182,1.182,0,0,0,1.182-1.182V41.182a1.182,1.182,0,0,0-2.364,0V51.82A1.182,1.182,0,0,0,217.182,53Z" transform="translate(171.042 816.622)"/><path data-name="Path 2884" d="M96.56,95.923a1.189,1.189,0,0,0-1.726.783v.008a1.182,1.182,0,0,0,.605,1.3,8.865,8.865,0,1,1-8.286,0,1.182,1.182,0,0,0,.606-1.3v-.007a1.188,1.188,0,0,0-1.72-.786,11.229,11.229,0,1,0,10.525,0Z" transform="translate(296.93 764.964)"/></g></g></g>'},check:{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></g>'},"chevron-down":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></g>'},"chevron-left":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></g>'},"chevron-right":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></g>'},"chevron-up":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></g>'},christmas_presents:{width:200,height:142.02,viewBox:"0 0 200 142.02",content:'<style>.st1{fill:#ff392b}.st2{fill:#ffc024}.st4{fill:#ffb000}.st5{fill:#f70600}.st7{fill:#fa0}</style><ellipse cx="92.93" cy="137.11" fill="#A1CDC3" rx="92.93" ry="4.91"/><path d="M25.93 47.13c-.09.13-.13.2-.13.2s.05-.07.13-.2c.1-.12.24-.3.43-.53.38-.45.98-1.11 1.89-1.73.46-.31 1-.6 1.63-.78.08-.02.16-.04.25-.06l.06-.02.03-.01h.03c.04-.01.08-.01.13-.02.08-.01.17-.03.26-.04.09-.01.17-.01.26-.02l.13-.01c.04 0 .09 0 .13.01.09.01.18.01.27.02.09.02.18.03.27.05.09.02.18.05.27.08.35.12.68.33.93.62s.43.67.53 1.07c.02.07.03.14.04.21-.58-.11-1.18-.05-1.72.11-.61.18-1.16.48-1.65.84s-.93.78-1.31 1.24c-.38.46-.7.96-.91 1.53-.1.28-.18.58-.16.91.01.16.05.34.14.49.09.16.23.29.38.37.31.16.63.17.92.16.29-.02.56-.08.84-.16.13-.04.25-.07.38-.12l.39-.15.36-.18c.12-.06.23-.14.35-.21.9-.58 1.57-1.42 1.96-2.33.25-.59.39-1.22.4-1.83.16.06.32.14.47.23.06.04.11.07.18.12l.09.07.02.02c.01.01.01 0 .01.01l.04.04.34.28c.44.4.82.84 1.11 1.35.1.18.19.36.26.55h-.14c-.66.03-1.31.19-1.91.44-.6.25-1.17.58-1.69.98s-1 .86-1.38 1.41c-.19.28-.36.57-.48.9-.06.16-.11.34-.14.52-.03.18-.03.37 0 .56.03.19.09.38.18.55.1.17.22.32.36.45.14.13.3.22.46.31l.24.1c.02.01.04.01.06.02l.07.02.15.04c.37.07.73.04 1.07-.03.34-.07.66-.2.97-.35.6-.31 1.14-.73 1.58-1.22.45-.49.83-1.05 1.08-1.67.25-.62.39-1.29.35-1.97-.01-.14-.03-.28-.05-.42.27.05.53.14.77.26.5.25.93.65 1.25 1.11.04.05.08.12.12.18l.06.1.01.02c.01.01 0 0 .01.02l.03.05c.07.13.15.25.21.38l.1.19c.03.07.06.13.09.2.05.1.09.21.13.32-.24.04-.47.11-.7.21-.39.17-.76.39-1.12.65-.36.26-.71.55-1.05.86-.34.31-.68.64-1.01.99-.33.36-.65.73-.93 1.17-.14.21-.27.45-.36.7-.05.13-.09.26-.11.4-.01.07-.01.15-.02.22.01.08 0 .15.02.23.01.08.04.15.07.23.04.07.08.14.14.2.11.12.24.22.38.28.28.12.58.15.86.14.57-.02 1.12-.18 1.64-.41.52-.24 1.01-.55 1.44-.94.43-.39.82-.86 1.09-1.41.14-.27.25-.56.32-.86.08-.3.12-.61.13-.92.02-.51-.05-1.03-.19-1.52.31.05.59.22.79.45.23.26.39.57.5.87.23.62.33 1.23.39 1.78.12 1.1.1 1.98.08 2.57-.02.6-.06.91-.06.91s.04-.32.09-.91c.02-.3.04-.67.05-1.1.01-.43 0-.93-.05-1.49-.05-.56-.13-1.18-.36-1.82-.12-.32-.27-.65-.51-.94-.12-.15-.27-.28-.45-.38-.17-.1-.36-.16-.56-.18-.01-.03-.02-.05-.02-.08-.05-.15-.1-.29-.17-.44l-.09-.21-.1-.21c-.07-.14-.15-.27-.22-.41l-.03-.05-.02-.03-.01-.02-.06-.1c-.04-.06-.08-.13-.13-.2-.19-.27-.39-.52-.64-.74-.24-.22-.51-.41-.81-.57-.36-.19-.76-.31-1.16-.36-.1-.31-.23-.6-.38-.88-.33-.57-.76-1.06-1.24-1.49-.25-.2-.48-.41-.77-.58-.25-.15-.52-.27-.8-.35-.02-.12-.04-.24-.07-.35-.11-.44-.32-.85-.62-1.17-.29-.32-.67-.55-1.05-.66-.1-.02-.19-.06-.29-.07-.1-.01-.19-.03-.29-.04-.1-.01-.19-.01-.29-.01h-.14c-.05 0-.09.01-.14.01-.09.01-.18.01-.27.02-.09.02-.18.03-.27.05-.04.01-.09.02-.13.02l-.03.01-.04.01-.06.02c-.08.02-.16.05-.24.07-.65.2-1.2.52-1.66.84-.46.33-.83.66-1.13.98-.3.31-.54.59-.72.83-.19.22-.32.4-.41.53zM39.96 53c.07.22.13.45.16.67.05.28.07.55.06.83-.01.55-.15 1.09-.38 1.57-.23.49-.57.92-.96 1.28-.39.37-.84.66-1.31.89-.47.22-.98.38-1.47.4-.24.01-.49-.02-.69-.1-.2-.09-.34-.23-.37-.43-.05-.19 0-.43.08-.65.08-.22.19-.43.32-.64.25-.41.56-.78.87-1.13.64-.7 1.3-1.33 1.98-1.85.34-.26.69-.49 1.05-.65.21-.07.43-.15.66-.19zm-3.45-3.12c.04.17.06.34.07.52.03.58-.09 1.16-.31 1.71s-.56 1.05-.97 1.5c-.4.45-.89.81-1.42 1.09-.27.13-.54.24-.82.3-.28.06-.57.07-.82.02l-.09-.02-.04-.01c-.01 0-.03-.01-.05-.01l-.11-.05-.05-.03-.03-.01s-.01 0-.01-.01c-.12-.07-.23-.13-.33-.22s-.18-.18-.24-.29c-.06-.11-.1-.22-.11-.35-.04-.25.01-.52.11-.79.09-.27.24-.52.41-.77.34-.49.78-.92 1.26-1.29s1-.68 1.56-.91c.55-.23 1.13-.38 1.71-.4.09.01.19.01.28.02zm-3-3.35c0 .59-.14 1.21-.4 1.79-.38.84-1.02 1.6-1.86 2.12-.11.06-.21.13-.32.18-.11.05-.22.11-.34.16-.11.04-.23.09-.35.13-.12.04-.25.07-.38.11-.24.07-.5.11-.74.13-.25.01-.49-.01-.67-.11-.18-.1-.26-.27-.27-.5-.01-.23.05-.48.14-.72.19-.49.49-.95.85-1.37.36-.42.77-.81 1.23-1.13.46-.33.96-.59 1.5-.75.52-.14 1.08-.17 1.61-.04zM102.71 27.18c.22-.43.31-.9.29-1.35-.01-.11-.01-.22-.03-.33-.02-.11-.04-.21-.07-.32-.03-.1-.07-.2-.1-.3-.02-.05-.03-.1-.05-.15-.02-.05-.04-.09-.06-.14-.04-.09-.08-.19-.13-.28-.05-.09-.1-.17-.15-.26-.02-.04-.05-.08-.07-.13l-.02-.03-.02-.03-.04-.06-.17-.23c-.46-.6-1-1.05-1.51-1.41-.51-.35-1.01-.61-1.45-.8-.44-.19-.83-.34-1.14-.44-.32-.1-.56-.17-.73-.21-.17-.03-.26-.05-.26-.05s.09.02.25.07.41.12.72.23c.31.11.69.26 1.12.47.43.21.91.48 1.41.83.5.36 1.01.81 1.44 1.41.05.08.11.15.16.23l.04.06.02.03.02.03.07.12c.05.08.09.17.14.25l.12.27c.02.05.04.09.06.14.02.05.03.09.05.14l.09.29.06.3c.02.1.01.2.02.31.01.41-.08.84-.29 1.22-.21.38-.53.71-.92.96-.08.05-.16.1-.24.14-.11-.65-.39-1.26-.77-1.76-.42-.56-.94-1.02-1.5-1.39-.56-.38-1.16-.67-1.78-.89-.62-.21-1.27-.36-1.93-.36-.33 0-.67.04-1 .18-.16.07-.33.18-.45.32-.13.15-.21.34-.24.52-.05.38.06.71.19 1 .13.29.29.55.48.81.09.12.17.24.27.35l.31.34c.11.11.22.21.33.31.11.1.23.19.35.28.95.71 2.08 1.09 3.16 1.15.73.04 1.45-.06 2.09-.3 0 .21-.02.42-.06.62-.06.3-.17.62-.29.93-.24.61-.56 1.19-.98 1.69-.16.19-.33.36-.52.52-.02-.07-.05-.13-.07-.19-.28-.68-.7-1.28-1.19-1.81s-1.05-1-1.66-1.38c-.61-.39-1.28-.7-2-.9-.36-.09-.73-.16-1.12-.16-.19 0-.39.02-.59.06-.2.04-.39.11-.58.21-.18.1-.36.23-.5.4-.14.16-.24.35-.32.54l-.05.15c-.01.05-.03.1-.04.15l-.03.15-.01.07-.01.04c0 .02 0 .01-.01.05l-.01.13v.16c0 .11.01.21.03.31.06.4.23.77.43 1.09.21.32.46.61.73.86.55.51 1.19.9 1.87 1.18.68.28 1.41.45 2.15.48.74.03 1.49-.09 2.17-.39.16-.07.31-.15.46-.23.05.32.06.64.03.95-.07.62-.32 1.23-.68 1.74-.18.27-.39.51-.61.75l-.17.18c-.06.06-.12.11-.17.17-.1.1-.2.18-.3.27-.13-.24-.31-.47-.5-.67-.32-.34-.7-.64-1.11-.92-.41-.28-.84-.52-1.3-.76-.46-.23-.93-.46-1.42-.67-.5-.21-1.01-.4-1.57-.52-.28-.06-.57-.1-.87-.11-.15 0-.3.01-.46.04-.08.01-.16.04-.23.06-.08.03-.15.06-.23.11-.08.04-.14.1-.21.16l-.09.1c-.03.03-.05.08-.07.11-.09.16-.13.33-.14.5-.02.34.06.65.18.94.24.58.62 1.09 1.06 1.54.44.45.96.84 1.53 1.14.57.3 1.21.52 1.88.59.33.04.67.04 1.01.01.34-.03.67-.11 1-.22.33-.1.64-.25.94-.42.2-.11.4-.24.59-.38.08.36.01.73-.16 1.04-.18.34-.45.62-.72.86-.56.48-1.16.82-1.7 1.09-1.11.54-2.03.86-2.65 1.07-.63.2-.97.29-.97.29s.35-.08.98-.26c.32-.09.71-.21 1.16-.37.45-.16.97-.36 1.53-.62.56-.27 1.17-.59 1.76-1.07.29-.24.57-.53.78-.9.1-.18.18-.39.22-.61.04-.22.03-.45-.03-.67.02-.02.05-.04.07-.05.13-.11.27-.22.39-.34.06-.06.13-.12.19-.18l.18-.19c.24-.25.46-.51.66-.8.21-.3.39-.6.52-.94.14-.33.23-.69.28-1.06.06-.45.03-.91-.07-1.36.29-.22.55-.47.78-.74.47-.56.81-1.2 1.07-1.86l.09-.25.08-.25.02-.06c0-.01.01-.04.01-.04l.01-.03.03-.12c.02-.08.04-.18.06-.27.06-.32.08-.65.06-.97.12-.07.25-.14.36-.22.41-.29.76-.66.98-1.08zm-6.17 10.44c-.21.16-.42.31-.65.44-.27.16-.55.29-.85.38-.58.2-1.2.27-1.8.21-.6-.06-1.18-.25-1.72-.51-.53-.27-1.02-.62-1.44-1.03-.41-.41-.77-.88-.99-1.39-.11-.25-.17-.52-.16-.76.01-.24.11-.45.31-.57.19-.13.46-.17.71-.17.26 0 .53.03.79.09.52.1 1.03.28 1.51.48.97.4 1.88.84 2.69 1.35.4.26.77.54 1.08.85.22.18.39.4.52.63zm1.95-4.8c-.17.11-.35.2-.54.29-.6.26-1.26.37-1.92.34-.66-.03-1.32-.18-1.94-.44-.62-.26-1.2-.61-1.69-1.07-.24-.23-.46-.48-.63-.75-.17-.27-.3-.57-.35-.86-.01-.07-.02-.15-.02-.22v-.1l.01-.13v-.05l.01-.06c.01-.04.01-.08.02-.11l.03-.11.04-.1c.05-.14.12-.26.21-.37.09-.1.2-.19.33-.26.12-.07.27-.12.41-.15.15-.03.3-.05.46-.05.32 0 .65.05.97.13.64.17 1.26.46 1.83.82.57.36 1.1.79 1.55 1.28.45.49.83 1.04 1.08 1.64.06.11.1.22.14.33zm2.32-4.42c-.63.24-1.34.33-2.06.28-1.02-.07-2.07-.45-2.94-1.12-.1-.09-.22-.17-.32-.27s-.2-.19-.3-.29c-.09-.1-.18-.21-.27-.31-.09-.11-.17-.23-.26-.35-.16-.22-.31-.47-.42-.73-.06-.13-.1-.26-.13-.38-.02-.13-.03-.25-.02-.37.03-.23.19-.4.43-.5.24-.1.53-.13.82-.13.58.01 1.19.15 1.77.36.58.21 1.14.49 1.66.84s.99.78 1.36 1.28c.37.5.62 1.08.68 1.69zM78.23 51.13c-.25.03-.51.08-.76.21-.12.07-.24.16-.34.29-.09.13-.14.29-.15.44-.01.3.1.55.21.76.12.22.26.4.42.58.08.08.15.16.23.24.09.08.17.16.26.24l.27.21c.09.07.19.12.28.19.77.47 1.64.68 2.47.64.52-.02 1.02-.13 1.48-.34.01.13 0 .26-.01.38-.02.22-.09.46-.15.7-.14.46-.34.91-.62 1.3-.08.12-.17.23-.27.33-.01-.01-.01-.03-.02-.04-.26-.5-.62-.93-1.02-1.3-.41-.37-.86-.68-1.35-.93-.49-.25-1.01-.44-1.57-.54-.28-.05-.57-.07-.87-.04-.29.03-.61.1-.89.29-.14.09-.26.21-.36.35-.1.14-.17.29-.21.45-.05.16-.06.31-.07.47l.01.22c0 .01 0 .03.01.06l.01.06.03.13c.08.32.23.58.41.82.18.24.4.43.62.61.46.34.96.6 1.5.76.54.16 1.1.25 1.66.21.56-.03 1.13-.17 1.63-.45.08-.05.17-.1.25-.15.04.2.07.39.06.59-.01.46-.15.92-.38 1.31-.02.05-.06.1-.09.15l-.05.08-.01.02-.01.01-.03.04c-.07.1-.14.2-.21.29-.07.1-.15.19-.23.28-.05.07-.11.13-.17.19-.11-.15-.24-.29-.38-.41-.27-.24-.57-.44-.89-.62-.32-.18-.67-.34-1.02-.49-.36-.15-.72-.28-1.11-.41-.39-.12-.79-.23-1.22-.29-.21-.03-.43-.04-.66-.02-.11.01-.23.03-.35.06-.06.02-.12.04-.18.07-.06.03-.12.06-.17.1-.11.08-.21.19-.26.33-.06.13-.08.27-.08.41.01.27.09.5.2.72.22.43.54.79.91 1.1.37.31.78.57 1.24.76.45.19.95.31 1.46.32.26.01.51-.01.77-.06.26-.05.51-.13.75-.23.39-.16.74-.4 1.06-.67.05.23.02.47-.07.69-.11.26-.29.49-.47.69-.38.39-.8.69-1.19.93-.79.48-1.45.79-1.9.99-.46.2-.71.29-.71.29s.25-.08.72-.26c.23-.09.52-.2.85-.35.33-.15.7-.33 1.11-.56.4-.24.84-.52 1.25-.92.2-.2.4-.44.53-.73.13-.27.17-.61.08-.93l.05-.05c.09-.09.19-.18.27-.28.09-.1.17-.2.25-.3.08-.1.16-.21.23-.31l.03-.04.02-.03.01-.02.05-.08c.03-.05.07-.1.1-.17.28-.47.46-1.01.47-1.58.01-.34-.04-.67-.13-.99.19-.18.36-.38.51-.59.32-.46.53-.96.68-1.48.06-.26.14-.51.17-.79.02-.25.02-.5-.02-.74.07-.05.14-.1.21-.16.29-.25.53-.55.67-.89.14-.34.17-.71.12-1.04-.02-.08-.02-.17-.05-.25-.02-.08-.05-.16-.07-.24-.03-.08-.06-.15-.1-.22-.03-.07-.07-.14-.11-.21-.04-.07-.08-.13-.12-.2-.04-.06-.09-.12-.13-.18l-.06-.09-.02-.02-.02-.02-.04-.04c-.05-.05-.09-.11-.14-.16-.39-.42-.82-.72-1.23-.95-.41-.23-.8-.39-1.14-.5-.34-.11-.64-.19-.88-.24-.24-.05-.43-.09-.56-.1-.13-.02-.19-.02-.19-.02s.07.01.19.03c.13.02.31.06.55.13.48.13 1.18.35 1.97.81.39.24.8.54 1.16.95l.13.16.03.04.01.02.01.02.06.09.12.18c.04.06.07.13.1.19.04.06.07.13.1.2s.06.14.08.21c.02.07.04.14.06.22.02.07.02.15.04.22.03.3-.01.62-.14.91-.13.29-.34.56-.61.77-.03.02-.06.04-.09.07-.13-.47-.39-.88-.69-1.23-.36-.4-.79-.71-1.23-.95-.45-.24-.92-.42-1.41-.54-.51-.12-1-.19-1.51-.14zM80 61.42c-.31.29-.65.53-1.03.69-.41.18-.86.27-1.3.27-.89-.01-1.75-.38-2.42-.93-.33-.27-.62-.6-.82-.95-.1-.18-.16-.36-.17-.53 0-.17.04-.31.17-.4.12-.1.31-.15.49-.17.19-.02.39-.01.58.01.39.04.78.14 1.15.25.75.23 1.46.49 2.09.82.31.16.61.34.86.56.17.11.3.24.4.38zm1.11-3.7c-.11.08-.22.15-.33.21-.84.45-1.89.48-2.83.18-.47-.14-.92-.38-1.31-.67-.19-.15-.37-.32-.51-.5s-.25-.39-.3-.59l-.01-.07-.01-.03c0-.01-.01-.02-.01-.04l-.01-.1v-.07-.01c.01-.11.02-.21.05-.31.03-.1.07-.19.12-.27.06-.08.13-.14.21-.2.16-.11.38-.17.61-.19.23-.02.47 0 .71.03.48.08.96.26 1.4.48.45.23.86.51 1.23.84.37.33.68.71.9 1.13l.09.18zm-3.41-5.98c.16-.08.37-.13.58-.14.43-.03.88.03 1.32.15.44.12.88.29 1.28.52.4.23.78.51 1.09.85.29.33.51.73.6 1.16-.44.2-.93.31-1.44.32-.76.01-1.56-.2-2.24-.64-.08-.06-.17-.11-.25-.18-.08-.06-.16-.13-.24-.19-.07-.07-.15-.14-.22-.21-.07-.08-.15-.16-.22-.24-.13-.15-.26-.33-.36-.51-.1-.18-.16-.37-.15-.52 0-.17.08-.28.25-.37zM64.13 29.16c.06-.3.11-.65.09-1.03-.01-.19-.04-.39-.14-.59-.07-.16-.2-.32-.38-.42v-.05c-.02-.36-.09-.7-.2-1.04-.12-.36-.32-.69-.61-.96-.16-.14-.34-.26-.53-.35-.01-.16-.04-.32-.08-.47-.1-.37-.27-.71-.46-1.01-.11-.15-.2-.29-.34-.44-.12-.12-.25-.23-.39-.32 0-.03.01-.07.01-.1 0-.26-.05-.52-.17-.74-.12-.22-.29-.4-.49-.53s-.41-.19-.61-.23l-.15-.03c-.05 0-.1-.01-.15-.01l-.07-.01H59.24c-.38.02-.72.11-1.01.22-.58.23-.98.52-1.24.71-.26.2-.39.33-.39.33s.13-.12.4-.3.69-.44 1.26-.63c.29-.09.62-.16.97-.16H59.44l.07.01c.05.01.09.01.14.02l.14.03c.18.04.37.11.53.23.16.11.3.26.38.45.08.17.12.37.11.58-.28-.11-.59-.16-.88-.15-.37.01-.72.09-1.04.22-.32.12-.62.29-.9.49-.27.2-.52.43-.73.71-.1.14-.19.3-.23.5-.02.1-.03.21 0 .33.03.12.1.22.18.3.17.15.35.21.52.24.17.03.32.04.49.04.07 0 .14 0 .22-.01l.24-.03c.08-.01.15-.03.23-.05l.22-.06c.58-.19 1.07-.55 1.41-.99.19-.24.34-.51.43-.79.04.03.07.07.11.1.1.1.19.24.27.37.19.3.34.64.4.97-.34-.06-.68-.07-1.02-.02-.37.05-.73.14-1.08.28-.35.14-.68.33-.98.57-.15.13-.29.26-.41.44-.12.17-.23.37-.26.62-.01.12-.01.25.02.37s.08.23.15.33c.06.1.14.18.22.26l.12.1c.04.03.11.07.16.09.42.2.85.18 1.23.11.38-.08.74-.23 1.06-.44.32-.21.62-.46.85-.77.23-.31.41-.66.49-1.05 0-.02.01-.04.01-.05.06.04.13.09.18.14.21.19.37.45.47.72.09.25.15.52.18.78-.09 0-.19 0-.28.02-.24.03-.47.1-.71.18-.46.17-.92.41-1.38.68-.23.14-.46.3-.68.49-.11.1-.21.2-.31.33-.09.13-.18.28-.2.49-.01.1.01.21.06.31.05.1.11.18.19.24.15.12.32.18.48.22.33.08.65.07.97.02.32-.05.64-.15.94-.3.3-.15.58-.35.82-.61s.42-.58.53-.92c.08-.24.11-.49.12-.74.08.07.15.15.19.24.08.16.12.34.14.52.04.36.01.69-.03 1-.09.6-.22 1.07-.31 1.38-.07.3-.13.46-.13.46s.07-.16.19-.47c.1-.3.27-.76.39-1.37zm-3.43-6.28c-.09.27-.24.53-.44.76-.32.38-.76.68-1.26.82-.06.02-.13.04-.19.05l-.2.03c-.06.01-.13.01-.19.02h-.22c-.13 0-.27-.01-.39-.04s-.23-.07-.29-.13c-.03-.03-.04-.05-.05-.09-.01-.03-.01-.08.01-.12.02-.1.09-.21.16-.32.16-.22.38-.41.63-.58.49-.33 1.08-.57 1.66-.58.28 0 .54.06.77.18zm1.08 2.23c-.01.05-.01.11-.03.16-.13.58-.55 1.1-1.09 1.44-.27.17-.57.29-.87.36-.15.03-.3.05-.45.04-.14-.01-.28-.04-.38-.09-.01-.01-.02-.01-.03-.02l-.02-.01s-.01 0-.02-.01l-.05-.04-.03-.02-.01-.02c-.05-.04-.09-.09-.12-.14-.06-.1-.09-.19-.07-.3.02-.22.22-.47.45-.67.48-.4 1.12-.65 1.75-.73.33-.04.66-.03.97.05zm1.4 2.12c.01.26-.02.51-.09.74-.08.28-.22.53-.4.74-.37.43-.91.7-1.46.8-.27.05-.55.06-.8.01-.12-.03-.24-.07-.31-.13s-.11-.12-.1-.2c0-.08.05-.19.11-.29.07-.1.15-.19.25-.28.18-.18.4-.33.61-.47.44-.28.87-.52 1.3-.7.21-.09.43-.16.64-.2.08-.02.16-.02.25-.02z" class="st1"/><path d="M52.74 40.44L54.15 42.74 51.47 42.46 49.73 44.52 49.16 41.88 46.67 40.86 49 39.5 49.2 36.82 51.21 38.61 53.83 37.98zM29.95 21.51L28.18 23.59 27.6 20.92 25.08 19.87 27.44 18.5 27.65 15.77 29.69 17.6 32.34 16.95 31.24 19.45 32.67 21.78zM81.35 29.94L83.2 30.82 81.38 31.76 81.11 33.79 79.66 32.34 77.64 32.71 78.57 30.89 77.59 29.09 79.62 29.4 81.03 27.92zM52.43 58.77L53.84 57.28 54.17 59.31 56.02 60.19 54.19 61.12 53.92 63.15 52.47 61.7 50.46 62.08 51.39 60.25 50.41 58.45zM56.24 13.43L54.79 11.98 52.77 12.36 53.7 10.53 52.72 8.73 54.75 9.05 56.16 7.56 56.48 9.58 58.33 10.47 56.51 11.4zM85.89 9.49L83.78 7.38 80.84 7.93 82.19 5.26 80.77 2.64 83.72 3.1 85.78.94 86.25 3.89 88.94 5.17 86.28 6.53zM93.28 53.97L92.3 56.03 91.26 54 89 53.7 90.61 52.09 90.19 49.84 92.22 50.88 94.23 49.78 93.87 52.04 95.53 53.61z" class="st2"/><path d="M127.89 91.11L115.22 68.25 115.41 68.25 128.04 91.02zM135.21 103.97L139.67 112 139.67 112.35 135.07 104.05zM109.13 68.25l14.2 25.38-3.81 2.11c1.08.09 2.14.18 3.2.26-.18 1.83-1.44 3.08-2.22 4.6 1.58.31 3.2.29 4.82.47-.66 1.56-1.92 2.8-2.53 4.44 1.46.49 3.18-.14 4.57.61-.58.85-.85 1.84-1.12 2.82l4.32-2.4 9.11 16.29v14.27h-35.48V90.47c-.72-.71-1.47-1.43-1.93-2.35-1.33.85-1.61 2.66-2.75 3.7-1.14-1.33-1.61-3.04-2.66-4.36-.95 1.33-1.71 2.75-2.75 3.98-.95-1.42-1.42-3.13-2.94-4.17-.58.89-1.18 1.78-1.77 2.67v47.17H56.02V68.25h53.11z" fill="#ffbf24"/><path d="M56.02 137.11h-9.49V90.54c-.33-.38-.62-.78-.9-1.18-.38.66-.47 1.33-.76 1.99-.57-.76-.95-1.61-1.42-2.47-.38.66-.19 1.61-.85 2.18-.47-.76-.85-1.61-1.42-2.37-.27.5-.57.98-.85 1.47v46.95h-5.92V68.25h21.63v68.86z" class="st4"/><path d="M91.16 87.27c1.52 1.04 1.99 2.75 2.94 4.17 1.04-1.23 1.8-2.66 2.75-3.98 1.04 1.33 1.52 3.04 2.66 4.36 1.14-1.04 1.42-2.85 2.75-3.7.46.92 1.2 1.63 1.93 2.35v46.64h-14.8V89.94c.6-.89 1.19-1.78 1.77-2.67z" class="st1"/><path d="M41.17 88.69c.57.76.95 1.61 1.42 2.37.66-.57.47-1.52.85-2.18.47.85.85 1.71 1.42 2.47.28-.66.38-1.33.76-1.99.29.4.57.8.9 1.18v46.58h-6.21V90.16c.29-.49.58-.97.86-1.47z" class="st5"/><path d="M123.33 93.63L109.13 68.25 115.22 68.25 127.89 91.11zM135.07 104.05L139.67 112.35 139.67 122.85 130.56 106.55z" fill="#ffa11d"/><path d="M160.6 89.89L153.42 76.95 128.04 91.02 115.41 68.25 110.82 59.98 136.2 45.9 178.98 123.04 153.59 137.11 139.67 112 135.21 103.97z" class="st2"/><path d="M107.25 53.54L132.64 39.47 130.75 36.07 136.2 45.9 110.82 59.98z" class="st4"/><path d="M100.66 34.27H129.68V41.53H100.66z" class="st4" transform="rotate(-29.005 115.178 37.895)"/><path d="M128.04 91.02l25.38-14.07 7.18 12.94-25.38 14.07-.15.08-4.51 2.5-4.32 2.4c.27-.98.54-1.97 1.12-2.82-1.39-.75-3.11-.12-4.57-.61.61-1.64 1.87-2.88 2.53-4.44-1.62-.19-3.23-.16-4.82-.47.78-1.52 2.05-2.76 2.22-4.6-1.06-.07-2.12-.17-3.2-.26l3.81-2.11 4.56-2.53.15-.08z" class="st1"/><path d="M107.25 53.54l-9.04 5.01c.17-.47.38-.92.6-1.36-.76-.01-1.39.23-2.11.3.39-.87.95-1.61 1.47-2.44-.76-.01-1.5.62-2.32.31.43-.78 1-1.53 1.38-2.39-.57 0-1.13-.02-1.7-.03l8.71-4.83 25.38-14.07 1.13 2.04 1.88 3.39-25.38 14.07z" class="st5"/><path d="M183.62 111.05c5.1-1.88 10.98-4.71 14.41-8.53 6.97-7.77-5.9-22.76-18.44-26.22-11.15-3.07-21.2.61-23.31 1.47.18-.93.13-2.12-.54-3.51-.83-1.71-2.25-2.45-3.43-2.75h.01s10.24-6.77 13.95-19.24c3.71-12.47-2.19-31.33-12.47-29.53-5.06.88-10.57 4.38-14.87 7.71-4.55 3.52-5.84 9.84-3.05 14.87l14.42 26 4.85 8.75 14.26 25.71c2.77 5.01 8.82 7.26 14.21 5.27zm-33.39-43.29l-.5-.9-9.21-16.62c-2.75-4.96-1.28-11.23 3.44-14.39 2.42-1.62 5.12-3 7.66-3.42 7.13-1.16 11.45 12.29 9 21.09-2.43 8.82-10.39 14.24-10.39 14.24zm17.44 31.44l-9.21-16.62-.6-1.08s8.91-3.69 17.68-1.1c8.76 2.59 17.88 13.38 13.12 18.81-1.7 1.94-4.31 3.49-6.96 4.69-5.18 2.34-11.28.26-14.03-4.7z" class="st1"/><path d="M45.2 25.46c-.52 0-.94-.42-.94-.94s.42-.94.94-.94.94.42.94.94-.42.94-.94.94z" class="st7"/><circle cx="65.08" cy="41.54" r=".94" class="st7"/><circle cx="100.17" cy="11.43" r=".94" class="st7"/><circle cx="68.09" cy=".94" r=".94" class="st7"/><path d="M102.04 61.72c0 .52-.42.94-.94.94s-.94-.42-.94-.94.42-.94.94-.94c.52.01.94.43.94.94z" class="st7"/><circle cx="44.27" cy="65.5" r=".94" class="st7"/>'},"failure-clouds":{width:303.3,height:133.2,viewBox:"0 0 303.3 133.2",content:'<g opacity=".192" fill="#F06941"><path opacity=".4" d="M238 5.8h5.3c3.1 0 5.6 2.5 5.6 5.6 0 3.1-2.5 5.6-5.6 5.6H238c-3.1 0-5.6-2.5-5.6-5.6 0-3.1 2.5-5.6 5.6-5.6zM292.4 61.7h5.3c3.1 0 5.6 2.5 5.6 5.6 0 3.1-2.5 5.6-5.6 5.6h-5.3c-3.1 0-5.6-2.5-5.6-5.6 0-3.1 2.5-5.6 5.6-5.6z"/><path opacity=".54" d="M238.7 25.5h-26c-.4.1-.7.1-1.1.1h-5.3c-3.1 0-5.6-2.5-5.6-5.6s2.5-5.6 5.6-5.6h5.3c.4 0 .7 0 1.1.1h3.8c4 0 7.3-3.3 7.3-7.3s-3.3-7.3-7.3-7.3h-39.2c-4 0-7.3 3.3-7.3 7.3 0 3.8 2.9 6.9 6.6 7.2.3 0 .5-.1.8-.1h5.3c3.1 0 5.6 2.5 5.6 5.6 0 2.9-2.2 5.3-5.1 5.5-3.6.5-6.3 3.6-6.3 7.2 0 4 3.3 7.3 7.3 7.3h54.4c4 0 7.3-3.3 7.3-7.3.1-3.8-3.1-7.1-7.2-7.1zM264.9 55.1H102.4c-4 0-7.3 3.3-7.3 7.3 0 3.8 2.9 6.9 6.6 7.2.3 0 .5-.1.8-.1h47.7c3.1 0 5.6 2.5 5.6 5.6 0 2.8-2.1 5.1-4.8 5.5H43c-4 0-7.3 3.3-7.3 7.3 0 3.8 2.9 6.9 6.6 7.2.3 0 .5-.1.8-.1h17.1c3.1 0 5.6 2.5 5.6 5.6 0 2.9-2.2 5.3-5.1 5.5-.2 0-.3.1-.5.1h-53c-4 0-7.2 3.2-7.2 7.2s3.2 7.2 7.2 7.2h182.3c4 0 7.3-3.3 7.3-7.3s-3.3-7.3-7.3-7.3h-20.3c-.4.1-.7.1-1.1.1h-5.3c-3.1 0-5.6-2.5-5.6-5.6 0-2.7 1.9-5 4.6-5.5h87.1c4 0 7.3-3.3 7.3-7.3s-3.3-7.3-7.3-7.3h-20.3c-.4.1-.7.1-1.1.1h-5.3c-3.1 0-5.6-2.5-5.6-5.6 0-3.1 2.5-5.6 5.6-5.6h5.3c.4 0 .7 0 1.1.1h36.3c4 0 7.3-3.3 7.3-7.3 0-3.7-3.3-7-7.3-7z"/></g><g transform="translate(91.672 14.084)"><circle fill="#F06941" cx="59.6" cy="59.6" r="59.6"/><g fill="none" stroke="#FFF" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"><path d="M79.599 78.229l-24.5-23.6-15.7-15.1"/><path d="M39.399 78.229l24.5-23.6 15.7-15.1"/></g></g>'},"fetching-error":{width:310.439,height:180.865,viewBox:"0 0 310.439 180.865",content:'<defs><style>.prefix__cls-2{fill:#a7b6bc}.prefix__cls-7{fill:none}.prefix__cls-4{fill:#dae3e7}.prefix__cls-6,.prefix__cls-8{fill:#fff}.prefix__cls-6{opacity:.902}.prefix__cls-7{stroke:#fff}</style></defs><g id="prefix__Group_5010" data-name="Group 5010" transform="translate(-652.099 -224.768)"><g id="prefix__Group_4984" data-name="Group 4984" transform="translate(234 21.553)"><g id="prefix__Group_4981" data-name="Group 4981" opacity="0.185" transform="translate(418.099 203.215)"><rect id="prefix__Rectangle_1833" width="18.625" height="12.617" class="prefix__cls-2" data-name="Rectangle 1833" rx="6.308" transform="translate(246.548 6.564)"/><rect id="prefix__Rectangle_1834" width="18.625" height="12.617" class="prefix__cls-2" data-name="Rectangle 1834" rx="6.308" transform="translate(291.814 69.591)"/><path id="prefix__Path_866" d="M2098.318-1928.8H2069a6.23 6.23 0 0 1-1.23.125h-6.009a6.309 6.309 0 0 1-6.309-6.308 6.309 6.309 0 0 1 6.309-6.309h6.009a6.38 6.38 0 0 1 1.23.124h4.323a8.2 8.2 0 0 0 8.2-8.2 8.2 8.2 0 0 0-8.2-8.2h-44.22a8.2 8.2 0 0 0-8.2 8.2 8.2 8.2 0 0 0 7.491 8.165 6.162 6.162 0 0 1 .875-.089h6.008a6.309 6.309 0 0 1 6.308 6.309 6.286 6.286 0 0 1-5.709 6.247v.02a8.2 8.2 0 0 0-7.095 8.118 8.2 8.2 0 0 0 8.2 8.2h61.333a8.2 8.2 0 0 0 8.2-8.2 8.2 8.2 0 0 0-8.196-8.202z" class="prefix__cls-2" data-name="Path 866" transform="translate(-1842.644 1957.569)"/><path id="prefix__Path_867" d="M2145.651-1911.191H1981.3c-4.061 0-7.352 3.672-7.352 8.2 0 4.291 2.954 7.8 6.716 8.164a5.187 5.187 0 0 1 .784-.087h48.194c3.123 0 5.656 2.823 5.656 6.31a6.078 6.078 0 0 1-4.876 6.194h-109.24c-4.061 0-7.353 3.672-7.353 8.2 0 4.29 2.954 7.8 6.717 8.164a5.128 5.128 0 0 1 .784-.087h17.27c3.124 0 5.656 2.823 5.656 6.307a6.062 6.062 0 0 1-5.119 6.249v.02c-.172.026-.33.089-.5.128h-53.672c-4.009 0-7.258 3.625-7.258 8.095 0 4.472 3.25 8.1 7.258 8.1h184.375c4.06 0 7.352-3.672 7.352-8.2s-3.292-8.2-7.352-8.2h-20.493a5.048 5.048 0 0 1-1.1.124h-5.387c-3.124 0-5.657-2.823-5.657-6.309a6.147 6.147 0 0 1 4.657-6.195h7.388c.033.007.069 0 .1.011h36.685c.069 0 .135-.009.2-.011h43.722c4.061 0 7.353-3.671 7.353-8.2s-3.292-8.2-7.353-8.2h-20.491a5.1 5.1 0 0 1-1.1.125h-5.388c-3.124 0-5.657-2.824-5.657-6.308s2.533-6.31 5.657-6.31h5.388a5.2 5.2 0 0 1 1.1.124h36.683c4.063 0 7.353-3.672 7.353-8.2s-3.286-8.208-7.349-8.208z" class="prefix__cls-2" data-name="Path 867" transform="translate(-1877.71 1973.335)"/></g><g id="prefix__Group_9" data-name="Group 9" transform="translate(491.549 239.007)"><path id="prefix__Path_5" fill="none" stroke="#f55353" d="M9450.5 5338.466l8.723 8.723" data-name="Path 5" transform="translate(-9306.046 -5329.516)"/></g><g id="prefix__Group_5008" data-name="Group 5008" transform="translate(.254)"><path id="prefix__Path_15" d="M.019-1.357h23.976v2.466L0 24.246z" class="prefix__cls-4" data-name="Path 15" transform="translate(630.355 335.84)"/><path id="prefix__Path_3" fill="#f2f3f7" d="M4.788 0H158a4.791 4.791 0 0 1 4.788 4.8v93.4l-16.4.931c-2.708.068-4.581 1.268-4.788 4.8l-1.926 17.149H4.788A4.791 4.791 0 0 1 0 116.284V4.8A4.791 4.791 0 0 1 4.788 0z" data-name="Path 3" transform="translate(491.549 239.007)"/><rect id="prefix__Rectangle_17" width="119" height="47" class="prefix__cls-6" data-name="Rectangle 17" rx="3" transform="translate(509.746 273.447)"/><rect id="prefix__Rectangle_19" width="117" height="6" class="prefix__cls-6" data-name="Rectangle 19" rx="3" transform="translate(509.746 327.447)"/><rect id="prefix__Rectangle_20" width="96" height="6" class="prefix__cls-6" data-name="Rectangle 20" rx="3" transform="translate(509.746 340.447)"/><path id="prefix__Rectangle_1835" d="M4 0h154a4 4 0 0 1 4 4v22H0V4a4 4 0 0 1 4-4z" class="prefix__cls-2" data-name="Rectangle 1835" transform="translate(491.746 238.447)"/><path id="prefix__Path_868" d="M9450.5 5338.466l8.723 8.723" class="prefix__cls-7" data-name="Path 868" transform="translate(-8814.751 -5090.509)"/><path id="prefix__Path_869" d="M9459.217 5338.466l-8.723 8.723" class="prefix__cls-7" data-name="Path 869" transform="translate(-8814.75 -5090.509)"/><circle id="prefix__Ellipse_3" cx="3" cy="3" r="3" class="prefix__cls-8" data-name="Ellipse 3" transform="translate(499.746 248.447)"/><circle id="prefix__Ellipse_4" cx="3" cy="3" r="3" class="prefix__cls-8" data-name="Ellipse 4" transform="translate(511.746 248.447)"/><circle id="prefix__Ellipse_5" cx="3" cy="3" r="3" class="prefix__cls-8" data-name="Ellipse 5" transform="translate(523.746 248.447)"/></g></g><g id="prefix__Group_5009" data-name="Group 5009" transform="rotate(131 307.794 375.883)"><g id="prefix__Group_4982" data-name="Group 4982"><path id="prefix__Path_9" fill="#f7f7f7" d="M0 94.705l10.018 15.978L20.38 94.705V4.8a4.8 4.8 0 0 0-4.8-4.8H4.8A4.8 4.8 0 0 0 0 4.8z" data-name="Path 9" transform="translate(.083)"/><path id="prefix__Path_871" fill="#a7b6bc" d="M0 94.705h10.332V4.8C10.332 2.147 9.244 0 7.9 0H2.431C1.088 0 0 2.147 0 4.8z" data-name="Path 871" opacity="0.133" transform="translate(10.005 .691)"/><path id="prefix__Path_870" d="M10.12 16.211C10.958 14.887 20.47.156 20.47.156L0 0" class="prefix__cls-4" data-name="Path 870" transform="translate(0 94.517)"/><path id="prefix__Path_11" d="M3.244 5.3L6.6 0H0" class="prefix__cls-2" data-name="Path 11" transform="translate(6.83 105.494)"/></g><path id="prefix__Rectangle_1836" d="M4 0h12a4 4 0 0 1 4 4v6H0V4a4 4 0 0 1 4-4z" class="prefix__cls-4" data-name="Rectangle 1836" transform="translate(.354)"/></g></g>'},flag:{width:17.7,height:12.7,viewBox:"0 0 17.7 12.7",content:'<path d="M-2.6-5.6h15 c0.6,0,1,0.4,1,1v10c0,0.6-0.4,1-1,1h-15c-0.6,0-1-0.4-1-1v-10C-3.6-5.2-3.2-5.6-2.6-5.6z" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" stroke="#c7c7cc" stroke-width=".5" transform="translate(4 6)"/><path d="M-3.6,0.4h17v5c0,0.6-0.4,1-1,1h-15 c-0.6,0-1-0.4-1-1V0.4L-3.6,0.4z" fill-rule="evenodd" clip-rule="evenodd" fill="#dd143c" transform="translate(4 6)"/><path d="M-2.6-5.6h15c0.6,0,1,0.4,1,1v10c0,0.6-0.4,1-1,1 h-15c-0.6,0-1-0.4-1-1v-10C-3.6-5.2-3.2-5.6-2.6-5.6z" fill="none" stroke="#c7c7cc" stroke-width=".5" transform="translate(4 6)"/>'},"gift-card":{width:24,height:24,viewBox:"0 0 24 24",content:'<defs><clipPath id="a"><path d="M0 0H24V24H0z"/></clipPath></defs><g clip-path="url(#a)"><path data-name="Path 3201" d="M15.539,9.52,8.107,2.065.182,9.52a.626.626,0,0,0,0,.883l1.539,1.542.019-.019a2.408,2.408,0,0,1,3.4,3.41.16.16,0,0,0-.02.019l1.629,1.635a.62.62,0,0,0,.879,0L18.163,6.914a.623.623,0,0,0,0-.881L16.534,4.4l-.032.034a2.408,2.408,0,0,1-3.4-3.411l.033-.032L11.6-.554a.619.619,0,0,0-.879,0L8.107,2.065Z" transform="translate(3.111 3.88)" fill="none" stroke="#888" stroke-miterlimit="10" stroke-width=".7"/></g>'},"green-check":{width:null,height:null,viewBox:null,content:'<defs><path id="a" d="M0 0h80v80H0z"/></defs><g fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)"><g transform="translate(8 8)"><circle cx="32" cy="32" r="32" fill="#75CB5D" fill-rule="nonzero"/><path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M24.98 33.793l3.854 3.98 10.827-10.516"/></g></g></g>'},inactive:{width:12,height:12,viewBox:"0 0 12 12",content:'<circle cx="6" cy="6" r="6" fill="#D2D2D2"/><path d="M4 4l4 4M8 4l-4 4" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>'},info:{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></g>'},inventory_products:{width:null,height:null,viewBox:null,content:'<defs><style>.svg-class-2{fill:#fff;stroke:#bfbfbf;stroke-width:.604px}.svg-class-3{fill:#eaeaea}</style></defs><g id="INVENTORY---PRODUCTS" transform="translate(-.198 -.943)"><g id="INVENTORY---PRODUCTS---LISTING---EMPTY" transform="translate(.5 1.245)"><g id="Placeholder-_-Set-_-Text-_-icon"><g id="Group"><g id="Group-2"><g id="Group-4-Copy-2" opacity=".3" transform="translate(36.165 73.835)"><g id="Group-3"><g id="_0-Shape-_-Rounded-4px-_-Stroke-_-Light"><rect id="Mask" width="185.954" height="38.285" class="svg-class-2" rx="2.631"/></g><rect id="Rectangle" width="113.099" height="3.313" class="svg-class-3" rx=".732" transform="translate(38.498 13.588)"/><rect id="Rectangle-Copy" width="84.651" height="3.313" class="svg-class-3" rx=".732" transform="translate(52.086 22.646)"/></g></g><g id="Group-4-Copy" opacity=".7" transform="translate(30.081 41.019)"><g id="Group-3-2"><g id="_0-Shape-_-Rounded-4px-_-Stroke-_-Light-2"><rect id="Mask-2" width="200.857" height="49.223" class="svg-class-2" rx="3.289"/></g><rect id="Rectangle-2" width="109.788" height="4.26" class="svg-class-3" rx=".937" transform="translate(45.292 18.117)"/><rect id="Rectangle-Copy-2" width="105.813" height="4.26" class="svg-class-3" rx=".937" transform="translate(47.593 29.44)"/></g></g><g id="Group-3-3"><g id="_0-Shape-_-Rounded-4px-_-Stroke-_-Light-3"><rect id="Mask-3" width="258.284" height="62.896" class="svg-class-2" rx="4.111"/></g><rect id="Rectangle-3" width="144.716" height="5.444" class="svg-class-3" rx="1.172" transform="translate(56.615 22.646)"/><rect id="Rectangle-Copy-3" width="131.955" height="5.444" class="svg-class-3" rx="1.172" transform="translate(63.408 36.234)"/></g></g></g></g></g></g>'},"moment-icon":{width:95,height:95,viewBox:"0 0 95 95",content:'<g><circle cx="47.5" cy="47.5" r="47.5" transform="translate(.4 .4)" fill="#ffb92b"/><path d="M71.51 56.35v-9.72a20.95 20.95 0 00-.37-4.93 7.98 7.98 0 00-1.52-2.9 8.5 8.5 0 00-3.32-2.42 11.8 11.8 0 00-4.85-.98 11.87 11.87 0 00-10.22 5.25 7.43 7.43 0 00-3.19-3.94 10.9 10.9 0 00-5.61-1.3 14.05 14.05 0 00-5.71 1.13 13.31 13.31 0 00-4.63 3.45v-4.78a42.16 42.16 0 01-12.43 1.64v2.82h1.58a1.21 1.21 0 011.21 1.22v15.47a1.21 1.21 0 01-1.21 1.21h-1.7v2.82h15.44v-2.82h-1.67a1.21 1.21 0 01-1.21-1.2V44.34a8.77 8.77 0 013.14-3.78 5.88 5.88 0 013.21-1.02c2.03 0 3.68 1.65 3.68 4.41v12.41a1.21 1.21 0 01-1.21 1.21h-1.68v2.82h15.43v-2.82h-1.62a1.21 1.21 0 01-1.21-1.2V43.53a12.72 12.72 0 013.1-2.98 5.94 5.94 0 013.09-1.02 3.78 3.78 0 013.8 3.8l-.01 13.03a1.21 1.21 0 01-1.22 1.21h-1.62v2.82H75v-2.82h-2.27a1.21 1.21 0 01-1.21-1.2" fill="#fff" stroke="transparent"/></g>'},"moment-pay-lock":{width:60,height:60,viewBox:"0 0 60 60",content:'<defs><style>.cls-2{fill:#96918c;stroke:#96918c;stroke-width:.1px}.cls-7{fill:none;stroke:#707070;stroke-width:3px}</style></defs><g id="online-payment" transform="translate(-399.258 -500.855)"><g id="Group_5018" data-name="Group 5018" transform="translate(1777.705 -4002.371)"><path id="Path_2749" d="M-1340.7 4548.28l5.068.911c.318.058.638.1.953.173a2.308 2.308 0 011.965 2.792c-.282 1.78-.617 3.551-.929 5.326a7.155 7.155 0 00-1.253-.406c-.914-.168-1.823-.373-2.743-.495a14.34 14.34 0 00-2.612-.341 2.787 2.787 0 00-2.467 2.143c-.121.75-.267 1.5-.385 2.247a2.9 2.9 0 001.1 2.982c.882 1.35 1.86 2.628 2.867 3.885a.98.98 0 01-.359.909c-.279.227-.311.419-.036.709.3.321.456.115.655-.083.144-.144.3-.277.449-.415a1.75 1.75 0 01.263.234q.742 1 1.469 2.006c.112.156.207.314.424.322a2.077 2.077 0 01-2.3.95c-3.338-.568-6.671-1.162-10.007-1.745q-7.366-1.288-14.733-2.574a2.328 2.328 0 01-2.048-2.942c1.009-5.869 2.022-11.737 3-17.611a2.468 2.468 0 013.053-2.2c1.627.354 3.283.57 4.927.847l1.632.293c1.5.265 3 .536 4.5.793 1.968.338 3.938.666 5.906 1a9.522 9.522 0 001.641.29zm-5.03 1.22c-.445 0-.428.005-.533.53-.066.333.126.369.361.406.465.072.933.129 1.392.231.319.071.337-.11.359-.329s.225-.522-.185-.6c-.473-.097-.956-.166-1.389-.238zm3.513.6c-.351-.083-.361.229-.436.55-.094.407.17.354.4.4.432.077.864.156 1.291.255s.348-.248.436-.458c.109-.26.039-.444-.237-.5-.437-.092-.893-.155-1.449-.247zm-18.262 2.831c-.1.684.315.519.52.616s.341.011.38-.237c.08-.5.186-.988.273-1.484.039-.222-.056-.382-.291-.372-.21.01-.521-.278-.616.158-.106.509-.202 1.021-.261 1.32zm1.5 13.076c.009-.4-.03-.451-.4-.533a8.786 8.786 0 01-1.277-.276c-.426-.164-.351.294-.481.486-.152.224-.014.32.2.4.448.158.916.221 1.37.337.497.123.567-.11.59-.414zm5.466.469c-.293-.05-.415.12-.443.37s-.091.529.284.595c.467.082.931.175 1.4.248.356.056.351-.256.42-.465s.08-.411-.215-.467c-.482-.091-.963-.187-1.444-.28zm2.205-17.641c.036-.213-.043-.344-.309-.382a8.617 8.617 0 01-1.234-.243c-.468-.139-.513.187-.586.478-.093.366.132.469.446.5.366.041.732.1 1.095.166.444.085.583-.026.591-.519zm-9.777 9.771c-.294-.059-.447.03-.475.382a6.777 6.777 0 01-.235 1.239c-.123.448.236.42.462.5.279.094.455-.038.5-.332.068-.416.141-.831.205-1.247.059-.348-.027-.583-.454-.542zm16.42 9.708c.032-.19-.066-.3-.265-.338-.5-.089-.99-.2-1.49-.263-.356-.048-.333.276-.378.485-.043.194-.057.4.259.435.417.049.828.151 1.24.238.469.097.645-.049.637-.557zm3.583.833c0-.433-.011-.452-.412-.527-.432-.081-.865-.151-1.3-.24-.454-.093-.307.308-.4.493-.1.207-.055.411.225.456q.7.114 1.4.216c.348.048.553-.051.491-.398zm-15.536-21.581c-.214-.02-.253.035-.367.49-.057.225-.089.39.219.438.515.08 1.023.21 1.54.277.36.046.3-.27.356-.491s.082-.364-.191-.414c-.494-.09-.99-.191-1.554-.3zm-4.023 9.5c.162-.019.38.081.432-.208.088-.483.2-.96.289-1.442.082-.437-.3-.367-.525-.455-.264-.1-.36.027-.4.281-.071.432-.166.862-.258 1.291-.08.384.013.609.466.533zm12.461-7.071c.459.064.416-.261.5-.486.1-.262-.017-.391-.262-.434-.465-.082-.935-.137-1.4-.239-.254-.056-.421-.02-.427.253-.005.226-.27.554.208.637s.968.188 1.385.274zm9.559.736c-.481-.034-.378.325-.454.562-.085.264.057.318.275.359.432.081.861.181 1.289.285.339.082.435-.117.538-.384s.055-.4-.2-.515a10.548 10.548 0 00-1.443-.306zm-16.782 15.792c.033-.231-.055-.339-.292-.377-.464-.074-.924-.178-1.384-.276-.344-.074-.408.176-.448.407s-.117.472.272.517a8.57 8.57 0 011.237.233c.551.149.56-.165.618-.503zm-5.831-3.827c.066-.257-.053-.421-.34-.478-.2-.04-.489-.114-.526.13a5.491 5.491 0 00-.248 1.65c.05.345.366.289.6.324.211.031.293-.076.315-.291.054-.431.133-.868.204-1.331zm12.992 5.017c.046-.217-.087-.324-.3-.364q-.7-.132-1.393-.256c-.367-.065-.326.219-.4.439-.082.262-.061.435.238.489.415.074.831.138 1.246.216.451.084.605-.037.614-.523zm12.5-14.234c.064-.375-.115-.548-.462-.59-.212-.025-.426-.031-.47.251-.075.483-.141.97-.211 1.455-.053.364.242.364.457.409s.436.073.469-.278c.044-.417.146-.826.221-1.246zm-24.157-3.952c0 .355.022.35.52.444.275.052.36-.1.374-.288a1.539 1.539 0 01.534-1.06c.27-.25-.04-.424-.142-.61a.235.235 0 00-.389-.07 2.109 2.109 0 00-.898 1.585z" data-name="Path 2749" transform="translate(0 -23.039)" fill="#aaa49f"/><path id="Path_2750" d="M-1255.5 4607.312a2.9 2.9 0 01-1.1-2.982c.118-.75.264-1.5.385-2.247a2.787 2.787 0 012.467-2.143 14.517 14.517 0 012.612.34c.92.123 1.829.327 2.742.5a7.2 7.2 0 011.253.406 3.116 3.116 0 011 3.479 3.986 3.986 0 00-.134.75 3.237 3.237 0 01-2.142 3.14 9.141 9.141 0 01-2.121-.179c-.646-.166-.7-.122-.766.545-.032.313-.063.6-.488.527-.317-.057-.669-.1-.446-.59.054-.118.015-.274.059-.4.115-.322-.01-.383-.32-.442a12.917 12.917 0 01-3.001-.704zm3.008-5.321a2.05 2.05 0 00-2.091 2.049 2.07 2.07 0 002.048 2.1 2.1 2.1 0 002.1-2.06 2.071 2.071 0 00-2.065-2.089z" class="cls-2" data-name="Path 2750" transform="translate(-86.495 -66.739)"/><path id="Path_2751" d="M-1297.8 4525.241a9.514 9.514 0 01-1.635-.285 8.388 8.388 0 00.322-1.794 5.5 5.5 0 00-1.807-4.111 5.4 5.4 0 00-6.582-.417 5.673 5.673 0 00-2.339 4.53l-1.633-.293a7.034 7.034 0 017.5-6.833 7.074 7.074 0 016.422 5.877 8.193 8.193 0 01-.248 3.326z" data-name="Path 2751" transform="translate(-42.898)" fill="#d8d0c9"/><path id="Path_2753" d="M-1303.493 4529.7a5.672 5.672 0 012.339-4.529 5.4 5.4 0 016.582.417 5.506 5.506 0 011.807 4.111 8.379 8.379 0 01-.323 1.794c-1.969-.333-3.938-.661-5.906-1-1.5-.254-2.999-.525-4.499-.793z" data-name="Path 2753" transform="translate(-49.243 -6.541)" fill="#c9c2bb"/><g id="Group_5019" data-name="Group 5019" transform="translate(-1362.36 4524.524)"><path id="Path_2752" d="M-1251.027 4635.982a12.891 12.891 0 003 .7c.311.06.436.121.32.443-.044.125-.005.281-.059.4-.222.488.129.533.446.59.425.077.456-.215.488-.527.068-.667.12-.712.765-.546a9.114 9.114 0 002.121.179 814.1 814.1 0 01-.912 5.374 1.806 1.806 0 01-.441.957c-.217-.008-.312-.167-.424-.323q-.725-1.009-1.469-2.006a1.729 1.729 0 00-.262-.234c.076-.239.161-.476.225-.717.055-.209.246-.474-.1-.594-.3-.1-.654-.287-.837.191-1.001-1.259-1.979-2.537-2.861-3.887z" class="cls-2" data-name="Path 2752" transform="translate(1271.387 -4619.932)"/><path id="Path_2754" d="M-1271.352 4567.018c.433.071.916.14 1.394.234.41.081.209.374.185.6s-.04.4-.359.329c-.459-.1-.927-.159-1.392-.231-.235-.037-.427-.072-.36-.405.104-.522.084-.526.532-.527z" class="cls-2" data-name="Path 2754" transform="translate(1287.987 -4565.08)"/><path id="Path_2755" d="M-1253.831 4569.9c.556.092 1.008.155 1.454.245.276.056.345.239.236.5-.088.21-.009.558-.436.458s-.859-.179-1.291-.256c-.229-.041-.493.012-.4-.4.076-.322.086-.632.437-.547z" class="cls-2" data-name="Path 2755" transform="translate(1273.979 -4567.359)"/><path id="Path_2756" d="M-1341.367 4577.716c.06-.3.156-.811.266-1.319.095-.437.405-.149.616-.158.235-.01.33.15.291.372-.087.5-.194.988-.273 1.484-.04.248-.168.338-.38.237s-.62.068-.52-.616z" class="cls-2" data-name="Path 2756" transform="translate(1343.253 -4572.347)"/><path id="Path_2757" d="M-1342.611 4644.407c-.02.3-.093.538-.584.412-.454-.117-.923-.18-1.37-.338-.214-.074-.351-.171-.2-.4.13-.192.055-.65.481-.487a8.787 8.787 0 001.277.276c.366.087.407.139.396.537z" class="cls-2" data-name="Path 2757" transform="translate(1345.994 -4625.963)"/><path id="Path_2758" d="M-1309.087 4649.944c.481.094.962.189 1.444.281.295.055.282.263.215.467s-.064.521-.42.465c-.468-.073-.932-.167-1.4-.248-.375-.065-.312-.346-.284-.595s.152-.419.445-.37z" class="cls-2" data-name="Path 2758" transform="translate(1317.937 -4631.03)"/><path id="Path_2759" d="M-1304.856 4561.213c-.007.492-.146.6-.587.524a16.815 16.815 0 00-1.095-.167c-.314-.035-.539-.137-.447-.5.073-.29.118-.616.586-.478a8.553 8.553 0 001.234.244c.265.033.345.164.309.377z" class="cls-2" data-name="Path 2759" transform="translate(1315.911 -4559.939)"/><path id="Path_2760" d="M-1347.136 4611.453c.427-.041.513.2.46.539-.065.416-.138.831-.205 1.247-.048.294-.224.426-.5.332-.226-.077-.584-.048-.462-.5a6.8 6.8 0 00.235-1.24c.025-.348.178-.431.472-.378z" class="cls-2" data-name="Path 2760" transform="translate(1348.415 -4600.41)"/><path id="Path_2761" d="M-1272.411 4656.6c.007.508-.169.654-.633.557-.412-.086-.823-.188-1.24-.238-.316-.037-.3-.242-.259-.435.046-.209.022-.534.378-.486.5.068.993.173 1.49.263.198.039.296.151.264.339z" class="cls-2" data-name="Path 2761" transform="translate(1290.109 -4635.851)"/><path id="Path_2762" d="M-1254.887 4659.994c.062.347-.142.446-.477.4q-.7-.1-1.4-.216c-.28-.045-.325-.25-.225-.456.09-.185-.057-.585.4-.493.43.088.864.159 1.3.24.389.073.405.091.402.525z" class="cls-2" data-name="Path 2762" transform="translate(1276.169 -4638.41)"/><path id="Path_2763" d="M-1324.015 4557.551c.564.109 1.059.209 1.557.3.273.05.244.206.191.414s0 .538-.356.491c-.516-.067-1.025-.2-1.54-.278-.308-.048-.276-.213-.219-.437.114-.455.153-.51.367-.49z" class="cls-2" data-name="Path 2763" transform="translate(1329.76 -4557.548)"/><path id="Path_2764" d="M-1344.011 4595.672c-.453.075-.546-.15-.464-.534.092-.429.187-.858.258-1.291.041-.254.138-.383.4-.281.228.088.607.019.525.456-.09.482-.2.959-.289 1.442-.051.289-.268.189-.43.208z" class="cls-2" data-name="Path 2764" transform="translate(1345.734 -4586.168)"/><path id="Path_2765" d="M-1287.675 4564.845c-.417-.082-.9-.185-1.378-.269s-.214-.411-.208-.636c.007-.273.173-.31.427-.254.46.1.931.158 1.4.239.245.043.358.172.262.434-.087.225-.044.551-.503.486z" class="cls-2" data-name="Path 2765" transform="translate(1301.859 -4562.412)"/><path id="Path_2766" d="M-1236.353 4573.027a10.629 10.629 0 011.445.307c.258.119.3.252.2.516s-.2.465-.537.383c-.428-.1-.857-.2-1.289-.285-.219-.041-.36-.1-.275-.359.078-.236-.025-.595.456-.562z" class="cls-2" data-name="Path 2766" transform="translate(1260.097 -4569.858)"/><path id="Path_2767" d="M-1324.886 4647.622c-.059.337-.069.651-.615.5a8.507 8.507 0 00-1.237-.233c-.389-.045-.309-.3-.272-.517s.1-.48.448-.407c.46.1.92.2 1.384.276.236.042.324.15.292.381z" class="cls-2" data-name="Path 2767" transform="translate(1331.848 -4628.66)"/><path id="Path_2768" d="M-1239.292 4653.748c.182-.478.538-.3.837-.191.342.121.151.385.1.594-.064.242-.149.479-.225.717-.15.138-.3.272-.449.416-.2.2-.351.4-.655.083-.274-.291-.243-.482.036-.709a.98.98 0 00.356-.91z" class="cls-2" data-name="Path 2768" transform="translate(1262.519 -4633.813)"/><path id="Path_2769" d="M-1349.392 4629.487c-.071.467-.15.9-.2 1.335-.023.215-.1.323-.315.291-.237-.035-.552.021-.6-.325a5.484 5.484 0 01.248-1.649c.038-.243.324-.17.526-.13.288.057.407.221.341.478z" class="cls-2" data-name="Path 2769" transform="translate(1350.524 -4614.353)"/><path id="Path_2770" d="M-1289.769 4653.579c-.009.486-.16.607-.6.524-.414-.077-.831-.142-1.246-.215-.3-.054-.32-.227-.238-.489.069-.221.028-.505.4-.44q.7.124 1.393.257c.204.039.336.146.291.363z" class="cls-2" data-name="Path 2770" transform="translate(1303.893 -4633.427)"/><path id="Path_2771" d="M-1224.894 4584.13c-.075.416-.177.829-.217 1.248-.034.352-.255.323-.469.277s-.51-.045-.457-.409c.07-.484.136-.97.211-1.455.044-.283.259-.276.47-.25.348.042.527.214.462.589z" class="cls-2" data-name="Path 2771" transform="translate(1251.516 -4578.213)"/><path id="Path_2772" d="M-1338.48 4560.709a2.112 2.112 0 01.9-1.585.236.236 0 01.389.07c.1.187.412.361.142.61a1.54 1.54 0 00-.533 1.061c-.014.187-.1.34-.374.288-.502-.094-.524-.089-.524-.444z" class="cls-2" data-name="Path 2772" transform="translate(1340.944 -4558.744)"/></g><path id="Path_2773" d="M-1244.456 4609.977a2.071 2.071 0 012.059 2.091 2.1 2.1 0 01-2.1 2.06 2.07 2.07 0 01-2.048-2.1 2.051 2.051 0 012.089-2.051z" data-name="Path 2773" transform="translate(-94.537 -74.725)" fill="#fefefe"/></g><g id="Group_4322" data-name="Group 4322" transform="translate(399.258 500.855)"><g id="Group_2000" data-name="Group 2000" opacity=".542"><g id="Ellipse_334" class="cls-7" data-name="Ellipse 334"><circle cx="30" cy="30" r="30" stroke="none"/><circle cx="30" cy="30" r="28.5" fill="none"/></g><path id="Line_509" d="M0 0l40.755 40.755" class="cls-7" data-name="Line 509" transform="translate(9.708 10.755)"/></g></g></g>'},"moment-pay":{width:222.42,height:144.06,viewBox:"0 0 222.42 144.06",content:'<g transform="translate(-842 -293.35)"><ellipse cx="73.33" cy="10.07" rx="73.33" ry="10.07" transform="translate(886.5 417.26)" opacity=".12" fill="#fbb600"/><g transform="translate(842 293.82)" opacity=".19" fill="#fbb600"><rect width="13.34" height="9" rx="4.5" transform="translate(176.64 4.7)"/><rect width="13.34" height="9" rx="4.5" transform="translate(209.07 49.86)"/><path d="M183.18 20.61h-21a4.49 4.49 0 01-.88.1H157a4.52 4.52 0 01-4.53-4.53 4.52 4.52 0 014.52-4.52h4.3a4.58 4.58 0 01.89.1h3.1a5.87 5.87 0 005.88-5.88A5.88 5.88 0 00165.28 0H133.6a5.88 5.88 0 00-5.88 5.88 5.87 5.87 0 005.37 5.85 4.44 4.44 0 01.63-.07h4.3a4.52 4.52 0 014.52 4.52 4.5 4.5 0 01-4.1 4.48v.01a5.87 5.87 0 00-5.08 5.82 5.88 5.88 0 005.88 5.87h43.94a5.88 5.88 0 005.88-5.87 5.88 5.88 0 00-5.88-5.88zM191.97 44.51H74.22c-2.9 0-5.27 2.64-5.27 5.88a5.66 5.66 0 004.81 5.85 3.7 3.7 0 01.57-.06h34.53a4.3 4.3 0 014.05 4.52 4.36 4.36 0 01-3.5 4.44H31.15c-2.91 0-5.27 2.63-5.27 5.88a5.66 5.66 0 004.81 5.85 3.67 3.67 0 01.56-.07h12.38a4.3 4.3 0 014.05 4.52 4.34 4.34 0 01-3.67 4.48v.01c-.12.02-.23.07-.35.1H5.2c-2.87 0-5.2 2.6-5.2 5.8 0 3.2 2.33 5.8 5.2 5.8h132.1c2.9 0 5.27-2.64 5.27-5.88s-2.36-5.88-5.27-5.88h-14.68a3.62 3.62 0 01-.8.1h-3.85a4.3 4.3 0 01-4.05-4.53 4.4 4.4 0 013.33-4.44h5.3l.07.01h57.75c2.91 0 5.27-2.64 5.27-5.88s-2.36-5.88-5.27-5.88h-14.68a3.65 3.65 0 01-.8.1h-3.85a4.3 4.3 0 01-4.05-4.53 4.3 4.3 0 014.05-4.52h3.86a3.73 3.73 0 01.79.1h26.28c2.91 0 5.27-2.64 5.27-5.88s-2.36-5.88-5.27-5.88z" opacity=".54"/></g><path d="M972.72 411s.1-.56.38-.6" fill="none"/><g fill="#eff1f5"><path d="M967.83 304.26l-13.44-10.9 13.44 10.9zM994.96 319.6l-9.33-14.58 9.32 14.59z"/></g><path d="M988.73 407s.1-.56.38-.6" fill="none"/><g><g transform="translate(912.6 325.6)"><circle cx="47.5" cy="47.5" r="47.5" transform="translate(.4 .4)" fill="#ffb92b"/><path d="M71.51 56.35v-9.72a20.95 20.95 0 00-.37-4.93 7.98 7.98 0 00-1.52-2.9 8.5 8.5 0 00-3.32-2.42 11.8 11.8 0 00-4.85-.98 11.87 11.87 0 00-10.22 5.25 7.43 7.43 0 00-3.19-3.94 10.9 10.9 0 00-5.61-1.3 14.05 14.05 0 00-5.71 1.13 13.31 13.31 0 00-4.63 3.45v-4.78a42.16 42.16 0 01-12.43 1.64v2.82h1.58a1.21 1.21 0 011.21 1.22v15.47a1.21 1.21 0 01-1.21 1.21h-1.7v2.82h15.44v-2.82h-1.67a1.21 1.21 0 01-1.21-1.2V44.34a8.77 8.77 0 013.14-3.78 5.88 5.88 0 013.21-1.02c2.03 0 3.68 1.65 3.68 4.41v12.41a1.21 1.21 0 01-1.21 1.21h-1.68v2.82h15.43v-2.82h-1.62a1.21 1.21 0 01-1.21-1.2V43.53a12.72 12.72 0 013.1-2.98 5.94 5.94 0 013.09-1.02 3.78 3.78 0 013.8 3.8l-.01 13.03a1.21 1.21 0 01-1.22 1.21h-1.62v2.82H75v-2.82h-2.27a1.21 1.21 0 01-1.21-1.2" fill="#fff" stroke="transparent"/></g></g></g>'},"money-sack":{width:146.5,height:115.3,viewBox:"0 0 146.5 115.3",content:'<g transform="translate(-854.788 -317.5)" fill="#cfcfcf"><path d="M919.5 322.6l2.7-1.1c2.5-1 5.3-1.1 7.9-.1 2.1.8 4.4.5 6.2-.8l3.5-2.4c1.3-.9 3-.9 4.3 0l2.6 1.8c2.4 1.6 5.4 2 8.1.9 2.3-.9 4.8-.7 6.9.6l2 1.2-8.1 13.9h-26.3l-9.8-14zM877.2 369.5h13.2c2.6 0 4.6-2.1 4.6-4.6 0-2.6-2.1-4.6-4.6-4.6h-13.2c-2.6 0-4.6 2.1-4.6 4.6 0 2.5 2.1 4.6 4.6 4.6z"/><path d="M957.1 341.8h-30.4c-5.6 3.6-11.8 10.5-17 18.5h-6.1c-2.6 0-4.6 2.1-4.6 4.6 0 2.6 2.1 4.6 4.6 4.6h15.2c2.6 0 4.6 2.1 4.6 4.6 0 2.6-2.1 4.6-4.6 4.6h-59.4c-2.6 0-4.6 2.1-4.6 4.6 0 2.6 2.1 4.6 4.6 4.6h48.9c2.6 0 4.6 2.1 4.6 4.6 0 2.6-2.1 4.6-4.6 4.6h-31c-2.6 0-4.6 2.1-4.6 4.6 0 2.6 2.1 4.6 4.6 4.6h23.6c2.7 7.7 7.7 14.4 14.3 19.1h55c11-8.3 16.1-20.2 16.1-35-.1-16.4-15.9-40.7-29.2-48.6zm-12.5 61.6v4.7c-.1 1-.9 1.7-1.9 1.7-1 0-1.8-.7-1.9-1.7v-4.8c-4.9-.4-9-3.7-10.5-8.3-.1-.4-.2-.7-.2-1.1 0-1.3 1-2.4 2.4-2.4h.2c1.1 0 2 .8 2.3 1.8.8 2.8 3.9 5.3 8 5.3 5 0 7.7-3 7.7-6.2.1-3.8-3.2-5.4-6.5-6.3l-4.9-1.2c-8.1-2-9.3-6.7-9.3-10 0-5.9 4.9-10 10.8-10.6v-4.1c.1-1 1-1.8 2.1-1.7.9.1 1.6.8 1.7 1.7v4.2c4.9.7 8.4 3.6 9.6 7.9.1.4.2.8.2 1.3 0 1.2-.6 2.3-2.5 2.3-1.1.1-2.1-.7-2.4-1.8-.9-3.5-3.7-5-7.2-5-3.7 0-7.1 2.3-7.1 5.8 0 1.7.6 4.2 5.4 5.3l5 1.2c6.5 1.6 10.3 5.3 10.3 10.5 0 5.8-4.1 10.8-11.3 11.5z"/><circle fill="#fff" cx="980.9" cy="412.4" r="18.9"/><path d="M980.9 432.8c-11.2 0-20.4-9.1-20.4-20.4s9.1-20.4 20.4-20.4 20.4 9.1 20.4 20.4-9.2 20.4-20.4 20.4zm0-37.8c-9.6 0-17.4 7.8-17.4 17.4s7.8 17.4 17.4 17.4 17.4-7.8 17.4-17.4-7.8-17.4-17.4-17.4z"/><path d="M981.9 423.1c-1.1 0-2.3-.3-3.2-1-.5-.3-.6-.9-.3-1.4.3-.5.9-.6 1.4-.3.7.5 1.6.7 2.4.6 4.7 0 8.4-3.8 8.4-8.4s-3.8-8.4-8.4-8.4c-.6 0-1-.4-1-1s.4-1 1-1c5.7 0 10.4 4.7 10.4 10.4s-4.7 10.4-10.4 10.4c-.1.1-.2.1-.3.1z"/><path d="M980.6 410.4c-1.5 0-2.6 1.2-2.6 2.6v.4l-7.4 6.8c-.6.6-.6 1.5-.1 2.1.3.3.7.5 1.1.5.4 0 .7-.1 1-.4l7.4-6.8c.2 0 .4.1.5.1 1.5 0 2.6-1.2 2.6-2.6.2-1.5-1-2.7-2.5-2.7z"/></g>'},"negative-status":{width:12,height:12,viewBox:"0 0 12 12",content:'<g transform="translate(-5719 -10216)"><circle cx="6" cy="6" r="6" fill="#fd3b5c" transform="translate(5719 10216)"/><path fill="none" stroke="#fff" stroke-linecap="round" stroke-width="1.5" d="M5725 10219.001v3"/><g fill="#fff" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" transform="translate(5724.449 10223.921)"><circle cx=".8" cy=".8" r=".8" stroke="none"/><circle cx=".8" cy=".8" r=".2" fill="none"/></g></g>'},new_order:{width:18,height:23,viewBox:"0 0 18 23",content:'<g stroke="currentColor" fill="none" fill-rule="evenodd"><path d="M4.752 17.1063L.522 17.1063C.235 17.1063-2.30926389e-14 16.8723-2.30926389e-14 16.5833L-2.30926389e-14 1.6393C-2.30926389e-14 1.3503.235.9803.522.9803L1.481.9803M10.606 1.0594L11.585 1.0594C11.874 1.0594 12.106 1.2954 12.106 1.5844L12.106 9.0434M1.8648 4.9579L9.5998 4.9579M1.6724 7.9715L6.4744 7.9715M1.7403 11.0428L4.5693 11.0428M3.1891 1.98L9.1251 1.98 9.1251 7.10542736e-15 3.1891 7.10542736e-15zM10.7994 9.5887L5.7564 11.7237 5.7564 17.7257 10.6274 20.3657 15.4554 17.8507 15.4174 11.6697z" transform="translate(1.9629 1.5)"/><path d="M5.8907 11.8358L10.6267 14.1048 15.4177 11.6698M10.627 19.7625L10.627 13.9595" transform="translate(1.9629 1.5)"/></g>'},"notification-lock":{width:60,height:60,viewBox:"0 0 60 60",content:'<defs><style>.cls-3{fill:#eee}.cls-4{fill:#96918c}.cls-6{fill:#858380}.cls-9{fill:#aaa49f}</style></defs><g id="momentpay-email" transform="translate(-401.937 -635.123)"><g id="Group_4321" data-name="Group 4321" transform="translate(401.937 635.123)"><g id="Group_2005" data-name="Group 2005" opacity=".542"><g id="Ellipse_334" data-name="Ellipse 334" stroke-width="3" stroke="#707070" fill="none"><circle cx="30" cy="30" r="30" stroke="none"/><circle cx="30" cy="30" r="28.5"/></g></g><g id="Group_5015" data-name="Group 5015" transform="translate(8.08 14.278)"><g id="Group_5014" data-name="Group 5014" transform="translate(11.174)"><path id="Path_2719" d="M3220.963 3582.278a.084.084 0 00.023.009.084.084 0 01-.023-.009z" class="cls-3" data-name="Path 2719" transform="translate(-3193.845 -3569.594)"/><path id="Path_2720" d="M3220.9 3582.263h.019z" class="cls-3" data-name="Path 2720" transform="translate(-3193.821 -3569.589)"/><path id="Path_2721" d="M3220.83 3582.254h.015z" class="cls-3" data-name="Path 2721" transform="translate(-3193.795 -3569.586)"/><path id="Path_2722" d="M3221.027 3582.307a.139.139 0 01.024.007.139.139 0 00-.024-.007z" class="cls-3" data-name="Path 2722" transform="translate(-3193.869 -3569.606)"/><path id="Path_2723" d="M3221.293 3582.5l.023.031z" class="cls-3" data-name="Path 2723" transform="translate(-3193.969 -3569.677)"/><path id="Path_2724" d="M3221.246 3582.449l.025.025z" class="cls-3" data-name="Path 2724" transform="translate(-3193.951 -3569.659)"/><path id="Path_2725" d="M3221.369 3582.6a.427.427 0 01.058.2.427.427 0 00-.058-.2z" class="cls-3" data-name="Path 2725" transform="translate(-3193.998 -3569.716)"/><path id="Path_2726" d="M3221.2 3582.4a.24.24 0 01.026.023.24.24 0 00-.026-.023z" class="cls-3" data-name="Path 2726" transform="translate(-3193.933 -3569.642)"/><path id="Path_2727" d="M3221.333 3582.547l.022.034-.022-.034z" class="cls-3" data-name="Path 2727" transform="translate(-3193.984 -3569.695)"/><path id="Path_2728" d="M3221.09 3582.331a.107.107 0 00.023.015.107.107 0 01-.023-.015z" class="cls-3" data-name="Path 2728" transform="translate(-3193.893 -3569.614)"/><path id="Path_2729" d="M3221.146 3582.364a.109.109 0 01.025.02.109.109 0 00-.025-.02z" class="cls-3" data-name="Path 2729" transform="translate(-3193.914 -3569.626)"/><path id="Path_2730" d="M3221.463 3582.942v-.017z" class="cls-3" data-name="Path 2730" transform="translate(-3194.032 -3569.837)"/><path id="Path_2732" d="M3220.853 3582.258a.092.092 0 00.028 0 .092.092 0 01-.028 0z" class="cls-3" data-name="Path 2732" transform="translate(-3193.804 -3569.587)"/><path id="Path_2733" d="M3221 3582.293c.005 0 .012.005.017.009s-.011-.002-.017-.009z" class="cls-3" data-name="Path 2733" transform="translate(-3193.859 -3569.6)"/><path id="Path_2734" d="M3220.928 3582.271h.022z" class="cls-3" data-name="Path 2734" transform="translate(-3193.832 -3569.591)"/><path id="Path_2735" d="M3220.756 3582.25h.045z" class="cls-3" data-name="Path 2735" transform="translate(-3193.768 -3569.584)"/><path id="Path_2736" d="M3221.066 3582.319a.045.045 0 00.016.007.045.045 0 01-.016-.007z" class="cls-3" data-name="Path 2736" transform="translate(-3193.884 -3569.61)"/><path id="Path_2739" d="M3221.127 3582.354l.011.007z" class="cls-3" data-name="Path 2739" transform="translate(-3193.906 -3569.623)"/><path id="Path_2741" d="M3221.238 3582.441z" class="cls-3" data-name="Path 2741" transform="translate(-3193.948 -3569.655)"/><path id="Path_2742" d="M3221.185 3582.4s.006.005.008.005-.005-.005-.008-.005z" class="cls-3" data-name="Path 2742" transform="translate(-3193.928 -3569.638)"/><path id="Path_2743" d="M3177.908 3574.692l.016-.008a.083.083 0 01.023-.008l.017-.009a.048.048 0 00.022-.009h.022l.019-.005a.09.09 0 00.028 0h26.669a.089.089 0 00.028 0l.019.005a.011.011 0 00.007 0l-12.156-12.157a1.793 1.793 0 00-2.539 0l-12.208 12.208.01-.006a.181.181 0 00.023-.011z" class="cls-4" data-name="Path 2743" transform="translate(-3177.676 -3561.975)"/><path id="Path_2744" d="M3221.207 3582.479a.413.413 0 00-.022-.035.38.38 0 00-.023-.032.3.3 0 01-.025-.025.144.144 0 00-.025-.023l-.007-.005a.107.107 0 00-.025-.02l-.011-.007a.124.124 0 01-.023-.014.074.074 0 01-.015-.008.091.091 0 00-.024-.008s-.012 0-.018-.008a.087.087 0 01-.023-.009h-.015l.311.311a.452.452 0 00-.055-.117z" data-name="Path 2744" transform="translate(-3193.836 -3569.593)" fill="#701e15"/><path id="Path_2745" d="M3177.615 3582.47a.448.448 0 00-.058.2l13.714 7.881 13.713-7.881a.4.4 0 00-.015-.1l-.311-.31a.009.009 0 01-.007 0l-.019-.005a.092.092 0 01-.028 0h-26.664a.092.092 0 01-.028 0 .081.081 0 01-.019.005.117.117 0 01-.022 0 .057.057 0 01-.022.009l-.018.008c-.008 0-.016.006-.023.008l-.015.008a.187.187 0 01-.023.014l-.01.006-.127.127c0 .007-.01.014-.014.021z" class="cls-6" data-name="Path 2745" transform="translate(-3177.556 -3569.584)"/><g id="Group_5013" data-name="Group 5013" transform="translate(1.883 4.311)"><path id="Rectangle_2657" d="M0 0h23.914v13.108H0z" data-name="Rectangle 2657" transform="translate(0 6.408)" fill="#faf7f4"/><path id="Rectangle_2658" d="M0 0h23.913v7.834H0z" data-name="Rectangle 2658" transform="translate(.001)" fill="#e5e5e5"/></g><path id="Path_2746" d="M3191.345 3595.541l-13.591 7.81a.376.376 0 00.1.08.145.145 0 00.037.018.156.156 0 00.035.015h.006a.137.137 0 00.034.007.008.008 0 01.009 0c.012 0 .023 0 .034.006h26.662c.011 0 .023 0 .035-.006s0 0 .008 0a.155.155 0 00.035-.007h.006a.138.138 0 00.035-.015.147.147 0 00.036-.018.381.381 0 00.1-.08z" class="cls-9" data-name="Path 2746" transform="translate(-3177.63 -3574.572)"/><path id="Path_2747" d="M3213.128 3598.587l.024-.032a.16.16 0 01.02-.036v-.005a.164.164 0 00.017-.036c0-.01.008-.022.012-.033v-.012a.3.3 0 00.007-.03v-15.474l-13.714 7.881 13.591 7.811c.01-.009.018-.021.026-.029z" class="cls-4" data-name="Path 2747" transform="translate(-3185.794 -3569.837)"/><path id="Path_2748" d="M3191.27 3590.806l-13.714-7.881v15.43a.075.075 0 010 .024v.02a.2.2 0 00.009.03.052.052 0 000 .012c0 .011.009.023.013.033a.336.336 0 00.018.036v.005c.006.01.013.02.021.036l.024.032a.288.288 0 00.027.029z" data-name="Path 2748" transform="translate(-3177.555 -3569.837)" fill="#c9c2bb"/></g><rect id="Rectangle_2659" width="8.329" height="1.343" class="cls-6" data-name="Rectangle 2659" rx=".672" transform="translate(0 13.647)"/><rect id="Rectangle_2660" width="5.676" height="1.343" class="cls-4" data-name="Rectangle 2660" rx=".671" transform="translate(2.653 16.603)"/><rect id="Rectangle_2661" width="4.266" height="1.343" class="cls-9" data-name="Rectangle 2661" rx=".672" transform="translate(4.064 19.524)"/></g></g><path id="Line_1290" d="M411.655 645.826l40.734 40.798" data-name="Line 1290" stroke="#b1ada9" stroke-width="3" fill="none"/></g>'},"online-gift-cards-lock":{width:60,height:60,viewBox:"0 0 60 60",content:'<defs><style>.prefix__cls-7{fill:#eee}</style></defs><g id="prefix__Group_5324" data-name="Group 5324" transform="translate(-713.937 -710.037)"><g id="prefix__bony" transform="translate(-908.795 72.91)"><path id="prefix__Path_2785" d="M1669.865 665.378a2.391 2.391 0 012.988-1.589l.561-1.828-36.158-11.088-.562 1.829a2.393 2.393 0 01-1.4 4.576h-.006l-.562 1.829a2.394 2.394 0 01-1.406 4.578l-.7 2.286a2.391 2.391 0 11-1.406 4.57l-.422 1.371L1666.954 683l.422-1.372a2.394 2.394 0 111.406-4.576l.7-2.286a2.39 2.39 0 111.4-4.569l.564-1.836a2.388 2.388 0 01-1.581-2.983z" data-name="Path 2785" fill="#c9c2bb"/><path id="prefix__Path_2786" d="M1662.521 676.691c-.225.731-.577 1.322-1.337 1.09l-22.884-7.017a1.452 1.452 0 01-.957-1.794l3.515-11.431a1.453 1.453 0 011.794-.949l22.884 7.016c.759.233.858.465.633 1.2z" data-name="Path 2786" fill-rule="evenodd" stroke="#96918c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" fill="none"/><g id="prefix__Group_5320" data-name="Group 5320" transform="translate(1647.874 663.568)"><path id="prefix__Path_2787" d="M1655.223 676.737l.323-.571c.351-.648.709-1.279 1.049-1.919a.719.719 0 00-.025-.751l-1.4-2.346c-.051-.077-.127-.171-.051-.273s.188-.051.282-.034l1.748.333.948.179a.718.718 0 00.717-.248c.426-.461.835-.938 1.253-1.407l.58-.656.06-.06c.112-.094.231-.068.265.077s.043.3.06.444l.306 2.345a.821.821 0 00.521.681l1.484.623 1.04.452.093.06a.127.127 0 010 .222 1.322 1.322 0 01-.153.086c-.784.367-1.561.733-2.337 1.082a.894.894 0 00-.588.837c-.068.869-.163 1.739-.239 2.609l-.009.077c-.034.145-.154.179-.265.077-.145-.136-.281-.29-.418-.435l-1.551-1.638a.757.757 0 00-.734-.221l-2.6.571a.9.9 0 01-.213.042c-.129.01-.198-.075-.146-.238z" data-name="Path 2787" transform="translate(-1655.918 -669.789)" fill="#96918c" fill-rule="evenodd"/></g></g><g id="prefix__momentpay-email" transform="translate(312 74.914)"><g id="prefix__Group_4321" data-name="Group 4321" transform="translate(401.937 635.123)" opacity=".54"><g id="prefix__Group_2005" data-name="Group 2005" opacity=".542"><g id="prefix__Ellipse_334" data-name="Ellipse 334" stroke-width="3" stroke="#707070" fill="none"><circle cx="30" cy="30" r="30" stroke="none"/><circle cx="30" cy="30" r="28.5"/></g></g><g id="prefix__Group_5015" data-name="Group 5015" transform="translate(8.08 14.278)"><g id="prefix__Group_5014" data-name="Group 5014" transform="translate(11.174)"><path id="prefix__Path_2719" d="M3220.963 3582.278a.084.084 0 00.023.009.084.084 0 01-.023-.009z" class="prefix__cls-7" data-name="Path 2719" transform="translate(-3193.845 -3569.594)"/><path id="prefix__Path_2720" d="M3220.9 3582.263h.019z" class="prefix__cls-7" data-name="Path 2720" transform="translate(-3193.821 -3569.589)"/><path id="prefix__Path_2721" d="M3220.83 3582.254h.015z" class="prefix__cls-7" data-name="Path 2721" transform="translate(-3193.795 -3569.586)"/><path id="prefix__Path_2722" d="M3221.027 3582.307a.139.139 0 01.024.007.139.139 0 00-.024-.007z" class="prefix__cls-7" data-name="Path 2722" transform="translate(-3193.869 -3569.606)"/><path id="prefix__Path_2723" d="M3221.293 3582.5l.023.031z" class="prefix__cls-7" data-name="Path 2723" transform="translate(-3193.969 -3569.677)"/><path id="prefix__Path_2724" d="M3221.246 3582.449l.025.025z" class="prefix__cls-7" data-name="Path 2724" transform="translate(-3193.951 -3569.659)"/><path id="prefix__Path_2725" d="M3221.369 3582.6a.427.427 0 01.058.2.427.427 0 00-.058-.2z" class="prefix__cls-7" data-name="Path 2725" transform="translate(-3193.998 -3569.716)"/><path id="prefix__Path_2726" d="M3221.2 3582.4a.24.24 0 01.026.023.24.24 0 00-.026-.023z" class="prefix__cls-7" data-name="Path 2726" transform="translate(-3193.933 -3569.642)"/><path id="prefix__Path_2727" d="M3221.333 3582.547l.022.034-.022-.034z" class="prefix__cls-7" data-name="Path 2727" transform="translate(-3193.984 -3569.695)"/><path id="prefix__Path_2728" d="M3221.09 3582.331a.107.107 0 00.023.015.107.107 0 01-.023-.015z" class="prefix__cls-7" data-name="Path 2728" transform="translate(-3193.893 -3569.614)"/><path id="prefix__Path_2729" d="M3221.146 3582.364a.109.109 0 01.025.02.109.109 0 00-.025-.02z" class="prefix__cls-7" data-name="Path 2729" transform="translate(-3193.914 -3569.626)"/><path id="prefix__Path_2730" d="M3221.463 3582.942v-.017z" class="prefix__cls-7" data-name="Path 2730" transform="translate(-3194.032 -3569.837)"/><path id="prefix__Path_2732" d="M3220.853 3582.258a.092.092 0 00.028 0 .092.092 0 01-.028 0z" class="prefix__cls-7" data-name="Path 2732" transform="translate(-3193.804 -3569.587)"/><path id="prefix__Path_2733" d="M3221 3582.293c.005 0 .012.005.017.009s-.011-.002-.017-.009z" class="prefix__cls-7" data-name="Path 2733" transform="translate(-3193.859 -3569.6)"/><path id="prefix__Path_2734" d="M3220.928 3582.271h.022z" class="prefix__cls-7" data-name="Path 2734" transform="translate(-3193.832 -3569.591)"/><path id="prefix__Path_2735" d="M3220.756 3582.25h.045z" class="prefix__cls-7" data-name="Path 2735" transform="translate(-3193.768 -3569.584)"/><path id="prefix__Path_2736" d="M3221.066 3582.319a.045.045 0 00.016.007.045.045 0 01-.016-.007z" class="prefix__cls-7" data-name="Path 2736" transform="translate(-3193.884 -3569.61)"/><path id="prefix__Path_2739" d="M3221.127 3582.354l.011.007z" class="prefix__cls-7" data-name="Path 2739" transform="translate(-3193.906 -3569.623)"/><path id="prefix__Path_2741" d="M3221.238 3582.441z" class="prefix__cls-7" data-name="Path 2741" transform="translate(-3193.948 -3569.655)"/><path id="prefix__Path_2742" d="M3221.185 3582.4s.006.005.008.005-.005-.005-.008-.005z" class="prefix__cls-7" data-name="Path 2742" transform="translate(-3193.928 -3569.638)"/><path id="prefix__Path_2744" d="M3221.207 3582.479l-.022-.035a.38.38 0 00-.023-.032.3.3 0 01-.025-.025.144.144 0 00-.025-.023l-.007-.005a.107.107 0 00-.025-.02l-.011-.007a.124.124 0 01-.023-.014.074.074 0 01-.015-.008.091.091 0 00-.024-.008s-.012 0-.018-.008a.087.087 0 01-.023-.009h-.015l.311.311a.452.452 0 00-.055-.117z" data-name="Path 2744" transform="translate(-3193.836 -3569.593)" fill="#701e15"/></g></g></g><path id="prefix__Line_1290" d="M411.655 645.826l40.734 40.798" data-name="Line 1290" stroke="#b1ada9" stroke-width="3" opacity=".54" fill="none"/></g></g>'},"online-payments":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.2 22.9c-.4.5-1 .8-1.6.8h-10c-1.1 0-2-.9-2-2v-19c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v5.9M1.1 5.2h13M9.6 18.1H1.1"/><path d="M7.2 21.1h1"/><path d="M8.8 9.4c2.3.3 4.6-.2 6.6-1.2C18 9.5 22 9.4 22 9.4s2.6 9.8-6.6 14.1C6.5 19.9 8.8 9.4 8.8 9.4z"/><path d="M12.9 15.4L15 18l3.4-5"/></g>'},order_drafts:{width:20,height:20,viewBox:"0 0 20 20",content:'<g stroke="currentColor" fill="none" fill-rule="evenodd"><path d="M12.043 12.6458L12.043 16.5828C12.043 16.8718 11.811 17.1058 11.522 17.1058L.522 17.1058C.234 17.1058-5.32907052e-14 16.8718-5.32907052e-14 16.5828L-5.32907052e-14 1.6388C-5.32907052e-14 1.3498.234.9798.522.9798L1.48.9798M10.6055 1.0588L11.5845 1.0588C11.8735 1.0588 12.1055 1.2948 12.1055 1.5838L12.1055 5.4988" transform="translate(1.959 1.858)"/><path d="M14.6465 4.5823L16.5625 6.5613 8.0855 15.0603 6.0625 15.0883 6.0625 13.0613zM1.8643 4.9573L9.5993 4.9573M1.6719 7.971L6.4749 7.971M1.7403 11.0422L4.5683 11.0422M3.188 1.98L9.125 1.98 9.125 7.10542736e-15 3.188 7.10542736e-15z" transform="translate(1.959 1.858)"/></g>'},order_history:{width:19,height:21,viewBox:"0 0 19 21",content:'<g stroke="currentColor" fill="none" fill-rule="evenodd"><path d="M10 5C10 7.76491718 7.82279248 10 5.04142251 10 2.25702162 10 0 7.76491718 0 5 0 2.23907404 2.25702162 0 5.04142251 0 7.82279248 0 10 2.23907404 10 5zM4.5 5.3333L4.5 2M8 5.5L4.5 5.5" stroke-linecap="round" stroke-linejoin="round" transform="translate(1 1)"/><path d="M17,14.177834 L17,18.3733848 C17,18.6813641 16.7056492,19 16.419227,19 L5.5173439,19 C5.23191278,19 5,18.7506327 5,18.4426535 L5,11" transform="translate(1 1)"/><path d="M15 3L16.3053333 3C16.6906667 3 17 3.23264602 17 3.51753882L17 15M10 1L14 1 14 3 10.3998877 3M10.8232 7.5L12.503 7.5M13.9882 7.8535L14.7272 7.8535 14.7272 7.1475 13.9882 7.1475zM7 11.2168L12.503 11.2168M13.9882 11.5435L14.7272 11.5435 14.7272 10.8375 13.9882 10.8375zM7 15.2305L12.503 15.2305M13.9882 15.5845L14.7272 15.5845 14.7272 14.8785 13.9882 14.8785z" transform="translate(1 1)"/></g>'},"payment-alior":{width:24,height:24,viewBox:"0 0 24 24",content:'<path fill="currentColor" d="M3.08 20.258a2.812 2.812 0 01-1.999-.827A2.814 2.814 0 01.25 17.43V6.713a2.813 2.813 0 01.828-2.003 2.818 2.818 0 012.002-.832H20.92a2.837 2.837 0 012.831 2.835v10.715a2.835 2.835 0 01-2.831 2.83H3.079zm.004-14.88c-.358 0-.693.14-.945.392s-.39.586-.389.942v10.716c0 .355.14.69.392.941.25.251.584.389.939.389H20.919c.733 0 1.33-.597 1.331-1.331V6.713a1.335 1.335 0 00-1.332-1.335H3.084z" /><path fill="currentColor" d="M17.717 6.94H6.632l.013.029h-.346a3.538 3.538 0 01-3.064 2.982v4.253a3.53 3.53 0 013.041 2.86h11.086l-.014-.03h.35a3.53 3.53 0 013.06-2.981V9.8a3.53 3.53 0 01-3.041-2.86zm-5.57 7.173v.71l-.433-.003v-.69a1.995 1.995 0 01-1.045-.3l.164-.458c.292.19.634.293.983.296.485 0 .815-.28.815-.667 0-.375-.266-.608-.772-.814-.697-.274-1.127-.588-1.127-1.185a1.121 1.121 0 011.032-1.1v-.69h.423v.666c.312.003.618.085.89.239l-.172.45a1.653 1.653 0 00-.86-.232c-.527 0-.725.315-.725.588 0 .355.253.533.847.78.704.286 1.06.641 1.06 1.249a1.185 1.185 0 01-1.08 1.161z"/>'},"payment-blik":{width:40,height:40,viewBox:"0 0 40 40",content:'<path d="M2.035 29.762h-.142a2.136 2.136 0 0 1-1.738-.984L0 28.544v-16.36l.03-.034a.565.565 0 0 0 .068-.09A2.116 2.116 0 0 1 1.982 11H37.84A2.132 2.132 0 0 1 40 13.15v.182c0 4.666 0 9.49-.01 14.235 0 .205-.025.408-.075.606a2.13 2.13 0 0 1-2.14 1.587l-35.739.002zm3.65-15.521c0 2.837-.006 5.698-.006 8.508 0 .23.011.476.032.728a4.4 4.4 0 0 0 1.464 2.884 4.497 4.497 0 0 0 3.006 1.169c.191 0 .382-.012.571-.038a4.513 4.513 0 0 0 3.917-5.054 4.432 4.432 0 0 0-1.527-2.85 4.544 4.544 0 0 0-2.95-1.097 4.41 4.41 0 0 0-1.845.404c-.043.021-.091.04-.14.06l-.029.014c-.025.01-.054.02-.083.035l-.029.012v-5.08H5.69l-.006.305zm10.687 0v6.309c0 2.168 0 4.411-.012 6.615 0 .213.055.273.246.273h.03c.443-.015.894-.015 1.29-.017h.814V13.933h-2.368v.308zm11.36 8.487a209.991 209.991 0 0 1 .836 1.182l.137.192c.687.978 1.469 2.087 2.226 3.152.07.094.177.156.294.17.317 0 .656.005 1.036.005h1.587c.052 0 .103-.006.168-.01h.012l.081-.007-2.197-2.838-.072-.091-.317-.406-1.08-1.398.875-1.072c.812-.996 1.622-1.991 2.445-2.998l-.052-.008h-.008a.326.326 0 0 0-.072-.01h-1.26c-.487 0-.875 0-1.221.007a.455.455 0 0 0-.281.166c-.767.955-1.531 1.913-2.311 2.894l-.372.467-.191.241-.067.084c-.064.077-.132.164-.205.257v-8.745h-2.369v13.467h2.383V22.74l-.004-.012zm-6.868-4.122v8.814h2.358l.007-.068v-.008c.005-.042.008-.084.008-.126V18.783c0-.155-.044-.204-.193-.204H21.03a.508.508 0 0 0-.1.012h-.008l-.057.016zm-10.404-3.24a2.112 2.112 0 1 0 2.111-2.112 2.115 2.115 0 0 0-2.106 2.112h-.005zm-2.428 7.651a2.168 2.168 0 0 1 2.168-2.186 2.164 2.164 0 0 1 2.157 2.17 2.165 2.165 0 0 1-2.158 2.172h-.007a2.158 2.158 0 0 1-2.155-2.152l-.005-.004z"/>'},"payment-card":{width:40,height:40,viewBox:"0 0 40 40",content:'<path fill="currentColor" d="M6 20h12v3H6zM1 13h38v4H1v-4z"/><path fill="none" stroke="currentColor" stroke-width="2" d="M4.007 8h31.986C37.653 8 39 9.282 39 10.863v18.274C39 30.718 37.654 32 35.993 32H4.007C2.347 32 1 30.718 1 29.137V10.863C1 9.282 2.346 8 4.007 8z"/>'},"payment-paypal":{width:40,height:40,viewBox:"0 0 40 40",content:'<path d="M9.56 29.929a.66.66 0 0 1-.544-.847c.283-1.884.569-3.767.857-5.649.439-2.863.879-5.725 1.32-8.588.4-2.559.779-5.12 1.246-7.668.028-.147.067-.292.116-.433a.955.955 0 0 1 .741-.668c.273-.055.551-.08.83-.073 2.662 0 5.323-.007 7.985.005a12.184 12.184 0 0 1 4.227.67 5.339 5.339 0 0 1 2.53 1.794c.617.876.946 1.922.943 2.993a4.24 4.24 0 0 1-.082 1.126l-.08.449s-.08-.007-.212-.064a6.163 6.163 0 0 0-1.731-.527 27.42 27.42 0 0 0-2.475-.229c-.774-.041-1.551.007-2.327.023-1.4.029-2.811-.019-4.216.023-.589.017-.855.082-1.082.731-.131.368-.219.75-.262 1.137-.046.442-.139.88-.208 1.32l-.3 1.972c-.069.441-.142.88-.208 1.321-.085.571-.163 1.144-.248 1.715-.055.367-.117.733-.174 1.1-.007.046.029.059.069.059-.031.131-.1.247-.124.384a610.647 610.647 0 0 1-.528 3.461c-.2 1.266-.387 2.532-.6 3.8a1.641 1.641 0 0 1-.157.671c-.248-.008-.157 0-.248 0h-.266c-.071 0-.142.007-.214.007l-4.578-.015z"/><path d="M14.867 29.922c.1-.21.153-.439.157-.671.209-1.264.4-2.53.6-3.8a995.3 995.3 0 0 0 .528-3.461c.021-.137.093-.253.124-.384.26-.413.712-.667 1.2-.674a20.88 20.88 0 0 1 2.244-.025 13.67 13.67 0 0 0 4.562-.7 7.385 7.385 0 0 0 2.857-1.865 9.7 9.7 0 0 0 1.926-3.083c.31-.703.509-1.45.59-2.215a4.351 4.351 0 0 1 2.183 3.5 8.96 8.96 0 0 1-1.578 6.035 6.99 6.99 0 0 1-2.423 2.063 7.981 7.981 0 0 1-3.732.952 11.582 11.582 0 0 0-1.918.12.815.815 0 0 0-.747.784c-.123.8-.238 1.592-.358 2.388-.158 1.05-.3 2.1-.483 3.147a1.18 1.18 0 0 1-1.287 1.1c-1.291-.022-2.583-.005-3.875-.005-.1 0-.2 0-.3-.006a.608.608 0 0 1-.6-.746c.05-.367.107-.733.162-1.1.055-.367.1-.706.164-1.056a.701.701 0 0 0 .004-.298z" opacity=".475"/><path d="M29.648 13.05a7.439 7.439 0 0 1-.59 2.215 9.7 9.7 0 0 1-1.926 3.082 7.387 7.387 0 0 1-2.857 1.865c-1.47.49-3.013.727-4.562.7a20.877 20.877 0 0 0-2.244.024c-.488.007-.94.26-1.2.674-.04 0-.076-.012-.069-.059.057-.367.119-.733.174-1.1.085-.571.163-1.144.248-1.715.066-.441.139-.88.208-1.321l.3-1.972c.069-.44.162-.878.208-1.32.043-.388.131-.77.262-1.137.227-.648.493-.714 1.082-.731 1.4-.041 2.811.006 4.216-.022.776-.016 1.554-.064 2.328-.023.826.044 1.653.11 2.475.229.6.09 1.183.267 1.731.527.131.061.217.039.216.084z" opacity=".809"/>'},"payment-transfer":{width:40,height:40,viewBox:"0 0 40 40",content:'<g fill="none" fill-rule="evenodd"><path d="M31.459 26.725H16.493l6.452-13.634h8.488a4.77 4.77 0 0 0 4.131 4.025v5.744a4.722 4.722 0 0 0-2.689 1.264 4.733 4.733 0 0 0-1.416 2.6v.001zm-6.93-5.27l-.244.847c.445.254.947.39 1.459.395v.874h.738v-.927a1.646 1.646 0 0 0 1.521-1.6c0-.784-.436-1.281-1.458-1.665-.738-.3-1.089-.5-1.089-.882 0-.305.225-.631.856-.631a2.6 2.6 0 0 1 1.169.282l.055.025.242-.828a2.863 2.863 0 0 0-1.241-.3v-.837h-.738v.883a1.57 1.57 0 0 0-1.449 1.529c0 .924.786 1.333 1.556 1.611.7.254.982.518.982.909 0 .426-.384.711-.955.711a2.815 2.815 0 0 1-1.4-.4l-.004.004z" fill="currentColor" fill-rule="nonzero"/><path d="M7.624 12.75h12.21m-18.084 6h11.252m-8.142 7h8.142m11.957-16h10.926a2.839 2.839 0 0 1 2.839 2.839v14.595a2.839 2.839 0 0 1-2.839 2.839H15.51" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></g>'},"plan-basic":{width:40,height:40,viewBox:"0 0 40 40",content:'<g fill-rule="evenodd"><path d="M39.471 11.884a33.897 33.897 0 0 1-2.806 7.317 18.21 18.21 0 0 1-4.07 5.334 10.103 10.103 0 0 1-9.715 2.2c-.5-.134-.992-.308-1.499-.406-1.53-.4-2.43 1.463-2.577 2.341-.408 2.75-1.037 2.887-1.037 2.837a12.219 12.219 0 0 1-.117-1.893 10.278 10.278 0 0 1 1.134-3.61 14.244 14.244 0 0 1 3.877-4.634 13.256 13.256 0 0 1 4.015-1.924c1.464-.488 2.911-1.066 4.354-1.627a13.854 13.854 0 0 0 3.652-2.542c.074-.061.068-.216.093-.32-.123.005-.277-.044-.364.018-.493.34-.955.722-1.45 1.054a16.503 16.503 0 0 1-4.91 2.165c-1.233.346-2.472.697-3.675 1.129a10.701 10.701 0 0 0-4.225 2.96c-.45.494-.839 1.042-1.268 1.554-.081.098-.278.277-.358.26-.123-.032-.293-.293-.321-.414a7.799 7.799 0 0 1-.142-1.406 13.603 13.603 0 0 1 .722-4.822 8.286 8.286 0 0 1 6.106-5.503 20.478 20.478 0 0 1 5.014-.5 43.465 43.465 0 0 0 6.698-.313c.418-.076.832-.167 1.246-.26a1.353 1.353 0 0 1 1.567.443M8.776 7.313a15.5 15.5 0 0 0 .13 3.88 9.34 9.34 0 0 0 1.115 3.263 6.296 6.296 0 0 0 4.54 3.084c.357.058.717.095 1.079.11 1.61-.085.641-1.54.036-2.453a8.283 8.283 0 0 0-1.745-1.734c-.66-.536-.592-.512-1.222-1.079-.292-.292-.154-.382.173-.086.56.42 1.567 1.16 2.103 1.61a6.445 6.445 0 0 1 1.727 2.251c.143.314.253.58.383.9.018.062.195.235.32.098.16-.165.29-.358.382-.568a5.76 5.76 0 0 0 .488-2.306 4.536 4.536 0 0 0-2.122-3.775 13.214 13.214 0 0 0-2.455-1.313 26.233 26.233 0 0 1-3.342-1.591c-.195-.123-.39-.253-.586-.383a.8.8 0 0 0-.878-.141l-.126.233z"/><path d="M.95 17.583c2.615.26 5.2-.185 7.804-.234a8.617 8.617 0 0 1 5.674 1.714 5.354 5.354 0 0 1 2.147 3.874c.059.79.077 1.582.055 2.374a4.39 4.39 0 0 0 .71 2.326c.907 1.529 1.566 2.078.716 3.675-.056.098-.26.414-.327.5-.173.228-.333.616-.691.42-.39-.223-.167-.513-.025-.79.716-1.393.333-1.904-.444-3.213a1.502 1.502 0 0 0-1.875-.568 17.7 17.7 0 0 1-2.53.852 7.597 7.597 0 0 1-6.61-1.863 17.605 17.605 0 0 1-4.275-5.606C.854 20.23.477 19.39.083 18.558c-.361-1.012.59-.999.866-.975z"/></g>'},"plan-custom":{width:40,height:40,viewBox:"0 0 40 40",content:'<g fill-rule="evenodd"><path d="M19.738 12.243a16.916 16.916 0 0 1 2.878 4.585 9.91 9.91 0 0 1 .888 4.08 3.008 3.008 0 0 1-2.675 3.176 5.259 5.259 0 0 1-2.439-.08 3.063 3.063 0 0 1-2.365-3.054 10.36 10.36 0 0 1 1.08-4.673c.64-1.37 1.46-2.65 2.438-3.805l.195-.23zm-9.171 4.987c-.072.648-.163 1.249-.195 1.854s-.007 1.206-.007 1.836C7.64 18.939 5.36 12.335 6.472 9.545c.854.532 1.74.995 2.522 1.593 1.166.892 2.26 1.877 3.374 2.835a.535.535 0 0 1 .175.424 8.574 8.574 0 0 0 .123 4.168c.028.1.023.208-.015.305-.666-.53-1.329-1.047-2.084-1.64zm18.851 3.656c-.068-1.17-.138-2.372-.206-3.578l-.13-.024-1.998 1.572a2.992 2.992 0 0 1-.078-.056c.058-.273.12-.545.175-.82a8.098 8.098 0 0 0 0-3.513.522.522 0 0 1 .085-.421 22.952 22.952 0 0 1 5.756-4.328 2.6 2.6 0 0 1 .252-.098c.987 3.029-1.232 9.403-3.856 11.266zm-9.71 14.609c-.44-.715-.878-1.366-1.257-2.06a10.616 10.616 0 0 1-1.342-4.28 5.313 5.313 0 0 1 .07-1.458 2.537 2.537 0 0 1 3.252-1.928 2.374 2.374 0 0 1 2.018 2.477 8.71 8.71 0 0 1-.513 3.112 14.132 14.132 0 0 1-2 3.859c-.051.067-.112.133-.228.278z"/><path d="M22.31 13.532l-2.576-3.534-2.477 3.383c-.488-.457-1.01-.922-1.5-1.416a.488.488 0 0 1-.016-.412 20.42 20.42 0 0 1 2.862-5.15c.345-.467.717-.915 1.119-1.428.247.3.464.557.673.821a22.37 22.37 0 0 1 3.317 5.666.566.566 0 0 1-.169.771c-.436.409-.848.842-1.234 1.299zm1.994 12.917a11.66 11.66 0 0 0 3.654-2.18 12.084 12.084 0 0 0 2.718-3.54.816.816 0 0 1 .293-.36 6.984 6.984 0 0 1 5.109-.5c-.016.083-.04.164-.071.242a12.327 12.327 0 0 1-7.99 6.53 6.755 6.755 0 0 1-3.076.018 5.317 5.317 0 0 1-.637-.21zM3.598 19.87a6.993 6.993 0 0 1 5.09.488c.11.068.2.167.254.285a11.044 11.044 0 0 0 6.366 5.705c.012 0 .018.019.098.11-.43.103-.806.23-1.194.283a8.497 8.497 0 0 1-5.434-1.233 12.937 12.937 0 0 1-5.015-5.184 3.74 3.74 0 0 1-.155-.321.538.538 0 0 1-.01-.133zM0 27.404a20.399 20.399 0 0 1 1.756-1.117 11.512 11.512 0 0 1 4.76-1.11.552.552 0 0 1 .39.124 6.886 6.886 0 0 0 3.754 1.93l.202.042a1.981 1.981 0 0 1-.926 1.14 4.445 4.445 0 0 1-2.131.555 15.95 15.95 0 0 1-4.524-.515c-.939-.225-1.863-.507-2.793-.767-.148-.041-.293-.106-.432-.16A.953.953 0 0 1 0 27.405zm28.974-.128a6.493 6.493 0 0 0 3.381-1.477 2.02 2.02 0 0 1 1.867-.567 10.87 10.87 0 0 1 4.703 1.542c.305.203.585.448.954.74-.547.174-1 .328-1.463.46a19.055 19.055 0 0 1-6.357.984 7.538 7.538 0 0 1-2.025-.479 1.767 1.767 0 0 1-1.06-1.203zm-5.233-.283a4.204 4.204 0 0 0 3.046.78c.62-.057 1.23.173 1.659.624.493.476.928 1.01 1.294 1.59.469.787.82 1.645 1.221 2.473l-.098.13c-.54-.067-1.08-.114-1.615-.206a9.102 9.102 0 0 1-5.147-2.69 4.5 4.5 0 0 1-.772-1.092 1.17 1.17 0 0 1 .412-1.609zM8.59 32.602a10.676 10.676 0 0 1 2.273-4.012 2.622 2.622 0 0 1 2.19-.811 3.816 3.816 0 0 0 2.731-.76c.525.257.746.888.494 1.416a3.78 3.78 0 0 1-.69 1.099 9.048 9.048 0 0 1-5.36 2.857c-.518.084-1.04.136-1.638.211zm19.92-13.624a5.573 5.573 0 0 1-.168 1.941 6.663 6.663 0 0 1-2.88 4.089 4.064 4.064 0 0 1-4.157.305c-.114-.053-.22-.126-.403-.23.324-.071.567-.11.803-.178a4.293 4.293 0 0 0 3.138-3.317.823.823 0 0 1 .62-.683 7.98 7.98 0 0 0 2.667-1.688c.097-.087.2-.17.301-.255.006 0 .025.009.078.016z"/><path d="M18.54 25.126a3.759 3.759 0 0 1-3.459.358 6.281 6.281 0 0 1-3.728-4.415 11.22 11.22 0 0 1-.239-1.686 3.012 3.012 0 0 1 .028-.487c.254.224.447.398.646.567a8.008 8.008 0 0 0 2.606 1.561.458.458 0 0 1 .26.278 4.373 4.373 0 0 0 3.805 3.737c.019.007.035.036.081.087zM13.932 11.77a15.21 15.21 0 0 1 2.78 2.569.54.54 0 0 1-.01.454 22.668 22.668 0 0 0-1.756 5.044l-.141.692c-.265-.366-.498-.636-.675-.938a7.065 7.065 0 0 1-.885-3.697 14.4 14.4 0 0 1 .687-4.123zm11.746.016c1.09 3.204.99 6.946-.84 8.629-.19-.739-.323-1.49-.574-2.2-.408-1.157-.898-2.285-1.338-3.43a.55.55 0 0 1 0-.445 15.196 15.196 0 0 1 2.752-2.554z"/></g>'},"plan-medium":{width:40,height:40,viewBox:"0 0 40 40",content:'<path d="M32.902 21.158a25.361 25.361 0 0 0-8.778 4.9c-.973.9-1.778 1.971-2.589 2.882l-1.079-5.652a14.9 14.9 0 0 0 6.85-5.428 11.945 11.945 0 0 0 1.741-8.592c-4.074 3.032-7.792 6.177-9.24 11.286a4.352 4.352 0 0 1-.125-.449c-.175-1.174-.393-2.333-.493-3.507a11.54 11.54 0 0 1 1.279-6.594.823.823 0 0 1 .686-.475 5.742 5.742 0 0 0 4.8-3.612c.11-.303.203-.61.281-.923-2.458.649-4.717 1.409-6.252 3.612-.149-3.094-1.79-5.354-3.706-7.606-1.254 3.551-.168 6.3 2.5 8.6a13.794 13.794 0 0 0-1.447 5.739A27.945 27.945 0 0 0 9.4 7.447a11.958 11.958 0 0 0 2.009 8.972 14.8 14.8 0 0 0 6.12 4.816c.2.093.492.206.543.367.262.949.468 1.909.717 2.97-3.68-3.313-8.1-4.5-12.8-5.34.1.324.15.548.231.755a12.41 12.41 0 0 0 10.457 8.241c.948.137 1.909.168 2.907.25.05.386-.475.948-.449 1.335.075 1.029.293 2 .356 2.957a10.4 10.4 0 0 0-.194 2.04c-.025.081-.044.156-.075.237l.094.481c.013.4.044.792.081 1.167.074.943.378 1.854.886 2.652a.589.589 0 0 0 .818.25.608.608 0 0 0 .243-.824l-.05-.106a13.264 13.264 0 0 1-.624-1.965 13.6 13.6 0 0 0 .219-3.039c.13-.302.294-.589.487-.855l-.274-.462c.149-.176.35-.3.574-.355a15.052 15.052 0 0 0 8.21-3.37 12.325 12.325 0 0 0 4.18-7.86c-.458.16-.815.272-1.164.397z"/>'},"plan-pro":{width:40,height:40,viewBox:"0 0 40 40",content:'<path d="M29.82 39.373H12.992c-.17-.765.015-1.083.846-1.276.942-.223 1.9-.371 2.833-.623a3.444 3.444 0 0 0 2.848-3.9c-.037-1.068-.186-2.137-.3-3.2-.111-1.032-.252-2.054-.386-3.145-1.891 1.676-2.336 1.818-4.932 1.721a.858.858 0 0 0-.579.3 3.265 3.265 0 0 1-3.389 1.127 3.225 3.225 0 0 1-2.47-2.425 3.681 3.681 0 0 0-.177-.452c-.163.015-.282.015-.4.03a3.311 3.311 0 0 1-3.612-2.062 3.178 3.178 0 0 1 1.2-4.043 2.977 2.977 0 0 0 1.817-2.358 4.994 4.994 0 0 1 .845-1.469 3.478 3.478 0 0 1-3.953-2.528c-.482-1.929.415-3.3 2.892-4.383a3.438 3.438 0 0 1 5.473-3.508c.045-.216.074-.356.1-.5a3.378 3.378 0 0 1 4.16-3.085c.29-.017.562-.148.757-.363a3.715 3.715 0 0 1 5.807.333 2.737 2.737 0 0 0 2.165 1.558c1.179.126 1.854 1.119 2.307 2.2 2.225-1.12 3.583-1.076 4.8.133 1.172 1.165 1.269 2.544.312 4.658a3.561 3.561 0 0 1 3.352 2.758c.037.148.274.3.445.357a3.484 3.484 0 0 1 2.617 3.219 3.392 3.392 0 0 1-2.454 3.4.565.565 0 0 0-.423.765c.044.208.267.377.43.548a3.342 3.342 0 0 1 .86 3.5 3.211 3.211 0 0 1-2.774 2.351 3.061 3.061 0 0 1-3.144-1.372.961.961 0 0 0-1.483-.378 4.374 4.374 0 0 1-4.977-.772c-1.291-1.216-2.625.178-1.973-1.543.208-.556-.289.149 0-.385-.274-.386.3.073 0 .385-.475.475.489-.081 0 .386-.156.141-.178-.082-.185-.075a.694.694 0 0 1-.009.075c-.036 1.046.142.1.194 1.156.1 2.018-.23 2.588 1.32 3.969.238.253.38.58.4.927.075 1.365.038 2.737.142 4.094a2.613 2.613 0 0 0 2.047 2.454c.838.23 1.7.371 2.544.564.468.11.869.311.935.877z"/>'},"plan-solo":{width:40,height:40,viewBox:"0 0 40 40",content:'<path d="M15.396 27.597c-1.66-3.514-2.735-6.818-2.3-10.449a9.533 9.533 0 0 1 2.252-5.26C17.99 8.865 20.655 5.864 22.392 2c3.64 4.324 6.857 8.7 7.636 14.407.639 4.7-1.325 8.214-5.181 10.606a41.93 41.93 0 0 1-6.054 2.8c-.733.3-.99.607-.788 1.41a182.842 182.842 0 0 1 1.48 6.5c0 .392-.063.781-.187 1.153-.3-.289-.771-.515-.888-.866-2.61-7.449-2.283-14.587 2.244-21.28.171-.265.016-.756.016-1.138-.359.147-.857.195-1.044.467a24.582 24.582 0 0 0-3.99 9.9c-.069.438-.131.874-.24 1.638z" fill-rule="evenodd"/>'},plus:{width:24,height:24,viewBox:"0 0 24 24",content:'<path stroke="none" d="M0 0h24v24H0z"/><line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" />'},"positive-status":{width:12,height:12,viewBox:"0 0 12 12",content:'<path style=" stroke:none;fill-rule:nonzero;fill:rgb(26.666667%,70.196078%,29.411765%);fill-opacity:1;" d="M 8.652344 4.097656 C 8.835938 4.277344 8.835938 4.574219 8.652344 4.757812 L 5.507812 7.902344 C 5.324219 8.085938 5.027344 8.085938 4.84375 7.902344 L 3.347656 6.40625 C 3.164062 6.222656 3.164062 5.925781 3.347656 5.742188 C 3.53125 5.5625 3.828125 5.5625 4.011719 5.742188 L 5.175781 6.910156 L 7.988281 4.097656 C 8.171875 3.914062 8.46875 3.914062 8.652344 4.097656 Z M 12 6 C 12 9.316406 9.316406 12 6 12 C 2.683594 12 0 9.316406 0 6 C 0 2.683594 2.683594 0 6 0 C 9.316406 0 12 2.683594 12 6 Z M 11.0625 6 C 11.0625 3.203125 8.796875 0.9375 6 0.9375 C 3.203125 0.9375 0.9375 3.203125 0.9375 6 C 0.9375 8.796875 3.203125 11.0625 6 11.0625 C 8.796875 11.0625 11.0625 8.796875 11.0625 6 Z M 11.0625 6 "/>'},"prepayment-paid":{width:24,height:24,viewBox:"0 0 24 24",content:'<defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs><g clip-path="url(#a)" ><path class="dollar-circle" d="M12.3 23a11.15 11.15 0 01-7.94-3.29 11.15 11.15 0 01-3.29-7.94 11.15 11.15 0 013.3-7.94A11.15 11.15 0 0112.3.54a11.24 11.24 0 0111.23 11.23 11.15 11.15 0 01-3.29 7.94A11.15 11.15 0 0112.3 23zm-2.65-8.87L8.3 15.95a5.58 5.58 0 003.23 1.37l-.05 2.13h1.98l-.05-2.2a3.77 3.77 0 002.19-1.19 3.02 3.02 0 00.73-2c0-1.56-.87-2.23-2.7-3.07l-.79-.35c-.95-.44-1.62-.8-1.62-1.5 0-.63.5-1.03 1.28-1.03a3.03 3.03 0 012.11.92l1.41-1.67a3.8 3.8 0 00-2.41-1.25l.04-2.07h-1.98l.07 2.07a3.33 3.33 0 00-2.99 3.23c0 1.36.76 2.33 2.39 3.05l.97.44c1.23.56 1.77.83 1.77 1.5 0 .62-.52 1-1.38 1a4.44 4.44 0 01-2.85-1.2z" fill="currentColor"/></g>'},"prepayment-queued":{width:24,height:14,viewBox:"0 5 24 14",content:'<defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs><g data-name="Artboard – 16"><g data-name="Group 2145" opacity=".8" clip-path="url(#a)"><g transform="translate(2.37 6.84)" stroke-width="1.6" class="clock" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"><circle data-name="Ellipse 108" cx="4.93" cy="4.93" r="4.93"/><path data-name="Path 2553" d="M4.93 2.24v2.73l1.82.91"/></g><g data-name="Group 2103"><g data-name="Group 2101"><path data-name="Path 2589" class="dollar" d="M18.35 17.74l.04-1.57A4.06 4.06 0 0116 15.15l1-1.34a3.23 3.23 0 002.11.88c.69 0 1.02-.3 1.02-.74 0-.48-.38-.68-1.3-1.1l-.72-.32c-1.26-.56-1.77-1.3-1.77-2.26a2.46 2.46 0 012.2-2.39l-.05-1.53h1.47l-.04 1.53a2.83 2.83 0 011.79.92l-1.04 1.24a2.23 2.23 0 00-1.56-.68c-.63 0-.95.32-.95.76 0 .5.44.76 1.2 1.1l.59.27c1.36.62 1.99 1.13 1.99 2.26a2.4 2.4 0 01-2.16 2.36l.03 1.63z" fill="currentColor"/></g></g></g></g>'},"prepayments-disabled":{width:129.4,height:101.3,viewBox:"0 0 129.4 101.3",content:'<style>.st0{fill:#e2e2e2}</style><path id="Path_881" class="st0" d="M58.2 4.6l2.4-1c2.3-.9 4.8-.9 7.1-.1 1.9.7 3.9.4 5.6-.7L76.5.6c1.2-.8 2.7-.8 3.9 0l2.3 1.6c2.1 1.5 4.8 1.8 7.2.8 2-.8 4.3-.7 6.2.5l1.8 1.1-7.2 12.5H67.1L58.2 4.6z"/><path id="Path_882" class="st0" d="M20.2 46.7H32c2.3 0 4.2-1.9 4.1-4.2 0-2.3-1.9-4.1-4.1-4.1H20.2c-2.3 0-4.2 1.9-4.2 4.1 0 2.4 1.9 4.2 4.2 4.2z"/><path id="Path_883" class="st0" d="M92 21.8H64.7c-5.1 3.2-10.6 9.4-15.2 16.6H44c-2.3 0-4.2 1.9-4.1 4.2 0 2.3 1.9 4.1 4.1 4.1h13.6c2.3 0 4.2 1.9 4.2 4.1 0 2.3-1.9 4.2-4.1 4.2H4.2C1.9 55 0 56.9 0 59.2c0 2.3 1.9 4.2 4.1 4.2H48c2.3 0 4.2 1.9 4.1 4.2 0 2.3-1.9 4.1-4.1 4.1H20.2c-2.3 0-4.2 1.9-4.2 4.1 0 2.3 1.9 4.2 4.1 4.2h21.2c2.5 6.9 6.9 12.9 12.9 17.2h49.4c9.9-7.5 14.4-18.1 14.4-31.5.1-14.9-14.1-36.7-26-43.9zM80.8 77.2v4.2c-.1.9-.9 1.6-1.7 1.5-.9 0-1.6-.7-1.7-1.5v-4.3c-4.4-.3-8.1-3.3-9.5-7.5-.1-.3-.1-.7-.1-1 0-1.2.9-2.1 2.1-2.1h.2c1 0 1.8.7 2.1 1.6.7 2.5 3.5 4.8 7.2 4.8 4.5 0 6.9-2.7 6.9-5.5 0-3.4-2.9-4.9-5.8-5.6L76 60.7c-7.3-1.8-8.4-6-8.4-9 0-5.3 4.4-9 9.7-9.6v-3.7c.1-.9.9-1.6 1.8-1.6.8.1 1.5.7 1.6 1.6v3.7c4.4.6 7.6 3.2 8.7 7.1.1.4.2.8.1 1.1 0 1.1-.5 2.1-2.3 2.1-1 .1-1.9-.6-2.1-1.6-.8-3.2-3.3-4.5-6.4-4.5-3.3 0-6.4 2-6.4 5.2 0 1.5.5 3.7 4.9 4.8l4.5 1.1c5.9 1.4 9.3 4.7 9.3 9.4-.1 5.3-3.8 9.8-10.2 10.4z"/><circle cx="113.4" cy="85.3" r="16" fill="#fff"/><g><path class="st0" d="M113.4 101.3c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-29c-7.2 0-13 5.8-13 13s5.8 13 13 13 13-5.8 13-13-5.9-13-13-13z"/></g><path class="st0" d="M121.2 79.5c-.4-.4-1-.4-1.4-.1l-5.7 5.3c-.2-.1-.4-.1-.6-.1-1.1 0-2.1.9-2.1 2.1s.9 2.1 2.1 2.1c1.1 0 2.1-.9 2.1-2.1 0-.2 0-.4-.1-.5l5.7-5.3c.4-.4.4-1 0-1.4z"/>'},"prepayments-icon":{width:40.74,height:25.483,viewBox:"0 0 40.74 25.483",content:'<path d="M28.18 21.967s.035-.233.148-.252" fill="none"/><g fill="#a5d3ea"><path d="M38.066 5.784l-.07-2.38-16.874.504zM36.246 23.116l-.566 2.313-16.398-4.013zM2.472 19.678l.07 2.38 16.874-.504zM4.29 2.347L4.856.033l16.397 4.013zM37.71 21.208l1.641.173-1.056-5.72 2.399-7.01-1.642-.172z"/></g><path d="M3.276 1.823l36.118 3.809-1.905 18.058-36.117-3.808z" fill="#d4edfd"/><path d="M36.053 19.594a2.057 2.057 0 01.407.085l1.047-9.933a2.057 2.057 0 01-.415-.002A2.064 2.064 0 0135.34 7.07L7.348 4.117a2.064 2.064 0 01-2.27 2.25 2.054 2.054 0 01-.802-.261L3.2 16.304a2.06 2.06 0 012.675 2.182l27.91 2.943a2.064 2.064 0 012.268-1.835z" fill="#b7e2f7"/><circle cx="5.365" cy="5.365" fill="#d4edfd" r="5.365" transform="rotate(6.02 -57.31 151.749)"/><circle cx="1.238" cy="1.238" fill="#d4edfd" r="1.238" transform="rotate(6.02 -108.22 298.437)"/><circle cx="1.238" cy="1.238" fill="#d4edfd" r="1.238" transform="rotate(6.02 -99.02 84.705)"/><path d="M2.978 4.689l-1.641-.173 1.057 5.719-2.4 7.01 1.642.173zM20.204 14.784l-.062.588-.451-.047.063-.602a1.3 1.3 0 01-1.08-1.388l.795.084a.644.644 0 00.651.692c.418.044.677-.177.708-.475.025-.233-.121-.442-.5-.59l-.503-.2c-.878-.327-.979-.887-.942-1.24a1.268 1.268 0 011.313-1.075l.061-.576.45.047-.06.577a1.221 1.221 0 011.036 1.37l-.796-.084a.555.555 0 00-.536-.64.549.549 0 00-.657.448c-.013.12-.004.355.427.52l.471.178c.65.25 1.11.667 1.043 1.31a1.294 1.294 0 01-1.43 1.103z" fill="#a5d3ea"/>'},"prepayments-logo":{width:222.419,height:202.486,viewBox:"0 0 222.419 202.486",content:'<defs><style>.cls-2,.cls-3{fill:#5dbeb8}.cls-2{opacity:.4}.cls-3{opacity:.54}.cls-8{fill:none}.cls-6{fill:#b7e2f7}.cls-7{fill:#d4edfd}.cls-8{stroke:#a5d3ea;stroke-miterlimit:10;stroke-width:1.069px}.cls-9{fill:#a5d3ea}</style></defs><g id="Group_4979" transform="translate(-838 -241.92)"><g id="Group_4978" transform="translate(202.405 -16.771)"><g id="Group_1893" transform="translate(635.594 311.587)" opacity=".192"><rect id="Rectangle_1831" width="13.344" height="9.04" class="cls-2" rx="4.52" transform="translate(176.644 4.703)"/><rect id="Rectangle_1832" width="13.344" height="9.04" class="cls-2" rx="4.52" transform="translate(209.075 49.859)"/><path id="Path_853" d="M2076.37-1936.956h-21a4.485 4.485 0 01-.881.089h-4.305a4.52 4.52 0 01-4.52-4.52 4.52 4.52 0 014.52-4.52h4.305a4.58 4.58 0 01.881.089h3.1a5.874 5.874 0 005.875-5.875 5.875 5.875 0 00-5.875-5.875h-31.682a5.876 5.876 0 00-5.875 5.875 5.874 5.874 0 005.367 5.85 4.442 4.442 0 01.627-.063h4.3a4.52 4.52 0 014.519 4.52 4.5 4.5 0 01-4.09 4.476v.014a5.873 5.873 0 00-5.083 5.816 5.875 5.875 0 005.875 5.875h43.944a5.875 5.875 0 005.876-5.875 5.875 5.875 0 00-5.878-5.876z" class="cls-3" transform="translate(-1893.188 1957.568)"/><path id="Path_854" d="M2069.682-1911.191H1951.93c-2.909 0-5.267 2.631-5.267 5.875a5.658 5.658 0 004.812 5.849 3.7 3.7 0 01.562-.062h34.529a4.306 4.306 0 014.053 4.521 4.355 4.355 0 01-3.493 4.438h-78.269c-2.909 0-5.268 2.631-5.268 5.875a5.659 5.659 0 004.812 5.85 3.67 3.67 0 01.562-.062h12.375a4.3 4.3 0 014.053 4.519 4.343 4.343 0 01-3.668 4.477v.014c-.123.018-.237.064-.357.091h-38.456c-2.872 0-5.2 2.6-5.2 5.8 0 3.2 2.328 5.8 5.2 5.8h132.1c2.909 0 5.268-2.631 5.268-5.875s-2.359-5.876-5.268-5.876h-14.682a3.619 3.619 0 01-.79.089h-3.86a4.305 4.305 0 01-4.053-4.52 4.4 4.4 0 013.337-4.438h5.293c.024.005.05 0 .073.008h26.283c.049 0 .1-.007.146-.008h31.326c2.91 0 5.269-2.63 5.269-5.875s-2.359-5.875-5.269-5.875H2043.4a3.648 3.648 0 01-.791.089h-3.861a4.306 4.306 0 01-4.053-4.52 4.306 4.306 0 014.053-4.521h3.861a3.725 3.725 0 01.791.089h26.283c2.91 0 5.268-2.631 5.268-5.875s-2.359-5.877-5.269-5.877z" class="cls-3" transform="translate(-1877.71 1955.715)"/></g><path id="Path_865" d="M19325.76 15144.27s.1-.564.375-.609" transform="translate(-18559.439 -14715.497)" fill="none"/></g><ellipse id="Ellipse_107" cx="73.332" cy="10.072" rx="73.332" ry="10.072" transform="translate(881.498 424.262)" fill="#e6f4f8" opacity=".584"/><g id="Group_4564" transform="rotate(6.02 903.777 336.579)"><g id="Group_4562" transform="translate(-311)"><g id="Group_4560" transform="translate(435 -602)"><path id="Path_2612" d="M831 842.011V842c-.084 0-.166.005-.25.005s-.166-.005-.25-.005v.011c-24.871.228-43 17.337-43 35.989 0 21 34.5 51.5 34.5 51.5h17.5S874 899 874 878c0-18.652-18.129-35.761-43-35.989z" class="cls-6" transform="translate(0 1)"/><path id="Path_2613" d="M829.7 930c-10.125-11.714-27.2-33.972-27.2-50.857 0-15.512 9.6-30.09 24.411-36.98l3.589.337s-12 21-8 40 9 47 9 47z" class="cls-7" transform="translate(0 1)"/><path id="Path_2614" d="M833.3 930c10.125-11.714 27.2-33.972 27.2-50.857 0-15.512-9.6-30.09-24.411-36.98l-3.589.337s12 21 8 40-9 47-9 47z" class="cls-7" transform="translate(0 1)"/><path id="Line_2064" d="M20 0L0 25" class="cls-8" transform="translate(802 937)"/><path id="Line_2065" d="M4.494 0L0 29" class="cls-8" transform="translate(822 937)"/><path id="Line_2066" d="M0 0l5.222 28.509" class="cls-8" transform="translate(835.778 937)"/><path id="Line_2067" d="M0 0l18.316 27.727" class="cls-8" transform="translate(839.5 935.5)"/><path id="Path_2605" d="M871.891 964.716l-.776-5.716-40.532 5.5z" class="cls-9" transform="translate(0 1)"/><path id="Path_2606" d="M871.891 1009l-.776 5.719-40.532-5.5z" class="cls-9" transform="translate(0 -1)"/><path id="Path_2607" d="M789.583 1009.281l.776 5.719 40.532-5.5z" class="cls-9" transform="translate(0 -1)"/><path id="Path_2604" d="M789.583 965l.776-5.719 40.532 5.5z" class="cls-9" transform="translate(0 1)"/><path id="Path_2610" d="M876 1003h4l-4-13.513 4-17.5h-4z" class="cls-9" transform="translate(-1)"/><path id="Rectangle_2401" d="M0 0h88v44H0z" class="cls-7" transform="translate(787 965)"/><path id="Path_2608" d="M870.5 999.5a4.985 4.985 0 011 .1v-24.2a5 5 0 01-5.9-5.9h-68.2a4.993 4.993 0 01-6.9 5.578v24.844a4.991 4.991 0 017 4.578h68a5 5 0 015-5z" class="cls-6" /><circle id="Ellipse_136" cx="13" cy="13" r="13" class="cls-7" transform="translate(818 974)"/><circle id="Ellipse_137" cx="3" cy="3" r="3" class="cls-7" transform="translate(856 985)"/><circle id="Ellipse_138" cx="3" cy="3" r="3" class="cls-7" transform="translate(801.5 985.5)"/><path id="Path_2609" d="M787 971.987h-4l4 13.513-4 17.5h4z" class="cls-9" /><path id="Rectangle_2400" d="M0 0h21v7H0z" class="cls-9" transform="translate(821 930)"/></g></g><g id="Group_4563" transform="translate(445.816 -506.797)"><path id="Path_2615" d="M509.309 896.76v1.44h-1.1v-1.47a3.155 3.155 0 01-2.957-3.07h1.939a1.56 1.56 0 001.745 1.5c1.018 0 1.584-.6 1.584-1.324 0-.566-.4-1.035-1.358-1.293l-1.26-.354c-2.2-.566-2.585-1.891-2.585-2.747a3.073 3.073 0 012.892-2.925v-1.407h1.1v1.406a2.959 2.959 0 012.844 3.038h-1.938a1.346 1.346 0 00-1.455-1.406 1.33 1.33 0 00-1.47 1.245c0 .291.081.855 1.163 1.146l1.18.307c1.631.437 2.844 1.326 2.844 2.892a3.135 3.135 0 01-3.168 3.022z" class="cls-9" /></g></g></g>'},"recurring-event":{width:14.86,height:12.05,viewBox:"0 0 14.86 12.05",content:'<defs><style>.prefix__cls-1{fill:none;stroke:#858585;stroke-linecap:round;stroke-linejoin:round}</style></defs><g id="prefix__refresh-ccw" transform="translate(-.3 -2.48)"><path id="prefix__Path_1" d="M1 4v3.67h3.67" class="prefix__cls-1" data-name="Path 1" transform="translate(0 -.39)"/><path id="prefix__Path_2" d="M20.67 17.67V14H17" class="prefix__cls-1" data-name="Path 2" transform="translate(-6.22 -4.27)"/><path id="prefix__Path_3" d="M12.91 6.67A5.5 5.5 0 003.84 4.6L1 7.29m13.45 2.45l-2.84 2.66a5.5 5.5 0 01-9.08-2.05" class="prefix__cls-1" data-name="Path 3"/></g>'},"safe-branch-teaser":{width:131,height:138,viewBox:"0 0 131 138",content:'<defs><linearGradient id="prefix__a" x1="48.63%" x2="50.56%" y1="49.67%" y2="49.67%"><stop offset="19.23%" stop-color="#C96F96"/><stop offset="92.05%" stop-color="#6B5ED7"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="#63C0C4" fill-rule="nonzero" d="M106.545 28.744C86.535 21.134 68.914 11.644 54 0 39.093 11.644 21.465 21.134 1.455 28.744-6.182 76.422 16.956 102.98 54 120c37.044-17.02 60.182-43.578 52.545-91.256z"/><path fill="#FFF" fill-rule="nonzero" d="M97.8 34.715C81.31 28.439 66.781 20.607 54.498 11c-12.283 9.607-26.805 17.439-43.3 23.715-6.292 39.33 12.776 61.244 43.3 75.285 30.53-14.041 49.598-35.947 43.3-75.285z" opacity=".22"/><path fill="#349BA1" fill-rule="nonzero" d="M82.998 59.056c-25.22-27.013-53.637 1.158-39.001 23.932C58.835 104.824 82.998 117 82.998 117S107.156 104.831 122 82.988c14.642-22.774-13.774-50.945-39.002-23.932z"/><path fill="#FFF" fill-rule="nonzero" d="M55.107 120c36.977-17.028 60.068-43.59 52.438-91.243C87.535 21.144 69.914 11.649 55 0l.107 120z" opacity=".21"/><path fill="url(#prefix__a)" fill-rule="nonzero" d="M60.505 105.505l-.01-.01.01.01z"/><path fill="#63C0C4" fill-rule="nonzero" d="M88 60.06c-25.221-27.012-53.639 1.157-39.003 23.93C63.835 105.825 88 118 88 118s24.158-12.168 39.003-34.01C141.639 61.21 113.22 33.042 88 60.06z"/><ellipse cx="60.5" cy="131" fill="#63C0C4" fill-rule="nonzero" opacity=".22" rx="55.5" ry="7"/><g><path fill="#FFF" fill-rule="nonzero" d="M.551 11.74V69.8s23.841-12.193 38.491-34.08c14.444-22.827-13.6-51.053-38.49-23.98z" opacity=".17" transform="translate(88 48)"/><path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.121" d="M34.048 35.293c5.207-8.226 4.403-17.22.126-23.606" opacity=".32" transform="translate(88 48)"/></g></g>'},save:{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></g>'},"status-active":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="16 9 10 16 7 13"></polyline></g>'},"status-failed":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></g>'},"status-pending":{width:24,height:24,viewBox:"0 0 24 24",content:'<circle cx="12" cy="12" r="10"></circle><line x1="16" y1="10" x2="12" y2="12"></line><line x1="12" y1="6" x2="12" y2="12"></line>'},"success-clouds":{width:179.05,height:102.03,viewBox:"0 0 179.05 102.03",content:'<g transform="translate(0 4.88)" opacity=".19" fill="#00d547"><rect width="9.75" height="6.6" opacity=".4" rx="3.3" transform="translate(137.17 3.44)"/><rect width="9.75" height="6.6" opacity=".4" rx="3.3" transform="translate(169.3 36.41)"/><path d="M140.91 15.06h-15.33a3.3 3.3 0 01-.65.06h-3.14a3.3 3.3 0 01-3.3-3.3 3.3 3.3 0 013.3-3.3h3.14a3.35 3.35 0 01.65.07h2.26a4.3 4.3 0 004.29-4.3 4.3 4.3 0 00-4.3-4.29H104.7a4.3 4.3 0 00-4.3 4.3 4.29 4.29 0 003.93 4.27 3.24 3.24 0 01.46-.05h3.14a3.3 3.3 0 013.3 3.3 3.29 3.29 0 01-2.99 3.27v.01a4.29 4.29 0 00-3.7 4.25 4.3 4.3 0 004.28 4.29h32.1a4.3 4.3 0 004.29-4.3 4.3 4.3 0 00-4.3-4.28zM156.37 32.5H60.46a4.3 4.3 0 00-4.3 4.3 4.29 4.29 0 003.92 4.27 3.3 3.3 0 01.46-.04h28.13a3.3 3.3 0 013.3 3.3 3.28 3.28 0 01-2.85 3.24H25.37a4.3 4.3 0 00-4.3 4.29A4.29 4.29 0 0025 56.13a3.31 3.31 0 01.46-.05h10.08a3.3 3.3 0 013.3 3.3 3.29 3.29 0 01-3 3.27v.01l-.28.07H4.23A4.24 4.24 0 000 66.97a4.24 4.24 0 004.23 4.23h107.6a4.3 4.3 0 004.3-4.29 4.3 4.3 0 00-4.3-4.29H99.88a3.29 3.29 0 01-.65.06h-3.14a3.3 3.3 0 01-3.3-3.3 3.3 3.3 0 012.72-3.24h4.31a.2.2 0 01.06.01h47.04a4.3 4.3 0 004.3-4.3 4.3 4.3 0 00-4.3-4.29h-11.96a3.3 3.3 0 01-.65.07h-3.14a3.3 3.3 0 01-3.3-3.3 3.3 3.3 0 013.3-3.3h3.14a3.36 3.36 0 01.65.06h21.4a4.3 4.3 0 004.3-4.29 4.3 4.3 0 00-4.3-4.3z" opacity=".54"/></g><circle cx="34.51" cy="34.51" transform="translate(55 14.51)" fill="#00d547" r="34.51"/><path d="M75.34 49.73l10.15 9.9 20.16-19.4" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>'},suppliers:{width:17,height:17,viewBox:"0 0 17 17",content:'<g stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linejoin="round"><path d="M-3.55271368e-14 0.3206L2.725 0.2736 3.286 1.6956 6.176 9.5076" transform="translate(1.6773 1.8443)"/><path d="M3.544 8.3948L2.496 5.5528 3.544 3.3388M8.1587 10.889L11.7947 9.507M8.0195 10.9368C8.4425 12.0668 7.8705 13.3268 6.7405 13.7498 5.6105 14.1738 4.3515 13.5998 3.9275 12.4698 3.5045 11.3408 4.0775 10.0818 5.2065 9.6588 6.3375 9.2348 7.5965 9.8078 8.0195 10.9368zM6.2754 4.3128L7.9534 8.7918 13.6834 6.6448 12.0054 2.1658zM5.0972 1.137L6.2842 4.305 9.3182 3.168 8.1302-2.48689958e-14z" transform="translate(1.6773 1.8443)"/></g>'},"transaction-icon":{width:42.82,height:36.67,viewBox:"0 0 42.82 36.67",content:'<g fill="#ff9500" stroke="#ff9500" stroke-miterlimit="10" stroke-width=".88"><path d="M11.32 7.76L5.44 21.34a.95.95 0 00.77 1.32l14.69 1.7a.95.95 0 00.93-1.42l-1.88-3.26a.96.96 0 00.17-.08l9.8-5.66a.95.95 0 00.35-1.3L26.15 5.5a.95.95 0 00-1.3-.34l-9.8 5.66a.95.95 0 00-.15.1L13 7.68a.95.95 0 00-1.7.1z" opacity=".41"/><path d="M31.5 28.9l5.88-13.57a.95.95 0 00-.77-1.32l-14.7-1.7a.95.95 0 00-.92 1.42l1.88 3.26a.96.96 0 00-.17.07l-9.8 5.66a.95.95 0 00-.36 1.3l4.13 7.15a.95.95 0 001.3.34l9.8-5.66a.94.94 0 00.15-.1L29.8 29a.95.95 0 001.7-.1z"/></g>'},"transaction-list":{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="#707070" stroke-linecap="round" stroke-linejoin="round"><path d="M17.92 9.32H1.1M22.73 4.51H1.1M22.73 14.13H1.1M17.92 18.93H1.1"/></g>'},wallet:{width:24,height:24,viewBox:"0 0 24 24",content:'<defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs><g clip-path="url(#a)"><g transform="translate(.341 -.393)" stroke="#707070" stroke-linecap="round" stroke-linejoin="round" fill="none"><rect width="21.446" height="15.597" rx="2" transform="translate(1 4)"/><path d="M1 9.849h21.446"/></g></g>'},"white-check":{width:11.456,height:11.456,viewBox:"0 0 11.456 11.456",content:'<path id="Path_2590" d="M25.355,0a5.728,5.728,0,1,0,5.729,5.728A5.734,5.734,0,0,0,25.355,0Zm3.108,4.635-2.9,3.317a.727.727,0,0,1-.972.114l-1.688-1.2a.729.729,0,0,1,.848-1.186L24.9,6.5l2.462-2.82a.729.729,0,1,1,1.1.958Z" transform="translate(-19.628)" fill="#fff"/>'},x:{width:24,height:24,viewBox:"0 0 24 24",content:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></g>'}}},23:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var a,r=n(2),o=n(1),i=n(0),s=n(8),c=n.n(s),l=n(41),u=n(7),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},p=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=c()(E||(E=d(["\n  query GetNetGrossTranslationType {\n    viewer {\n      branch {\n        netGrossTranslationType\n      }\n    }\n  }\n"],["\n  query GetNetGrossTranslationType {\n    viewer {\n      branch {\n        netGrossTranslationType\n      }\n    }\n  }\n"])));!function(e){e.NET="net",e.GROSS="gross"}(a||(a={}));var E,y=function(){function e(e){void 0===e&&(e=r.t.STANDARD),this.translationType=e}return e.prototype.t=function(e,t){switch(void 0===t&&(t=this.translationType),t){case r.t.STANDARD:return o.a.t(e,{scope:"common"});case r.t.SWITCHED:return e===a.NET?o.a.t(a.GROSS,{scope:"common"}):o.a.t(a.NET,{scope:"common"})}},e}(),h=Object(i.createContext)({netGrossTranslationUtils:new y}),v=function(e){var t=e.children,n=Object(l.a)(),a=Object(i.useState)(r.t.STANDARD),o=a[0];return function(e,t){Object(i.useEffect)((function(){m(void 0,void 0,void 0,(function(){var n;return p(this,(function(a){switch(a.label){case 0:return[4,m(void 0,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,u.a.query({options:{query:f,fetchPolicy:"network-only"},result:function(e){return e&&e.viewer.branch&&e.viewer.branch.netGrossTranslationType||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(n=a.sent())&&t.current&&e(n),[2]}}))}))}),[])}(a[1],n),i.createElement(i.Fragment,null,i.createElement(h.Provider,{value:{netGrossTranslationUtils:new y(o)}},t))}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(0),r=Object(a.createContext)({dateUtils:window.dateUtils}),o=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement(r.Provider,{value:{dateUtils:window.dateUtils}},t))}},26:function(e,t,n){"use strict";var a=n(44);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b}))},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=window.moment},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),o=n(0),i=n(21),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e){var t=e.name,n=e.width,a=e.height,c=e.size,l=e.className,u=e.onClick,d=e.fill,m=e.style;n=n||c,a=a||c,l=r()(l);var p={__html:i.b[t].content},f=i.b[t].viewBox||void 0;return n=n||i.b[t].width||void 0,a=a||i.b[t].height||void 0,o.createElement("svg",{style:s(s({},m),{color:d}),className:l,dangerouslySetInnerHTML:p,width:n,height:a,viewBox:f,onClick:u})}},29:function(e,t,n){"use strict";var a,r=n(0),o=function(e,t,n){if(!e)throw new Error("useLocalStorage key may not be falsy");var a=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,o=Object(r.useState)((function(){try{var r=n?n.raw?String:n.serializer:JSON.stringify,o=localStorage.getItem(e);return null!==o?a(o):(t&&localStorage.setItem(e,r(t)),t)}catch(e){return t}})),i=o[0],s=o[1],c=Object(r.useCallback)((function(t){try{var r="function"==typeof t?t(i):t;if(void 0===r)return;var o=void 0;o=n?n.raw?"string"==typeof r?r:JSON.stringify(r):n.serializer?n.serializer(r):JSON.stringify(r):JSON.stringify(r),localStorage.setItem(e,o),s(a(o))}catch(e){}}),[e,s]),l=Object(r.useCallback)((function(){try{localStorage.removeItem(e),s(void 0)}catch(e){}}),[e,s]);return{state:i,set:c,remove:l}};n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),function(e){e.SERVICES_TABLE="servicesTable",e.CALENDAR_SERVICES_TABLE="calendarServicesTable",e.ONLINE_PAYMENTS_TABLE="onlinePaymentsTable",e.ONLINE_ORDERS_TABLE="onlineOrdersTable",e.NOTIFICATION_CENTER_TABLE="notificationCenterTable",e.DRAFT_ORDERS_TABLE="draftOrdersTable",e.ORDERS_HISTORY_TABLE="ordersHisotryTable"}(a||(a={}));var i={getCachedPage:function(e,t){return s(e,"CurrentPage",t)},getCachedPageSize:function(e,t){return s(e,"PageSize",t)}},s=function(e,t,n){var a=e+t;return localStorage.getItem(a)?+localStorage.getItem(a):n},c=function(e,t,n,a){var i=Object(r.useState)({cachePage:e,cachePageSize:t}),s=i[0],c=i[1],l=!n.current,u=o(a+"CurrentPage",e),d=u.state,m=u.set,p=o(a+"PageSize",t),f=p.state,E=p.set;return Object(r.useEffect)((function(){c({cachePage:d||e,cachePageSize:f||t})}),[]),Object(r.useEffect)((function(){l||(m(e),E(t),c({cachePage:e,cachePageSize:t}))}),[e,t]),s}},30:function(e,t,n){"use strict";var a=n(59);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1),o=n(44),i=n(28),s=n(21),c=function(e){var t=e.icon,n=void 0===t?s.a.fetchingError:t,c=e.title,l=void 0===c?r.a.t("common.requestTimeout"):c,u=e.description,d=void 0===u?r.a.t("common.requestTimeoutDescription",{supportPath:window.VersumConfig.physical_help_url}):u,m=e.showRefreshButton,p=void 0===m||m;return a.createElement("div",{className:"v2-blank e2e-fetching-error"},a.createElement("div",{className:"v2-blank-description"},a.createElement("div",{className:"v2-blank-icon"},a.createElement(i.a,{width:310,name:n})),a.createElement("h2",{className:"v2-blank-title-normal bold e2e-fetching-error-title"},l),a.createElement("div",{className:"text-center e2e-fetching-error-description",dangerouslySetInnerHTML:{__html:d}}),a.createElement("div",{className:"text-center mt-l"},p&&a.createElement(o.a,{className:"text-center",onClick:function(){return window.location.reload()}},r.a.t("common.refreshPage")))))}},37:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"g",(function(){return h}));var a=n(27),r=n(2),o="DD/MM",i="DD.MM.YYYY",s="YYYY-MM-DD",c="YYYY-MM-DD HH:mm:ss",l=function(){return Object(a.a)().format(c)},u=function(e,t){return void 0===t&&(t=c),e&&Object(a.a)(e).format(t)||"-"},d=function(e){return e.validTo?Object(a.a)(e.validTo).format(s):""},m=function(e){var t=0;switch(e){case r.X.YEAR:t=12;break;case r.X.QUARTER:t=3;break;case r.X.MONTH:t=1}return t},p=function(e){return e.find((function(e){return e.period===r.X.YEAR}))||{}},f=function(e){return e.find((function(e){return e.period===r.X.QUARTER}))||{}},E=function(e){return e.find((function(e){return e.period===r.X.MONTH}))||{}},y=function(e){return void 0===e&&(e=s),Object(a.a)().startOf("month").format(e)},h=function(e){return void 0===e&&(e=s),Object(a.a)().endOf("month").format(e)}},375:function(e,t,n){var a={"./consumer/de.json":[399,4],"./consumer/en.json":[140,5],"./consumer/es.json":[400,6],"./consumer/pl.json":[401,9],"./consumer/pt-BR.json":[402,10],"./consumer/pt.json":[403,11],"./consumer/ro.json":[404,12],"./de.json":[511,13],"./en.json":[107,14],"./es.json":[512,15],"./pl.json":[513,18],"./pt-BR.json":[514,19],"./pt.json":[515,20],"./ro.json":[516,21]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=375,e.exports=r},376:function(e,t,n){var a=n(377);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(474)(a,r);a.locals&&(e.exports=a.locals)},377:function(e,t,n){(e.exports=n(473)(!1)).push([e.i,".expand-trigger{cursor:pointer;opacity:.5;transition:all .3s ease-in-out}.row-expanded .expand-trigger{transform:rotateX(180deg)}.row-disabled{opacity:.16;pointer-events:none}.row-highlighted td{background:#fffaf3 !important}.row-highlighted:hover td{background:#e4fffb !important}table{counter-reset:itemCount}table .item-no{counter-increment:itemCount}table .item-no::before{content:counter(itemCount)}\n",""])},38:function(e,t,n){"use strict";var a,r,o,i,s,c,l,u,d,m,p;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),function(e){e.TEXT_HTML="TEXT_HTML",e.TEXT_MARKDOWN="TEXT_MARKDOWN",e.TEXT_PLAIN="TEXT_PLAIN"}(a||(a={})),function(e){e.AD="AD",e.AE="AE",e.AF="AF",e.AG="AG",e.AI="AI",e.AL="AL",e.AM="AM",e.AO="AO",e.AR="AR",e.AS="AS",e.AT="AT",e.AU="AU",e.AW="AW",e.AX="AX",e.AZ="AZ",e.BA="BA",e.BB="BB",e.BD="BD",e.BE="BE",e.BF="BF",e.BG="BG",e.BH="BH",e.BI="BI",e.BJ="BJ",e.BL="BL",e.BM="BM",e.BN="BN",e.BO="BO",e.BQ="BQ",e.BR="BR",e.BS="BS",e.BT="BT",e.BW="BW",e.BY="BY",e.BZ="BZ",e.CA="CA",e.CC="CC",e.CD="CD",e.CF="CF",e.CG="CG",e.CH="CH",e.CI="CI",e.CK="CK",e.CL="CL",e.CM="CM",e.CN="CN",e.CO="CO",e.CR="CR",e.CU="CU",e.CV="CV",e.CW="CW",e.CX="CX",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DJ="DJ",e.DK="DK",e.DM="DM",e.DO="DO",e.DZ="DZ",e.EC="EC",e.EE="EE",e.EG="EG",e.EH="EH",e.ER="ER",e.ES="ES",e.ET="ET",e.FI="FI",e.FJ="FJ",e.FK="FK",e.FM="FM",e.FO="FO",e.FR="FR",e.GA="GA",e.GB="GB",e.GD="GD",e.GE="GE",e.GF="GF",e.GG="GG",e.GH="GH",e.GI="GI",e.GL="GL",e.GM="GM",e.GN="GN",e.GP="GP",e.GQ="GQ",e.GR="GR",e.GT="GT",e.GU="GU",e.GW="GW",e.GY="GY",e.HK="HK",e.HN="HN",e.HR="HR",e.HT="HT",e.HU="HU",e.ID="ID",e.IE="IE",e.IL="IL",e.IM="IM",e.IN="IN",e.IO="IO",e.IQ="IQ",e.IR="IR",e.IS="IS",e.IT="IT",e.JE="JE",e.JM="JM",e.JO="JO",e.JP="JP",e.KE="KE",e.KG="KG",e.KH="KH",e.KI="KI",e.KM="KM",e.KN="KN",e.KP="KP",e.KR="KR",e.KW="KW",e.KY="KY",e.KZ="KZ",e.LA="LA",e.LB="LB",e.LC="LC",e.LI="LI",e.LK="LK",e.LR="LR",e.LS="LS",e.LT="LT",e.LU="LU",e.LV="LV",e.LY="LY",e.MA="MA",e.MC="MC",e.MD="MD",e.ME="ME",e.MF="MF",e.MG="MG",e.MH="MH",e.MK="MK",e.ML="ML",e.MM="MM",e.MN="MN",e.MO="MO",e.MP="MP",e.MQ="MQ",e.MR="MR",e.MS="MS",e.MT="MT",e.MU="MU",e.MV="MV",e.MW="MW",e.MX="MX",e.MY="MY",e.MZ="MZ",e.NA="NA",e.NC="NC",e.NE="NE",e.NF="NF",e.NG="NG",e.NI="NI",e.NL="NL",e.NO="NO",e.NP="NP",e.NR="NR",e.NU="NU",e.NZ="NZ",e.OM="OM",e.PA="PA",e.PE="PE",e.PF="PF",e.PG="PG",e.PH="PH",e.PK="PK",e.PL="PL",e.PM="PM",e.PN="PN",e.PR="PR",e.PS="PS",e.PT="PT",e.PW="PW",e.PY="PY",e.QA="QA",e.RE="RE",e.RO="RO",e.RS="RS",e.RU="RU",e.RW="RW",e.SA="SA",e.SB="SB",e.SC="SC",e.SD="SD",e.SE="SE",e.SG="SG",e.SH="SH",e.SI="SI",e.SJ="SJ",e.SK="SK",e.SL="SL",e.SM="SM",e.SN="SN",e.SO="SO",e.SR="SR",e.SS="SS",e.ST="ST",e.SV="SV",e.SX="SX",e.SY="SY",e.SZ="SZ",e.TC="TC",e.TD="TD",e.TG="TG",e.TH="TH",e.TJ="TJ",e.TK="TK",e.TL="TL",e.TM="TM",e.TN="TN",e.TO="TO",e.TR="TR",e.TT="TT",e.TV="TV",e.TW="TW",e.TZ="TZ",e.UA="UA",e.UG="UG",e.UM="UM",e.US="US",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VC="VC",e.VE="VE",e.VG="VG",e.VI="VI",e.VN="VN",e.VU="VU",e.WF="WF",e.WS="WS",e.YE="YE",e.YT="YT",e.ZA="ZA",e.ZM="ZM",e.ZW="ZW"}(r||(r={})),function(e){e.AED="AED",e.AFN="AFN",e.ALL="ALL",e.AMD="AMD",e.ANG="ANG",e.AOA="AOA",e.ARS="ARS",e.AUD="AUD",e.AWG="AWG",e.AZN="AZN",e.BAM="BAM",e.BBD="BBD",e.BDT="BDT",e.BGN="BGN",e.BHD="BHD",e.BIF="BIF",e.BMD="BMD",e.BND="BND",e.BOB="BOB",e.BRL="BRL",e.BSD="BSD",e.BTN="BTN",e.BWP="BWP",e.BYR="BYR",e.BZD="BZD",e.CAD="CAD",e.CDF="CDF",e.CHF="CHF",e.CLF="CLF",e.CLP="CLP",e.CNY="CNY",e.COP="COP",e.CRC="CRC",e.CUC="CUC",e.CUP="CUP",e.CVE="CVE",e.CZK="CZK",e.DJF="DJF",e.DKK="DKK",e.DOP="DOP",e.DZD="DZD",e.EGP="EGP",e.ERN="ERN",e.ETB="ETB",e.EUR="EUR",e.FJD="FJD",e.FKP="FKP",e.GBP="GBP",e.GEL="GEL",e.GHS="GHS",e.GIP="GIP",e.GMD="GMD",e.GNF="GNF",e.GTQ="GTQ",e.GYD="GYD",e.HKD="HKD",e.HNL="HNL",e.HRK="HRK",e.HTG="HTG",e.HUF="HUF",e.IDR="IDR",e.ILS="ILS",e.INR="INR",e.IQD="IQD",e.IRR="IRR",e.ISK="ISK",e.JMD="JMD",e.JOD="JOD",e.JPY="JPY",e.KES="KES",e.KGS="KGS",e.KHR="KHR",e.KMF="KMF",e.KPW="KPW",e.KRW="KRW",e.KWD="KWD",e.KYD="KYD",e.KZT="KZT",e.LAK="LAK",e.LBP="LBP",e.LKR="LKR",e.LRD="LRD",e.LSL="LSL",e.LTL="LTL",e.LVL="LVL",e.LYD="LYD",e.MAD="MAD",e.MDL="MDL",e.MGA="MGA",e.MKD="MKD",e.MMK="MMK",e.MNT="MNT",e.MOP="MOP",e.MRO="MRO",e.MUR="MUR",e.MVR="MVR",e.MWK="MWK",e.MXN="MXN",e.MYR="MYR",e.MZN="MZN",e.NAD="NAD",e.NGN="NGN",e.NIO="NIO",e.NOK="NOK",e.NPR="NPR",e.NZD="NZD",e.OMR="OMR",e.PAB="PAB",e.PEN="PEN",e.PGK="PGK",e.PHP="PHP",e.PKR="PKR",e.PLN="PLN",e.PYG="PYG",e.QAR="QAR",e.RON="RON",e.RSD="RSD",e.RUB="RUB",e.RWF="RWF",e.SAR="SAR",e.SBD="SBD",e.SCR="SCR",e.SDG="SDG",e.SEK="SEK",e.SGD="SGD",e.SHP="SHP",e.SKK="SKK",e.SLL="SLL",e.SOS="SOS",e.SRD="SRD",e.SSP="SSP",e.STD="STD",e.SVC="SVC",e.SYP="SYP",e.SZL="SZL",e.THB="THB",e.TJS="TJS",e.TMT="TMT",e.TND="TND",e.TOP="TOP",e.TRY="TRY",e.TTD="TTD",e.TWD="TWD",e.TZS="TZS",e.UAH="UAH",e.UGX="UGX",e.USD="USD",e.UYU="UYU",e.UZS="UZS",e.VEF="VEF",e.VND="VND",e.VUV="VUV",e.WST="WST",e.XAF="XAF",e.XAG="XAG",e.XAU="XAU",e.XCD="XCD",e.XDR="XDR",e.XOF="XOF",e.XPF="XPF",e.YER="YER",e.ZAR="ZAR",e.ZMK="ZMK",e.ZMW="ZMW",e.ZWL="ZWL"}(o||(o={})),function(e){e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE"}(i||(i={})),function(e){e.EN="en",e.EN_GB="en_GB",e.EN_US="en_US",e.ES_ES="es_ES",e.PL_PL="pl_PL",e.PT="pt",e.PT_BR="pt_BR",e.RO="ro",e.DE="de"}(s||(s={})),function(e){e.PAYMENT_PENDING="PAYMENT_PENDING",e.PAYMENT_AWAITING_APPROVAL="PAYMENT_AWAITING_APPROVAL",e.PAYMENT_PAID="PAYMENT_PAID",e.PAYMENT_REFUND_PENDING="PAYMENT_REFUND_PENDING",e.PAYMENT_REFUND_FAILED="PAYMENT_REFUND_FAILED",e.PAYMENT_REFUNDED="PAYMENT_REFUNDED"}(c||(c={})),function(e){e.COURIER="COURIER",e.BRANCH="BRANCH",e.PERSONAL="PERSONAL"}(l||(l={})),function(e){e.EPIDEMY="EPIDEMY",e.OTHER="OTHER"}(u||(u={})),function(e){e.PENDING="PENDING",e.FINALIZED="FINALIZED",e.CANCELED="CANCELED"}(d||(d={})),function(e){e.NAME="NAME"}(m||(m={})),function(e){e.ASC="ASC",e.DESC="DESC"}(p||(p={}))},385:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1),o=n(5),i=n.n(o),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e){var t=e.initialCategoryId,n=e.expandedCategoryIds,o=e.onCategoryChange,c=e.uncategorizedId,l=e.rootName,u=e.onEditClick,d=e.categoryTree,m=a.useState({activeCategory:t||"all",lastActiveParent:n&&n[0]||"all",lastActiveChild:n&&n[1]||"all"}),p=m[0],f=m[1],E=p.activeCategory,y=p.lastActiveParent,h=p.lastActiveChild,v=i()({"e2e-root-category":!0,"item root with_icon":!0,active:"all"===E}),b=function(e,t){void 0===t&&(t=null),t&&(0===t.length&&f((function(t){return s(s({},t),{lastActiveParent:e,activeCategory:e})})),1===t.length&&f((function(t){return s(s({},t),{lastActiveChild:e,activeCategory:e})})),2===t.length&&f((function(t){return s(s({},t),{activeCategory:e})}))),t||f((function(t){return s(s({},t),{activeCategory:e})})),o(e)};function g(e,t){var n=[],a=!1;return isNaN(+E)||(a=t===+E),e.children.map((function(e){n.push(e.ancestry[0]===+y||a?{}:{display:"none"})})),n.find((function(e){return 0===Object.keys(e).length&&e.constructor===Object}))?{}:{display:"none"}}function S(e,t){var n=[],a=!1;return isNaN(+E)||(a=t===+E),e.children.map((function(e){n.push(e.ancestry===[+y,+h]||a||e.id===+E?{}:{display:"none"})})),n.find((function(e){return 0===Object.keys(e).length&&e.constructor===Object}))?{}:{display:"none"}}function _(e,t){return a.createElement("ul",{style:g(e,t)},e.children.map((function(t,n){return a.createElement("li",{key:t.id},a.createElement("a",{className:t.id===+E?"item active":"item",onClick:function(){return b(t.id,t.ancestry)}},t.name),t.children.length>0?function(e,t){return a.createElement("ul",{style:S(e,t)},e.children.map((function(e){return a.createElement("li",{key:e.id},a.createElement("a",{className:e.id===+E?"item active":"item",onClick:function(){return b(e.id,e.ancestry)}},e.name))})))}(e.children[n],t.id):null)})))}return a.createElement(a.Fragment,null,a.createElement("div",{className:"e2e-category-tree tree"},a.createElement("a",{className:v,onClick:function(){return b("all")}},a.createElement("div",{className:"icon_box"},a.createElement("i",{className:"icon sprite-settings_services"})),l),a.createElement("ul",null,d.map((function(e){return a.createElement("li",{key:e.id},a.createElement("a",{className:e.id===+E?"item active":"item",onClick:function(){return b(e.id,e.ancestry)}},e.name),e.children.length>0?_(e,e.id):null)})),c&&a.createElement("li",null,a.createElement("a",{className:E===c?"item active":"item",onClick:function(){return b(c)}},r.a.t("services.sideNavigation.unCategorized"))))),u&&!window.VersumConfig.current_branch_readonly&&a.createElement("div",{className:"e2e-category-options tree_options"},a.createElement("a",{onClick:u,className:"pointer"},r.a.t("services.sideNavigation.options"))))}},386:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(112),r=n(125),o=n(0),i=n(111),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e){var t=e.onServiceUpdate,n=e.onClose,c=Object(o.useContext)(a.b),l=c.rootCategory,u=l.id,d=l.employeeIds,m=c.vatRates,p=c.vatPayer,f=s({categoryName:"",addAsSubcategory:!1,parentCategoryId:u,employeeIds:d},p&&m[0]?{categoryVat:m[0]}:{});return o.createElement(a.a,{initialValues:f,onSubmit:Object(r.a)(p,t),onClose:n,modalType:i.a.ADD_CATEGORY,vatPayer:p})}},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(1),o=n(17),i=n(3),s=function(e){var t=e.afterFiltering,n=e.canCreateServices,s=e.currentCategory,c=e.branchCategoryPath,l=e.isBooksyPossible;return t||!n||"all"!==s?a.createElement("div",{className:"e2e-no-results-services-table column_row row"},a.createElement("div",{className:"col-md-2"}),a.createElement("div",{className:" col-md-8"},a.createElement("div",{className:" empty-list-icon"},a.createElement("i",{className:" icon sprite-first-service"})),a.createElement("h2",{className:" empty-list-heading-centered"},r.a.t("services.noServicesView.notFound")))):l?a.createElement("div",{className:"v2-blank"},a.createElement("div",{className:"v2-blank-description"},a.createElement("div",{className:"v2-blank-icon"},a.createElement(o.a,{width:259,name:o.b.inventoryProducts})),a.createElement("h2",{className:"v2-blank-title-normal bold"},r.a.t("services.noServicesView.booksyTitle")),a.createElement("div",{className:"text-center text-grayed-out"},r.a.t("services.noServicesView.booksyDescription")),a.createElement("div",{className:"text-center mt-l"},a.createElement(i.b,{type:"button",onClick:function(){return window.location.href=c}},r.a.t("services.noServicesView.booksyRedirect"))))):a.createElement("div",{className:"e2e-empty-services-table"},a.createElement("div",{className:"column_row row"},a.createElement("div",{className:"col-md-2"}),a.createElement("div",{className:"col-md-8"},a.createElement("div",{className:"empty-list-icon"},a.createElement("i",{className:"icon sprite-first-service"})),a.createElement("h1",{className:"empty-list-heading"},r.a.t("services.noServicesView.addNew")),a.createElement("p",{className:"empty-list-description"},r.a.t("services.noServicesView.emptyListDescription"),a.createElement("div",null,r.a.t("services.noServicesView.emptyListDescriptionDetailed")))),a.createElement("div",{className:"col-md-2 hidden-sm hidden-xs"},a.createElement("i",{className:"icon sprite-blue_arrow_big"}))),a.createElement("div",{className:"column_row row"},a.createElement("div",{className:"col-md-2"}),a.createElement("div",{className:"col-md-8 excel-import-txt"},r.a.t("services.noServicesView.importInfo"),a.createElement("div",null,r.a.t("services.noServicesView.sendMessage"),a.createElement("a",{target:"_blank",href:"/helps/new"}," ",r.a.t("services.noServicesView.contactForm"))))))}},4:function(e,t,n){"use strict";var a=n(26),r=n(17),o=n(18),i=n(45),s=n(55),c=n(30),l=n(5),u=n(0),d=function(e){var t,n=e.labelText,a=e.className,r=e.type,o=l(a,((t={"v2-label":!0})["v2-label-"+r]=r,t));return u.createElement("span",{className:o},n)},m=n(131),p=n(95),f=n(66),E=n(118),y=n(139),h=n(14),v=n(2),b=n(70),g=function(){return Object.keys(v.n).map((function(e){var t=v.n[e];return{label:h.t("countryNames."+t),value:t}}))},S=function(e){return g().find((function(t){return t.value===e}))},_=function(e){var t=e.value,n=e.onChange,a=e.disabled,r=e.isSearchable;return u.createElement(u.Fragment,null,u.createElement(b.a,{value:t,options:g(),onChange:n,isSearchable:r,className:"w-64",version:"v2",disabled:a}))};n.d(t,"c",(function(){return a.b})),n.d(t,"b",(function(){return a.a})),n.d(t,"w",(function(){return r.a})),n.d(t,"x",(function(){return r.b})),n.d(t,"g",(function(){return o.a})),n.d(t,"l",(function(){return o.e})),n.d(t,"t",(function(){return o.h})),n.d(t,"m",(function(){return o.f})),n.d(t,"n",(function(){return o.g})),n.d(t,"k",(function(){return o.d})),n.d(t,"i",(function(){return o.b})),n.d(t,"j",(function(){return o.c})),n.d(t,"y",(function(){return o.i})),n.d(t,"v",(function(){return i.a})),n.d(t,"u",(function(){return s.a})),n.d(t,"D",(function(){return c.d})),n.d(t,"B",(function(){return c.b})),n.d(t,"A",(function(){return c.a})),n.d(t,"C",(function(){return c.c})),n.d(t,"o",(function(){return d})),n.d(t,"e",(function(){return m.b})),n.d(t,"d",(function(){return m.a})),n.d(t,"f",(function(){return m.c})),n.d(t,"z",(function(){return p.a})),n.d(t,"r",(function(){return f.c})),n.d(t,"q",(function(){return f.b})),n.d(t,"p",(function(){return f.a})),n.d(t,"s",(function(){return E.a})),n.d(t,"a",(function(){return y.a})),n.d(t,"E",(function(){return S})),n.d(t,"h",(function(){return _}))},40:function(e,t,n){"use strict";var a,r,o;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),function(e){e.SET_INTERVAL="SET_INTERVAL",e.SET_REPEAT_FREQUENCY="SET_REPEAT_FREQUENCY",e.SET_RECURRENCE_ENDING_TYPE="SET_RECURRENCE_ENDING_TYPE",e.SET_COUNT="SET_COUNT",e.SET_UNTIL="SET_UNTIL",e.SET_DAYS="SET_DAYS",e.SET_BY_MONTH_DAY="SET_BY_MONTH_DAY"}(a||(a={})),function(e){e.DAILY="daily",e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly"}(r||(r={})),function(e){e.AFTER_DAY="afterDay",e.AFTER_TIMES="afterTimes"}(o||(o={}))},41:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},42:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SET_SERVICES_BROWSER_VISIBLE="SET_SERVICES_BROWSER_VISIBLE",e.SET_SERVICES="SET_SERVICES",e.SET_CATEGORIES="SET_CATEGORIES",e.SET_IS_FETCHING="SET_IS_FETCHING",e.SET_VIEWER_SETTINGS="SET_VIEWER_SETTINGS",e.ADD_SERVICE="ADD_SERVICE",e.SET_CREATE_SERVICE_MODAL_VISIBLE="SET_CREATE_SERVICE_MODAL_VISIBLE",e.SET_CREATE_SERVICE_CATEGORY_MODAL_VISIBLE="SET_CREATE_SERVICE_CATEGORY_MODAL_VISIBLE",e.SET_CATEGORY_ID="SET_CATEGORY_ID",e.SET_CREATE_SERVICE_NAME="SET_CREATE_SERVICE_NAME"}(a||(a={}))},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var a,r=n(5),o=n.n(r),i=n(0),s=n(4),c=function(){return(c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.v1="v1",e.v2="v2"}(a||(a={}));var l=function(e){var t,n,a=e.text,r=e.className,l=e.disabled,u=e.icon,d=e.iconRight,m=e.link,p=e.onClick,f=e.size,E=e.tabIndex,y=e.type,h=e.version,v=void 0===h?"v1":h,b=e.variant,g=e.loading,S=e.fileUpload,_=e.children,T=e.divider,N=o()(((t={"v2-btn":!0,"v2-btn-icon":!!u,"v2-btn-link":m})["v2-btn-"+y]=!!y,t["v2-btn-"+f]=!!f,t),r),O=o()(((n={button:!0,"button-link":m,"button-divider":T,"button-fileupload":S})["button-"+b]=!!b,n),r),C={onClick:p,tabIndex:E,type:y};return i.createElement(i.Fragment,null,"v1"===v&&i.createElement("button",c({},C,{className:O,disabled:l||g}),u&&i.createElement(s.w,{name:u,className:a&&"mr-xs"}),!g&&a,g&&i.createElement(s.v,{size:"sm",inline:!0}),_),"v2"===v&&i.createElement("button",c({},C,{className:N}),u&&i.createElement(s.w,{name:u,className:"mr-xs"})||"",a,d&&i.createElement(s.w,{name:d,className:"ml-xs",size:20})||""))}},45:function(e,t,n){"use strict";var a=n(90);n.d(t,"a",(function(){return a.a}))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return C}));var a=n(16),r=n(2),o=n(0),i=n(73),s=n(145),c=n(12),l=n(1),u=n(29),d=n(7),m=function(){return(m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},f=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},y=-1,h={by:r.U.NAME,order:r.V.ASC},v={allServicesChecked:!1,markedServices:[],currentCategory:"all",currentPage:u.b.getCachedPage(u.a.SERVICES_TABLE,1),searchedQuery:"",pageSize:u.b.getCachedPageSize(u.a.SERVICES_TABLE,20),sortBy:h,lastEmptyQuerySortBy:h,serviceCategories:[],branchSettings:{currency:s.a,vatPayer:!1,resourcesActivated:!1,vatRates:[0]},abilities:[],services:[],servicesCount:0,isFetchingServices:!1,isFetchingServiceCategories:!1,isFetchingViewerSettings:!0,isMutatingServices:!1,fetchServicesErrors:!1},b=function(e,t){switch(void 0===e&&(e=v),t.type){case a.b.TOGGLE_ALL_CHECKBOXES:return m(m({},e),{allServicesChecked:!e.allServicesChecked,markedServices:[]});case a.b.MARK_SERVICE:return m(m({},e),{markedServices:e.markedServices.includes(t.payload)?e.markedServices.filter((function(e){return e!==t.payload})):E(E([],e.markedServices,!0),[t.payload],!1)});case a.b.SET_SERVICE_CATEGORIES:return m(m({},e),{serviceCategories:t.payload,isFetchingServiceCategories:!1});case a.b.SET_VIEWER_SETTINGS:return m(m(m(m({},e),{abilities:t.payload.abilities}),null!==t.payload.branchSettings?{branchSettings:t.payload.branchSettings}:{}),{isFetchingViewerSettings:!1});case a.b.SET_CURRENT_CATEGORY:return m(m({},e),{currentCategory:t.payload,currentPage:1,allServicesChecked:!1,markedServices:[]});case a.b.SET_CURRENT_PAGE:return m(m({},e),{currentPage:t.payload});case a.b.SET_SEARCHED_QUERY:return m(m({},e),{searchedQuery:t.payload,currentPage:1,allServicesChecked:!1,markedServices:[],sortBy:t.payload?null:e.lastEmptyQuerySortBy});case a.b.SET_PAGE_SIZE:return m(m({},e),{pageSize:t.payload,currentPage:1});case a.b.SET_SORT_BY:return m(m(m({},e),{sortBy:t.payload}),!e.searchedQuery&&{lastEmptyQuerySortBy:t.payload});case a.b.SET_SERVICES:return m(m({},e),{services:t.payload.services,servicesCount:t.payload.servicesCount,isFetchingServices:!1,fetchServicesErrors:!1});case a.b.SET_IS_FETCHING_SERVICES:return m(m({},e),{isFetchingServices:t.payload});case a.b.SET_IS_FETCHING_SERVICE_CATEGORIES:return m(m({},e),{isFetchingServiceCategories:t.payload});case a.b.SET_IS_FETCHING_VIEWER_SETTINGS:return m(m({},e),{isFetchingViewerSettings:t.payload});case a.b.SET_IS_MUTATING_SERVICES:return m(m({},e),{isMutatingServices:t.payload});case a.b.SET_FETCH_SERVICES_ERRORS:return m(m({},e),{fetchServicesErrors:t.payload});case a.b.BATCH_UPDATE_IN_PROGRESS:return m(m({},e),{batchUpdateJob:t.payload,allServicesChecked:!1,markedServices:[]});case a.b.BATCH_UPDATE_COMPLETED:return m(m({},e),{batchUpdateJob:void 0});case a.b.UPDATE_BATCH_UPDATE_STATE:return m(m({},e),e.batchUpdateJob?{batchUpdateJob:m(m({},e.batchUpdateJob),{batchUpdate:m(m({},e.batchUpdateJob.batchUpdate),{state:t.payload})})}:{});case a.b.RESOURCES_TRANSFER_IN_PROGRESS:return m(m({},e),{resourcesTransferJob:t.payload,allServicesChecked:!1,markedServices:[]});case a.b.RESOURCES_TRANSFER_COMPLETED:return m(m({},e),{resourcesTransferJob:void 0});case a.b.UPDATE_RESOURCES_BATCH_UPDATE_STATE:return m(m({},e),e.resourcesTransferJob?{resourcesTransferJob:m(m({},e.resourcesTransferJob),e.resourcesTransferJob.batchUpdate?{batchUpdate:m(m({},e.resourcesTransferJob.batchUpdate),{state:t.payload})}:{})}:{});case a.b.UPDATE_RESOURCES_TRANSFER_STATE:return m(m({},e),e.resourcesTransferJob?{resourcesTransferJob:m(m({},e.resourcesTransferJob),e.resourcesTransferJob.transfer?{transfer:m(m({},e.resourcesTransferJob.transfer),{state:t.payload})}:{})}:{});default:return e}},g=Object(o.createContext)({state:{},dispatch:function(){},props:{},pendingRequest:!1}),S=function(e){Object(o.useEffect)((function(){p(void 0,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return e({type:a.b.SET_IS_FETCHING_SERVICE_CATEGORIES,payload:!0}),[4,Object(i.d)()];case 1:return t=r.sent(),e({type:a.b.SET_SERVICE_CATEGORIES,payload:t||[]}),e({type:a.b.SET_IS_FETCHING_VIEWER_SETTINGS,payload:!0}),[4,Object(i.e)()];case 2:return n=r.sent(),e(n?{type:a.b.SET_VIEWER_SETTINGS,payload:{branchSettings:n.branch||null,abilities:n.abilities}}:{type:a.b.SET_IS_FETCHING_VIEWER_SETTINGS,payload:!1}),[2]}}))}))}),[])},_=function(e,t,n,a,r,i,s,c){Object(o.useEffect)((function(){s||c||T(e,t,n,a,r,i)}),[t,n,a,r,i,s,c])},T=function(e,t,n,r,o,s){return p(void 0,void 0,void 0,(function(){var c;return f(this,(function(l){switch(l.label){case 0:return e({type:a.b.SET_IS_FETCHING_SERVICES,payload:!0}),[4,d.a.query({options:{query:i.a,variables:{count:r,page:t,sort:o?[o]:[],filter:m({q:n},"all"===s?{}:{category:s})},fetchPolicy:"network-only"},errorHandler:{onGraphQLErrors:function(t){e&&e({type:a.b.SET_FETCH_SERVICES_ERRORS,payload:!0})}},result:function(e){return e.services||null}})];case 1:return c=l.sent(),e(c?{type:a.b.SET_SERVICES,payload:{services:c.items,servicesCount:c.all}}:{type:a.b.SET_IS_FETCHING_SERVICES,payload:!1}),[2]}}))}))},N=function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){if(t)if(t.transfer){if([r.Q.SUCCESSED,r.Q.FAILED,r.Q.CONFLICT].includes(t.transfer.state))t.transfer.state===r.Q.SUCCESSED&&c.a.success(l.a.t("services.batchUpdate.success")+(t.state===r.b.NEW?" "+l.a.t("services.successNotifications.resources"):"")),[r.Q.FAILED,r.Q.CONFLICT].includes(t.transfer.state)&&c.a.error(l.a.t("services.batchUpdate.error")),void 0!==n.current&&(clearInterval(n.current),n.current=void 0),e({type:a.b.RESOURCES_TRANSFER_COMPLETED});else if(void 0===n.current){var o=t.transfer.id;n.current=window.setInterval((function(){return p(void 0,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,Object(i.c)(o)];case 1:return t=n.sent(),e(t?{type:a.b.UPDATE_RESOURCES_TRANSFER_STATE,payload:t.state}:{type:a.b.UPDATE_RESOURCES_TRANSFER_STATE,payload:r.Q.FAILED}),[2]}}))}))}),5e3)}}else if(t.batchUpdate)if([r.d.SUCCESSED,r.d.FAILED].includes(t.batchUpdate.state))void 0!==n.current&&(clearInterval(n.current),n.current=void 0),t.batchUpdate.state===r.d.SUCCESSED&&c.a.success(w(t.batchUpdate,t.state)),t.batchUpdate.state===r.d.FAILED&&c.a.error(l.a.t("services.batchUpdate.error")),e({type:a.b.RESOURCES_TRANSFER_COMPLETED});else if(void 0===n.current){var s=t.batchUpdate.id;n.current=window.setInterval((function(){return p(void 0,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,Object(i.b)(s)];case 1:return t=n.sent(),e(t?{type:a.b.UPDATE_RESOURCES_BATCH_UPDATE_STATE,payload:t.state}:{type:a.b.UPDATE_RESOURCES_BATCH_UPDATE_STATE,payload:r.d.FAILED}),[2]}}))}))}),5e3)}}),[t&&t.batchUpdate&&t.batchUpdate.state,t&&t.transfer&&t.transfer.state])},O=function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){t&&([r.d.SUCCESSED,r.d.FAILED].includes(t.batchUpdate.state)?(void 0!==n.current&&(clearInterval(n.current),n.current=void 0),t.batchUpdate.state===r.d.SUCCESSED&&c.a.success(w(t.batchUpdate,t.state)),t.batchUpdate.state===r.d.FAILED&&c.a.error(l.a.t("services.batchUpdate.error")),e({type:a.b.BATCH_UPDATE_COMPLETED})):void 0===n.current&&(n.current=window.setInterval((function(){return p(void 0,void 0,void 0,(function(){var n;return f(this,(function(o){switch(o.label){case 0:return[4,Object(i.b)(t.batchUpdate.id)];case 1:return n=o.sent(),e(n?{type:a.b.UPDATE_BATCH_UPDATE_STATE,payload:n.state}:{type:a.b.UPDATE_BATCH_UPDATE_STATE,payload:r.d.FAILED}),[2]}}))}))}),5e3)))}),[t&&t.batchUpdate.state])},C=function(e){return e.isFetchingServiceCategories||e.isFetchingViewerSettings||e.isFetchingServices||e.isMutatingServices},w=function(e,t){return l.a.t("services.batchUpdate.success")+(t===r.b.NEW?" "+function(e){switch(e){case r.c.UPDATE_PRICES_BY_PERCENT:return l.a.t("services.successNotifications.percentage");case r.c.UPDATE_PRICES_BY_VALUE:return l.a.t("services.successNotifications.price");case r.c.UPDATE_CATEGORY:return l.a.t("services.successNotifications.category");case r.c.UPDATE_ONLINE_BOOKING_STATUS:return l.a.t("services.successNotifications.booking");case r.c.UPDATE_PREPAYMENTS:return l.a.t("services.successNotifications.prepayment");case r.c.UPDATE_DURATION:return l.a.t("services.successNotifications.duration");case r.c.CHANGE_VAT_VALUE:return l.a.t("services.successNotifications.vat");case r.c.CHANGE_TO_MEDICAL:return l.a.t("services.successNotifications.medical");case r.c.CHANGE_TO_NON_MEDICAL:return l.a.t("services.successNotifications.nonMedical");default:return""}}(e.operationName):"")}},475:function(e,t,n){var a={"./af":213,"./af.js":213,"./ar":214,"./ar-dz":215,"./ar-dz.js":215,"./ar-kw":216,"./ar-kw.js":216,"./ar-ly":217,"./ar-ly.js":217,"./ar-ma":218,"./ar-ma.js":218,"./ar-sa":219,"./ar-sa.js":219,"./ar-tn":220,"./ar-tn.js":220,"./ar.js":214,"./az":221,"./az.js":221,"./be":222,"./be.js":222,"./bg":223,"./bg.js":223,"./bm":224,"./bm.js":224,"./bn":225,"./bn.js":225,"./bo":226,"./bo.js":226,"./br":227,"./br.js":227,"./bs":228,"./bs.js":228,"./ca":229,"./ca.js":229,"./cs":230,"./cs.js":230,"./cv":231,"./cv.js":231,"./cy":232,"./cy.js":232,"./da":233,"./da.js":233,"./de":234,"./de-at":235,"./de-at.js":235,"./de-ch":236,"./de-ch.js":236,"./de.js":234,"./dv":237,"./dv.js":237,"./el":238,"./el.js":238,"./en-SG":239,"./en-SG.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-il":244,"./en-il.js":244,"./en-nz":245,"./en-nz.js":245,"./eo":246,"./eo.js":246,"./es":247,"./es-do":248,"./es-do.js":248,"./es-us":249,"./es-us.js":249,"./es.js":247,"./et":250,"./et.js":250,"./eu":251,"./eu.js":251,"./fa":252,"./fa.js":252,"./fi":253,"./fi.js":253,"./fo":254,"./fo.js":254,"./fr":255,"./fr-ca":256,"./fr-ca.js":256,"./fr-ch":257,"./fr-ch.js":257,"./fr.js":255,"./fy":258,"./fy.js":258,"./ga":259,"./ga.js":259,"./gd":260,"./gd.js":260,"./gl":261,"./gl.js":261,"./gom-latn":262,"./gom-latn.js":262,"./gu":263,"./gu.js":263,"./he":264,"./he.js":264,"./hi":265,"./hi.js":265,"./hr":266,"./hr.js":266,"./hu":267,"./hu.js":267,"./hy-am":268,"./hy-am.js":268,"./id":269,"./id.js":269,"./is":270,"./is.js":270,"./it":271,"./it-ch":272,"./it-ch.js":272,"./it.js":271,"./ja":273,"./ja.js":273,"./jv":274,"./jv.js":274,"./ka":275,"./ka.js":275,"./kk":276,"./kk.js":276,"./km":277,"./km.js":277,"./kn":278,"./kn.js":278,"./ko":279,"./ko.js":279,"./ku":280,"./ku.js":280,"./ky":281,"./ky.js":281,"./lb":282,"./lb.js":282,"./lo":283,"./lo.js":283,"./lt":284,"./lt.js":284,"./lv":285,"./lv.js":285,"./me":286,"./me.js":286,"./mi":287,"./mi.js":287,"./mk":288,"./mk.js":288,"./ml":289,"./ml.js":289,"./mn":290,"./mn.js":290,"./mr":291,"./mr.js":291,"./ms":292,"./ms-my":293,"./ms-my.js":293,"./ms.js":292,"./mt":294,"./mt.js":294,"./my":295,"./my.js":295,"./nb":296,"./nb.js":296,"./ne":297,"./ne.js":297,"./nl":298,"./nl-be":299,"./nl-be.js":299,"./nl.js":298,"./nn":300,"./nn.js":300,"./pa-in":301,"./pa-in.js":301,"./pl":302,"./pl.js":302,"./pt":303,"./pt-br":304,"./pt-br.js":304,"./pt.js":303,"./ro":305,"./ro.js":305,"./ru":306,"./ru.js":306,"./sd":307,"./sd.js":307,"./se":308,"./se.js":308,"./si":309,"./si.js":309,"./sk":310,"./sk.js":310,"./sl":311,"./sl.js":311,"./sq":312,"./sq.js":312,"./sr":313,"./sr-cyrl":314,"./sr-cyrl.js":314,"./sr.js":313,"./ss":315,"./ss.js":315,"./sv":316,"./sv.js":316,"./sw":317,"./sw.js":317,"./ta":318,"./ta.js":318,"./te":319,"./te.js":319,"./tet":320,"./tet.js":320,"./tg":321,"./tg.js":321,"./th":322,"./th.js":322,"./tl-ph":323,"./tl-ph.js":323,"./tlh":324,"./tlh.js":324,"./tr":325,"./tr.js":325,"./tzl":326,"./tzl.js":326,"./tzm":327,"./tzm-latn":328,"./tzm-latn.js":328,"./tzm.js":327,"./ug-cn":329,"./ug-cn.js":329,"./uk":330,"./uk.js":330,"./ur":331,"./ur.js":331,"./uz":332,"./uz-latn":333,"./uz-latn.js":333,"./uz.js":332,"./vi":334,"./vi.js":334,"./x-pseudo":335,"./x-pseudo.js":335,"./yo":336,"./yo.js":336,"./zh-cn":337,"./zh-cn.js":337,"./zh-hk":338,"./zh-hk.js":338,"./zh-tw":339,"./zh-tw.js":339};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=475},50:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SET_CATEGORY_TREE="SET_CATEGORY_TREE",e.TOGGLE_IS_EDIT_OPEN="TOGGLE_IS_EDIT_OPEN",e.SET_ANIMATE_SIDE_NAV="SET_ANIMATE_SIDE_NAV",e.TOGGLE_EDIT_CATEGORY_MODAL_VISIBLE="TOGGLE_EDIT_CATEGORY_MODAL_VISIBLE",e.TOGGLE_DELETE_CATEGORY_MODAL_VISIBLE="SET_DELETE_CATEGORY_MODAL_VISIBLE",e.TOGGLE_CREATE_CATEGORY_MODAL_VISIBLE="TOGGLE_CREATE_CATEGORY_MODAL_VISIBLE",e.TOGGLE_SUB_CATEGORY_MODAL_VISIBLE="TOGGLE_SUB_CATEGORY_MODAL_VISIBLE",e.SET_IS_MUTATING_SERVICE_CATEGORY="SET_IS_MUTATING_SERVICE_CATEGORY"}(a||(a={}))},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(0),r=Object(a.createContext)({currencyUtils:window.currencyUtils}),o=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement(r.Provider,{value:{currencyUtils:window.currencyUtils}},t))}},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n(0),r=n(15),o=n(108),i=n(40),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=50,l={interval:1,freq:r.a.DAILY,count:12,byweekday:[]},u={byweekday:[],bymonthday:[],bymonth:void 0},d=function(e,t){switch(t.type){case i.a.SET_INTERVAL:return s(s({},e),{interval:t.payload});case i.a.SET_REPEAT_FREQUENCY:var n=t.payload,a=n.freq,l=n.event,d=l.beginning.day()-1,m=l.beginning.date(),p=l.beginning.month()+1;return s(s(s(s(s(s({},e),{freq:a}),u),a===r.a.WEEKLY&&{byweekday:[d]}),a===r.a.MONTHLY&&{byweekday:[],bymonthday:[m]}),a===r.a.YEARLY&&{byweekday:[],bymonthday:[m],bymonth:p});case i.a.SET_RECURRENCE_ENDING_TYPE:return s(s(s({},e),t.payload===i.b.AFTER_DAY&&{until:new Date}),t.payload===i.b.AFTER_TIMES&&{until:void 0});case i.a.SET_COUNT:return s(s({},e),{until:void 0,count:Object(o.f)(t.payload)});case i.a.SET_UNTIL:var f=new Date(t.payload),E=new Date(Date.UTC(f.getFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes()));return s(s({},e),{count:c,until:E});case i.a.SET_DAYS:return s(s({},e),{byweekday:t.payload});case i.a.SET_BY_MONTH_DAY:return s(s({},e),{bymonthday:t.payload});default:return e}},m=Object(a.createContext)(s({dispatch:function(){}},l)),p=function(){var e=a.useState(Date.now())[1];return{forceUpdate:function(){return e(Date.now())}}},f=function(e,t){var n,a;e.persist();var r=e.target,o=null===(a=null===(n=null==r?void 0:r.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a?void 0:a.parentElement;null==o||o.classList.add("row-removed"),window.setTimeout(t,300)}},54:function(e,t,n){"use strict";var a=n(572),r=window.loadingIndicator.show,o=window.loadingIndicator.hide,i=n(0);n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return s}));var s,c=function(){return Object(a.a)(window,"VersumConfig.application.api.deviceToken",null)},l=0,u=new Set,d=function(){var e=Object(i.useState)(!1),t=e[0],n=e[1];return Object(i.useEffect)((function(){u.add(n)}),[]),{isLoading:t,setLoading:n}},m=function(){++l>0&&(r(),u.forEach((function(e){return e(!!l)})))},p=function(){--l<=0&&(o(),u.forEach((function(e){return e(!!l)})))},f=function(e){return e&&e>=500&&e<600};!function(e){e[e.OK=200]="OK",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.ACCESS_DENIED=403]="ACCESS_DENIED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(s||(s={}))},55:function(e,t,n){"use strict";var a=n(70);n.d(t,"a",(function(){return a.a}))},57:function(e,t,n){"use strict";var a,r,o=n(0),i=n(20),s=n(170),c=n(85),l=n(167),u=n(75),d={modalCloseHandlers:new u.a},m=function(e,t){switch(t.type){case u.b.REGISTER_HANDLER:return e.modalCloseHandlers.register(t.payload),e;case u.b.DEREGISTER_HANDLER:return e.modalCloseHandlers.deregister(t.payload),e;default:return d}},p=function(e){var t,n,a=Object(o.useReducer)(m,d),r=a[0],i=a[1];return t=r.modalCloseHandlers,n=function(e){if(("Escape"===e.key||"Esc"===e.key||27===e.keyCode)&&!t.isEmpty()){e.preventDefault(),e.stopPropagation();var n=t.pop();n&&n()}},Object(o.useEffect)((function(){return document.body.addEventListener("keyup",n),function(){document.body.removeEventListener("keyup",n)}}),[]),function(e){Object(o.useEffect)((function(){return window.reactLegacyBridge.modalManagerDispatch=e,function(){window.reactLegacyBridge.modalManagerDispatch=null}}),[])}(i),o.createElement(o.Fragment,null)},f=n(99),E=n(352),y=function(){return(y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},h=function(e){var t=Object(o.useReducer)(f.b,f.a),n=t[0],a=t[1];return Object(f.c)(a),o.createElement(o.Fragment,null,Array.from(n.tooltips).map((function(e){var t=e[0],n=e[1];return o.createElement(E,y({},n,{key:t}))})))},v=n(1),b=n(353),g=n(115),S=n(147),_=n(354),T=n(355),N=n(365),O=n(572),C=n(14),w=function(){function e(e){this.calendarRef=e}return e.prototype.unselect=function(){return this.calendarRef&&this.calendarRef.unselect()},e.prototype.rerender=function(){return this.calendarRef&&this.calendarRef.render()},e.prototype.rerenderEvents=function(){return this.calendarRef&&this.calendarRef.rerenderEvents()},e.prototype.addEvent=function(e,t){return this.calendarRef&&this.calendarRef.addEvent(e,t)},e.prototype.getEvents=function(){return this.calendarRef&&this.calendarRef.getEvents()},e.prototype.getDate=function(){return this.calendarRef&&this.calendarRef.getDate()},e.prototype.getOption=function(e){return this.calendarRef&&this.calendarRef.getOption(e)},e.prototype.getView=function(){return this.calendarRef&&this.calendarRef.view},e.prototype.refetchEvents=function(){return this.calendarRef&&this.calendarRef.refetchEvents()},e.prototype.refetchResources=function(){return this.calendarRef&&this.calendarRef.refetchResources()},e.prototype.setOption=function(e,t){return this.calendarRef&&this.calendarRef.setOption(e,t)},e.prototype.scrollToTime=function(e){return this.calendarRef&&this.calendarRef.scrollToTime(e)},e.prototype.getEventById=function(e){return this.calendarRef&&this.calendarRef.getEventById(e)},e.prototype.isFetching=function(e){if(this.calendarRef){var t=this.calendarRef.getEventSourceById(e);return t&&t.internalEventSource.isFetching}return!1},e.prototype.isRendering=function(){return!this.calendarRef||this.calendarRef.isRendering},e.prototype.getResources=function(){return this.calendarRef&&this.calendarRef.getResources()},e.prototype.gotoDate=function(e){return this.calendarRef?(window.reactLegacyBridge.calendar.config.handle_view_or_date_range_changed(),this.calendarRef.gotoDate(e)):this.calendarRef},e.prototype.changeView=function(e,t){return this.calendarRef?(window.reactLegacyBridge.calendar.config.handle_view_or_date_range_changed(e),this.calendarRef.changeView(e,t)):this.calendarRef},e.prototype.next=function(){return this.calendarRef?(window.reactLegacyBridge.calendar.config.handle_view_or_date_range_changed(),this.calendarRef.next()):this.calendarRef},e.prototype.prev=function(){return this.calendarRef?(window.reactLegacyBridge.calendar.config.handle_view_or_date_range_changed(),this.calendarRef.prev()):this.calendarRef},e.prototype.today=function(){return this.calendarRef?(window.reactLegacyBridge.calendar.config.handle_view_or_date_range_changed(),this.calendarRef.today()):this.calendarRef},e}();!function(e){e.RECEPTION="resourceTimeGridDay",e.DAY="timeGridDay",e.WEEK="timeGridWeek",e.MONTH="dayGridMonth"}(a||(a={})),function(e){e.POSITIVE="positive",e.NEGATIVE="negative"}(r||(r={}));var A,R=Object(o.createContext)({title:"",start:new Date,end:new Date,full_start:new Date,full_end:new Date,allDay:!1,tags:[],customer:void 0,not_an_appointment:!1,finalized:!1,canceled:!1,reserved_online:!1,created_at:new Date,description:"",info_from_customer:"",events_services:[],display_events_services:!0,block_events_services_ids:[],payments:[],payment_method:"",payment_method_name:"",price:0,services_price_sum:0,prepayment_id:null,prepayment_status:null,prepayment_amount:0,prepayment_amount_paid:0,prepayment_payment_method:null,prepayment_created_by_customer:!1}),I=n(100),P=n(24),D=n(17),k=n(5),M=n.n(k),x=function(e){var t=e.className,n=Object(o.useContext)(R),a=n.prepayment_id,r=n.prepayment_amount_paid,i=n.prepayment_amount,s=n.prepayment_created_by_customer,c=!s&&null!=a,l=s&&r>0,u=i&&r&&i===r;return o.createElement(o.Fragment,null,c||l?o.createElement("span",{className:M()("prepayment-icons",{paid:u,queued:!u},t)},u?o.createElement(D.a,{name:D.b.prepaymentPaid}):o.createElement(D.a,{name:D.b.prepaymentQueued})):o.createElement(o.Fragment,null))},L=function(e){var t=e.partNo,n=e.totalParts;return o.createElement(o.Fragment,null,n>1?o.createElement("small",{className:"ml-xs"},t,"/",n):o.createElement(o.Fragment,null))},F=function(e){var t=e.startDelta,n=e.duration,r=e.partNo,i=e.totalParts,s=Object(o.useContext)(P.a).dateUtils,c=Object(o.useContext)(R),l=c.start,u=c.end,d=c.allDay,m=c.not_an_appointment,p=l&&s.toUTC(Object(I.a)(l,t||0)),f=l&&n?s.toUTC(Object(I.a)(l,(t||0)+n)):u&&s.toUTC(u),E=window.reactLegacyBridge.calendar.api.getView();return o.createElement(o.Fragment,null,p&&f&&!d?E&&E.type===a.MONTH?o.createElement("span",{className:"fc-time text-nowrap"},m&&o.createElement(D.a,{name:D.b.blockedEvent,className:"mr-xs"}),s.formatTime(p),o.createElement(x,{className:"ml-xs"})):o.createElement("div",{className:"fc-time","data-start":s.formatTime(p),"data-full":s.formatTime(p)+" - "+s.formatTime(f)},o.createElement("span",{className:"event-time-full"},m&&o.createElement("span",null,o.createElement(D.a,{name:D.b.blockedEvent,className:"mr-xs"})),s.formatTime(p)," - ",s.formatTime(f),i&&r&&o.createElement(L,{totalParts:i,partNo:r}),o.createElement(x,null))):o.createElement(o.Fragment,null))},B=n(182),j=n(61),G=function(e){var t=Object(o.useContext)(P.a).dateUtils,n=Object(o.useContext)(R),a=n.full_start,r=n.full_end,i=n.allDay;return o.createElement(o.Fragment,null,a&&r?o.createElement("span",{className:"full-event-time",style:{display:"none"}},function(e,n,a){var r=t.toUTC(e),o=t.toUTC(n);if(a){var i=Object(B.a)(Object(j.a)(o),1);return t.formatDate(r)+(Object(j.a)(r).getTime()!==i.getTime()?" - "+t.formatDate(i):"")}return Object(j.a)(r).getTime()===Object(j.a)(o).getTime()?t.formatTime(r)+" - "+t.formatTime(o):t.formatDateTime(r)+" - "+t.formatDateTime(o)}(a,r,i)):o.createElement(o.Fragment,null))},V=function(e){var t=e.text.split(/\r\n|\r|\n/g);return o.createElement(o.Fragment,null,t.map((function(e,n){return o.createElement(o.Fragment,{key:n},e,n!=t.length-1&&o.createElement("br",null))})))},U=function(e){var t=Object(o.useContext)(R),n=t.customer,a=t.not_an_appointment;return o.createElement(o.Fragment,null,n&&!a&&o.createElement(o.Fragment,null,n.full_name))},H=function(e){var t=Object(o.useContext)(R),n=t.canceled,a=t.not_an_appointment,r=t.info_from_customer;return o.createElement(o.Fragment,null,r&&!a&&!n&&o.createElement(o.Fragment,null,"\n"+v.a.t("calendar.event.template.infoFromCustomer")+": ",o.createElement(V,{text:r}),o.createElement("br",null)))},z=function(e){var t=Object(o.useContext)(R).customer;return o.createElement(o.Fragment,null,t&&t.description&&o.createElement(o.Fragment,null,o.createElement("span",{className:"desc_b"},v.a.t("calendar.event.template.customerDescription"),": "),o.createElement("span",{"data-customer_id":t.id.toString(),dangerouslySetInnerHTML:{__html:window.markdownUtils.richContentHtml(t.description,t.description_content_type,"")}}),o.createElement("br",null))||t&&o.createElement("span",{"data-customer_id":t.id.toString()}))},Y=n(51),q=function(e){var t=Object(o.useContext)(R),n=t.prepayment_amount,a=t.prepayment_status,r=t.prepayment_id,i=t.finalized,s=t.prepayment_created_by_customer,c=Object(o.useContext)(Y.a).currencyUtils;return o.createElement(o.Fragment,null,null==r||i||s&&(!s||"paid"!==a)?o.createElement(o.Fragment,null):o.createElement("div",null,o.createElement("strong",{id:"prepayment-"+r.toString()},v.a.t("calendar.event.template.prepayment.status."+a)+" "+c.formatCurrency(n))))},W=function(e){var t=Object(o.useContext)(R).tags;return o.createElement("div",null,t.map((function(e){return o.createElement(K,{key:e.id,tag:e})})))},K=function(e){var t=e.tag;return o.createElement("span",{className:"tag "+t.color,title:t.title},t.title)},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},X=function(e){var t=Object(o.useContext)(R),n=t.events_services,a=t.not_an_appointment,r=t.canceled,i=t.display_events_services,s=t.block_events_services_ids;return o.createElement(o.Fragment,null,n&&!a&&!r&&i&&n.map((function(e,t){return o.createElement(J,{key:e.id,eventService:e,eventServiceIdx:1!=n.length?t+1:t,eventServicesCount:n.length,blockEventServicesIds:s})})))},J=function(e){var t=e.eventService,n=e.eventServiceIdx,a=e.eventServicesCount,r=e.blockEventServicesIds;return o.createElement("div",Z({className:"event-service-name","data-es-id":t.id.toString()},!r.includes(t.id)&&{style:{display:"none"}}),0!=n&&o.createElement(o.Fragment,null,o.createElement("span",{className:"service-badge"},n+"/"+a)," "),t.full_name,o.createElement(Q,{resourceIds:t.resource_ids}))},Q=function(e){var t=e.resourceIds;return o.createElement(o.Fragment,null,t&&0!=t.length&&o.createElement(o.Fragment,null," ",o.createElement("span",{className:"nowrap"},o.createElement("span",{className:"icon sprite-resource_little"}),o.createElement("span",{className:"v_middle event-service-resources-count"}," ",t.length))))},ee=function(e){var t=Object(o.useContext)(R),n=t.description,a=t.not_an_appointment,r=t.canceled;return o.createElement(o.Fragment,null,n&&!a&&!r&&o.createElement(o.Fragment,null,o.createElement("span",{className:"desc_b"},v.a.t("calendar.event.template.eventDescription")+": "),o.createElement("span",{className:"text-break"},o.createElement(V,{text:n})),o.createElement("br",null)))},te=n(80),ne=function(e){var t=Object(o.useContext)(R),n=t.description,a=t.not_an_appointment;return o.createElement(o.Fragment,null,a&&o.createElement(o.Fragment,null,v.a.t("calendar.event.template.lockDescription"),n&&o.createElement(o.Fragment,null,": ",o.createElement(V,{text:n}),o.createElement("br",null))))},ae=function(e){var t=Object(o.useContext)(R),n=t.description,a=t.canceled;return o.createElement(o.Fragment,null,a&&o.createElement(o.Fragment,null,v.a.t("calendar.event.template.cancelledAppointment"),n&&o.createElement(o.Fragment,null,": ",o.createElement("br",null),o.createElement(V,{text:n}),o.createElement("br",null))))},re=function(e){var t=Object(o.useContext)(R),n=t.reserved_online,a=t.created_at,r=Object(o.useContext)(P.a).dateUtils;return o.createElement(o.Fragment,null,n&&o.createElement(o.Fragment,null,o.createElement("br",null),v.a.t("calendar.event.template.onlineReservationFrom")+": "+r.formatDateTime(r.toUTC(a),te.b.SHORT),o.createElement("br",null)))},oe=function(e){var t=Object(o.useContext)(R),n=t.canceled,a=t.payments,r=t.payment_method,i=t.payment_method_name,s=t.price,c=t.prepayment_status,l=t.prepayment_amount_paid,u=t.finalized,d=t.services_price_sum,m=Object(o.useContext)(Y.a).currencyUtils;return o.createElement(o.Fragment,null,!n&&(a.length||r)&&o.createElement(o.Fragment,null,o.createElement("br",null),v.a.t("calendar.event.template.paid"),": ",m.formatCurrency(u?s:d),a.length&&" ("+a.map((function(e){return e.payment_method_name+": "+m.formatCurrency(e.price)})).join("; ")+")"||o.createElement(o.Fragment,null,i?" ("+i+")":o.createElement(o.Fragment,null)),u&&"paid"===c&&0===s&&o.createElement(o.Fragment,null,o.createElement("br",null)," ",v.a.t("calendar.event.template.prepayment.paidAmount"),": ",m.formatCurrency(l))))},ie=function(e){var t=Object(o.useContext)(R).customer_health_survey,n=k("e2e-health-survey-status","event-health-survey-status",{"text-green":t&&t.status===r.POSITIVE,"text-red":t&&t.status===r.NEGATIVE});return o.createElement(o.Fragment,null,t&&t.filled_at&&o.createElement("div",{className:n,style:{display:"none"}},v.a.t("calendar.event.template.healthSurvey.status."+t.status)))},se=function(){var e=Object(o.useContext)(R).title;return o.createElement(o.Fragment,null,e?o.createElement("div",{className:"fc-title e2e-calendar-event-title"},o.createElement(G,null),o.createElement(U,null),o.createElement(q,null),o.createElement(ie,null),o.createElement(W,null),o.createElement(X,null),o.createElement("div",{className:"c"}),o.createElement(ee,null),o.createElement(H,null),o.createElement(ne,null),o.createElement(ae,null),o.createElement(re,null),o.createElement(z,null),o.createElement(oe,null)):o.createElement(o.Fragment,null))},ce=n(28),le=n(21),ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},de=function(e){var t=Object(o.useContext)(R),n=t.customer_health_survey,a=t.recurrence_params;return o.createElement(o.Fragment,null,n&&n.filled_at&&o.createElement("div",{className:"event-health-survey-icon d-flex jc-end"},o.createElement(ce.a,{name:le.a[n.status+"Status"],className:"fc-event-footer-right-bottom-icon",size:12,style:ue({},a&&{right:"18px"})})))},me=function(e){var t=Object(o.useContext)(R).recurrence_params;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"event-recurrence-icon d-flex jc-end"},o.createElement(ce.a,{name:le.a.recurringEvent,className:"fc-event-footer-right-bottom-icon recurring-event-icon",size:12})))},pe=function(){return o.createElement("div",{className:"fc-footer"},o.createElement(de,null),o.createElement(me,null))},fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ee=function(e){var t=e.event;return o.createElement(o.Fragment,null,o.createElement(R.Provider,{value:fe({title:t.title,start:t.start,end:t.end,allDay:t.allDay},t.extendedProps)},o.createElement("div",{className:"fc-content"},o.createElement(F,null),o.createElement(se,null)),t.durationEditable?o.createElement("div",{className:"fc-resizer fc-end-resizer"}):o.createElement(o.Fragment,null),o.createElement(pe,null)))},ye=function(e){var t=window.matchMedia("(max-width: 768px)").matches?19.6:17.6;return e/window.reactLegacyBridge.calendar.config.slot_length_in_minutes*t},he=function(e){var t=e.duration;return o.createElement("div",{className:"fc-break",style:{height:ye(t)+"px"}},o.createElement("div",{className:"fc-break-line"}))},ve=function(e){var t=e.duration;return o.createElement("div",{className:"fc-before",style:{height:ye(t)+"px"}})},be=function(e){var t=e.duration;return o.createElement("div",{className:"fc-after",style:{height:ye(t)+"px"}})},ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Se=function(e){var t=e.duration,n=e.startDelta,a=e.partNo,r=e.totalParts,i=e.displayDuration,s=e.isOverlapping,c=e.isFirstEvent;return o.createElement("div",{className:M()("fc-subevent",{"fc-displayed-time-overlapping":s}),style:ge(ge({},r===a?{}:{height:ye(t)+"px"}),r===a?{flex:"1"}:{})},o.createElement(F,{duration:i,startDelta:n,partNo:a,totalParts:r}),o.createElement(se,null),c&&o.createElement(pe,null))},_e=n(149),Te=n(183),Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Oe=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.BREAK=2]="BREAK",e[e.EVENT=3]="EVENT"}(A||(A={}));var Ce=function(e){var t=e.event,n=e.isStart,a=e.isEnd,r=Object(o.useContext)(P.a).dateUtils,i=function(e){return e.type===A.BEFORE||e.type===A.AFTER},s=t.extendedProps.events_services.reduce((function(e,n){return-1===t.extendedProps.block_events_services_ids.indexOf(n.id)?e:Oe(Oe(Oe(Oe([],e,!0),n.duration_before?[{type:A.BEFORE,duration:n.duration_before}]:[],!0),n.break_duration&&n.break_offset?[{type:A.EVENT,duration:n.break_offset},{type:A.BREAK,duration:n.break_duration},{type:A.EVENT,duration:n.duration-n.break_duration-n.break_offset}]:[{type:A.EVENT,duration:n.duration}],!0),n.duration_after?[{type:A.AFTER,duration:n.duration_after}]:[],!0)}),[]).reduce((function(e,t){var n=e.length&&e[e.length-1];if(n&&n.type===t.type){var a=n.duration+t.duration;return Oe(Oe([],e.slice(0,-1),!0),[Ne(Ne({},n),{type:t.type,duration:a,displayDuration:a})],!1)}return n?Oe(Oe([],e,!0),[Ne(Ne({},t),{startDelta:i(n)?n.startDelta:n.startDelta+n.duration,partNo:t.type===A.EVENT?n.partNo+1:n.partNo,displayDuration:t.duration})],!1):[Ne(Ne({},t),{startDelta:0,partNo:t.type===A.EVENT?1:0,displayDuration:t.duration})]}),[]),c=s[s.length-1].partNo,l=function(e,t){return e.reduce((function(e,t){if(e.remainingDuration<=0)return e;var r=i(t);return e.remainingDuration<t.duration?r?Ne(Ne({},e),n&&a?{parts:Oe(Oe([],e.parts,!0),[Ne(Ne({},t),{duration:e.remainingDuration,isOverlapping:!0})],!1)}:{parts:Oe(Oe([],e.parts,!0),[t],!1)}):{parts:Oe(Oe([],e.parts,!0),[Ne(Ne({},t),{duration:e.remainingDuration,isOverlapping:!0})],!1),remainingDuration:0}:{parts:Oe(Oe([],e.parts,!0),[t],!1),remainingDuration:r?e.remainingDuration:e.remainingDuration-t.duration}}),{parts:[],remainingDuration:t}).parts},u=function(){if(n&&t.start){var e=r.toUTC(t.start),o=Object(_e.a)(Object(Te.a)(Object(j.a)(e),parseInt(window.reactLegacyBridge.calendar.api.getOption("maxTime"))),e);return l(s,o)}if(a&&t.end){var i=r.toUTC(t.end);o=Object(_e.a)(i,Object(Te.a)(Object(j.a)(i),parseInt(window.reactLegacyBridge.calendar.api.getOption("minTime"))));return l(s.slice().reverse(),o).slice().reverse()}return s}(),d=u.findIndex((function(e){return e.type===A.EVENT}));return o.createElement(R.Provider,{value:Ne({title:t.title,start:t.start,end:t.end,allDay:t.allDay},t.extendedProps)},o.createElement("div",{className:"fc-subevents"},u.map((function(e,t){switch(e.type){case A.BEFORE:return o.createElement(ve,Ne({key:t},e));case A.AFTER:return o.createElement(be,Ne({key:t},e));case A.BREAK:return o.createElement(he,Ne({key:t},e));case A.EVENT:return o.createElement(Se,Ne({key:t},e,{totalParts:c,isFirstEvent:d===t}));default:return o.createElement(o.Fragment,{key:t})}}))),t.durationEditable&&a?o.createElement("div",{className:"fc-resizer fc-end-resizer"}):o.createElement(o.Fragment,null))},we=n(27),Ae=n(6),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ie=Ae.j.prototype.triggerWith;Ae.j.prototype.triggerWith=function(e,t,n){return $.is_refetching_events||window.reactLegacyBridge.calendar.api.isFetching("events")||window.reactLegacyBridge.calendar.api.isFetching("working-hours")||window.reactLegacyBridge.calendar.api.isRendering()?"dragstart"===e||"pointerdown"===e?(this.shouldIgnoreMoves=!0,this):"dragmove"===e?(this.shouldIgnoreMoves=!0,Ie.bind(this)("dragend",t,this.originalDragStart||n)):"pointermove"===e?(this.shouldIgnoreMoves=!0,Ie.bind(this)("pointerup",t,this.originalPointerDown||n)):"pointerup"===e||"dragstop"===e?(this.shouldIgnoreMoves=!1,Ie.bind(this)(e,t,n)):Ie.bind(this)(e,t,n):!0!==this.shouldIgnoreMoves||"dragmove"!==e&&"pointermove"!==e?("dragstart"===e&&(this.shouldIgnoreMoves=!1,this.originalDragStart=n),"pointerdown"===e&&(this.shouldIgnoreMoves=!1,this.originalPointerDown=n),"dragstop"===e&&(this.shouldIgnoreMoves=!1,this.originalDragStart=null),"pointerup"===e&&(this.shouldIgnoreMoves=!1,this.originalPointerDown=null),Ie.bind(this)(e,t,n)):this};var Pe,De=function(e){var t,n,r=Object(o.useCallback)((function(e){e&&(window.reactLegacyBridge.calendar.api=new w(e.getApi()))}),[]),s=function(e,t){return{text:e,click:function(){l().changeView(t)}}},c=function(){return window.reactLegacyBridge.calendar.config},l=function(){return window.reactLegacyBridge.calendar.api},u=function(e,t,n){return l().isFetching("working-hours")?"":'<div class="fc-annotation">'+(c().get_annotation(e,t,n)||"")+"</div>"},d=function(e){var t=c().get_current_resources()[0],n=u(e,t.type,t.id);return"<span>"+we.a.utc(e).format(c().get_date_format("with_weekday_name_short"))+"</span>"+n},m=("0"+c().slot_length_in_minutes).slice(-2);return o.createElement(o.Fragment,null,o.createElement(b.a,{ref:r,schedulerLicenseKey:"0780456279-fcs-1577976342",plugins:[_.a,T.a,S.e,g.g,N.a],slotDuration:"00:"+m+":00",defaultTimedEventDuration:"00:"+m+":00",now:function(){return window.dateUtils.calendarNow()},defaultView:c().get_default_view(),fixedWeekCount:!1,defaultDate:c().get_default_date(),selectable:!c()._fullcalendar_restricted,selectMirror:!c()._fullcalendar_restricted,minTime:c()._fullcalendar_min_time||"06:00:00",maxTime:c()._fullcalendar_max_time||"22:00:00",scrollTime:c()._fullcalendar_scroll_time||"09:00:00",slotLabelInterval:"01:00",firstDay:c().get_first_day_of_the_week(),timeZone:c()._fullcalendar_time_zone,header:{left:"prev,next today",center:"title",right:c()._fullcalendar_reception_restricted?a.MONTH+","+a.WEEK+","+a.DAY:a.MONTH+","+a.WEEK+","+a.DAY+","+a.RECEPTION},weekNumbers:!0,weekLabel:c().get_week_number_title(),weekNumberCalculation:"ISO",editable:!c()._fullcalendar_restricted,eventStartEditable:!1,lazyFetching:!1,unselectAuto:!1,themeSystem:void 0,eventTimeFormat:c().get_time_format(),slotLabelFormat:c().get_time_format(),views:(t={},t[a.DAY]={titleFormat:c().get_date_format("with_weekday_and_month_name"),columnHeaderHtml:d},t[a.RECEPTION]={titleFormat:c().get_date_format("with_weekday_and_month_name"),columnHeaderFormat:c().get_date_format("with_weekday_name_short")},t[a.WEEK]={titleFormat:c().get_date_format("with_month_name"),columnHeaderFormat:c().get_date_format("with_weekday_name_short"),columnHeaderHtml:d},t[a.MONTH]={titleFormat:c().get_date_format("month_title"),columnHeaderFormat:c().get_date_format("month_column")},t),locale:c().get_moment_js_locale(),allDayText:C.t("calendar.allDay"),customButtons:(n={},n[a.RECEPTION]=s(C.t("calendar.agendaResource"),a.RECEPTION),n[a.MONTH]=s(C.t("calendar.month"),a.MONTH),n[a.WEEK]=s(C.t("calendar.week"),a.WEEK),n[a.DAY]=s(C.t("calendar.day"),a.DAY),n.prev={text:"",click:function(){l().prev()}},n.next={text:"",click:function(){l().next()}},n.today={text:C.t("calendar.today"),click:function(){l().today()}},n),navLinkDayClick:function(e,t){l().changeView(a.DAY,e)},navLinkWeekClick:function(e,t){l().changeView(a.WEEK,e)},nowIndicator:!0,loading:c().handle_loading,datesRender:function(e){var t=e.el;if("dayGridMonth"==e.view.type){var n=c().get_current_resources()[0];Array.from(t.getElementsByClassName("fc-day-top")).map((function(e){e.innerHTML=e.innerHTML+u(e.getAttribute("data-date"),n.type,n.id)}))}return c().handle_dates_render(),t},select:function(e){var t=e.start,n=e.end,a=(e.startStr,e.endStr,e.allDay),r=e.jsEvent,o=e.view,i=e.resource;c().handle_select(t,n,a,r,i,o)},progressiveEventRendering:!1,eventDrop:function(e){var t=e.delta,n=e.event,a=e.revert,r=Object(O.a)(e,"oldResource"),o=Object(O.a)(e,"newResource");r&&o&&!r.extendedProps.type===o.extendedProps.type?a():c().handle_event_drop(n,t,a,o,r,e.jsEvent)},eventDragStart:function(e){var t=e.event,n=e.jsEvent;e.el;c().handle_event_drag_start(t,n)},eventDragStop:function(e){var t=e.event;e.jsEvent,e.el;c().handle_event_drag_stop(t)},eventResize:function(e){e.el;var t=e.endDelta,n=e.event,a=e.jsEvent,r=(e.prevEvent,e.revert),o=e.startDelta;e.view;c().handle_event_resize(n,t||o,r,a)},eventMouseEnter:function(e){var t=e.event;e.el,e.jsEvent,e.view;c().handle_event_mouseover(t)},eventMouseLeave:function(e){var t=e.event;e.el,e.jsEvent,e.view;c().handle_event_mouseout(t)},eventRender:function(e){var t=e.event,n=e.el,r=e.isMirror,o=e.isStart,i=e.isEnd,s=e.view;return t.id&&n.classList.add("_fullcalendar_event_"+t.id),t.extendedProps.canceled?n.classList.add("canceled_event"):t.extendedProps.not_an_appointment?n.classList.add("blocked_event"):t.extendedProps.finalized&&n.classList.add("past_event"),function(e){return"background"===e.rendering}(t)?(n.classList.add("fc-nonbusiness"),!c().get_show_events_during_refetch()&&l().isFetching("working-hours")&&n.classList.add("d-none"),n):(r&&c().is_state_single_user()&&n.classList.add(c().get_current_resource_class_name()),n.getElementsByClassName("fc-content")[0]&&(!function(e,t){return!(e.allDay||t.type===a.MONTH||!e.extendedProps.events_services||e.extendedProps.events_services.every((function(e){return!e.break_duration&&!e.duration_after&&!e.duration_before})))}(t,s)?Tt(_t,n,Ee,{event:t}):(n.classList.add("fc-has-subevents"),n.classList.add("fc-has-break"),Tt(_t,n,Ce,{event:t,isStart:o,isEnd:i}))),!c().get_show_events_during_refetch()&&l().isFetching("events")&&n.classList.add("d-none"),n)},rerenderDelay:1,eventPositioned:function(e){var t=e.event,n=e.el,a=e.isMirror,r=(e.isStart,e.isEnd,e.view);return c().handle_event_after_render(t,n,r,a),n},eventDestroy:function(e){var t=e.event,n=e.el,a=e.view;return"background"!=t.rendering&&i.unmountComponentAtNode(n),c().handle_event_destroy(t,n,a),n},viewSkeletonRender:function(e){var t=e.view,n=e.el;return c().handle_view_render(t,n),n},navLinks:!0,resources:function(e,t,n){t(c().get_current_resources().map((function(e,t){return Re(Re({},e),{eventClassNames:e.class_name,index:t})})))},resourceOrder:"index",eventSources:c().get_event_sources(),resourceRender:function(e){var t=e.resource,n=e.el,r=u(l().getDate()||c().get_default_date(),t.extendedProps.type,t.id);return n.innerHTML="<a data-goto-resource><span>"+t.title+"</span>"+r+"</a>",n.addEventListener("click",(function(){c().set_current_resource(t),l().changeView(a.WEEK)})),n},windowResize:function(e){c().handle_resize(e)},selectLongPressDelay:300,eventLongPressDelay:500,transformEventInstanceMutation:function(e,t,n,a,r){if(e.endDelta&&a.instanceId!==t.instanceId){var o=n.extendedProps.events_services.map((function(e){return e.id})).filter((function(e){return-1!==n.extendedProps.block_events_services_ids.indexOf(e)})),i=r.extendedProps.events_services.map((function(e){return e.id})).filter((function(e){return-1!==r.extendedProps.block_events_services_ids.indexOf(e)}));if(0===i.filter((function(e){return-1!==o.indexOf(e)})).length)return t.range.start>=a.range.start?Re(Re({},e),{endDelta:void 0,datesDelta:e.endDelta}):Re(Re({},e),{endDelta:void 0});if(i.length>0){var s=c().handle_event_services_resize(r,a.range.start,a.range.end,e.endDelta,n.extendedProps.block_events_services_ids);return Re(Re({},e),s)}}return e},transformEventDefMutation:function(e,t,n){return t.defId!==n.defId?Re(Re({},e),{resourceMutation:void 0}):e}}))},ke=n(19),Me=function(){function e(e,t){void 0===t&&(t=0),this.currency=e,this.minorUnits=t}return e.prototype.formatCurrency=function(e,t,n){return void 0===t&&(t=this.currency),void 0===n&&(n=this.minorUnits),Object(ke.b)(e,t,n)},e.prototype.symbol=function(e){void 0===e&&(e=this.currency);var t=ke.a.find((function(t){return t.code===e}));return t?t.symbol:""},Object.defineProperty(e.prototype,"currentCurrency",{get:function(){return this.currency},enumerable:!1,configurable:!0}),e}(),xe=n(120),Le=n(492),Fe=n(60),Be=n(162),je=n(163),Ge=n(357),Ve=n.n(Ge),Ue=n(12),He=n(67);!function(e){e.NOT_FOUND="not_found",e.ACCESS_DENIED="access_denied",e.INVALID_CREDENTIALS="invalid_credentials",e.MISSING_CREDENTIALS="missing_credentials",e.INVALID_RECORD="invalid_record",e.SERVER_ERROR="server_error"}(Pe||(Pe={}));var ze,Ye,qe=function(e){var t=function(e){switch(e.message){case Pe.NOT_FOUND:return v.a.t("api.errors.notFound.message");case Pe.ACCESS_DENIED:case Pe.INVALID_CREDENTIALS:case Pe.MISSING_CREDENTIALS:return v.a.t("api.errors.forbidden.message");case Pe.INVALID_RECORD:return v.a.t("api.errors.badRequest.message");case Pe.SERVER_ERROR:return v.a.t("api.errors.other.message");default:return""}}(e);if(t)return t;var n=e;return n.problems?""+n.problems.map((function(e){return e.path.join(".")+": "+e.explanation})).join("<br />"):We(e)},We=function(e){return e.message.match(/^Cannot return null for non-nullable field.*/)||e.message.match(/^Cannot complete value of unexpected type.*/)||e.message.match(/^Expected a value of type ".*" but received:.*/)||e.message.match(/^Unknown kind of type:.*/)||e.message.match(/^Invalid AST Node:.*/)||e.message.match(/^Extended Schema cannot use Interface or Union types for execution.*/)||e.message.match(/^Must provide a document ast.*/)||e.message.match(/^Must be named\. Unexpected name:.*/)||e.message.match(/^Names must match \/\^\[_a-zA-Z]\[_a-zA-Z0-9]\*\$\/ but ".*" does not.*/)||e.message.match(/^Must provide only one schema definition.*/)||e.message.match(/^Type ".*" was defined more than once.*/)||e.message.match(/^Decorated type deeper than introspection query.*/)||e.message.match(/^Client Schema cannot use Interface or Union types for executionF.*/)||e.message.match(/^Specified query type ".*" not found in document.*/)||e.message.match(/^Specified mutation type ".*" not found in document.*/)||e.message.match(/^Specified subscription type ".*" not found in document.*/)||e.message.match(/^Must provide only one query type in schema.*/)||e.message.match(/^Must provide only one mutation type in schema.*/)||e.message.match(/^Must provide only one subscription type in schema.*/)||e.message.match(/^Nothing constructed for ".*".*/)||e.message.match(/^Must provide schema definition with query type or a type named Query.*/)||e.message.match(/^Subscription must return Async Iterable\. Received:.*/)||e.message.match(/^def must be defined.*/)||e.message.match(/^Type kind ".*" not supported.*/)||e.message.match(/^Generated Schema cannot use Interface or Union types for execution..*/)||e.message.match(/^Invalid or incomplete schema, unknown type: .* Ensure that a full introspection query is used in order to build a client schema.*/)?window.Admin?v.a.t("common.otherNetworkError"):v.a.t("common.requestTimeoutDescription"):""+e.message};!function(e){e.REQUEST_ABORTED="Request aborted",e.NETWORK_ERROR="Network Error",e.TIMEOUT_EXCEEDED="Timeout exceeded"}(ze||(ze={})),function(e){e.BRANCH_BLOCKED="branch_blocked",e.USER_BLOCKED="user_blocked",e.IP_RESTRICTED="ip_restricted",e.HOUR_RESTRICTED="hour_restricted",e.DEVICE_RESTRICTED="device_restricted",e.INTERNAL_SERVER_ERROR="internal_server_error",e.UNAUTHORIZED="unauthorized"}(Ye||(Ye={}));var Ke=function(e){switch(e&&e.reason||""){case Ye.BRANCH_BLOCKED:case Ye.USER_BLOCKED:return v.a.t("api.errors.branchBlocked.message");case Ye.IP_RESTRICTED:return v.a.t("api.errors.ipRestricted.message");case Ye.HOUR_RESTRICTED:return v.a.t("api.errors.hourRestricted.message");case Ye.DEVICE_RESTRICTED:return v.a.t("api.errors.deviceRestricted.message");case Ye.INTERNAL_SERVER_ERROR:return v.a.t("serverError.500");case Ye.UNAUTHORIZED:return v.a.t("api.errors.unauthorized.message");default:return v.a.t("api.errors.other.message")}},$e=function(e){return e===ze.NETWORK_ERROR?v.a.t("common.networkError"):e===ze.TIMEOUT_EXCEEDED?v.a.t("common.timeoutError"):v.a.t("common.otherNetworkError")},Ze=n(54),Xe=n(119),Je=n(142),Qe=function(){return(Qe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var et=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},tt=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},nt=n(171),at=n(116),rt=n(644),ot=n(164),it=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},st=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ct(e,t,n){return void 0===n&&(n={}),it(this,void 0,void 0,(function(){var a,r,o,i;return st(this,(function(s){switch(s.label){case 0:return"content-type"in(a=Object(rt.default)(n.headers,(function(e,t){return t.toLowerCase()})))||(a["content-type"]="text/plain;charset=UTF-8"),[4,e.request({url:t.toString(),method:n.method||"GET",data:n.body instanceof ot?n.body:String(n.body),headers:a,validateStatus:function(){return!0}})];case 1:return r=s.sent(),o="object"==typeof r.data?JSON.stringify(r.data):r.data,i=new at.Headers,Object.entries(r.headers).forEach((function(e){var t=e[0],n=e[1];i.append(t,n)})),[2,new at.Response(o,{status:r.status,statusText:r.statusText,headers:i})]}}))}))}var lt=n(166),ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},dt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},mt=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pt=n.n(lt).a.create();pt.interceptors.request.use((function(e){return dt(void 0,void 0,void 0,(function(){return mt(this,(function(t){return Object(Ze.e)(),[2,e]}))}))}),(function(e){return Object(Ze.c)(),Object(He.a)(e,"Request reject"),Promise.reject(e)})),pt.interceptors.response.use((function(e){return dt(void 0,void 0,void 0,(function(){return mt(this,(function(t){return Object(Ze.c)(),e.status===Ze.a.OK?[2,e]:e.status===Ze.a.UNAUTHORIZED?[2,ut(ut({},e),{data:{error:e.status,reason:Ye.UNAUTHORIZED}})]:Object(Ze.d)(e.status)?[2,ut(ut({},e),{data:{error:e.status,reason:Ye.INTERNAL_SERVER_ERROR}})]:e.status===Ze.a.ACCESS_DENIED?[2,e]:(Object(He.a)(e.status,"Unhandled response status"),[2,e])}))}))}),(function(e){return Object(Ze.c)(),Promise.reject(e)})),n.d(t,"a",(function(){return _t})),n.d(t,"d",(function(){return Tt})),n.d(t,"c",(function(){return Nt})),n.d(t,"b",(function(){return Ot})),n.d(t,"e",(function(){return Ct})),n.d(t,"f",(function(){return It}));var ft,Et,yt,ht,vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},bt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},gt=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},St=Object(nt.a)({uri:Object(O.a)(window,"VersumConfig.application.api.graphQL.url",void 0),fetch:(ft=pt,ct.bind(void 0,ft))}),_t=(Et=St,yt=Object(Be.a)((function(e,t){var n=t.headers,a=Object(Xe.a)(),r=Object(Ze.b)(),o=window.navigator.userAgent;return{headers:Qe(Qe(Qe(Qe({},n),a&&{"X-CSRF-Token":a}),r&&{"X-Device-Authorization-Token-Enc":r}),o&&{"X-DATA-ORIGIN-USER-AGENT":o})}})),ht=new Ve.a(3e4),new Le.a({cache:Je.a,link:Fe.ApolloLink.from([Object(je.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&function(e){e.length&&Ue.a.error(e.map((function(e){return qe(e)})).join("<br />"),{sticky:!0,modal:!0}),e.map((function(e){}))}(t),n&&function(e){var t;e.message!==ze.REQUEST_ABORTED&&((t=e).result?Ue.a.error(Ke(t.result),{sticky:!0,modal:!0}):window.notificationBar&&window.notificationBar.show({text:$e(e.message)}),e.message===ze.TIMEOUT_EXCEEDED&&Object(He.a)(e,"Timeout"))}(n)})),yt.concat(ht).concat(Et)]),defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"ignore"},query:{fetchPolicy:"cache-first",errorPolicy:"all"},mutate:{errorPolicy:"all"}},connectToDevTools:!0}));function Tt(e,t,n,a,r){void 0===a&&(a={}),i.render(o.createElement(xe.a,{client:e,wrapperComponents:r},o.createElement(n,vt({},a))),t)}function Nt(e,t){void 0===e&&(e="development"),void 0===t&&(t=[{key:"user_id",value:Object(O.a)(window,"VersumConfig.user_id","")},{key:"branch_id",value:Object(O.a)(window,"VersumConfig.branch_id","")},{key:"programming_language",value:"javascript"}]),"development"!==e&&(Object(s.a)({dsn:"https://6b790e42c98f4733add2f6cd6615913d@sentry.io/1837231",ignoreErrors:["Blocked a frame with origin","Gravitec","window.__firefox__.reader.checkReadability","find variable: $","variable: fbq","fbq is not defined","NS_ERROR_FILE_CORRUPTED"],integrations:[new l.a({levels:["error"]})],environment:e}),Object(c.b)((function(e){t.map((function(t){return e.setTag(t.key,t.value)}))})))}function Ot(e){var t=this;Nt(Object(O.a)(window,"VersumConfig.env","development")),window.dateSettings&&!window.dateUtils&&(window.dateUtils=new te.c(window.dateSettings.timeFormat,window.dateSettings.dateFormat,window.dateSettings.firstDayOfTheWeek,window.dateSettings.timeZoneOffset)),window.currencySettings&&!window.currencyUtils&&(window.currencyUtils=new Me(window.currencySettings.code,window.currencySettings.minor_units)),window.reactLegacyBridge.calendar||(window.reactLegacyBridge.calendar={config:{},api:new w(null),render:function(e){return bt(t,void 0,void 0,(function(){return gt(this,(function(t){switch(t.label){case 0:return[4,Object(v.b)()];case 1:return t.sent(),[4,et(void 0,void 0,void 0,(function(){return tt(this,(function(e){switch(e.label){case 0:return[4,Promise.all([n.e(0),n.e(22),n.e(16)]).then(n.bind(null,817))];case 1:return e.sent(),[2]}}))}))];case 2:return t.sent(),Tt(_t,e,De),[2]}}))}))}}),window.addEventListener("DOMContentLoaded",(function(){Ct(e,_t),At(),wt()}))}var Ct=function(e,t,n){Array.from(document.getElementsByClassName("react-component")).forEach((function(a){return bt(void 0,void 0,void 0,(function(){var r,o,i,s;return gt(this,(function(c){switch(c.label){case 0:return r=a.getAttribute("data-react-component"),o=a.getAttribute("data-react-props"),i=o?JSON.parse(o):{},r&&e[r]?(s=e[r],[4,Object(v.b)()]):[3,2];case 1:c.sent(),Tt(t,a,s,i,n),c.label=2;case 2:return[2]}}))}))}))},wt=function(){if(!document.getElementById("modal-manager")){var e=document.createElement("div");e.id="modal-manager",document.body.appendChild(e),i.render(o.createElement(p,null),e)}},At=function(){if(!document.getElementById("tooltip-manager")){var e=document.createElement("div");e.id="tooltip-manager",document.body.appendChild(e),i.render(o.createElement(h,null),e)}},Rt=new Map,It=function(e,t){var n,a=document.querySelector('[data-react-component="'+e+'"]');if(a){var r=Rt.get(e);r&&i.unmountComponentAtNode(r),Ct(((n={})[e]=t,n),_t),Rt.set(e,a)}}},59:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var a,r,o=n(0),i=n(4),s=n(99);!function(e){e.Dark="dark",e.Success="success",e.Info="info",e.Warning="warning",e.Light="light",e.Error="error"}(a||(a={})),function(e){e.Left="left",e.Right="right",e.Top="top",e.Bottom="bottom"}(r||(r={}));var c=function(e){var t=e.trigger,n=e.content,i=e.className,c=e.type,l=e.align,u=void 0===l?r.Top:l,d=e.style,m=(e.modal,Object(o.useMemo)((function(){return"v2-tooltip-"+Math.floor(9999*Math.random())}),[]));return Object(s.d)({place:u,id:m,type:c||a.Light,effect:"solid",className:"v2-tooltip",border:!0,html:!0,getContent:function(){return n},afterShow:function(){var e=document.getElementById(m);e&&(e.style.zIndex="1000001")}}),o.createElement("span",{className:i,style:d},o.createElement("span",{"data-tip":"","data-for":m,className:"align-"+u},t))},l=function(e){var t=e.size,n=e.svgIcon,a=void 0===n?i.x.info:n;return o.createElement(i.w,{name:a,className:"v2-tooltip-icon",width:t||23,height:t||23})}},63:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SET_SERVICE_VARIANTS="SET_SERVICE_VARIANTS",e.SET_COLUMN_SORT="SET_COLUMN_SORT",e.SET_SEARCH_PHRASE="SET_SEARCH_PHRASE",e.SET_IS_LOADING="SET_IS_LOADING",e.SET_EMPLOYEE_FILTER_ENABLED="SET_EMPLOYEE_FILTER_ENABLED",e.SET_CATEGORY_TREE="SET_CATEGORY_TREE",e.SET_PAGE="SET_PAGE",e.SET_PAGE_SIZE="SET_PAGE_SIZE",e.SET_ITEMS_COUNT="SET_ITEMS_COUNT"}(a||(a={}))},66:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return E}));var a,r,o=n(5),i=n(1),s=n(0),c=n(20),l=n(350),u=n.n(l),d=n(44),m=n(141),p=n(30),f=n(135);!function(e){e.normal="normal",e.simple="simple",e.danger="danger"}(a||(a={})),function(e){e.center="text-center",e.left="text-left",e.right="text-right"}(r||(r={}));var E=function(e){var t=e.isOpened,n=void 0!==t&&t,r=e.type,l=void 0===r?a.normal:r,E=e.title,y=e.className,h=e.draggable,v=void 0===h||h,b=e.onSave,g=e.onClose,S=e.onBack,_=e.isOnSaveDisabled,T=e.isSecondaryActionDisabled,N=e.hasOnSaveIcon,O=e.onSaveText,C=void 0===O?i.a.t("common.saveChanges"):O,w=e.onSecondaryText,A=void 0===w?i.a.t("common.saveChanges"):w,R=e.onSecondaryTooltipText,I=e.onCloseText,P=void 0===I?i.a.t("common.close"):I,D=e.backdropClose,k=void 0===D||D,M=e.keyboardClose,x=void 0===M||M,L=(e.dispatchEvents,e.children),F=e.onSecondaryAction,B=e.align,j=e.isFooterVisible,G=void 0===j||j,V=e.modalScrollable,U=void 0===V||V,H=e.scrollModalBodyToBottomTrigger,z=void 0!==H&&H,Y=e.hideCloseButton,q=Object(s.useRef)(null),W=null;Object(f.a)(k,g,q),Object(f.b)(x,g,n);var K=function(e){return n&&c.createPortal(e,document.body)||s.createElement(s.Fragment,null)};s.useEffect((function(){U&&W&&0===W.scrollTop&&(W.scrollTop=W.scrollHeight)}),[z]);var $=o({modal:!0,"bootstrap-dialog":!0,"type-primary":l===a.normal,"type-danger":l===a.danger,fade:!0,"size-wide":!0,in:!0}),Z=o({"e2e-modal-cancel":!0,button:!0,"button-outline-default":l===a.danger,"pull-right":l===a.normal}),X=o({button:!0,"button-danger":l===a.danger,"button-blue":l===a.normal,disabled:!!_,"e2e-modal-save":!0}),J=o({"modal-body":!0,"inner-scrollable":U}),Q=function(){return s.createElement("button",{className:"button "+(T&&"disabled"),onClick:function(){return null==F?void 0:F()},disabled:T},A)};return l===a.normal||l===a.danger?K(s.createElement("div",{ref:q,className:["v2-modal-backdrop",y].join(" ")},s.createElement(u.a,{handle:".bootstrap-dialog-draggable",disabled:!v},s.createElement("div",{className:$,style:{zIndex:1000003,display:"block"}},s.createElement("div",{className:"modal-dialog modal-md"},s.createElement("div",{className:"modal-content"},s.createElement("div",{className:"modal-header bootstrap-dialog-draggable"},s.createElement("div",{className:"bootstrap-dialog-header"},s.createElement("div",{className:"bootstrap-dialog-close-button",style:{display:"block"}},g&&s.createElement("button",{className:"close",onClick:function(){return g()}},"×")),E&&s.createElement("div",{className:"bootstrap-dialog-title"},E)||"")),s.createElement("div",{ref:function(e){return W=e},className:J,onScroll:function(){W&&0===W.scrollTop&&(W.scrollTop=1)}},s.createElement("div",{className:"bootstrap-dialog-body"},s.createElement("div",{className:"bootstrap-dialog-message"},s.createElement("div",null,s.createElement("div",{className:"inner"},L))))),s.createElement("div",{className:"modal-footer",style:{display:"block"}},s.createElement("div",{className:"bootstrap-dialog-footer"},s.createElement("div",{className:"bootstrap-dialog-footer-buttons"},b&&s.createElement("button",{className:X,onClick:function(){return b()},disabled:_},N&&s.createElement("span",{className:"bootstrap-dialog-button-icon icon sprite-add_customer_save"}),C),F?R?s.createElement(p.a,{type:p.d.Info,content:R,trigger:Q()}):Q():s.createElement(s.Fragment,null),g&&s.createElement("button",{className:Z,onClick:function(){return g()}},P),S&&s.createElement("button",{className:Z,onClick:function(){return S()}},i.a.t("common.back"))))))))))):l===a.simple?K(s.createElement("div",{ref:q,className:["v2-modal-backdrop",y].join(" ")},s.createElement("div",{className:"simple-modal"},s.createElement("div",{className:"simple-modal-container "+B},g&&s.createElement("button",{className:"close",onClick:function(){return g()}},"×"),L),G&&s.createElement("div",{className:"simple-modal-footer d-flex"},s.createElement(m.a,{isGroupConnected:!1,className:"mr-auto"},b&&s.createElement(d.a,{variant:"blue",text:C,onClick:b,className:"e2e-modal-save"}),g&&!Y&&s.createElement(d.a,{variant:"link",text:P,onClick:g})),s.createElement("div",null,F&&s.createElement(d.a,{variant:"link",text:A,onClick:F,className:"e2e-modal-secondary-action"})))))):s.createElement(s.Fragment,null)}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){return void 0===n&&(n="error"),console[n](t?"["+t+" error]: Message:":"[error]: Message: ",e)}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),r=n(1),o=n(57),i=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},s=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c={query:function(e){return i(void 0,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,l(e.options,e.result,e.errorHandler)];case 1:return[2,t.sent()]}}))}))},mutate:function(e){return i(void 0,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,u(e.options,e.result,e.mutationErrors,e.errorHandler,e.successMessage,e.errorMessage,e.mutationErrorMessage)];case 1:return[2,t.sent()]}}))}))},EmptyErrorHandler:{},HideMutationResultMessage:{},HideMutationErrorMessage:{},mutationErrorMessage:function(e,t){return void 0===t&&(t=r.a.t("validation.error")),("base"===e.argument?t:e.argument)+": "+r.a.t("validation."+e.code)}},l=function(e,t,n){return void 0===n&&(n=c.EmptyErrorHandler),i(void 0,void 0,void 0,(function(){var a,r,i,c;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,o.a.query(e)];case 1:return a=s.sent(),r=a.data,(i=a.errors)&&0!==i.length&&n.onGraphQLErrors&&n.onGraphQLErrors(i),r?[2,t(r)]:[2,null];case 2:return c=s.sent(),n.onCatchError&&n.onCatchError(c),[2,null];case 3:return[2]}}))}))},u=function(e,t,n,l,u,d,m){return void 0===l&&(l=c.EmptyErrorHandler),void 0===u&&(u={message:r.a.t("common.saved")}),void 0===d&&(d=c.HideMutationResultMessage),void 0===m&&(m={message:c.mutationErrorMessage}),i(void 0,void 0,void 0,(function(){var r;return s(this,(function(c){switch(c.label){case 0:return[4,i(void 0,void 0,void 0,(function(){var r,i,c,u,d;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,o.a.mutate(e)];case 1:if(r=s.sent(),i=r.data,c=r.errors,(u=i&&n(i))&&u.length>0)return l.onMutationErrors&&l.onMutationErrors(u),m&&m.message&&a.a.error(u.map((function(e){return m.message(e)})).join("<br />"),{sticky:!0,modal:!0}),[2,null];if(c&&0!==c.length)l.onGraphQLErrors&&l.onGraphQLErrors(c);else{if(i)return[2,t(i)];l&&l.onGraphQLErrors&&c&&l.onGraphQLErrors(c)}return[2,null];case 2:return d=s.sent(),l.onCatchError&&l.onCatchError(d),[2,null];case 3:return[2]}}))}))];case 1:return null!=(r=c.sent())?u.message&&a.a.success(u.message,{modal:!0}):d.message&&a.a.error(d.message,{sticky:!0,modal:!0}),[2,r]}}))}))}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n(0),o=n(148),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e){var t=e.options,n=e.version,s=void 0===n?"v2":n,c=e.onClick,l=e.onChange,u=e.value,d=e.disabled,m=e.className,p=e.onBlur,f=e.isSearchable,E=void 0===f||f,y=e.isMulti,h=e.placeholder,v=e.isOptionDisabled,b=e.defaultValue,g=e.clearable,S=e.filterOption,_=e.formatOptionLabel;return r.createElement("div",{className:m,onClick:c},r.createElement(o.b,{components:{DropdownIndicator:function(e){return o.a.DropdownIndicator&&r.createElement(o.a.DropdownIndicator,i({},e),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#a0aec0",width:"18",height:"18"},r.createElement("path",{d:"M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z"})))}},options:t,onChange:function(e){l&&l(e||null)},onBlur:function(){p&&p(!0)},value:u,isDisabled:d,classNamePrefix:s+"-select-react",isSearchable:E,className:s+"-select-react",placeholder:h||a.a.t("common.choose"),isOptionDisabled:v,defaultValue:b,isClearable:g,filterOption:S,formatOptionLabel:_,isMulti:y}))}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _}));var a,r,o,i,s,c=n(8),l=n.n(c),u=n(7),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},p=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=l()(a||(a=d(["\n  query GetServices($count: Int, $page: Int, $sort:[ServicesOrderSort], $filter: ServicesFilter ) {\n    services(count: $count, page: $page, sort: $sort, filter: $filter) {\n      all\n      items {\n        id\n        name\n        variants {\n          id\n          name\n          duration\n          price\n          maxPrice\n          vat\n          popularity\n          breakDuration\n          prepaymentValue\n        }\n        category {\n          name\n          id\n        }\n        requiredResources {\n          componentId\n          resources {\n            resource {\n              id\n            }\n            priority\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetServices($count: Int, $page: Int, $sort:[ServicesOrderSort], $filter: ServicesFilter ) {\n    services(count: $count, page: $page, sort: $sort, filter: $filter) {\n      all\n      items {\n        id\n        name\n        variants {\n          id\n          name\n          duration\n          price\n          maxPrice\n          vat\n          popularity\n          breakDuration\n          prepaymentValue\n        }\n        category {\n          name\n          id\n        }\n        requiredResources {\n          componentId\n          resources {\n            resource {\n              id\n            }\n            priority\n          }\n        }\n      }\n    }\n  }\n"]))),E=l()(r||(r=d(["\n  query GetServiceCategories{\n    serviceCategories {\n      name\n      id\n      ancestry\n      position\n      vat\n      employees{\n        id\n      }\n    }\n  }\n"],["\n  query GetServiceCategories{\n    serviceCategories {\n      name\n      id\n      ancestry\n      position\n      vat\n      employees{\n        id\n      }\n    }\n  }\n"]))),y=l()(o||(o=d(["\n  query GetViewer {\n    viewer{\n      branch{\n        resourcesActivated\n        currency\n        vatRates\n        vatPayer\n      }\n      abilities\n    }\n  }\n"],["\n  query GetViewer {\n    viewer{\n      branch{\n        resourcesActivated\n        currency\n        vatRates\n        vatPayer\n      }\n      abilities\n    }\n  }\n"]))),h=l()(i||(i=d(["\n  query GetBatchUpdateJobState($id: Int!) {\n    batchUpdateJob(id: $id) {\n      id\n      state\n      subject\n      operationName\n    }\n  }\n"],["\n  query GetBatchUpdateJobState($id: Int!) {\n    batchUpdateJob(id: $id) {\n      id\n      state\n      subject\n      operationName\n    }\n  }\n"]))),v=l()(s||(s=d(["\n  query GetResourcesTransferJobState($id: Int!) {\n    resourceTransfer(id: $id) {\n      assetsCount\n      id\n      servicesCount\n      state\n    }\n  }\n"],["\n  query GetResourcesTransferJobState($id: Int!) {\n    resourceTransfer(id: $id) {\n      assetsCount\n      id\n      servicesCount\n      state\n    }\n  }\n"]))),b=function(e){return void 0===e&&(e="cache-first"),m(void 0,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,u.a.query({options:{query:E,variables:{count:500},fetchPolicy:e},result:function(e){return e.serviceCategories&&e.serviceCategories.filter((function(e){return null!==e}))||[]}})];case 1:return[2,t.sent()]}}))}))},g=function(){return m(void 0,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,u.a.query({options:{query:y},result:function(e){return e.viewer}})];case 1:return[2,e.sent()]}}))}))},S=function(e){return m(void 0,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,u.a.query({options:{query:h,variables:{id:e},fetchPolicy:"network-only"},result:function(e){return e.batchUpdateJob}})];case 1:return[2,t.sent()]}}))}))},_=function(e){return m(void 0,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,u.a.query({options:{query:v,variables:{id:e},fetchPolicy:"network-only"},result:function(e){return e.resourceTransfer}})];case 1:return[2,t.sent()]}}))}))}},74:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return h}));var a=n(50),r=n(0),o=n(16),i=n(73),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},l=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},d={isEditOpen:!1,categoryTree:[],animateSideNav:!1,editCategoryModalVisible:!1,deleteCategoryModalVisible:!1,createCategoryModalVisible:!1,subCategoryModalVisible:!1,selectedCategoryId:null,isMutatingServiceCategory:!1},m=function(e,t){switch(void 0===e&&(e=d),t.type){case a.a.SET_CATEGORY_TREE:return s(s({},e),{categoryTree:t.payload});case a.a.TOGGLE_EDIT_CATEGORY_MODAL_VISIBLE:return s(s({},e),{editCategoryModalVisible:"number"==typeof t.payload,selectedCategoryId:t.payload||null});case a.a.TOGGLE_DELETE_CATEGORY_MODAL_VISIBLE:return s(s({},e),{deleteCategoryModalVisible:"number"==typeof t.payload,selectedCategoryId:t.payload||null});case a.a.TOGGLE_CREATE_CATEGORY_MODAL_VISIBLE:return s(s({},e),{createCategoryModalVisible:!e.createCategoryModalVisible,selectedCategoryId:null});case a.a.TOGGLE_SUB_CATEGORY_MODAL_VISIBLE:return s(s({},e),{subCategoryModalVisible:"number"==typeof t.payload,selectedCategoryId:t.payload||null});case a.a.SET_ANIMATE_SIDE_NAV:return s(s({},e),{animateSideNav:t.payload});case a.a.TOGGLE_IS_EDIT_OPEN:return s(s({},e),{isEditOpen:!e.isEditOpen,animateSideNav:!0});case a.a.SET_IS_MUTATING_SERVICE_CATEGORY:return s(s({},e),{isMutatingServiceCategory:t.payload});default:return e}},p=Object(r.createContext)(s(s({},d),{dispatch:function(){}})),f=function(e,t){Object(r.useEffect)((function(){e({type:a.a.SET_CATEGORY_TREE,payload:y(t)})}),[t])},E=function(e,t,n){return c(void 0,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return n({type:a.a.SET_IS_MUTATING_SERVICE_CATEGORY,payload:!0}),[4,e.then((function(){return n({type:a.a.SET_IS_MUTATING_SERVICE_CATEGORY,payload:!1}),t({type:o.b.SET_IS_FETCHING_SERVICE_CATEGORIES,payload:!0}),Object(i.d)("network-only")})).then((function(e){e&&t({type:o.b.SET_SERVICE_CATEGORIES,payload:e})}))];case 1:return r.sent(),[2]}}))}))},y=function(e){var t=function(e,n){void 0===n&&(n=0);var a=e.filter((function(e){return 0==n&&0==e.ancestry.length||0!=n&&e.ancestry[e.ancestry.length-1]==n}));return 0==a.length?[]:a.reduce((function(n,a){var r=t(e,a.id);return u(u([],n,!0),[s(s({},a),{children:r})],!1)}),[])};return t(e.sort((function(e,t){return(e.position||0)-(t.position||0)})))},h=function(e,t){var n=function(e,a){return void 0===a&&(a=t),e.reduce((function(e,t,r){return u(u(u([],e,!0),t.children.length?n(t.children,t.id):[],!0),[{id:t.id,input:{position:r,parentId:a}}],!1)}),[])};return n(e)}},75:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.REGISTER_HANDLER="REGISTER_HANDLER",e.DEREGISTER_HANDLER="DEREGISTER_HANDLER"}(a||(a={}));var r=function(){function e(){this._store=[]}return e.prototype.register=function(e){this._store.push(e)},e.prototype.deregister=function(e){return this._store=this._store.filter((function(t){return t!==e})),this._store},e.prototype.pop=function(){return this._store.pop()},e.prototype.isEmpty=function(){return 0===this._store.length},e}()},774:function(e,t,n){"use strict";n.r(t);var a,r,o,i=n(0),s=n(35),c=n(45),l=n(3),u=n(1),d=n(4);!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.BOOKSY_INVITATIONS="BOOKSY_INVITATIONS"}(a||(a={})),function(e){e.SET_VIEW="SET_VIEW",e.SET_MODAL_VISIBLITY="SET_MODAL_VISIBLITY",e.SET_CUSTOMER_DATA="SET_CUSTOMER_DATA"}(r||(r={})),function(e){e.NOW="NOW",e.LATER="LATER"}(o||(o={}));var m,p,f,E,y,h,v,b=n(2),g=n(39),S=function(){return i.createElement("div",{className:"booksy-invitations-banner vrsm-mb-6"},i.createElement("h1",{className:"vrsm-h1",dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.booksyInvitations.facebookBanner.title")}}),i.createElement(l.b,{onClick:function(){return Z()}},u.a.t("settings.customerPanel.booksyInvitations.facebookBanner.cta")))},_=function(){var e=i.useContext(q).customerData;return i.createElement(i.Fragment,null," ",e&&i.createElement("div",{className:"vrsm-mb-6"},i.createElement("div",{className:"vrsm-d-flex vrsm-items-center vrsm-mb-3"},i.createElement(l.A,{htmlTag:"h5",className:"vrsm-mr-2 vrsm-mb-0"},u.a.t("settings.customerPanel.booksyInvitations.message.title")),i.createElement(d.A,{trigger:i.createElement(d.C,null),content:u.a.t("settings.customerPanel.booksyInvitations.message.tooltip")})),i.createElement(l.w,null,i.createElement(l.l,{size:{md:6}},i.createElement(l.g,null,i.createElement(l.h,null,i.createElement("div",{dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.booksyInvitations.message.description",{name:e.branchName,url:e.booksyUrl})}}))))))," ")},T=function(){var e=i.useContext(q),t=e.customerData,n=e.dispatch,a=K(n),r=a.onSubmit,s=a.register,c=a.watch,m=a.errors,p=a.control,f=Object(g.useFieldArray)({control:p,name:"requiredAgreements",keyName:"key"}),E=f.fields,y=f.append;Object(i.useEffect)((function(){t&&y(t.agreements)}),[]);var h=Object.keys(b.f).map((function(e){return{text:u.a.t("settings.customerPanel.booksyInvitations.details."+e),value:e}}));return i.createElement(i.Fragment,null,i.createElement(l.A,{htmlTag:"h5",className:"vrsm-mr-2 vrsm-mb-0"},u.a.t("settings.customerPanel.booksyInvitations.details.title")),i.createElement("form",{className:"v2-form v2-form-counted booksy-invitations-form",onSubmit:r},i.createElement(d.k,null,i.createElement(d.n,{text:u.a.t("settings.customerPanel.booksyInvitations.details.recieversGroup")}),i.createElement(l.x,{options:h,name:"reciversGroup",ref:s})),i.createElement(d.k,null,i.createElement(d.n,{text:u.a.t("settings.customerPanel.booksyInvitations.details.requiredConsents")}),i.createElement("div",null,E.map((function(e,t){return e?i.createElement("div",{key:"requiredAgreements["+t+"].id"},i.createElement(l.j,{name:"requiredAgreements["+t+"].id",defaultValue:e.id,label:e.content,ref:s({required:{value:!!e.required,message:u.a.t("validation.required")}}),className:m.requiredAgreements&&m.requiredAgreements[t]&&m.requiredAgreements[t].id&&"is-invalid"}),m.requiredAgreements&&m.requiredAgreements[t]&&m.requiredAgreements[t].id&&i.createElement("div",{className:"vrsm-form-control-feedback is-invalid"},m.requiredAgreements[t].id.message)||i.createElement(i.Fragment,null)):i.createElement(i.Fragment,null)})))),i.createElement(d.k,null,i.createElement(d.n,{text:u.a.t("settings.customerPanel.booksyInvitations.details.sendTime")}),i.createElement(l.k,null,i.createElement(l.j,{wrapperClassName:"d-flex ai-center",className:"vrsm-mt-0",type:"radio",name:"sendTime",label:u.a.t("settings.customerPanel.booksyInvitations.details.now"),ref:s,defaultValue:o.NOW}),i.createElement(l.j,{wrapperClassName:"d-flex ai-center",className:"vrsm-mt-0",type:"radio",name:"sendTime",label:u.a.t("settings.customerPanel.booksyInvitations.details.later"),ref:s,defaultValue:o.LATER}))),c("sendTime")===o.LATER&&i.createElement("div",{className:"vrsm-d-flex vrsm-mb-5"},i.createElement("div",{className:"vrsm-mr-5"},u.a.t("settings.customerPanel.booksyInvitations.details.date"),i.createElement("input",{type:"date",className:"vrsm-form-control vrsm-ml-1",id:"sendStart",name:"sendStart",ref:s})),i.createElement("div",null,u.a.t("settings.customerPanel.booksyInvitations.details.hour"),i.createElement(l.x,{options:function(){for(var e=[],t=0;t<24;t++){var n=t<10?"0"+t+":00":t+":00";e.push({value:t,text:n})}return e}()||[],name:"sendHour",ref:s,className:"vrsm-ml-1 w-auto"}))),i.createElement(l.b,{type:"submit"},u.a.t("settings.customerPanel.booksyInvitations.details.cta"))))},N=function(){var e=i.useContext(q),t=e.dispatch,n=e.isModalVisible,a=function(){return t({type:r.SET_MODAL_VISIBLITY,payload:!1})};return i.createElement(d.p,{isOpened:n,type:d.r.simple,isFooterVisible:!1,align:d.q.center,onClose:a},i.createElement("h2",{className:"vrsm-mb-5 font-strong"},u.a.t("settings.customerPanel.booksyInvitations.modal.title")),i.createElement("p",{className:"vrsm-text-muted",dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.booksyInvitations.modal.description")}}),i.createElement("img",{className:"vrsm-mb-6 w-100p",src:window.getAssetHost("images/customer_panel/online_reservation/booksy_invitations_modal.png")}),i.createElement(l.d,{className:"vrsm-justify-center"},i.createElement(l.b,{isOutline:!0,onClick:a},u.a.t("common.close")),i.createElement(l.b,{onClick:function(){return Z()}},u.a.t("settings.customerPanel.booksyInvitations.modal.cta"))))},O=n(24),C=n(8),w=n.n(C),A=n(7),R=n(13),I=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},P=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},D=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},k=w()(m||(m=I(["\n  mutation CreateSocialPostFacebookShare($template: Int!) {\n    createSocialPostFacebookShare(template: $template){\n      errors {\n        argument\n        code\n        detail\n      }\n      shareUrl\n    }\n  }\n"],["\n  mutation CreateSocialPostFacebookShare($template: Int!) {\n    createSocialPostFacebookShare(template: $template){\n      errors {\n        argument\n        code\n        detail\n      }\n      shareUrl\n    }\n  }\n"]))),M=function(e){(function(e){return P(void 0,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:k,variables:{template:e}},result:function(e){return e.createSocialPostFacebookShare&&e.createSocialPostFacebookShare.shareUrl||null},mutationErrors:function(e){return e.createSocialPostFacebookShare&&e.createSocialPostFacebookShare.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,t.sent()]}}))}))})(e).then((function(e){e&&FB.ui({method:"share",href:e},(function(){}))}))},x=n(12),L=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},F=function(){return(F=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},j=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},G=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},V=w()(p||(p=L(["  \n  query booksyInvitationsData($forNewsletterOnly: Boolean) {\n    customerAgreements(forNewsletterOnly: $forNewsletterOnly) {\n      content\n      id\n      required\n      title\n    }\n    booksyState{\n      deeplink\n    }\n    viewer{\n      branch{\n        name\n      }\n    }\n  }\n"],["  \n  query booksyInvitationsData($forNewsletterOnly: Boolean) {\n    customerAgreements(forNewsletterOnly: $forNewsletterOnly) {\n      content\n      id\n      required\n      title\n    }\n    booksyState{\n      deeplink\n    }\n    viewer{\n      branch{\n        name\n      }\n    }\n  }\n"]))),U=w()(f||(f=L(["\n  mutation createBooksyInvites($group: BooksyInvitesCustomerGroup!, $requiredAgreements: [Int!], $sendAfter: DateTime) {\n    createBooksyInvites(group: $group, requiredAgreements: $requiredAgreements, sendAfter: $sendAfter){\n      success\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation createBooksyInvites($group: BooksyInvitesCustomerGroup!, $requiredAgreements: [Int!], $sendAfter: DateTime) {\n    createBooksyInvites(group: $group, requiredAgreements: $requiredAgreements, sendAfter: $sendAfter){\n      success\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),H=function(e,t,n){return B(void 0,void 0,void 0,(function(){return j(this,(function(a){return[2,A.a.mutate({options:{mutation:U,variables:{group:e,requiredAgreements:t,sendAfter:n}},result:function(e){return e.createBooksyInvites||null},mutationErrors:function(e){return e&&e.createBooksyInvites&&e.createBooksyInvites.errors||[]},mutationErrorMessage:A.a.HideMutationErrorMessage,errorHandler:{onMutationErrors:function(e){x.a.error(e.map((function(e){return u.a.t("validation.error")+": "+u.a.t("validation."+e.code)})).toString())}}})]}))}))},z={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),BOOKSY_INVITATIONS:i.createElement((function(){var e=i.useContext(q).customerData;return(null==e?void 0:e.booksyUrl)?i.createElement("div",null,i.createElement(S,null),i.createElement("div",{className:"vrsm-mb-6"},i.createElement(l.A,{htmlTag:"h1"},u.a.t("settings.customerPanel.booksyInvitations.title")),i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyInvitations.description"))),i.createElement(_,null),i.createElement(T,null),i.createElement(N,null)):i.createElement(s.a,{title:u.a.t("settings.customerPanel.booksyInvitations.errorMessage.title"),description:u.a.t("settings.customerPanel.booksyInvitations.errorMessage.description")})}),null)},Y={view:a.SPINNER,isModalVisible:!1},q=i.createContext(F({dispatch:function(){}},Y)),W=function(e,t){switch(t.type){case r.SET_MODAL_VISIBLITY:return F(F({},e),{isModalVisible:t.payload});case r.SET_VIEW:return F(F({},e),{view:t.payload});case r.SET_CUSTOMER_DATA:return F(F({},e),{customerData:t.payload,view:a.BOOKSY_INVITATIONS})}},K=function(e){var t=i.useContext(O.a).dateUtils,n=Object(g.useForm)({defaultValues:{sendTime:"now",sendStart:t.formatDateIso(new Date)}}),a=Object(i.useCallback)((function(t){B(void 0,void 0,void 0,(function(){var n,a,i;return j(this,(function(s){switch(s.label){case 0:return n=t.requiredAgreements.filter((function(e){return"boolean"!=typeof e.id})).map((function(e){return parseInt(e.id)})),a=void 0,t.sendTime&&(a=t.sendTime===o.NOW?R().format():R(t.sendStart).add(t.sendHour,"hours").format()),[4,H(t.reciversGroup,n,a)];case 1:return(i=s.sent())&&i.success&&e({type:r.SET_MODAL_VISIBLITY,payload:!0}),[2]}}))}))}),[]);return F(F({},n),{onSubmit:n.handleSubmit(a)})},Z=function(){return B(void 0,void 0,void 0,(function(){var e;return j(this,(function(t){switch(t.label){case 0:return[4,Q()];case 1:return null!=(e=t.sent())?M(e):x.a.error(u.a.t("common.requestTimeoutDescription")),[2]}}))}))},X=w()(E||(E=L(["\n  query GetSocialPostTemplates($cursor: String) {\n    socialPostTemplates(cursor: $cursor) {\n      items {\n        category {\n          id\n          name\n          position\n        }\n        description\n        id\n        imageUrl\n        position\n        title\n      }\n    }\n  }\n"],["\n  query GetSocialPostTemplates($cursor: String) {\n    socialPostTemplates(cursor: $cursor) {\n      items {\n        category {\n          id\n          name\n          position\n        }\n        description\n        id\n        imageUrl\n        position\n        title\n      }\n    }\n  }\n"]))),J=function(e){return B(void 0,void 0,void 0,(function(){return j(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:X,variables:{cursor:e,count:500},fetchPolicy:"network-only"},result:function(e){return e.socialPostTemplates}})];case 1:return[2,t.sent()]}}))}))},Q=function(){return B(void 0,void 0,void 0,(function(){var e,t,n,a,r,o;return j(this,(function(i){switch(i.label){case 0:return[4,J()];case 1:if(null===(e=i.sent()))return[2,e];if(t=e&&e.items||[],!e)return[3,4];n=e.hasNext,a=e.cursor,i.label=2;case 2:return n?[4,J(a)]:[3,4];case 3:return r=i.sent(),e&&r&&(a=r.cursor,n=r.hasNext,t=G(G([],t,!0),r.items,!0)),[3,2];case 4:return[2,(o=t.filter((function(e){return"Booksy"===e.category.name})))[0]?o[0].id:null]}}))}))},ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.SET_PROMOTE_MODAL_TYPE="SET_PROMOTE_MODAL_TYPE",e.SET_MODAL_VISIBLITY="SET_MODAL_VISIBILITY"}(y||(y={})),function(e){e.PHOTO="PHOTO",e.PORTFOLIO="PORTFOLIO",e.RATING="RATING"}(h||(h={})),function(e){e.PROMOTE="PROMOTE",e.SHARE="SHARE"}(v||(v={}));var te,ne,ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},re={isModalVisible:!1},oe=Object(i.createContext)(ae(ae({},re),{dispatch:function(){}})),ie=function(e,t){switch(t.type){case y.SET_PROMOTE_MODAL_TYPE:return ae(ae({},e),{isModalVisible:!0,modalType:t.payload});case y.SET_MODAL_VISIBLITY:return ae(ae({},e),{isModalVisible:t.payload});default:return e}},se=function(){var e=Object(i.useContext)(oe),t=e.dispatch,n=e.isPortfolioComplete,a=e.isProfilePhotoComplete,r=e.areReviewsComplete,o=function(e){return e===h.PHOTO&&a||e===h.PORTFOLIO&&n||e===h.RATING&&r};return i.createElement(l.w,{className:"vrsm-mb-6"},i.createElement(l.l,{size:6},i.createElement("div",{className:"booksy-intro settings-box"},i.createElement("div",{className:"vrsm-mb-6"},i.createElement(l.A,{htmlTag:"h2"},u.a.t("settings.customerPanel.booksyBoost.title")),i.createElement(l.A,{htmlTag:"p"},u.a.t("settings.customerPanel.booksyBoost.description"))),i.createElement("div",{className:"onboarding-creator vrsm-mb-6"},i.createElement("ul",{className:"branch-tasks-list"},Object.keys(h).map((function(e,t){return i.createElement("li",{className:"branch-task "+(o(e)&&"complete"),key:e},i.createElement("div",{className:"number-circle "+(o(e)&&"completed-circle")},t+1),i.createElement("div",{className:"task-title "+(o(e)&&"complete")},u.a.t("settings.customerPanel.booksyBoost.steps."+e)),o(e)&&i.createElement("div",{className:"status"},i.createElement(d.w,{name:d.x.check,size:16,className:"vrsm-mr-2"}),u.a.t("settings.customerPanel.booksyBoost.done")))})))),i.createElement("div",{className:"booksy-intro-steps"},Object.keys(v).map((function(e){return i.createElement("div",{className:"booksy-intro-step vrsm-mb-3",key:e,onClick:function(){return t({type:y.SET_PROMOTE_MODAL_TYPE,payload:v[e]})}},i.createElement("div",null,i.createElement(l.A,{htmlTag:"h4"},u.a.t("settings.customerPanel.booksyBoost.options."+e+".title")),i.createElement("div",{className:"desc"},u.a.t("settings.customerPanel.booksyBoost.options."+e+".desc"))),i.createElement(d.w,{className:"vrsm-ml-auto booksy-intro-step-icon",name:d.x.chevronRight}))}))))))},ce=n(579),le=function(e){void 0===e&&(e=".clipboard-trigger"),Object(i.useEffect)((function(){var t=new ce(e);return t.on("success",(function(e){x.a.success(u.a.t("clipboard.copied")),e.clearSelection()})),function(){t.destroy()}}),[])},ue=function(){var e=Object(i.useContext)(oe),t=e.modalType,n=e.isModalVisible,a=e.dispatch;return i.createElement(d.p,{isOpened:n,type:d.r.simple,isFooterVisible:!1,align:d.q.center,onClose:function(){return a({type:y.SET_MODAL_VISIBLITY,payload:!1})}},i.createElement(l.A,{htmlTag:"h1"},u.a.t("settings.customerPanel.booksyBoost.modal."+t+".title")),i.createElement("p",{className:"vrsm-text-muted",dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.booksyBoost.modal."+t+".description")}}),t===v.PROMOTE&&i.createElement((function(){return i.createElement("div",{className:"vrsm-mt-6"},i.createElement("img",{src:window.getAssetHost("images/customer_panel/booksy_boost_promoted.png"),style:{maxWidth:400}}))}),null),t===v.SHARE&&i.createElement((function(){var e=Object(i.useContext)(oe),t=e.branchUrl,n=e.branchBooksyUrl;return le(),i.createElement("div",{className:"booksy-intro-copy"},i.createElement(l.A,{htmlTag:"h5"},u.a.t("settings.customerPanel.booksyBoost.modal.SHARE.title")),t&&i.createElement("span",{className:"clipboard-trigger strong","data-clipboard-text":t},t),n&&t&&i.createElement("div",{className:"vrsm-my-3"}),n&&i.createElement("span",{className:"clipboard-trigger strong","data-clipboard-text":n},n))}),null))},de=function(){return(de=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.PREVIEW="PREVIEW"}(te||(te={})),function(e){e.SET_BOOKSY_STATE="SET_BOOKSY_STATE",e.SET_RESERVATION_MODAL_VISIBILITY="SET_RESERVATION_MODAL_VISIBILITY",e.SET_ADVANCE_SETTINGS_VISIBILITY="SET_ADVANCE_SETTINGS_VISIBILITY",e.SET_VIEW_TYPE="SET_VIEW_TYPE"}(ne||(ne={}));var me,pe,fe,Ee,ye,he=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},be=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ge=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Se=w()(me||(me=he(["\n  query {\n    booksyState {\n      bookingMaxAdvance\n      bookingMaxLeadTime\n      bookingMaxModificationTime\n      bookingMinTimeInterval\n      bookingNotificationEmail\n      state\n      deeplink\n    }\n  }"],["\n  query {\n    booksyState {\n      bookingMaxAdvance\n      bookingMaxLeadTime\n      bookingMaxModificationTime\n      bookingMinTimeInterval\n      bookingNotificationEmail\n      state\n      deeplink\n    }\n  }"]))),_e={booksyState:void 0,isReservationModalVisible:!1,areAdvancedSettingsVisible:!1,booksyInvitationsPath:"",viewType:te.SPINNER},Te=Object(i.createContext)(ve({dispatch:function(){}},_e)),Ne=function(e,t){switch(t.type){case ne.SET_BOOKSY_STATE:return ve(ve({},e),{viewType:te.PREVIEW,booksyState:t.payload});case ne.SET_ADVANCE_SETTINGS_VISIBILITY:return ve(ve({},e),{areAdvancedSettingsVisible:t.payload});case ne.SET_RESERVATION_MODAL_VISIBILITY:return ve(ve({},e),{isReservationModalVisible:t.payload});case ne.SET_VIEW_TYPE:return ve(ve({},e),{viewType:t.payload});default:return e}},Oe=function(){var e,t,n=i.useContext(Te),a=n.dispatch,r=n.booksyState,o=n.isReservationModalVisible,s=n.booksyInvitationsPath;return le(),i.createElement(d.p,{isOpened:o&&"0"!=(t="BooksyOnlineReservationModalVisible=",decodeURIComponent(document.cookie).split("; ").forEach((function(n){0===n.indexOf(t)&&(e=n.substring(t.length))})),e),type:d.r.simple,isFooterVisible:!1,align:d.q.center,onClose:function(){var e;e="0",document.cookie="BooksyOnlineReservationModalVisible="+e,a({type:ne.SET_RESERVATION_MODAL_VISIBILITY,payload:!1})}},i.createElement("h2",{className:"vrsm-mb-5 font-strong"},u.a.t("settings.customerPanel.onlineReservation.enableBooksyReservation.title")),i.createElement("p",null,u.a.t("settings.customerPanel.onlineReservation.enableBooksyReservation.reservationAvailable")),r&&r.deeplink&&i.createElement("div",{className:"vrsm-mb-2"},i.createElement("a",{href:r.deeplink,target:"_blank"},r.deeplink),i.createElement("i",{className:"vrsm-ml-2 icon sprite-link clipboard-trigger","data-clipboard-text":r.deeplink})),i.createElement("p",null,u.a.t("settings.customerPanel.onlineReservation.enableBooksyReservation.informClients")),i.createElement("img",{className:"vrsm-mb-6",src:window.getAssetHost("images/customer_panel/online_reservation/booksy_online_reservation.png")}),i.createElement(d.b,{className:"button-blue button-lg vrsm-mb-5",text:u.a.t("settings.customerPanel.onlineReservation.enableBooksyReservation.cta"),onClick:function(){return window.location.href=s}}))},Ce=(n(545),n(593)),we=(pe=function(e,t){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ae=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Re=function(e){function t(t){var n=e.call(this,t)||this;return n.state={charts:{},showPrice:!(n.props.hide&&"gross_price_summary"===n.props.name)},n.handleButtonClick=n.handleButtonClick.bind(n),n}return we(t,e),t.prototype.render=function(){var e=this.state.charts[this.props.name]||{},t=!this.state.charts[this.props.name];return i.createElement("div",{className:"change_box"},i.createElement("h2",null,I18n.t("js.dashboard."+this.props.name)),this.renderValues(e,t),i.createElement("div",{className:t?"chart-placeholder linechart":"linechart",id:this.props.name}),i.createElement("hr",{className:"change-box-hr"}))},t.prototype.handleButtonClick=function(){this.setState({showPrice:!0})},t.prototype.renderPrice=function(e,t){var n=this.props.currency?CurrencyUtils.number_to_currency(t):t;return this.state.showPrice?i.createElement("strong",{className:e?"placeholder":""},n):i.createElement("button",{className:e?"placeholder btn":"btn",id:"show_"+this.props.name,onClick:this.handleButtonClick},I18n.t("js.dashboard.show_"+this.props.name))},t.prototype.renderValues=function(e,t){var n=e.values_before||0,a=e.values||0,r=a>n?"increase":a<n?"decrease":"unchanged",o=Boolean(this.props.currency),s=Math.abs(a-n);return i.createElement("div",{className:"change_value "+r},this.renderPrice(t,a),i.createElement("br",{className:"change-box-value-percent-hr"}),i.createElement("span",{className:"ttip","data-original-title":this.state.charts.from_before&&I18n.t("js.dashboard.value_change_tooltip",{from:this.state.charts.from_before,to:this.state.charts.to_before}),"data-toggle":"tooltip","data-placement":"right","data-html":"true"},i.createElement("span",{className:t?"placeholder percent":"percent"},this.percent(n,a),"%",0!=s&&i.createElement("span",{className:"before ml-xs"},I18n.t("js.dashboard.value_"+r+(o?"_uncountable":""),{value:this.props.currency?CurrencyUtils.number_to_currency(s):s})))))},t.prototype.draw=function(){var e=[];this.state.charts[this.props.name]&&(e=this.state.charts[this.props.name].data);var t=Object(Ce.a)(e,(function(e,t){return t})),n=Object(Ce.a)(e,(function(e,t){return Math.round(100*e)/100})),a=Math.floor(Math.max.apply(Math,n)),r=12+5*String(a).length,o="#"+this.props.name,i=I18n.t("js.dashboard."+this.props.name+"_label")+(this.props.currency?" ("+CurrencyUtils.get_current_symbol()+")":""),s={bindto:o,data:{type:"line",x:"x",columns:[Ae(["x"],t,!0),Ae(["data1"],n,!0)],names:{data1:i},types:{}},bar:{},legend:{show:!1},point:{show:!1},axis:{x:{type:"timeseries",tick:{format:"%d.%m",count:this.state.charts.ticks_nr},padding:{left:0,right:0}},y:{padding:{bottom:0,top:0},ticks:3,tick:{format:function(e){return Math.round(100*e)/100!==e?null:e}}}},size:{height:120},padding:{right:15,left:r},color:{pattern:["#58c9f8"]}};1===n.length?(s.data.type="bar",s.bar={width:50}):s.data.types={data1:"area"},c3.generate(s)},t.prototype.percent=function(e,t){return 0===e&&0===t?0:0===e?100:0===t?-100:Math.round((t-e)/e*100*100)/100},t.prototype.componentDidMount=function(){var e=this;DashboardStore.getDashboardData(e.props.period).done((function(t){e.setState({charts:t.charts}),e.draw()})),$("[data-toggle='tooltip']").tooltip()},t}(i.Component),Ie=n(20),Pe=n(385),De=n(50),ke=n(74),Me=function(e){var t=e.onDeleteCategory,n=Object(i.useContext)(ke.a).dispatch,a=function(){n({type:De.a.TOGGLE_DELETE_CATEGORY_MODAL_VISIBLE})};return i.createElement(d.p,{title:u.a.t("services.categoryModals.confirmationTitle"),onSaveText:u.a.t("common.confirm"),onCloseText:u.a.t("common.cancel"),isOpened:!0,onClose:a,onSave:function(){t(),a()},type:d.r.danger},i.createElement("div",null,u.a.t("services.categoryDropdown.confirmDeletion")))},xe=n(112),Le=n(47),Fe=n(168),Be=n(111),je=function(){return(je=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ge=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ve=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ue=function(e){var t=e.onServiceUpdate,n=e.onClose,a=Object(i.useContext)(Le.a),r=Object(i.useContext)(ke.a).selectedCategoryId,o=a.state.serviceCategories.find((function(e){return e.id===r})),s=a.props.rootCategory.id,c=o&&o.name||"",l=o&&o.ancestry.length>0&&o.ancestry[o.ancestry.length-1]||s,u=o&&o.employees.map((function(e){return e.id}))||[],d=o&&o.vat||a.state.branchSettings.vatRates[0],m=a.state.branchSettings.vatPayer,p=je({categoryName:c,addAsSubcategory:!1,parentCategoryId:l,employeeIds:u},m?{categoryVat:d||void 0,updateAllVatRates:!1}:{});return i.createElement(xe.a,{initialValues:p,onSubmit:function(e){return Ge(void 0,void 0,void 0,(function(){return Ve(this,(function(n){return r?[2,t(Object(Fe.c)(r,je(je({name:e.categoryName,employeeIds:e.employeeIds},m?{vat:e.categoryVat,updateServiceVatRates:e.updateAllVatRates,updateDescendantVatRates:e.updateAllVatRates}:{}),e.addAsSubcategory?{parentId:e.parentCategoryId}:{})))]:[2,Promise.resolve()]}))}))},onClose:n,modalType:Be.a.EDIT_CATEGORY,vatPayer:m})},He=n(125),ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ye=function(e){var t=e.onServiceUpdate,n=e.onClose,a=Object(i.useContext)(Le.a),r=Object(i.useContext)(ke.a).selectedCategoryId,o=a.state.branchSettings.vatPayer,s=a.props.rootCategory.id,c=a.state.serviceCategories.find((function(e){return e.id===r})),l=c&&c.vat||a.state.branchSettings.vatRates[0]||void 0,u=r||s,d=ze({categoryName:"",addAsSubcategory:!0,parentCategoryId:u,employeeIds:Object(He.c)(u,a.state.serviceCategories)},o&&l?{categoryVat:l}:{});return i.createElement(xe.a,{initialValues:d,onSubmit:Object(He.a)(o,t),onClose:n,modalType:Be.a.ADD_CATEGORY,vatPayer:o})},qe=n(582),We=n.n(qe),Ke=n(14),$e=function(e){var t=e.isAddingEnabled,n=e.isDropdownOpen,a=e.onDropdownToggleClick,r=e.categoryId,o=Object(i.useContext)(ke.a).dispatch;return i.createElement("div",{className:n?"dropdown open":"dropdown"},i.createElement("span",{className:"e2e-dropdown-toggle-"+r+" dropdown-toggle",onClick:function(){return a(r)}},i.createElement("span",{className:"caret"})),i.createElement("ul",{className:"e2e-category-dropdown-"+r+" dropdown-menu dropdown-menu-right"},i.createElement("li",null,i.createElement("a",{className:"e2e-edit-category-"+r,href:"#",onClick:function(){o({type:De.a.TOGGLE_EDIT_CATEGORY_MODAL_VISIBLE,payload:r})}},Ke.t("common.edit"))),i.createElement("li",null,i.createElement("a",{className:"e2e-delete-category-"+r,onClick:function(){o({type:De.a.TOGGLE_DELETE_CATEGORY_MODAL_VISIBLE,payload:r})}},Ke.t("common.delete"))),t&&i.createElement("li",null,i.createElement("a",{className:"e2e-add-subcategory-"+r,href:"#",onClick:function(){o({type:De.a.TOGGLE_SUB_CATEGORY_MODAL_VISIBLE,payload:r})}},Ke.t("services.categoryDropdown.addSubCategory"))),i.createElement("li",null,i.createElement("a",{className:"e2e-comission-category-"+r,href:"/settings/trades/"+r+"/commissions"},Ke.t("services.categoryDropdown.configureCommission")))))},Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Je=function(e){var t=e.rootCategory,n=e.serviceCategories,a=e.sortableTreeData,r=e.onSubmitClick,o=e.onCancelClick,s=e.disabled,c=i.useState({dropdownToOpenState:{},treeData:a}),l=c[0],d=c[1],m=Object(i.useContext)(Le.a);!function(e,t){Object(i.useEffect)((function(){t((function(t){return Ze(Ze({},t),{dropDownOpenState:e.reduce((function(e,t){var n;return Ze(Ze({},e),((n={})[t.id]=!1,n))}),{})})}))}),[])}(n,d),function(e,t){Object(i.useEffect)((function(){t((function(t){return Ze(Ze({},t),{treeData:e})}))}),[e])}(a,d);var p=l.dropdownToOpenState,f=l.treeData,E=function(e){d((function(t){var n;return Xe(Xe({},t),{dropdownToOpenState:Xe(Xe({},t.dropdownToOpenState),(n={},n[e]=!t.dropdownToOpenState[e],n))})}))};return i.createElement(i.Fragment,null,i.createElement("ul",{className:"e2e-category-tree-editable simple-tree ui-sortable"},i.createElement("li",{className:"node root"},i.createElement("div",{className:"e2e-root-category item"},i.createElement("div",{className:"icon_box"},i.createElement("i",{className:"icon sprite-settings_services"})),t.name),i.createElement(We.a,{items:f,renderItem:function(e){return i.createElement("div",{className:"e2e-category-item e2e-category-item-"+e.item.id+" item"},e.handler,e.item.name,m.state.branchSettings.vatPayer&&i.createElement("span",{className:"additional-info"},e.item.vat===Le.b?u.a.t("services.sideNavigation.noVatInfo"):e.item.vat+"% VAT"),i.createElement($e,{categoryId:e.item.id,isAddingEnabled:2!==e.item.ancestry.length,isDropdownOpen:p[e.item.id.toString()],onDropdownToggleClick:E}))},onChange:function(e){d((function(t){return Xe(Xe({},t),{treeData:e})}))},maxDepth:3,handler:i.createElement("span",{className:"sort_handle ui-sortable-handle"})}))),i.createElement("button",{className:"e2e-category-submit button side-nav-submit",onClick:function(){return r(f)},disabled:s},u.a.t("services.sideNavigation.submit")),i.createElement("button",{className:"e§e-category-cancel button side-nav-submit",onClick:function(){return o()},disabled:s},u.a.t("common.cancel")))},Qe=n(802),et=n(386),tt=n(16),nt=n(5),at=n.n(nt),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ot=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},it=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},st=function(){var e=Object(i.useReducer)(ke.e,ke.d),t=e[0],n=e[1],a=Object(i.useContext)(Le.a),r=a.state,o=r.currentCategory,s=r.serviceCategories,c=r.abilities,l=r.isFetchingServiceCategories,d=a.props,m=d.expandedCategoryIds,p=d.rootCategory,f=l||t.isMutatingServiceCategory;Object(ke.g)(n,s);var E,y="all"!=o?o:void 0,h="all"!=o&&m?m:void 0,v=t.isEditOpen,g=t.categoryTree,S=t.animateSideNav,_=t.createCategoryModalVisible,T=t.deleteCategoryModalVisible,N=t.subCategoryModalVisible,O=t.editCategoryModalVisible,C=t.selectedCategoryId,w=function(e){return ot(void 0,void 0,void 0,(function(){return it(this,(function(t){switch(t.label){case 0:return[4,Object(ke.f)(e,a.dispatch,n)];case 1:return[2,t.sent()]}}))}))},A=function(){return ot(void 0,void 0,void 0,(function(){return it(this,(function(e){switch(e.label){case 0:return C?[4,w(Object(Fe.b)(C))]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))};return E=i.createElement(Qe.a,{in:S,timeout:1e3,classNames:"animate-sidenav",onEntered:function(){return n({type:De.a.SET_ANIMATE_SIDE_NAV,payload:!1})}},i.createElement(ke.a.Provider,{value:rt(rt({},t),{dispatch:n})},i.createElement("div",{id:"sidenav",className:"sidenav"},i.createElement("div",{className:"column_row"},c.includes(b.a.UPDATE_SERVICE_CATEGORIES)&&v&&i.createElement("button",{className:nt("e2e-category-add button button-blue side-nav-add-category",{disabled:f}),onClick:function(){n({type:De.a.TOGGLE_CREATE_CATEGORY_MODAL_VISIBLE})},disabled:f},u.a.t("services.sideNavigation.addCategory")),v?i.createElement(Je,{serviceCategories:s,rootCategory:p,sortableTreeData:g,onSubmitClick:function(e){return ot(void 0,void 0,void 0,(function(){return it(this,(function(t){switch(t.label){case 0:return[4,w(Object(Fe.d)(Object(ke.c)(e,p.id))).then((function(){n({type:De.a.TOGGLE_IS_EDIT_OPEN})}))];case 1:return[2,t.sent()]}}))}))},onCancelClick:function(){n({type:De.a.TOGGLE_IS_EDIT_OPEN})},disabled:f}):i.createElement(Pe.a,{rootName:p.name,uncategorizedId:p.id,onCategoryChange:function(e){a.dispatch({type:tt.b.SET_CURRENT_CATEGORY,payload:e})},categoryTree:g,onEditClick:c.includes(b.a.UPDATE_SERVICE_CATEGORIES)?function(){n({type:De.a.TOGGLE_IS_EDIT_OPEN})}:void 0,initialCategoryId:y,expandedCategoryIds:h})),i.createElement(xe.b.Provider,{value:{rootCategory:a.props.rootCategory,serviceCategories:a.state.serviceCategories,vatPayer:a.state.branchSettings.vatPayer,vatRates:a.state.branchSettings.vatRates}},O?i.createElement(Ue,{onServiceUpdate:w,onClose:function(){return n({type:De.a.TOGGLE_EDIT_CATEGORY_MODAL_VISIBLE})}}):N?i.createElement(Ye,{onServiceUpdate:w,onClose:function(){return n({type:De.a.TOGGLE_SUB_CATEGORY_MODAL_VISIBLE})}}):T?i.createElement(Me,{onDeleteCategory:A}):_?i.createElement(et.a,{onServiceUpdate:w,onClose:function(){return n({type:De.a.TOGGLE_CREATE_CATEGORY_MODAL_VISIBLE})}}):null)))),Ie.createPortal(E,document.body.getElementsByClassName("main-container")[0].getElementsByClassName("sidebar")[0])||i.createElement(i.Fragment,null)};!function(e){e.PERCENTAGE="percentage",e.VALUE="value",e.CATEGORY="category",e.BOOKING="booking",e.VAT="vat",e.SERVICE_TYPE="service_type",e.PREPAYMENTS="prepayments",e.RESOURCES="resources",e.DURATION="duration"}(fe||(fe={})),function(e){e.CHANGE_TO_MEDICAL="CHANGE_TO_MEDICAL",e.CHANGE_TO_NON_MEDICAL="CHANGE_TO_NON_MEDICAL"}(Ee||(Ee={})),function(e){e.SET_VISIBLE="SET_VISIBLE",e.SET_TYPE="SET_TYPE"}(ye||(ye={}));var ct,lt,ut,dt,mt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pt=function(){return(pt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ft=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Et=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yt=((ct={})[tt.a.PERCENT]="UpdateServicesPricesByPercentInput",ct[tt.a.VALUE]="UpdateServicesPricesByValueInput",ct[tt.a.CATEGORY]="UpdateServicesCategoryInput",ct[tt.a.ONLINE_BOOKING]="UpdateServicesOnlineBookingInput",ct[tt.a.PREPAYMENTS]="UpdateServicesPrepaymentsInput",ct[tt.a.DURATION]="UpdateServicesDurationInput",ct[tt.a.VAT]="UpdateServicesVatValueInput",ct),ht=function(e,t,n,a,r,o,i){return ft(void 0,void 0,void 0,(function(){var s;return Et(this,(function(c){switch(c.label){case 0:return s=yt[i]||void 0,[4,A.a.mutate({options:{mutation:w()(lt||(lt=mt(["\n            mutation ","($filter: ServicesBaseFilter!",", $servicesCount: Int!) {\n              ","(filter: $filter",", servicesCount: $servicesCount) {\n              result {\n                state\n                batchUpdate {\n                  id\n                  operationName\n                  state\n                  subject\n                }\n              }\n              errors {\n                code\n                argument\n              }\n            }\n            }\n          "],["\n            mutation ","($filter: ServicesBaseFilter!",", $servicesCount: Int!) {\n              ","(filter: $filter",", servicesCount: $servicesCount) {\n              result {\n                state\n                batchUpdate {\n                  id\n                  operationName\n                  state\n                  subject\n                }\n              }\n              errors {\n                code\n                argument\n              }\n            }\n            }\n          "])),i,s?", $updateArguments: "+yt[i]+"!":"",i,s?", updateArguments: $updateArguments":""),variables:pt({servicesCount:r,filter:{services:{ids:e,mode:t?b.s.EXCLUDE:b.s.INCLUDE},q:a||void 0,category:"all"!==n?n:void 0}},o?{updateArguments:o}:{})},result:function(e){return e[i]&&e[i].result||null},mutationErrors:function(e){return e&&e[i]&&e[i].errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,c.sent()]}}))}))},vt=function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.DURATION)];case 1:return[2,i.sent()]}}))}))},bt=function(){return(bt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gt=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},St={visible:!1,type:null},_t=function(e,t){switch(t.type){case ye.SET_VISIBLE:return bt(bt({},e),{visible:t.payload});case ye.SET_TYPE:return{type:t.payload,visible:null!==t.payload};default:return St}},Tt=Object(i.createContext)(bt(bt({},St),{dispatch:function(){},selectedServicesCount:0})),Nt=function(e,t,n){t({type:tt.b.SET_IS_MUTATING_SERVICES,payload:!0}),e.then((function(e){e&&(e.state===b.b.EXISTING&&x.a.alert(u.a.t("services.batchUpdate.disabled")),e.state===b.b.NEW&&x.a.success(u.a.t("services.batchUpdate.queued")),t({type:tt.b.BATCH_UPDATE_IN_PROGRESS,payload:e})),n({type:ye.SET_VISIBLE,payload:!1}),t({type:tt.b.SET_IS_MUTATING_SERVICES,payload:!1})}))},Ot=function(e,t,n,a,r){var o=e.reduce((function(e,t){var n=t.resourceRows.filter((function(e){return null!==e.resource.id})).map((function(e){return e.resource}));return gt(gt([],e,!0),n.length>0?[{resources:n}]:[],!0)}),[]),i=n.state,s=i.searchedQuery,c=i.currentCategory,l=i.markedServices,d=i.allServicesChecked;n.dispatch({type:tt.b.SET_IS_MUTATING_SERVICES,payload:!0}),function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,A.a.mutate({options:{mutation:w()(ut||(ut=mt(["\n          mutation updateServicesResources($filter: ServicesBaseFilter!, $updateArguments: UpdateServicesResourcesInput!, $servicesCount: Int!) {\n            updateServicesResources(filter: $filter, updateArguments: $updateArguments, servicesCount: $servicesCount) {\n              result {\n                transfer {\n                  id\n                  assetsCount\n                  servicesCount\n                  state\n                }\n                state\n                batchUpdate {\n                  id\n                  operationName\n                  state\n                  subject\n                }\n              }\n              errors {\n                code\n                argument\n              }\n            }\n          }\n        "],["\n          mutation updateServicesResources($filter: ServicesBaseFilter!, $updateArguments: UpdateServicesResourcesInput!, $servicesCount: Int!) {\n            updateServicesResources(filter: $filter, updateArguments: $updateArguments, servicesCount: $servicesCount) {\n              result {\n                transfer {\n                  id\n                  assetsCount\n                  servicesCount\n                  state\n                }\n                state\n                batchUpdate {\n                  id\n                  operationName\n                  state\n                  subject\n                }\n              }\n              errors {\n                code\n                argument\n              }\n            }\n          }\n        "]))),variables:{servicesCount:r,filter:{services:{ids:e,mode:t?b.s.EXCLUDE:b.s.INCLUDE},q:a||void 0,category:"all"!==n?n:void 0},updateArguments:o}},result:function(e){return e.updateServicesResources&&e.updateServicesResources.result||null},mutationErrors:function(e){return e&&e.updateServicesResources&&e.updateServicesResources.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,i.sent()]}}))}))}(l,d,c,s,r,{requiredResourceComponents:o,touchEvents:t}).then((function(e){if(e){if(e.state===b.b.EXISTING&&x.a.alert(u.a.t("services.batchUpdate.disabled")),e.state===b.b.NEW)if(e.transfer){var t=e.transfer.id;setTimeout((function(){window.location.href="settings/resource/transfers/"+t}),500)}else x.a.success(u.a.t("services.batchUpdate.queued"));n.dispatch({type:tt.b.RESOURCES_TRANSFER_IN_PROGRESS,payload:e})}a({type:ye.SET_VISIBLE,payload:!1}),n.dispatch({type:tt.b.SET_IS_MUTATING_SERVICES,payload:!1})}))},Ct=n(30),wt=function(){var e=Object(i.useContext)(Le.a).state,t=e.branchSettings,n=e.currentCategory,a=e.abilities,r=e.batchUpdateJob,o=e.resourcesTransferJob,s=Object(i.useContext)(Tt),c=s.dispatch,l=s.selectedServicesCount,d="all"===n?"services/new":"services/new?trade_id="+n;return window.VersumConfig.current_branch_readonly?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,0===l?a.includes(b.a.CREATE_SERVICES)?i.createElement("div",{className:"col-sm-6 text-right mt-xs mt-sm-0"},i.createElement("a",{className:"e2e-add-service button button-blue",href:d},u.a.t("services.addService"))):i.createElement(i.Fragment,null):a.includes(b.a.UPDATE_SERVICES_IN_BULK)?i.createElement("div",{className:"col-sm-6 text-right mt-xs mt-sm-0"},i.createElement("span",null,u.a.t("services.selectedCount")+":"," ",l),i.createElement("div",{className:"e2e-services-edit-selected dropdown dropdown-right inline_block"},r?i.createElement(Ct.a,{className:"d-block",trigger:i.createElement("button",{className:"button button-dropdown left_space button-disabled"},u.a.t("services.editSelected")),content:u.a.t("services.batchUpdate.disabled"),type:Ct.d.Dark,modal:!0}):i.createElement("button",{className:"button button-dropdown left_space","data-toggle":"dropdown"},u.a.t("services.editSelected")),i.createElement("ul",{className:"dropdown-menu"},i.createElement("li",{className:"e2e-services-percentage-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.PERCENTAGE})}},u.a.t("services.changePriceByPercentage"))),i.createElement("li",{className:"e2e-services-price-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.VALUE})}},u.a.t("services.changePriceByValue"))),i.createElement("li",{className:"e2e-services-category-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.CATEGORY})}},u.a.t("services.assignToCategory"))),i.createElement("li",{className:"e2e-services-booking-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.BOOKING})}},u.a.t("services.change_online_booking_status"))),window.VersumConfig.medical_office&&i.createElement("li",{className:"e2e-services-type-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.SERVICE_TYPE})}},u.a.t("services.changeServiceType"))),t.resourcesActivated&&o?i.createElement(Ct.a,{className:"d-block",trigger:i.createElement("li",{className:"e2e-services-resources-option"},i.createElement("a",{className:"button-disabled"},u.a.t("services.assignResources"))),content:u.a.t("services.batchUpdate.disabled"),type:Ct.d.Dark,modal:!0}):t.resourcesActivated&&i.createElement("li",{className:"e2e-services-resources-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.RESOURCES})}},u.a.t("services.assignResources"))),window.VersumConfig.prepayments_enabled&&i.createElement("li",{className:"e2e-services-prepayment-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.PREPAYMENTS})}},u.a.t("services.changePrepaymentsAmount"))),i.createElement("li",{className:"e2e-services-duration-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.DURATION})}},u.a.t("services.changeDuration"))),t.vatPayer&&i.createElement("li",{className:"e2e-services-vat-option"},i.createElement("a",{onClick:function(){return c({type:ye.SET_TYPE,payload:fe.VAT})}},u.a.t("services.changeVatValue")))))):i.createElement(i.Fragment,null))};!function(e){e.TOGGLE_MODAL_SCROLL_TRIGGER="TOGGLE_MODAL_SCROLL_TRIGGER",e.TOGGLE_UPDATE_FUTURE_EVENTS="TOGGLE_UPDATE_FUTURE_EVENTS",e.SET_EVENTS_COUNT="SET_EVENTS_COUNT",e.SET_RESOURCES="SET_RESOURCES",e.CLEAR_RESOURCE_BOXES="CLEAR_RESOURCE_BOXES",e.ADD_RESOURCE_BOX="ADD_RESOURCE_BOX",e.DELETE_RESOURCE_BOX="DELETE_RESOURCE_BOX",e.SET_REQUIRED_RESOURCES="SET_REQUIRED_RESOURCES",e.ADD_RESOURCE_ROW="ADD_RESOURCE_ROW",e.DELETE_RESOURCE_ROW="DELETE_RESOURCE_ROW",e.UPDATE_RESOURCE_ROW="UPDATE_RESOURCE_ROW",e.SET_INVALID_RESOURCE_BOXES="SET_INVALID_RESOURCE_BOXES",e.SET_IS_REQUIRED_RESOURCES_FETCHING="SET_IS_REQUIRED_RESOURCES_FETCHING",e.SET_SERVICES_WITH_RESOURCES="SET_SERVICES_WITH_RESOURCES"}(dt||(dt={}));var At,Rt,It,Pt,Dt,kt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Lt=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ft=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Bt=w()(At||(At=kt(["\n  query GetResources{\n    resources{\n      id\n      name\n    }\n  }\n"],["\n  query GetResources{\n    resources{\n      id\n      name\n    }\n  }\n"]))),jt=w()(Rt||(Rt=kt(["\n  query GetServicesCount($type: ServicesCountType!, $filter: ServicesBaseFilter!) {\n    servicesCount(type: $type, filter: $filter)\n  }\n"],["\n  query GetServicesCount($type: ServicesCountType!, $filter: ServicesBaseFilter!) {\n    servicesCount(type: $type, filter: $filter)\n  }\n"]))),Gt=w()(It||(It=kt(["\n  query GetService($id: Int!) {\n    service(id: $id){\n      requiredResources {\n        componentId\n        resources {\n          resource {\n            id\n          }\n          priority\n        }\n      }\n    }\n  }\n"],["\n  query GetService($id: Int!) {\n    service(id: $id){\n      requiredResources {\n        componentId\n        resources {\n          resource {\n            id\n          }\n          priority\n        }\n      }\n    }\n  }\n"]))),Vt=w()(Pt||(Pt=kt(["\n  query GetServicesWithResources($count: Int, $filter: ServicesFilter) {\n    services(count: $count, filter: $filter) {\n      all\n      items {\n        id\n        name\n      }\n    }\n  }\n"],["\n  query GetServicesWithResources($count: Int, $filter: ServicesFilter) {\n    services(count: $count, filter: $filter) {\n      all\n      items {\n        id\n        name\n      }\n    }\n  }\n"]))),Ut={isSelectVisible:!1,resource:{id:null,priority:b.S.NORMAL}},Ht={resourceRows:[Ut]},zt=[Ht],Yt={modalScrollTrigger:!0,updateFutureEvents:!1,eventsCount:0,resourceBoxes:zt,resources:[],invalidBoxes:[],isRequiredResourcesFetching:!1,servicesWithResources:[]},qt=function(e,t){switch(t.type){case dt.TOGGLE_MODAL_SCROLL_TRIGGER:return Mt(Mt({},e),{modalScrollTrigger:!e.modalScrollTrigger});case dt.TOGGLE_UPDATE_FUTURE_EVENTS:return Mt(Mt({},e),{updateFutureEvents:!e.updateFutureEvents});case dt.SET_EVENTS_COUNT:return Mt(Mt({},e),{eventsCount:t.payload});case dt.SET_RESOURCES:return Mt(Mt({},e),{resources:t.payload});case dt.SET_REQUIRED_RESOURCES:return Mt(Mt({},e),{resourceBoxes:t.payload.map((function(e){return{resourceRows:e.resources.map((function(e){return{isSelectVisible:!1,resource:{id:e.resource?e.resource.id:null,priority:e.priority}}})),errorMessage:null}}))});case dt.ADD_RESOURCE_BOX:return Mt(Mt({},e),{resourceBoxes:Ft(Ft([],e.resourceBoxes,!0),[Ht],!1)});case dt.DELETE_RESOURCE_BOX:return Mt(Mt({},e),{resourceBoxes:Ft(Ft([],e.resourceBoxes.slice(0,t.payload),!0),e.resourceBoxes.slice(t.payload+1,e.resourceBoxes.length),!0)});case dt.CLEAR_RESOURCE_BOXES:return Mt(Mt({},e),{resourceBoxes:zt,invalidBoxes:[]});case dt.ADD_RESOURCE_ROW:var n=e.resourceBoxes[t.payload];return Mt(Mt({},e),{resourceBoxes:Ft(Ft(Ft([],e.resourceBoxes.slice(0,t.payload),!0),[Mt(Mt({},n),{resourceRows:Ft(Ft([],n.resourceRows,!0),[Ut],!1)})],!1),e.resourceBoxes.slice(t.payload+1,e.resourceBoxes.length),!0)});case dt.DELETE_RESOURCE_ROW:n=e.resourceBoxes[t.payload.boxId];return Mt(Mt({},e),{resourceBoxes:Ft(Ft(Ft([],e.resourceBoxes.slice(0,t.payload.boxId),!0),[Mt(Mt({},n),{resourceRows:Ft(Ft([],n.resourceRows.slice(0,t.payload.rowId),!0),n.resourceRows.slice(t.payload.rowId+1,n.resourceRows.length),!0)})],!1),e.resourceBoxes.slice(t.payload.boxId+1,e.resourceBoxes.length),!0)});case dt.UPDATE_RESOURCE_ROW:var a=(n=e.resourceBoxes[t.payload.boxId]).resourceRows[t.payload.rowId];return Mt(Mt({},e),{resourceBoxes:Ft(Ft(Ft([],e.resourceBoxes.slice(0,t.payload.boxId),!0),[Mt(Mt({},n),{resourceRows:Ft(Ft(Ft([],n.resourceRows.slice(0,t.payload.rowId),!0),[Mt(Mt({},a),t.payload.data)],!1),n.resourceRows.slice(t.payload.rowId+1,n.resourceRows.length),!0)})],!1),e.resourceBoxes.slice(t.payload.boxId+1,e.resourceBoxes.length),!0)});case dt.SET_INVALID_RESOURCE_BOXES:return Mt(Mt({},e),{invalidBoxes:t.payload});case dt.SET_IS_REQUIRED_RESOURCES_FETCHING:return Mt(Mt({},e),{isRequiredResourcesFetching:t.payload});case dt.SET_SERVICES_WITH_RESOURCES:return Mt(Mt({},e),{servicesWithResources:t.payload});default:return Yt}},Wt=Object(i.createContext)(Mt(Mt({},Yt),{dispatch:function(){}})),Kt=function(){return(Kt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$t=function(e){var t=e.rowId,n=e.boxId,a=e.resourceRow,r=e.resourceBox,o=e.onResourceSelectClick,s=e.disabled,c=Object(i.useContext)(Wt),l=c.dispatch,m=c.resources.map((function(e){return{label:e.name,value:e.id}}));return i.createElement("div",{className:"inline_block",style:{width:180}},i.createElement(d.u,{value:m.find((function(e){return e.value===a.resource.id})),options:m,placeholder:u.a.t("services.resourcesModal.recipeInputPlaceholder"),className:"e2e-resource-select-box-"+n+"-row-"+t+" auto_width mx-xs mb-xs",isSearchable:!0,onChange:function(e){l({type:dt.UPDATE_RESOURCE_ROW,payload:{rowId:t,boxId:n,data:Kt(Kt({},a),{resource:{id:e&&e.value,priority:1===r.resourceRows.length?b.S.NORMAL:a.resource.priority}})}})},clearable:!0,onClick:o,disabled:s}))},Zt=function(e){var t=e.rowId,n=e.boxId,a=e.onSelectPriority,r=e.isSelectVisible,o=e.defaultOption,s=e.onPrioritySelectClick,c=Object.keys(b.S).map((function(e){return{label:u.a.t("services.resourcesModal."+e.toLowerCase()),value:e}}));return i.createElement("div",{className:"inline_block align-middle",style:{width:180,display:r?"":"none"}},i.createElement(d.u,{defaultValue:function(){if(o){var e=c.find((function(e){return e.value===o}));if(e)return e}return c[2]}(),onChange:function(e){return a(e.value)},isSearchable:!1,options:c,onClick:s,className:"e2e-resource-priority-select-box-"+n+"-row-"+t}))},Xt=function(){return(Xt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Jt=function(e){var t=e.rowId,n=e.boxId,a=e.resourceRow,r=e.resourceBox,o=e.onResourceModalSelectClick,s=Object(i.useContext)(Wt),c=s.dispatch,l=s.isRequiredResourcesFetching;return i.createElement("div",{className:"recipe-row"},i.createElement("div",{className:"inline_block text-bold text-right align-mrowIddle",style:{width:55}},i.createElement("p",{className:"form-control-static"},0!==t&&u.a.t("services.resourcesModal.or"))),i.createElement($t,{rowId:t,boxId:n,resourceBox:r,resourceRow:a,onResourceSelectClick:o,disabled:l}),1!==r.resourceRows.length&&i.createElement("span",{className:"priorities-input"},i.createElement("div",{className:"inline_block text-bold mr-xs",style:{width:55}},i.createElement("p",{className:"form-control-static"},u.a.t("services.resourcesModal.priority"))),i.createElement("span",{className:"e2e-resource-priority-box-"+n+"-row-"+t+" inline_block no-select",style:{width:145,display:a.isSelectVisible?"none":""}},u.a.t("services.resourcesModal."+a.resource.priority.toLowerCase())),i.createElement(Zt,{onSelectPriority:function(e){c({type:dt.UPDATE_RESOURCE_ROW,payload:{rowId:t,boxId:n,data:Xt(Xt({},a),{resource:Xt(Xt({},a.resource),{priority:e})})}})},isSelectVisible:a.isSelectVisible,defaultOption:a.resource.priority,onPrioritySelectClick:o,rowId:t,boxId:n}),i.createElement("div",{className:"e2e-resource-edit-box-"+n+"-row-"+t+" inline_block",style:{display:a.isSelectVisible?"none":""}},i.createElement("a",{onClick:function(){c({type:dt.UPDATE_RESOURCE_ROW,payload:{rowId:t,boxId:n,data:Xt(Xt({},a),{isSelectVisible:!a.isSelectVisible})}})},style:{cursor:"pointer"}},i.createElement("div",{className:"icon_box"},i.createElement("i",{className:"icon sprite-edit_photo_description "}))))),0!==t&&i.createElement("div",{className:"e2e-resource-delete-box-"+n+"-row-"+t+" inline_block"},i.createElement("a",{onClick:function(){c({type:dt.DELETE_RESOURCE_ROW,payload:{rowId:t,boxId:n}})},style:{cursor:"pointer"}},i.createElement("div",{className:"icon_box"},i.createElement("i",{className:"icon sprite-delete"})))))},Qt=function(e){var t=e.boxId,n=e.resourceBox,a=e.onResourceModalSelectClick,r=Object(i.useContext)(Wt),o=r.dispatch,s=r.invalidBoxes,c=r.isRequiredResourcesFetching;return i.createElement("div",{className:"service-recipes-box"},i.createElement("h6",{className:"semibold"},0===t?u.a.t("services.resourcesModal.require"):u.a.t("services.resourcesModal.requireAlso")),i.createElement("div",{className:"well well-sm no-margin"},0!==t&&i.createElement("a",{className:"close pull-right",href:"#",onClick:function(){o({type:dt.DELETE_RESOURCE_BOX,payload:t})}},i.createElement("span",null,"×")),n.resourceRows.map((function(e,r){return i.createElement(Jt,{key:r,rowId:r,boxId:t,resourceRow:e,resourceBox:n,onResourceModalSelectClick:a})})),s.includes(t)&&i.createElement("div",{className:"inline_block",style:{marginLeft:58}},i.createElement("p",{className:"inline-error"},u.a.t("validation.valueTaken"))),i.createElement("div",{className:"inline_block",style:{marginLeft:60}},i.createElement("button",{className:"e2e-next-resource-for-box-"+t+" btn",disabled:c,onClick:function(){o({type:dt.ADD_RESOURCE_ROW,payload:t})}},u.a.t("services.resourcesModal.or")),i.createElement(d.A,{className:"info_tip ml-s",trigger:i.createElement("a",{className:"icon sprite-info_tip2"}),content:u.a.t("services.resourcesModal.tooltipInfo"),type:d.D.Info}))))},en=function(){var e=Object(i.useContext)(Wt).servicesWithResources;return i.createElement("div",{className:"e2e-resource-warning versum_notification"},i.createElement("p",null,u.a.t("services.resourcesModal.warningMessage")),i.createElement("ul",null,e.map((function(e){return i.createElement("li",{key:e.id},i.createElement("a",{target:"_blank",href:"services/"+e.id+"/resources"},e.name))}))))},tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},nn=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},an=function(){var e=Object(i.useContext)(Le.a),t=e.state,n=t.searchedQuery,a=t.markedServices,r=t.allServicesChecked,o=t.services,s=t.currentCategory,c=Object(i.useContext)(Tt),l=c.dispatch,m=c.selectedServicesCount,p=Object(i.useReducer)(qt,Yt),f=p[0],E=p[1];!function(e){Object(i.useEffect)((function(){xt(void 0,void 0,void 0,(function(){var t;return Lt(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:Bt},result:function(e){return e.resources.filter((function(e){return null!==e}))||[]}})];case 1:return(t=n.sent())&&e({type:dt.SET_RESOURCES,payload:t}),[2]}}))}))}),[])}(E),function(e,t,n,a,r){Object(i.useEffect)((function(){xt(void 0,void 0,void 0,(function(){var o;return Lt(this,(function(i){switch(i.label){case 0:return[4,A.a.query({options:{query:jt,variables:{type:b.T.PENDING_EVENTS,filter:{services:{ids:t,mode:n?b.s.EXCLUDE:b.s.INCLUDE},q:r||void 0,category:"all"!==a?a:void 0}}},result:function(e){return e.servicesCount}})];case 1:return o=i.sent(),e({type:dt.SET_EVENTS_COUNT,payload:o||0}),[2]}}))}))}),[])}(E,a,r,s,n),function(e,t){Object(i.useEffect)((function(){if(null!==t){e({type:dt.SET_IS_REQUIRED_RESOURCES_FETCHING,payload:!0});xt(void 0,void 0,void 0,(function(){var n;return Lt(this,(function(a){switch(a.label){case 0:return[4,A.a.query({options:{query:Gt,variables:{id:t}},result:function(e){return e&&e.service&&e.service.requiredResources||null}})];case 1:return!(n=a.sent())||0===n.length||1===n.length&&0===n[0].resources.length||e({type:dt.SET_REQUIRED_RESOURCES,payload:n}),e({type:dt.SET_IS_REQUIRED_RESOURCES_FETCHING,payload:!1}),[2]}}))}))}}),[])}(E,1===m?r?o[0].id:a[0]:null),function(e,t,n,a,r){Object(i.useEffect)((function(){xt(void 0,void 0,void 0,(function(){var o;return Lt(this,(function(i){switch(i.label){case 0:return[4,A.a.query({options:{query:Vt,variables:{count:500,filter:Mt({withResources:!0,q:r},"all"===a?{}:{category:a})},fetchPolicy:"network-only"},result:function(e){return e.services&&e.services.items||[]}})];case 1:return(o=i.sent())&&e({type:dt.SET_SERVICES_WITH_RESOURCES,payload:o.filter((function(e){return n?!t.includes(e.id):t.includes(e.id)}))}),[2]}}))}))}),[])}(E,a,r,s,n);var y=function(){E({type:dt.TOGGLE_MODAL_SCROLL_TRIGGER})};return i.createElement(d.p,{title:u.a.t("services.resourcesModal.bindResources"),isOpened:!0,onClose:function(){E({type:dt.CLEAR_RESOURCE_BOXES}),l({type:ye.SET_VISIBLE,payload:!1})},onSave:function(){var t;t=f.resourceBoxes.reduce((function(e,t,n){var a=t.resourceRows.map((function(e){return e.resource.id})),r=a.reduce((function(e,t,n){return e||a.indexOf(t)!==n}),!1),o=f.resourceBoxes.filter((function(e,t){return t!==n})).reduce((function(e,t){return nn(nn([],e,!0),t.resourceRows.map((function(e){return e.resource.id})),!0)}),[]),i=a.reduce((function(e,t){return e||o.includes(t)}),!1);return nn(nn([],e,!0),r||i?[n]:[],!0)}),[]),E({type:dt.SET_INVALID_RESOURCE_BOXES,payload:t}),0===t.length&&(l({type:ye.SET_VISIBLE,payload:!1}),Ot(f.resourceBoxes,f.updateFutureEvents,e,l,m))},scrollModalBodyToBottomTrigger:f.modalScrollTrigger,isOnSaveDisabled:f.isRequiredResourcesFetching},i.createElement(Wt.Provider,{value:tn(tn({},f),{dispatch:E})},i.createElement("div",null,i.createElement("p",{className:"bigger"},u.a.t("services.resourcesModal.checkedServices")+":"," ",m),m>1&&i.createElement(en,null),i.createElement("div",{className:"simple_form edit_service"},i.createElement("div",{className:"form-group"},f.resourceBoxes.map((function(e,t){return i.createElement(Qt,{key:t,boxId:t,resourceBox:e,onResourceModalSelectClick:y})}))),i.createElement("div",{className:"form-group clearfix"},i.createElement("div",{className:"pull-left"},i.createElement("button",{onClick:function(){E({type:dt.ADD_RESOURCE_BOX})},className:"btn btn-blue",disabled:f.isRequiredResourcesFetching},u.a.t("services.resourcesModal.and"))),i.createElement("div",{className:"pull-right"},i.createElement("a",{href:"/settings/resource/assets/new"},u.a.t("services.resourcesModal.createNew"))))),f.eventsCount>0?i.createElement("div",{className:"form-group clearfix"},i.createElement(d.g,{id:"update-future-events",label:u.a.t("services.resourcesModal.updateFutureEvents",{count:f.eventsCount}),checked:f.updateFutureEvents,onChange:function(){E({type:dt.TOGGLE_UPDATE_FUTURE_EVENTS})}}),i.createElement(d.A,{className:"info_tip ml-s pb-s",trigger:i.createElement("a",{className:"icon sprite-info_tip2"}),content:u.a.t("services.resourcesModal.updateFutureEventsTooltip"),type:d.D.Info})):i.createElement(i.Fragment,null))))},rn=n(10),on=function(e){var t=e.serviceCategories,n=e.onCategoryAction,a=e.isSubmitting,r=e.rootCategoryId.toString();return i.createElement(rn.c,{initialValues:{assignTo:r},onSubmit:function(e,t){if(e.assignTo){var a=parseInt(e.assignTo);n(isNaN(a)?null:a).then((function(){return t.setSubmitting(!1)}))}},render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("span",{className:"v_middle"},u.a.t("services.categoryAction.assignTo")),i.createElement("select",{name:"assignTo",className:"e2e-service-category-select v2-form-control w-auto mx-xs",onChange:function(t){return e.setValues({assignTo:t.target.value})}},i.createElement("option",{value:r},u.a.t("services.categoryAction.allServices")),t.map((function(e){return i.createElement("option",{key:e.id,value:e.id},e.name)}))),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:a})},a?u.a.t("services.pending")+"...":u.a.t("services.submit")))}})},sn=n(31),cn=function(){return(cn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ln=function(e){var t=e.onPercentAction,n=e.isSubmitting,a=u.a.t("validation.minMinusHundred"),r=u.a.t("validation.maxHundred"),o=u.a.t("validation.blank"),s=sn.object().shape({percentInput:sn.number().min(-100,a).max(100,r).required(o)});return i.createElement(rn.c,{initialValues:{percentInput:"0"},validationSchema:s,onSubmit:function(e,n){if(e.percentInput){var a=parseFloat(e.percentInput);t(isNaN(a)?0:a).then((function(){return n.setSubmitting(!1)}))}},render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("div",{className:"v2-form-controls"},i.createElement(rn.a,{name:"percentInput",component:un}),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:n})},n?u.a.t("services.pending")+"...":u.a.t("services.submit"))),e.errors.percentInput&&i.createElement("div",{className:"v2-form-input-hint",style:{color:"#e00"}},e.errors.percentInput))}})},un=function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement("span",{className:"v_middle"},u.a.t("services.percentAction.valueAmount")+":"),i.createElement(d.m,cn({},t,{className:nt("e2e-percent-input","mx-xs",{invalid:n.errors.percentInput}),type:"number",step:"1",min:"0",max:"100",wrap:!1,onChange:function(e){return n.setFieldValue(t.name,e.target.value)},onKeyDown:function(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),n.submitForm()),["e","E"].includes(e.key)&&e.preventDefault()},value:t.value})),i.createElement("span",{className:"v_middle"}," % "))},dn=n(19),mn=function(){return(mn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},pn=function(e){var t=e.currency,n=e.onPrepaymentAction,a=e.isSubmitting,r=u.a.t("validation.minZero"),o=u.a.t("validation.maxHundred"),s=u.a.t("validation.blank"),c=u.a.t("validation.integer"),l=sn.object().shape({prepaymentInput:sn.number().when("measureSelect",{is:b.J.PERCENT,then:sn.number().min(0,r).max(100,o).required(s),otherwise:sn.number().required(s).min(0,r).integer(c)})});return i.createElement(rn.c,{initialValues:{measureSelect:b.J.AMOUNT,prepaymentInput:"0"},onSubmit:function(e,t){if(e.prepaymentInput){var a=parseFloat(e.prepaymentInput);n(e.measureSelect,isNaN(a)?0:a).then((function(){return t.setSubmitting(!1)}))}},validationSchema:l,render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("div",{className:"v2-form-controls"},i.createElement(rn.a,{name:"prepaymentInput",component:fn}),i.createElement("select",{name:"measureSelect",className:"e2e-prepayment-select v2-form-control w-auto mx-xs",onChange:function(t){return e.setFieldValue("measureSelect",t.target.value)}},i.createElement("option",{value:b.J.AMOUNT},Object(dn.d)(t)),i.createElement("option",{value:b.J.PERCENT},"%")),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:a})},a?u.a.t("services.pending")+"...":u.a.t("services.submit"))),e.errors.prepaymentInput&&i.createElement("div",{className:"v2-form-input-hint",style:{color:"#e00"}},e.errors.prepaymentInput))}})},fn=function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement("span",{className:"v_middle"},u.a.t("services.prepaymentAction.changeOn")),i.createElement(d.m,mn({},t,{className:nt("e2e-prepayment-input","ml-xs",{invalid:n.errors.prepaymentInput}),type:"number",wrap:!1,onChange:function(e){return n.setFieldValue(t.name,e.target.value)},onKeyDown:function(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),n.submitForm()),["e","E"].includes(e.key)&&e.preventDefault()},value:t.value})))},En=n(23),yn=function(){return(yn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},hn=function(e){var t=e.onValueAction,n=e.currency,a=e.isSubmitting,r=e.isVatPayer,o=sn.object().shape({priceInput:sn.number().required(u.a.t("validation.blank"))});return i.createElement(rn.c,{initialValues:{priceInput:"0",priceType:b.K.GROSS},onSubmit:function(e,n){var a=parseFloat(e.priceInput||""),o=isNaN(a)?0:a;r&&e.priceInput&&e.priceType&&t(o,e.priceType).then((function(){return n.setSubmitting(!1)})),!r&&e.priceInput&&t(o,b.K.NET).then((function(){return n.setSubmitting(!1)}))},validationSchema:o,render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("div",{className:"v2-form-controls"},i.createElement(rn.a,{name:"priceInput",component:vn}),i.createElement("span",{className:"v_middle"},Object(dn.d)(n)),r&&i.createElement(rn.a,{name:"priceType",component:bn}),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:a})},a?u.a.t("services.pending")+"...":u.a.t("services.submit"))),e.errors.priceInput&&i.createElement("div",{className:"v2-form-input-hint",style:{color:"#e00"}},e.errors.priceInput))}})},vn=function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement("span",{className:"v_middle"},u.a.t("services.valueAction.valueAmount")+":"),i.createElement(d.m,yn({},t,{className:nt("e2e-price-input","mx-xs",{invalid:n.errors.priceInput}),type:"number",step:"1",wrap:!1,onChange:function(e){return n.setFieldValue(t.name,e.target.value)},onKeyDown:function(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),n.submitForm()),["e","E"].includes(e.key)&&e.preventDefault()},value:t.value})))},bn=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement("select",yn({},t,{className:"e2e-price-type-select v2-form-control w-auto mx-xs",onChange:function(e){return n.setFieldValue(t.name,e.target.value)}}),i.createElement("option",{className:"e2e-gross-option",value:b.K.GROSS},a.t(En.c.GROSS)),i.createElement("option",{className:"e2e-net-option",value:b.K.NET},a.t(En.c.NET)))},gn=function(e){var t=e.onBookingAction,n=e.isSubmitting,a=[{bookingTranslation:u.a.t("services.bookingAction.onlineBookingAllowed"),bookingValue:b.R.ENABLED},{bookingTranslation:u.a.t("services.bookingAction.onlineBookingDisabled"),bookingValue:b.R.DISABLED_VISIBLE},{bookingTranslation:u.a.t("services.bookingAction.hideFromCustomers"),bookingValue:b.R.DISABLED_HIDDEN}];return i.createElement(rn.c,{initialValues:{bookingOption:b.R.ENABLED},onSubmit:function(e,n){e.bookingOption&&t(e.bookingOption).then((function(){return n.setSubmitting(!1)}))},render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("span",{className:"v_middle"},u.a.t("services.categoryAction.assignTo")),i.createElement("select",{name:"bookingOption",className:"e2e-booking-select v2-form-control mx-xs",onChange:function(t){return e.setFieldValue("bookingOption",t.target.value)},style:{width:180}},a.map((function(e,t){return i.createElement("option",{key:t,value:e.bookingValue},e.bookingTranslation)}))),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:n})},n?u.a.t("services.pending")+"...":u.a.t("services.submit")))}})},Sn={durationAfterPresent:!1,durationBeforePresent:!1,durationAfter:5,durationBefore:5},_n=n(18),Tn=function(){return(Tn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Nn=function(e){var t=e.field,n=e.form,a=t.name+"Present",r=n.values[a];return i.createElement("div",{className:"v2-form-controls m-xs"},i.createElement(_n.a,{id:a,name:a,label:i.createElement(i.Fragment,null,u.a.t("services.durationModal."+t.name),i.createElement(Ct.a,{className:"d-block mt-xs ml-xs e2e-services-duration-modal-"+t.name+"-tooltip",trigger:i.createElement(Ct.c,null),content:u.a.t("services.durationModal."+t.name+"Tooltip"),type:Ct.d.Dark,modal:!0})),checked:r,onChange:function(){return n.setFieldValue(a,!r)},labelClassName:"v2-form-option mt-m",disabled:n.isSubmitting}),r&&i.createElement("div",{className:"ml-m"},i.createElement(_n.f,Tn({},t,{onChange:function(e){var a=parseInt(e.target.value)||0;n.setFieldValue(t.name,a)},value:t.value.toString(),className:"input-time",id:t.name,type:"number",disabled:n.isSubmitting,size:5,step:"5",min:"5",unit:u.a.t("services.durationModal.minutes")}))))},On=function(e){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-7"},i.createElement(rn.b,{className:"v2-form e2e-services-duration-modal-form"},i.createElement(rn.a,{name:"durationBefore",component:Nn}),i.createElement(rn.a,{name:"durationAfter",component:Nn}),i.createElement("button",{className:"d-none",type:"submit"}))),i.createElement("div",{className:"col-sm-5"},i.createElement("div",{className:"service-chart"},e.values.durationBeforePresent&&i.createElement("div",{className:"service-chart-preparation"},u.a.t("services.durationModal.beforeGraphLabel"),i.createElement("small",null,e.values.durationBefore," ",u.a.t("services.durationModal.minutes"))),i.createElement("div",{className:"service-chart-part-only"},u.a.t("services.durationModal.serviceGraphLabel"),i.createElement("small",null)),e.values.durationAfterPresent&&i.createElement("div",{className:"service-chart-preparation"},u.a.t("services.durationModal.afterGraphLabel"),i.createElement("small",null,e.values.durationAfter," ",u.a.t("services.durationModal.minutes"))))))},Cn=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},wn=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},An=function(){var e=Object(i.useContext)(Le.a),t=e.state,n=t.searchedQuery,a=t.markedServices,r=t.allServicesChecked,o=t.currentCategory,s=Object(i.useContext)(Tt),c=s.dispatch,l=s.selectedServicesCount,m=Object(i.useRef)(null);return i.createElement(d.p,{title:u.a.t("services.durationModal.title"),isOpened:!0,onClose:function(){return c({type:ye.SET_VISIBLE,payload:!1})},onSave:function(){return m.current&&m.current.submitForm()}},i.createElement(rn.c,{ref:m,initialValues:Sn,onSubmit:function(t,i){return Cn(void 0,void 0,void 0,(function(){var s;return wn(this,(function(u){switch(u.label){case 0:return c({type:ye.SET_VISIBLE,payload:!1}),i.setSubmitting(!1),s={durationBefore:t.durationBeforePresent?t.durationBefore:null,durationAfter:t.durationAfterPresent?t.durationAfter:null},[4,Nt(vt(a,r,o,n,l,s),e.dispatch,c)];case 1:return u.sent(),[2]}}))}))},component:On}))},Rn=function(e){var t=e.onVatAction,n=e.isSubmitting,a=e.vatRates,r=a.map((function(e){return{vatLabel:e===Le.b?u.a.t("services.categoryModals.exempt"):e+"%",vatValue:e}}));return i.createElement(rn.c,{initialValues:{vat:a[0].toString()},onSubmit:function(e,n){if(e.vat){var a=parseFloat(e.vat);t(isNaN(a)?0:a).then((function(){return n.setSubmitting(!1)}))}},render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("span",{className:"v_middle"},u.a.t("services.vatAction.changeTo")),i.createElement("select",{name:"vat",className:"e2e-vat-select v2-form-control mx-xs",onChange:function(t){return e.setFieldValue("vat",t.target.value)},style:{width:100}},r.map((function(e,t){return i.createElement("option",{key:t,value:e.vatValue},e.vatLabel)}))),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:n})},n?u.a.t("services.pending")+"...":u.a.t("services.submit")))}})},In=function(e){var t=e.onTypeAction,n=e.isSubmitting,a=[{typeTranslation:u.a.t("services.serviceTypeAction.medical"),typeValue:Ee.CHANGE_TO_MEDICAL},{typeTranslation:u.a.t("services.serviceTypeAction.nonMedical"),typeValue:Ee.CHANGE_TO_NON_MEDICAL}];return i.createElement(rn.c,{initialValues:{type:Ee.CHANGE_TO_MEDICAL},onSubmit:function(e,n){e.type&&t(e.type).then((function(){return n.setSubmitting(!1)}))},render:function(e){return i.createElement(rn.b,{className:"pull_right"},i.createElement("span",{className:"v_middle"},u.a.t("services.serviceTypeAction.changeValue")),i.createElement("select",{name:"serviceType",className:"e2e-service-type-select v2-form-control mx-xs",onChange:function(t){return e.setFieldValue("type",t.target.value)},style:{width:180}},a.map((function(e,t){return i.createElement("option",{key:t,value:e.typeValue},e.typeTranslation)}))),i.createElement("div",{onClick:e.submitForm,className:nt("e2e-service-action-submit button button-blue ml-xs",{disabled:n})},n?u.a.t("services.pending")+"...":u.a.t("services.submit")))}})},Pn=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Dn=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},kn=function(){var e=Object(i.useContext)(Le.a),t=Object(i.useContext)(Tt),n=t.dispatch,a=t.type,r=t.visible,o=t.selectedServicesCount,s=e.state,c=s.serviceCategories,l=s.branchSettings,d=s.markedServices,m=s.allServicesChecked,p=s.isMutatingServices,f=s.currentCategory,E=s.searchedQuery,y=e.props.rootCategory;!function(e,t){Object(i.useEffect)((function(){0===t&&e({type:ye.SET_VISIBLE,payload:!1})}),[t])}(n,o);var h=function(t){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(a){return Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.PERCENT)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{percent:t}),e.dispatch,n),[2]}))}))},v=function(t,a){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(r){return Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.VALUE)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{amount:t.toString(),type:a}),e.dispatch,n),[2]}))}))},b=function(t){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(a){return t&&Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.CATEGORY)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{category:t}),e.dispatch,n),[2]}))}))},g=function(t){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(a){return Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.ONLINE_BOOKING)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{onlineBooking:t}),e.dispatch,n),[2]}))}))},S=function(t,a){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(r){return Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.PREPAYMENTS)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{type:t,amount:a.toString()}),e.dispatch,n),[2]}))}))},_=function(t){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(a){return Nt(function(e,t,n,a,r,o){return ft(void 0,void 0,void 0,(function(){return Et(this,(function(i){switch(i.label){case 0:return[4,ht(e,t,n,a,r,o,tt.a.VAT)];case 1:return[2,i.sent()]}}))}))}(d,m,f,E,o,{vat:t}),e.dispatch,n),[2]}))}))},T=function(){n({type:ye.SET_VISIBLE,payload:!1})};return i.createElement(i.Fragment,null,r?a&&[fe.DURATION,fe.RESOURCES].includes(a)?function(e){switch(e){case fe.RESOURCES:return i.createElement(an,null);case fe.DURATION:return i.createElement(An,null);default:return""}}(a):i.createElement("div",{className:"action_box column_row"},i.createElement("div",{className:"close_button",onClick:T},"×"),i.createElement("div",{className:"box_title"},function(e){switch(e){case fe.PERCENTAGE:return u.a.t("services.actionTitle.percentage");case fe.VALUE:return u.a.t("services.actionTitle.price");case fe.CATEGORY:return u.a.t("services.actionTitle.category");case fe.BOOKING:return u.a.t("services.actionTitle.booking");case fe.PREPAYMENTS:return u.a.t("services.actionTitle.prepayment");default:return""}}(a)),i.createElement("div",{className:"content pb-m"},function(t){switch(t){case fe.PERCENTAGE:return i.createElement(ln,{isSubmitting:p,onPercentAction:function(e){return h(e)}});case fe.VALUE:return i.createElement(hn,{isSubmitting:p,onValueAction:function(e,t){return v(e,t)},currency:l.currency,isVatPayer:l.vatPayer});case fe.CATEGORY:return i.createElement(on,{isSubmitting:p,onCategoryAction:function(e){return b(e)},serviceCategories:c,rootCategoryId:y.id});case fe.PREPAYMENTS:return i.createElement(pn,{isSubmitting:p,onPrepaymentAction:function(e,t){return S(e,t)},currency:l.currency});case fe.BOOKING:return i.createElement(gn,{isSubmitting:p,onBookingAction:function(e){return g(e)}});case fe.VAT:return i.createElement(Rn,{isSubmitting:p,onVatAction:function(e){return _(e)},vatRates:l.vatRates});case fe.SERVICE_TYPE:return i.createElement(In,{isSubmitting:p,onTypeAction:function(t){return function(t){return Pn(void 0,void 0,void 0,(function(){return Dn(this,(function(a){return Nt(ht(d,m,f,E,o,void 0,t===Ee.CHANGE_TO_MEDICAL?tt.a.MEDICAL:tt.a.NON_MEDICAL),e.dispatch,n),[2]}))}))}(t)}})}return""}(a),u.a.t("services.actionBox.correctionFor"),i.createElement("span",{className:"e2e-selected-services-count mx-xs"},o),u.a.t("services.actionBox.services"))):i.createElement(i.Fragment,null))},Mn=n(204),xn=n(594),Ln=function(){return(Ln=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fn=function(){var e=Object(i.useContext)(Le.a),t=e.state,n=t.servicesCount,a=t.searchedQuery,r=t.allServicesChecked,o=t.markedServices,s=t.isMutatingServices,c=Object(i.useReducer)(_t,St),l=c[0],d=c[1],m=Object(xn.a)((function(t){e.dispatch({type:tt.b.SET_SEARCHED_QUERY,payload:t})}),500);return i.createElement(Tt.Provider,{value:Ln(Ln({},l),{dispatch:d,selectedServicesCount:r?n-o.length:o.length})},i.createElement("div",{className:"row mb-xl"},i.createElement("div",{className:"col-sm-6"},0!==n||0===n&&""!==a?i.createElement(Mn.a,{placeholder:u.a.t("searchBar.searchForService"),onItemSearch:m,className:"services-search-input",disabled:s}):i.createElement(i.Fragment,null)),i.createElement(wt,null)),i.createElement(kn,null))},Bn=n(29),jn=n(387);!function(e){e.NAME="name",e.CATEGORY="category.name",e.DURATION="variants[0].duration",e.POPULARITY="variants[0].popularity",e.PRICE="variants[0].price",e.VAT="variants[0].vat"}(Dt||(Dt={}));var Gn,Vn=[[b.U.NAME,Dt.NAME],[b.U.DURATION,Dt.DURATION],[b.U.POPULARITY,Dt.POPULARITY],[b.U.GROSS_PRICE,Dt.PRICE],[b.U.VAT,Dt.VAT],[b.U.CATEGORY,Dt.CATEGORY]],Un=function(e){var t=e.order?"asc"===e.order?b.V.ASC:b.V.DESC:void 0,n=Vn.find((function(t){return t[1]===e.path})),a=n&&n[0]||null;return t&&a?{by:a,order:t}:null},Hn=function(e){if(e&&e.by){var t=e.order?e.order.toLowerCase():void 0,n=Vn.find((function(t){return t[0]===e.by})),a=n&&n[1]||null;if(a)return{path:a,order:t}}return{path:Dt.NAME}},zn=function(){return(zn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yn=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},qn=function(){var e=Object(i.useContext)(Le.a),t=Object(i.useContext)(En.a).netGrossTranslationUtils,n=e.state,a=n.services,r=n.markedServices,o=n.allServicesChecked,s=n.sortBy,c=n.branchSettings,l=n.abilities,m=Yn(Yn(Yn(Yn(Yn([],l.includes(b.a.UPDATE_SERVICES_IN_BULK)&&!window.VersumConfig.current_branch_readonly?[{key:"checkBox",content:function(e){return i.createElement(d.g,{labelClassName:"v2-form-option mb-0 mt-xs",inputClassName:"v2-form-check mr-0",checked:r.includes(e.id)?!o:o,onChange:function(e){return p(e)},id:e.id})},headerCellClassName:"pointer checkbox_container center_text",bodyCellClassName:"pointer checkbox_container center_text"}]:[],!0),[{path:Dt.NAME,label:u.a.t("services.tableHeader.name"),sortable:!0,linkPath:"services/",pjaxLink:!0,headerCellClassName:"link_body py-0",bodyCellClassName:"wrap blue_text pointer link_body w-40p"},{path:Dt.CATEGORY,label:u.a.t("services.tableHeader.category"),sortable:!0,bodyCellClassName:"wrap",headerCellClassName:"py-0",defaultValue:u.a.t("services.tableBody.noCategory")},{path:Dt.DURATION,label:u.a.t("services.tableHeader.duration"),content:function(e){var t=Math.min.apply(Math,e.variants.map((function(e){return e.duration}))),n=Math.max.apply(Math,e.variants.map((function(e){return e.duration})));return i.createElement(i.Fragment,null,t===n?u.a.t("services.tableBody.duration",{count:t}):t+" - "+u.a.t("services.tableBody.duration",{count:n}),e.variants[0].breakDuration>0&&i.createElement("div",{className:"text-muted small"},u.a.t("services.tableBody.duration.break",{count:e.variants[0].breakDuration})))},sortable:!0,headerCellClassName:"link_body py-0",bodyCellClassName:"wrap"}],!1),l.includes(b.a.READ_FINANCES)?[{path:Dt.POPULARITY,label:u.a.t("services.tableHeader.popularity"),content:function(e){return u.a.t("services.tableBody.popularity",{count:e.variants.reduce((function(e,t){return e+t.popularity}),0)})},sortable:!0,headerCellClassName:"link_body py-0",bodyCellClassName:"wrap"}]:[],!0),[{path:Dt.PRICE,label:u.a.t("common.netGross.priceC",{netGross:t.t(En.c.GROSS)}),sortable:!0,content:function(e){var t=Math.max.apply(Math,e.variants.map((function(e){return null!==e.maxPrice&&void 0!==e.maxPrice?e.maxPrice:e.price})).filter((function(e){return null!=e}))),n=Math.min.apply(Math,e.variants.map((function(e){return null!==e.price&&void 0!==e.price?e.price:Number.MAX_VALUE})));return i.createElement(i.Fragment,null,Object(dn.b)(n,c.currency,2),t!=Number.MIN_VALUE&&t!=n?" - "+Object(dn.b)(t,c.currency,2):i.createElement(i.Fragment,null))},headerCellClassName:"link_body py-0",bodyCellClassName:"text-right pr-m"}],!1),c.vatPayer?[{path:Dt.VAT,label:u.a.t("services.tableHeader.vat"),content:function(e){return e.variants[0].vat===Le.b?u.a.t("services.tableBody.noVatInfo"):u.a.t("services.tableBody.vat",{count:e.variants[0].vat})},sortable:!0,headerCellClassName:"link_body py-0"}]:[],!0),p=function(e){e.target.id||f()},f=function(){e.dispatch({type:tt.b.TOGGLE_ALL_CHECKBOXES})};return i.createElement("div",{style:{overflowX:"auto"}},i.createElement(d.z,{className:"table-bordered",columns:m,data:a,columnSort:Hn(s),onSort:function(t){e.dispatch({type:tt.b.SET_SORT_BY,payload:Un(t)})},onRowClick:function(t,n,a){return function(t){var n=t.currentTarget.childNodes.item(0).firstChild,a=n&&n.firstChild,r=a&&a.id;if(r){var o=parseInt(r);e.dispatch({type:tt.b.MARK_SERVICE,payload:o})}}(a)},rowSelection:a.reduce((function(e,t){var n;return zn(zn({},e),((n={})[t.id.toString()]=r.includes(t.id)?!o:o,n))}),{}),sortingDisabled:e.pendingRequest}))},Wn=function(){var e=Object(i.useContext)(Le.a);return i.createElement(i.Fragment,null,e.state.abilities.includes(b.a.READ_STATISTICS)?i.createElement("a",{className:nt("e2e-services-excel-button button",{disabled:e.pendingRequest}),href:e.pendingRequest?"":"statistics/excel/services_price_list"},i.createElement("div",{className:"icon sprite-exel_blue mr-xs"}),u.a.t("services.downloadExcel")):i.createElement(i.Fragment,null))},Kn=function(){var e=Object(i.useContext)(Le.a),t=e.state,n=t.fetchServicesErrors,a=t.servicesCount,r=t.searchedQuery,o=t.currentCategory,l=t.currentPage,u=t.pageSize,m=t.abilities,p=t.isFetchingViewerSettings,f=e.props,E=f.isBooksyPossible,y=f.branchCategoryPath;return p?i.createElement(c.a,{wait:250}):n?i.createElement(s.a,null):0===a||0===a&&""!==r?i.createElement(jn.a,{afterFiltering:0===a&&""!==r,canCreateServices:m.includes(b.a.CREATE_SERVICES),currentCategory:o,isBooksyPossible:E,branchCategoryPath:y}):i.createElement(i.Fragment,null,i.createElement(qn,null),i.createElement("div",{className:"pagination_container"},i.createElement(d.s,{itemsCount:a,pageSize:u,currentPage:l,onPageChange:function(t){var n=Math.ceil(a/u);e.dispatch({type:tt.b.SET_CURRENT_PAGE,payload:t>n?n:t<1||isNaN(t)?1:t})},type:"input",onSizeChange:function(t){e.dispatch({type:tt.b.SET_PAGE_SIZE,payload:t})},disabled:e.pendingRequest,cacheKey:Bn.a.SERVICES_TABLE})),i.createElement(Wn,null))},$n=function(){return($n=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Zn=n(67),Xn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Jn=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Qn=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ea=w()(Gn||(Gn=Xn(["\n  query GetCountryDetails($countryCode: CountryCode!) {\n    countryDetails(countryCode: $countryCode) {\n      currency\n      isEU\n      vatRates\n    }\n  }\n"],["\n  query GetCountryDetails($countryCode: CountryCode!) {\n    countryDetails(countryCode: $countryCode) {\n      currency\n      isEU\n      vatRates\n    }\n  }\n"]))),ta=function(e){return Jn(void 0,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:ea,variables:{countryCode:e}},result:function(e){return e.countryDetails||null}})];case 1:return[2,t.sent()]}}))}))},na=function(e){return e.length>0?Math.max.apply(Math,e):0},aa=n(496),ra=n(98),oa=function(e,t,n){var a;return(null==t||"string"==typeof t&&""===t||"boolean"==typeof t&&!t)&&((a={})[e]=n||u.a.t("validation.required"),a)||{}},ia=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,sa=function(e){return-1!==e.search(ia)},ca=function(e,t){var n;return!sa(t)&&((n={})[e]=u.a.t("validation.email"),n)||{}},la=/^[0-9]{2}\-[0-9]{3}$/,ua=function(e,t){var n;return!(-1!==t.search(la))&&((n={})[e]=u.a.t("validation.zipCode"),n)||{}},da=function(e,t){var n,a,r=Object(ra.c)((a=t)&&"+"+a.countryPrefix+a.number||"+");return(r&&!r.isValid()||!t.number||!t.number.length)&&((n={})[e]=u.a.t("validation.phone"),n)||{}},ma=function(){return(ma=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},pa=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};var fa,Ea=function(e){return function(t){var n,a,r,o=u.a.t("validation.required"),i=pa(pa([],!t.email&&[o]||[],!0),t.email&&e===fa.SUBSCRIPTION?!sa(t.email)&&[u.a.t("validation.email")]||[]:t.email.split(",").reduce((function(e,t){return sa(t)?[]:[u.a.t("validation.email")]}),[]),!0),s=function(){if(t.country){var e=""!==t.taxID?[]:[o];if(t.country.value===b.n.PL)return pa(pa(pa([],e,!0),t.taxID&&t.taxID.length<10&&[u.a.t("validation.minlength",{characters:10})]||[],!0),t.taxID&&t.taxID.length>20&&[u.a.t("validation.maxlength",{characters:20})]||[],!0);if(t.country.value===b.n.BR&&!0===t.haveTaxID)return pa([],(!t.taxID||!!t.taxID&&!Object(aa.a)(t.taxID.replace(/\D/g,"")))&&[u.a.t("subscription.validation.company.companyID.invalid_cnpj")]||[],!0);if(t.country.eu&&!0===t.haveTaxID)return pa(pa([],e,!0),t.taxID&&t.taxID.length<2&&[u.a.t("validation.minlength",{characters:2})]||[],!0)}return[]}(),c=!!(n=window.navigator.userAgent,a=n.indexOf("MSIE "),r=n.indexOf("Trident/"),a>0||r>0?t.name||"":(t.name||"").normalize("NFD").replace(new RegExp(/\W/g),"")).match(new RegExp(/[a-zA-Z1-9]/i));return ma(ma(ma(ma(ma(ma(ma(ma(ma(ma(ma(ma({},!c&&{name:[u.a.t("subscription.validation.company.companyID.invalid_name")]}),!t.name&&{name:[o]}),!t.street&&{street:[o]}),!t.houseNumber&&{houseNumber:[o]}),!t.city&&{city:[o]}),!t.zipCode&&{zipCode:[o]}),i.length>0&&{email:i}),"boolean"!=typeof t.haveTaxID&&{haveTaxID:[o]}),t.country&&t.country.value.length>0&&""!==t.country.label&&"boolean"!=typeof t.country.eu&&{country:[o]}),t.country&&(t.country.value===b.n.BR||t.country.value===b.n.MX)&&(!t.region||t.region&&t.region.value&&0===t.region.value.length)&&{region:o}||{}),s.length>0&&{taxID:s}),t.country&&t.country.value===b.n.BR&&!1===t.haveTaxID&&!Object(aa.b)((t.companyID||"").replace(/\D/g,""))&&{companyID:[u.a.t("subscription.validation.company.companyID.invalid_cpf")]})}},ya=function(e){var t=e.argument.split("."),n=t[t.length-1];return{nip:"taxID",tax_identity:"companyID",address:"street",post_code:"zipCode",invoice_email:"email"}[n]||n},ha=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},va=function(){return(va=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ba=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ga=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Sa=w()(_a||(_a=ha(["\n  query GetCompany {\n    viewer {\n      company {\n        addressWithHouseNumber {\n          city\n          country\n          countryCode\n          region\n          street\n          zipCode\n        }\n        companyID\n        currency\n        email\n        isUE\n        name\n        taxID\n        taxIdentityStatement\n      }\n    }\n  }\n"],["\n  query GetCompany {\n    viewer {\n      company {\n        addressWithHouseNumber {\n          city\n          country\n          countryCode\n          region\n          street\n          zipCode\n        }\n        companyID\n        currency\n        email\n        isUE\n        name\n        taxID\n        taxIdentityStatement\n      }\n    }\n  }\n"])));!function(e){e.INVOICE_DATA="invoice_data",e.SUBSCRIPTION="subscription"}(fa||(fa={}));var _a,Ta,Na,Oa,Ca,wa=Object(i.createContext)({formValues:null,billingCurrency:b.o.PLN,formType:fa.INVOICE_DATA}),Aa=function(e,t){return e.value===b.n.BR?(t||"").replace(/\D/g,""):t},Ra=function(e){var t=u.a.t("subscription.company.statement",{countryName:e.country.label}).replace(/(<([^>]+)>)/gi,"");return va(va(va({name:e.name,email:e.email,addressWithHouseNumber:{city:e.city,countryCode:e.country&&e.country.value||"",zipCode:e.zipCode,region:e.region&&e.region.value||"",street:e.street,houseNumber:e.houseNumber,unitNumber:e.unitNumber}},e.haveTaxID?{}:{companyID:Aa(e.country,e.companyID)}),e.haveTaxID?{taxID:Aa(e.country,e.taxID)}:{}),{taxIdentityStatement:t})},Ia=function(e){return ba(void 0,void 0,Promise,(function(){var t,n;return ga(this,(function(a){switch(a.label){case 0:return[4,(r=e.addressWithHouseNumber.countryCode||b.n.PL,Jn(void 0,void 0,Promise,(function(){var e,t;return Qn(this,(function(n){switch(n.label){case 0:return(t=r)?[4,ta(r)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return e=t,[2,{value:r||"",label:r&&u.a.t("countryNames."+r)||"",eu:e&&e.isEU||!1,taxValue:e&&na(e.vatRates)||0}]}}))})))];case 1:return t=a.sent(),n=e.addressWithHouseNumber.region?{label:u.a.t("regionNames."+(e.addressWithHouseNumber.countryCode&&e.addressWithHouseNumber.countryCode.toLowerCase())+"."+e.addressWithHouseNumber.region),value:e.addressWithHouseNumber.region}:{},[2,{name:e.name||"",street:e.addressWithHouseNumber&&e.addressWithHouseNumber.street||"",houseNumber:e.addressWithHouseNumber&&e.addressWithHouseNumber.houseNumber||"",unitNumber:e.addressWithHouseNumber&&e.addressWithHouseNumber.unitNumber||"",city:e.addressWithHouseNumber&&e.addressWithHouseNumber.city||"",region:n,zipCode:e.addressWithHouseNumber&&e.addressWithHouseNumber.zipCode||"",email:e.email||"",country:t||Pa,taxID:e.taxID||"",taxIdentityStatement:e.taxIdentityStatement||"",companyID:e.companyID||"",haveTaxID:!(t.value!==b.n.PL&&!e.taxID)}]}var r}))}))},Pa={value:b.n.PL,label:"",eu:!0,taxValue:0},Da=w()(Ta||(Ta=ha(["\n  mutation UpdateCompany($company: CompanyInput!) {\n    updateCompany(company: $company) {\n      company {\n        addressWithHouseNumber {\n          city\n          country\n          countryCode\n          region\n          street\n          houseNumber\n          unitNumber\n          zipCode\n        }\n        companyID\n        currency\n        email\n        isUE\n        name\n        taxID\n        taxIdentityStatement\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"],["\n  mutation UpdateCompany($company: CompanyInput!) {\n    updateCompany(company: $company) {\n      company {\n        addressWithHouseNumber {\n          city\n          country\n          countryCode\n          region\n          street\n          houseNumber\n          unitNumber\n          zipCode\n        }\n        companyID\n        currency\n        email\n        isUE\n        name\n        taxID\n        taxIdentityStatement\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"]))),ka=function(e,t,n,a){return ba(void 0,void 0,Promise,(function(){var r;return ga(this,(function(o){switch(o.label){case 0:return Ea(e)(n),[4,A.a.mutate({options:{mutation:Da,variables:{company:Ra(n)}},result:function(e){return e.updateCompany&&e.updateCompany.company||null},mutationErrors:function(e){return e.updateCompany&&e.updateCompany.errors||[]},errorHandler:{onMutationErrors:function(e){return function(e,t){var n={};e&&(e.map((function(e){var t=ya(e);-1!==["translation missing: en.activerecord.attributes.errors.messages.transfer_transaction.invalid_tax_id","not a valid VAT ID number"].indexOf(e.code)&&(e.code="invalid"),n[t]=u.a.t("validation."+e.argument+"."+e.code)})),t.setErrors(n))}(e,t)},onCatchError:function(e){Object(Zn.a)(e),x.a.error(Array.isArray(e)?e.map((function(e){return e.join("<br>")})):e,{sticky:!0,modal:!0})}},mutationErrorMessage:A.a.HideMutationErrorMessage})];case 1:return r=o.sent(),t.setSubmitting(!1),r&&a&&a(r),[2]}}))}))},Ma=n(55),xa=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},La=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Fa=function(e){var t=e.field,n=e.form,a=t.name;return i.createElement(_n.e,{error:n.errors[a]&&n.touched[a]?n.errors[a].value:null},i.createElement("label",null,u.a.t("subscription.company.country")),i.createElement(Ma.a,{options:Ba(),onChange:function(e){return xa(void 0,void 0,void 0,(function(){var t,r;return La(this,(function(o){switch(o.label){case 0:return[4,ta(e.value)];case 1:return(t=o.sent())&&(r={label:e.label,value:e.value,eu:t.isEU,taxValue:na(t.vatRates)},n.setFieldValue(a,r),n.setFieldValue("taxID",""),n.setFieldValue("region",""),n.setFieldValue("companyID",""),e.value===b.n.PL&&n.setFieldValue("haveTaxID",!0)),[2]}}))}))},onBlur:function(){return n.setFieldTouched(a,!0)},value:n.values.country,isSearchable:!0,version:"v2",className:"w-100p"}))},Ba=function(){var e=Object.keys(b.n).map((function(e){var t=b.n[e];return{label:u.a.t("countryNames."+t),value:t,eu:!1,taxValue:0}}));return e.sort((function(e,t){return e.label.localeCompare(t.label)})),e},ja=function(e){var t=e.field,n=e.form,a=t.name;return i.createElement(_n.d,{label:Ga(a,n.values.country)},i.createElement(_n.f,{id:a,value:n.values[a],onChange:n.handleChange,onBlur:n.handleBlur,errorMessage:n.errors[a]&&n.touched[a]?n.errors[a]:null}))},Ga=function(e,t){return t.value===b.n.BR&&"taxID"===e?u.a.t("subscription.company.cnpjNumber"):t.value===b.n.BR&&"companyID"===e?u.a.t("subscription.company.cpfNumber"):u.a.t("subscription.company."+e)},Va=n(117),Ua=function(e){var t=e.field,n=e.form,a=function(e){return function(){n.setFieldValue("haveTaxID",e)}},r=n.values.country&&n.values.country.value&&n.values.country.value===b.n.BR?"CNPJ":"TaxId";return i.createElement(_n.d,null,i.createElement("div",{className:"mr-m"},i.createElement(Va.a,{inputId:"radioButtonBusiness",value:n.values.haveTaxID,name:t.name,checked:n.values.haveTaxID,onChange:a(!0),label:u.a.t("subscription.company.have"+r)})),i.createElement("div",null,i.createElement(Va.a,{inputId:"radioButtonPersonal",value:!1,name:t.name,checked:!n.values.haveTaxID,onChange:a(!1),label:u.a.t("subscription.company.notHave"+r)})))};!function(e){e.AC="AC",e.AL="AL",e.AP="AP",e.AM="AM",e.BA="BA",e.CE="CE",e.DF="DF",e.ES="ES",e.GO="GO",e.MA="MA",e.MT="MT",e.MS="MS",e.MG="MG",e.PA="PA",e.PB="PB",e.PR="PR",e.PE="PE",e.PI="PI",e.RJ="RJ",e.RN="RN",e.RS="RS",e.RO="RO",e.RR="RR",e.SC="SC",e.SP="SP",e.SE="SE",e.TO="TO"}(Na||(Na={})),function(e){e.AG="AG",e.BC="BC",e.BS="BS",e.CH="CH",e.CL="CL",e.CM="CM",e.CO="CO",e.CS="CS",e.DF="DF",e.GR="GR",e.GT="GT",e.DG="DG",e.HG="HG",e.JA="JA",e.MI="MI",e.MO="MO",e.NA="NA",e.NL="NL",e.OA="OA",e.PU="PU",e.QR="QR",e.QT="QT",e.SI="SI",e.SL="SL",e.SO="SO",e.TB="TB",e.TL="TL",e.VE="VE",e.TM="TM",e.YU="YU",e.ZA="ZA",e.EM="EM"}(Oa||(Oa={}));var Ha,za=function(e){var t=e.field,n=e.form,a=t.name;return i.createElement(d.l,{error:n.errors[a]&&n.submitCount>0?n.errors[a]:null},i.createElement("label",null,Ke.t("subscription.company.region")),i.createElement(d.u,{options:qa(n.values.country.value),onChange:function(e){var t={label:e.label,value:e.value};n.setFieldValue(a,t)},onBlur:function(){return n.setFieldTouched(a,!0)},value:n.values.region,isSearchable:!0,version:"v2",className:"w-100p"}))},Ya=((Ca={})[b.n.BR]=Na,Ca[b.n.MX]=Oa,Ca),qa=function(e){var t=Object.keys(Ya[e]||{}).map((function(t){var n=Ya[e][t];return{label:Ke.t("regionNames."+e.toLowerCase()+"."+n),value:n}}));return t.sort((function(e,t){return e.label.localeCompare(t.label)})),t},Wa=function(e){var t=e.field,n=e.form,a=t.name,r=i.useContext(wa).formType;return i.createElement(_n.d,{label:Ga(a,n.values.country)},i.createElement(_n.f,{id:a,value:n.values[a],onChange:n.handleChange,onBlur:n.handleBlur,errorMessage:n.errors[a]&&n.touched[a]?n.errors[a]:null}),r===fa.INVOICE_DATA&&i.createElement(Ct.a,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 company-form-email-tooltip"}),content:u.a.t("company.invoiceData.emailHint"),type:Ct.d.Info}))},Ka=function(e){var t=Object(i.useContext)(wa),n=t.billingCurrency,a=t.formType,r=function(e){var t=e.values.country&&e.values.country.value||null,n=e.values.haveTaxID,a=e.values.country||{value:"",eu:!1,taxValue:1,label:""},r=a.eu,o=a.value===b.n.PL,i=a.value===b.n.BR,s=a.value===b.n.MX;return{countrySelected:a,isHaveTaxIdSelectorEnabled:null!==t&&!o&&r||i,isCompanyIdFieldEnabled:a.value&&(!r&&!i||r&&!o&&!n||i&&!n),isTaxIdFieldEnabled:a.value&&(o||r&&n||i&&n)||!1,isCompanyRegionFieldRequired:a.value&&(i||s)}}(e),o=r.countrySelected,s=r.isHaveTaxIdSelectorEnabled,c=r.isCompanyIdFieldEnabled,l=r.isTaxIdFieldEnabled,m=r.isCompanyRegionFieldRequired;return i.createElement(i.Fragment,null,i.createElement(rn.b,{className:"v2-form v2-form-vertical"},i.createElement("div",{className:"v2-form-narrow"},n!==b.o.PLN&&i.createElement(rn.a,{name:"country",component:Fa}),i.createElement(rn.a,{name:"name",component:ja}),i.createElement(rn.a,{name:"street",component:ja}),i.createElement(rn.a,{name:"houseNumber",component:ja}),i.createElement(rn.a,{name:"unitNumber",component:ja}),i.createElement(rn.a,{name:"zipCode",component:ja}),i.createElement(rn.a,{name:"city",component:ja}),m&&i.createElement(rn.a,{name:"region",component:za}),i.createElement(rn.a,{name:"email",component:Wa}),s&&i.createElement(rn.a,{name:"haveTaxID",component:Ua}),l&&i.createElement(rn.a,{name:"taxID",component:ja}),c&&i.createElement(rn.a,{name:"companyID",component:ja}),o.label&&i.createElement(d.k,null,i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("subscription.company.statement",{countryName:o.label})}}))),a===fa.SUBSCRIPTION&&i.createElement(d.b,{type:"submit",className:"e2e-company-form-submit",text:u.a.t("subscription.company.submit"),disabled:e.isSubmitting,iconRight:d.x.chevronRight,version:d.c.v2})||i.createElement(d.b,{type:"submit",className:"e2e-invoice-data-form-submit",text:u.a.t("common.saveChanges"),disabled:e.isSubmitting,iconRight:d.x.save,version:d.c.v1,variant:"blue"})))},$a=function(e){var t=e.formType,n=e.company,a=e.billingCurrency,r=void 0===a?b.o.PLN:a,o=e.onSubmit,s=Object(i.useState)(null),c=s[0];!function(e,t){Object(i.useEffect)((function(){if(t&&t.name)e(t);else{ba(void 0,void 0,void 0,(function(){var t,n;return ga(this,(function(a){switch(a.label){case 0:return[4,A.a.query({options:{query:Sa},result:function(e){return e&&e.viewer&&e.viewer.company||null}})];case 1:return(t=a.sent())?[4,Ia(t)]:[3,3];case 2:n=a.sent(),e(n),a.label=3;case 3:return[2]}}))}))}}),[t])}(s[1],n);return i.createElement(wa.Provider,{value:{formValues:c,billingCurrency:r,formType:t}},c&&i.createElement(rn.c,{validate:Ea(t),enableReinitialize:!0,initialValues:c,onSubmit:function(e,t){o({actions:t,values:e})},component:Ka}))},Za=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Xa=function(){return(Xa=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ja=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Qa=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},er={company:null,editMode:!1};!function(e){e.SET_INVOICE_DATA="SET_INVOICE_DATA",e.UPDATE_CONTAINER_DATA="UPDATE_CONTAINER_DATA",e.SET_FORM_VALUES="SET_FORM_VALUES",e.SET_EDIT_MODE="SET_EDIT_MODE"}(Ha||(Ha={}));var tr,nr,ar,rr=function(e,t){switch(t.type){case Ha.SET_INVOICE_DATA:return Xa(Xa({},e),{company:t.payload});case Ha.UPDATE_CONTAINER_DATA:return Xa(Xa({},e),{company:t.payload.company,companyFormValues:t.payload.formValues,editMode:!1});case Ha.SET_FORM_VALUES:return Xa(Xa({},e),{companyFormValues:t.payload});case Ha.SET_EDIT_MODE:return Xa(Xa({},e),{editMode:t.payload});default:return e}},or=i.createContext({state:{},dispatch:function(){}}),ir="\n  company {\n    addressWithHouseNumber {\n      city\n      country\n      countryCode\n      region\n      street\n      houseNumber\n      unitNumber\n      zipCode\n    }\n    companyID\n    currency\n    email\n    isUE\n    name\n    taxID\n    taxIdentityStatement\n  }\n",sr=function(e){i.useEffect((function(){!function(e){Ja(void 0,void 0,void 0,(function(){var t,n;return Qa(this,(function(a){switch(a.label){case 0:return[4,A.a.query({options:{query:w()(tr||(tr=Za(["\n          query GetInvoiceData {\n            viewer {\n              ","\n            }\n          }\n        "],["\n          query GetInvoiceData {\n            viewer {\n              ","\n            }\n          }\n        "])),ir)},result:function(e){return e||null}})];case 1:return(t=a.sent())&&t.viewer&&t.viewer.company?(e({type:Ha.SET_INVOICE_DATA,payload:t.viewer.company}),[4,Ia(t.viewer.company)]):[3,3];case 2:n=a.sent(),e({type:Ha.SET_FORM_VALUES,payload:n}),a.label=3;case 3:return[2]}}))}))}(e)}),[])},cr=function(e){var t=e.company;return t&&t.currency||b.o.PLN},lr=n(26),ur=function(e){var t=e.company,n=i.useContext(or).dispatch;return i.createElement("div",null,i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.title"),":"),i.createElement("span",{className:"strong ml-s"},t.name))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.street"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.street))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.houseNumber"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.houseNumber))),t.addressWithHouseNumber.unitNumber&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.unitNumber"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.unitNumber))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.zipCode"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.zipCode))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.city"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.city))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.country"),":"),i.createElement("span",{className:"strong ml-s"},t.addressWithHouseNumber.countryCode))),t.taxID&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.taxID"),":"),i.createElement("span",{className:"strong ml-s"},t.taxID))),t.companyID&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.companyID"),":"),i.createElement("span",{className:"strong ml-s"},t.companyID))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("span",null,u.a.t("company.invoiceData.email"),":"),i.createElement("span",{className:"strong ml-s"},t.email))),i.createElement("div",{className:"v2-row mt-l"},i.createElement("div",{className:"v2-col"},i.createElement(lr.a,{variant:"blue",type:"submit",text:u.a.t("company.invoiceData.edit"),onClick:function(){n({type:Ha.SET_EDIT_MODE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly}))))},dr=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},mr=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pr=function(e){return function(t){return dr(void 0,void 0,void 0,(function(){return mr(this,(function(n){return ka(fa.INVOICE_DATA,t.actions,t.values,(function(t){return dr(void 0,void 0,void 0,(function(){var n;return mr(this,(function(a){switch(a.label){case 0:return[4,Ia(t)];case 1:return n=a.sent(),e({type:Ha.UPDATE_CONTAINER_DATA,payload:{company:t,formValues:n}}),x.a.success(u.a.t("settings.invoiceData.saved")),[2]}}))}))})),[2]}))}))}},fr=n(466),Er=function(e){return i.createElement("div",null,i.createElement("span",{className:"text-nowrap"},e.currentIndex+1," / ",e.views.length))},yr=function(e){var t=e.images,n=i.useState(0),a=n[0],r=n[1],o=i.useState(!1),s=o[0],c=o[1],l=function(e){r(e),c(!s)};return i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex flex-wrap"},t.map((function(e,t){return i.createElement(hr,{image:e,onClick:function(e){e.preventDefault(),l(t)},key:e.id})}))),i.createElement(fr.b,null,s?i.createElement(fr.a,{onClose:l,allowFullscreen:!1},i.createElement(fr.c,{components:{FooterCount:Er},currentIndex:a,views:t,styles:{container:function(){return{height:"100vh",touchAction:"none"}},view:function(){return{alignItems:"center",display:"flex ",height:"100vh",justifyContent:"center","& > img":{maxHeight:"calc(100vh - 180px)"}}}}})):null))},hr=function(e){var t=e.image,n=e.onClick;return i.createElement("div",{className:"mb-s mr-s"},i.createElement("div",{className:"image-box"},i.createElement("a",{href:t.source.regular,onClick:n},i.createElement("img",{src:t.source.thumbnail,alt:t.name}))))};!function(e){e.TEASER="TEASER",e.FORM="FORM",e.PREVIEW="PREVIEW",e.SPINNER="SPINNER",e.ERROR="ERROR"}(nr||(nr={})),function(e){e.SET_FETCHED_ONLINE_GIFT_CARDS_CONFIG="SET_FETCHED_ONLINE_GIFT_CARDS_CONFIG",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.EDIT_CONFIG="EDIT_CONFIG",e.FINISH_EDITING_CONFIG="FINISH_EDITING_CONFIG",e.SET_ACTIVATION_MODAL_OPEN="SET_ACTIVATION_MODAL_OPEN"}(ar||(ar={}));var vr,br=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Sr=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},_r=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Tr=w()(vr||(vr=br(["\n  query GetOnlineGiftCardsSalesConfig {\n    giftCardsOnlineSalesConfig {\n      enabled\n      customerBenefit\n      otherCustomerBenefitText\n      canBeEnabled\n      availableForBranch\n    }\n  }\n"],["\n  query GetOnlineGiftCardsSalesConfig {\n    giftCardsOnlineSalesConfig {\n      enabled\n      customerBenefit\n      otherCustomerBenefitText\n      canBeEnabled\n      availableForBranch\n    }\n  }\n"]))),Nr={viewType:nr.SPINNER,activationModalOpen:!1},Or=function(e,t){switch(t.type){case ar.SET_FETCHED_ONLINE_GIFT_CARDS_CONFIG:return gr(gr({},e),{giftCardsOnlineSalesConfig:t.payload,viewType:t.payload.enabled?nr.PREVIEW:nr.TEASER});case ar.SET_FETCHING_FINISHED_WITH_ERRORS:return gr(gr({},e),{viewType:nr.ERROR});case ar.EDIT_CONFIG:return gr(gr({},e),{viewType:nr.FORM});case ar.FINISH_EDITING_CONFIG:return gr(gr({},e),{viewType:e.giftCardsOnlineSalesConfig&&e.giftCardsOnlineSalesConfig.enabled?nr.PREVIEW:nr.TEASER});case ar.SET_ACTIVATION_MODAL_OPEN:return gr(gr({},e),{activationModalOpen:t.payload});default:return e}},Cr=Object(i.createContext)(gr(gr({dispatch:function(){}},Nr),{onlineBookingUrl:"",branchPl:!0,canBeEnabled:!1})),wr=function(e){return gr({},e.enabled&&e.customerBenefit===b.q.OTHER&&oa("otherCustomerBenefitText",e.otherCustomerBenefitText))},Ar=function(e,t,n){return u.a.t(n?e:"nonPl."+e,{scope:t})},Rr=function(){var e=Object(i.useContext)(Cr),t=e.dispatch,n=e.canBeEnabled,a=e.branchPl,r="button ml-auto button-blue e2e-activate-online-gift-cards-button",o=u.a.t("settings.customerPanel.onlineGiftCards.teaser.activateButton");return i.createElement(i.Fragment,null,n&&!window.VersumConfig.current_branch_readonly?i.createElement(lr.a,{className:nt(r,"button-blue"),onClick:function(){t({type:ar.EDIT_CONFIG})},text:o}):i.createElement(Ct.a,{align:Ct.b.Left,trigger:i.createElement(lr.a,{className:nt(r,"button-disabled"),text:o,disabled:!0}),content:Ar("teaser.activateButtonTooltip","settings.customerPanel.onlineGiftCards",a),type:Ct.d.Dark}))},Ir=function(){var e=Object(i.useContext)(Cr),t=e.canBeEnabled,n=e.branchPl;return i.createElement("div",{className:"v2-blank e2e-online-gift-cards-teaser"},i.createElement("div",{className:nt("v2-blank-actions",{disabled:!t})},i.createElement(Rr,null)),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement("img",{style:{width:n?136:180},src:window.getAssetHost("images/online_gift_cards/online-gift-cards-teaser-"+(n?"":"non-")+"PL.png"),alt:Ar("teaser.title","settings.customerPanel.onlineGiftCards",n)})),i.createElement("h2",{className:"v2-blank-title-normal",dangerouslySetInnerHTML:{__html:Ar("teaser.title","settings.customerPanel.onlineGiftCards",n)}}),i.createElement("div",{className:"text-center"},i.createElement("p",{dangerouslySetInnerHTML:{__html:Ar("teaser.info","settings.customerPanel.onlineGiftCards",n)}}),n&&i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.onlineGiftCards.teaser.additionalInfo")}}))))},Pr=n(141);function Dr(e){var t=e.field,n=e.form,a=[{label:u.a.t("common.activationStatus.active"),value:!0},{label:u.a.t("common.activationStatus.inactive"),value:!1}];return i.createElement(Ma.a,{options:a,value:a.find((function(e){return t.value===e.value})),onChange:function(e){n.setFieldValue(t.name,e.value)},className:"v2-form-controls e2e-status-select",disabled:n.isSubmitting})}var kr=function(e){var t=e.field,n=e.form,a=Object.values(b.q).map((function(e){return{label:u.a.t("settings.customerPanel.onlineGiftCards.customerBenefits."+e),value:e}}));return i.createElement(Ma.a,{options:a,value:a.find((function(e){return t.value===e.value})),onChange:function(e){n.setFieldValue(t.name,e.value)},className:"v2-form-controls e2e-customer-benefit-select",disabled:!n.values.enabled||n.isSubmitting})},Mr=n(572),xr=function(){return(xr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Lr(e){var t=e.field,n=e.form,a=e.disabled,r=void 0!==a&&a,o=e.size,s=e.className,c=e.maxLength,l=Object(Mr.a)(n.touched,t.name)&&Object(Mr.a)(n.errors,t.name)?Object(Mr.a)(n.errors,t.name):null;return i.createElement(_n.f,xr({type:"text"},t,{value:t.value||"",disabled:r,size:o,errorMessage:l,className:nt("v2-form-controls",s,"e2e-"+t.name+"-text-input"),maxLength:c}))}var Fr,Br,jr,Gr=function(){return i.createElement(Ct.a,{className:"d-block ml-xs e2e-customer-benefit-tooltip",trigger:i.createElement(Ct.c,null),content:u.a.t("settings.customerPanel.onlineGiftCards.customerBenefitTooltip"),type:Ct.d.Dark})},Vr=n(17),Ur=function(e){var t=Object(i.useContext)(Cr),n=t.dispatch,a=t.branchPl;return i.createElement(rn.b,{className:"v2-form v2-form-counted"},a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"vrsm-d-flex vrsm-items-center vrsm-mb-4"},i.createElement(Vr.a,{className:"vrsm-mr-2",name:Vr.b.momentIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.moment")))),i.createElement(_n.d,{label:Ar("status","settings.customerPanel.onlineGiftCards",a)+":"},i.createElement(rn.a,{name:"enabled",component:Dr,disabled:e.isSubmitting}),i.createElement("div",{className:"pr-xl"})),i.createElement(_n.d,{label:u.a.t("settings.customerPanel.onlineGiftCards.customerBenefit")+":"},i.createElement(rn.a,{name:"customerBenefit",component:kr}),i.createElement("div",{className:"mt-xs",style:{width:32}},i.createElement(Gr,null))),e.values.customerBenefit===b.q.OTHER&&i.createElement("div",{style:{paddingLeft:10}},i.createElement(_n.d,{label:u.a.t("settings.customerPanel.onlineGiftCards.customerBenefitOther")+":",className:"text-right",hideCount:!0},i.createElement(rn.a,{name:"otherCustomerBenefitText",component:Lr,maxLength:50,disabled:!e.values.enabled||e.isSubmitting}),i.createElement("div",{className:"pr-xl"}))),i.createElement(Pr.a,{isGroupConnected:!1},i.createElement(lr.a,{variant:"blue",type:"submit",text:e.isSubmitting?u.a.t("common.processing"):u.a.t("common.save"),className:nt("e2e-save-settings",{"button-disabled":e.isSubmitting}),disabled:e.isSubmitting}),i.createElement(lr.a,{text:u.a.t("common.cancel"),disabled:e.isSubmitting,className:"e2e-cancel-edit",onClick:function(){n({type:ar.FINISH_EDITING_CONFIG})}})))},Hr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zr=w()(Fr||(Fr=Hr(["\n  mutation updateGiftCardsOnlineSalesConfig($config: GiftCardsOnlineSalesConfigUpdateInput!) {\n    updateGiftCardsOnlineSalesConfig(config: $config) {\n      config {\n        enabled\n        customerBenefit\n        otherCustomerBenefitText\n        canBeEnabled\n        availableForBranch\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation updateGiftCardsOnlineSalesConfig($config: GiftCardsOnlineSalesConfigUpdateInput!) {\n    updateGiftCardsOnlineSalesConfig(config: $config) {\n      config {\n        enabled\n        customerBenefit\n        otherCustomerBenefitText\n        canBeEnabled\n        availableForBranch\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),Yr=function(e){return{enabled:!0,customerBenefit:e&&(e.enabled||e.customerBenefit!==b.q.DISABLED)?e.customerBenefit:b.q.SERVICE_GRATIS,otherCustomerBenefitText:e&&e.otherCustomerBenefitText||""}},qr=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Wr=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Kr=function(){var e=Object(i.useContext)(Cr),t=e.giftCardsOnlineSalesConfig,n=e.dispatch,a=e.branchPl;return i.createElement("div",null,i.createElement(l.A,{htmlTag:"h2",className:"vrsm-mt-0 vrsm-mb-5"},u.a.t("settings.customerPanel.onlineGiftCards.title")),i.createElement(l.w,null,i.createElement(l.l,{size:{md:8}},i.createElement("div",{className:"settings-box"},a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"vrsm-d-flex vrsm-items-center"},i.createElement(Vr.a,{className:"vrsm-mr-2",name:Vr.b.booksyIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.booksy"))),i.createElement(l.A,{className:"vrsm-mt-4",htmlTag:"div"},u.a.t("common.workInProgress")),i.createElement("div",{className:"vrsm-hr"})),i.createElement(rn.c,{onSubmit:function(e,r){return qr(void 0,void 0,void 0,(function(){var o;return Wr(this,(function(i){switch(i.label){case 0:return[4,A.a.mutate({options:{mutation:zr,variables:{config:e}},result:function(e){return e&&e.updateGiftCardsOnlineSalesConfig&&e.updateGiftCardsOnlineSalesConfig.config||null},mutationErrors:function(e){return e&&e.updateGiftCardsOnlineSalesConfig&&e.updateGiftCardsOnlineSalesConfig.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return o=i.sent(),r.setSubmitting(!1),o&&(n({type:ar.SET_FETCHED_ONLINE_GIFT_CARDS_CONFIG,payload:o}),t&&t.enabled&&!o.enabled?x.a.success(Ar("deactivated","settings.customerPanel.onlineGiftCards",a),{modal:!0}):t&&!t.enabled&&o.enabled?n({type:ar.SET_ACTIVATION_MODAL_OPEN,payload:!0}):t&&t.enabled&&x.a.success(u.a.t("common.settingsSaved"),{modal:!0})),[2]}}))}))},initialValues:Yr(t),component:Ur,validate:wr})))))},$r=function(){var e=Object(i.useContext)(Cr),t=e.dispatch,n=e.giftCardsOnlineSalesConfig,a=e.branchPl;return i.createElement("div",null,i.createElement("div",{className:"d-flex ai-center mb-l"},i.createElement(l.A,{htmlTag:"h2",className:"m-0"},u.a.t("settings.customerPanel.onlineGiftCards.title")),i.createElement(lr.a,{className:"ml-auto e2e-online-gift-cards-edit-button",text:u.a.t("common.edit"),onClick:function(){return t({type:ar.EDIT_CONFIG})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement(l.w,null,i.createElement(l.l,{size:{md:8}},i.createElement("div",{className:"settings-box"},a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center"},i.createElement(d.w,{className:"vrsm-mr-2",name:d.x.booksyIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.booksy"))),i.createElement(l.A,{className:"vrsm-mt-4",htmlTag:"div"},u.a.t("common.workInProgress")),i.createElement("div",{className:"vrsm-hr"}),i.createElement("div",{className:"d-flex ai-center"},i.createElement(d.w,{className:"vrsm-mr-2",name:d.x.momentIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.moment")))),i.createElement("div",{className:"v2-row vrsm-mt-4 vrsm-mb-2 ai-center"},i.createElement("div",{className:"v2-col-6"},Ar("status","settings.customerPanel.onlineGiftCards",a)),i.createElement("div",{className:"v2-col"},i.createElement(d.a,{text:u.a.t("common.activationStatus.active"),variant:"APPROVED",pill:!0,icon:!0}))),i.createElement("div",{className:"v2-row mb-m ai-center"},i.createElement("div",{className:"v2-col-6"},u.a.t("settings.customerPanel.onlineGiftCards.customerBenefit")),i.createElement("div",{className:"v2-col strong d-flex ai-center"},i.createElement("div",{className:"e2e-customer-benefit-preview"},n?n.customerBenefit!==b.q.OTHER?u.a.t("settings.customerPanel.onlineGiftCards.customerBenefits."+n.customerBenefit):n.otherCustomerBenefitText:i.createElement(i.Fragment,null)),i.createElement("div",{className:"pl-xs"},i.createElement(Gr,null))))))))},Zr=function(){var e=Object(i.useContext)(Cr),t=e.activationModalOpen,n=e.dispatch,a=e.onlineBookingUrl,r=e.branchPl;return i.createElement("div",null,i.createElement(d.p,{type:d.r.simple,backdropClose:!0,isFooterVisible:!0,isOpened:t,onClose:function(){return n({type:ar.SET_ACTIVATION_MODAL_OPEN,payload:!1})},onCloseText:u.a.t("settings.customerPanel.onlineGiftCards.activationModal.close"),onSecondaryText:Ar("activationModal.preview","settings.customerPanel.onlineGiftCards",r),onSecondaryAction:function(){return window.location.href=a}},i.createElement("div",{className:"text-center"},i.createElement("div",{className:"mt-l"},i.createElement("img",{style:{width:85},src:window.getAssetHost("images/common/check.png"),alt:u.a.t("settings.customerPanel.onlineGiftCards.activationModal.title")})),i.createElement("div",{className:"v2-row mb-l"},i.createElement("div",{className:"v2-col"},i.createElement("h2",null,u.a.t("settings.customerPanel.onlineGiftCards.activationModal.title")))),i.createElement("div",{className:"v2-row mt-l mb-xl jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",null,i.createElement("span",{dangerouslySetInnerHTML:{__html:Ar("activationModal.info","settings.customerPanel.onlineGiftCards",r)}})," ",r&&i.createElement("a",{href:a},a)))),r&&i.createElement("div",{className:"v2-row mt-l mb-xl jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",null,u.a.t("settings.customerPanel.onlineGiftCards.activationModal.additionalInfo")))))))},Xr=function(){return(Xr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Jr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};!function(e){e.ACTIVATION="ACTIVATION",e.FACEBOOK_SHARE="FACEBOOK_SHARE"}(Br||(Br={})),function(e){e.SET_MODAL_VISIBILITY="SET_MODAL_VISIBILITY",e.SET_RESERVATION_ACTIVE="SET_RESERVATION_ACTIVE",e.SET_SHOULD_RELOAD="SET_SHOULD_RELOAD"}(jr||(jr={}));var Qr,eo,to,no=w()(Qr||(Qr=Jr(["\n  mutation enableOnlineReservation($branch: BranchUpdateInput!) {\n  updateBranch(branch: $branch) {\n    branch {\n      onlineReservation {\n        status\n      }\n    }\n  }\n}\n"],["\n  mutation enableOnlineReservation($branch: BranchUpdateInput!) {\n  updateBranch(branch: $branch) {\n    branch {\n      onlineReservation {\n        status\n      }\n    }\n  }\n}\n"]))),ao=function(){return(ao=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ro=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},oo=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},io={isModalActive:!0,currentView:Br.ACTIVATION,shouldReloadOnClose:!1},so=function(e,t){switch(t.type){case jr.SET_MODAL_VISIBILITY:return ao(ao({},e),{isModalActive:t.payload});case jr.SET_RESERVATION_ACTIVE:return ao(ao({},e),{currentView:Br.FACEBOOK_SHARE});case jr.SET_SHOULD_RELOAD:return ao(ao({},e),{shouldReloadOnClose:t.payload});default:return e}},co=function(e){return ro(void 0,void 0,void 0,(function(){var t;return oo(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:no,variables:{branch:{onlineReservation:{status:!0}}}},result:function(e){return e||null},mutationErrors:function(e){return e&&e.updateBranch&&e.updateBranch.errors||[]},errorMessage:{message:u.a.t("settings.settingsNotSaved")},successMessage:A.a.HideMutationResultMessage})];case 1:return(t=n.sent())&&t.updateBranch&&t.updateBranch.branch&&(e({type:jr.SET_RESERVATION_ACTIVE}),x.a.success(u.a.t("settings.customerPanel.onlineReservation.activationNotify"),{modal:!0}),(a=document.querySelector(".status_tag"))&&(a.classList.add("tag_green"),a.classList.remove("category_tag","tag_red"),a.innerHTML=u.a.t("settings.customerPanel.onlineReservation.active"))),[2]}var a}))}))},lo=n(44),uo=n(66),mo=function(e){var t=e.activeStep,n=e.stepCount;return i.createElement("div",{className:"d-flex jc-center"},Array(n).fill(null).map((function(e,n){return i.createElement("div",{key:n,className:"step-indicator "+(t===n&&"active")})})))};!function(e){e.TEASER="TEASER",e.FORM="FORM",e.PREVIEW="PREVIEW",e.SPINNER="SPINNER",e.ERROR="ERROR"}(eo||(eo={})),function(e){e.SET_FETCHED_ONLINE_ORDER_CONFIG="SET_FETCHED_ONLINE_ORDER_CONFIG",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.EDIT_CONFIG="EDIT_CONFIG",e.FINISH_EDITING_CONFIG="FINISH_EDITING_CONFIG",e.SET_ACTIVATION_MODAL_OPEN="SET_ACTIVATION_MODAL_OPEN"}(to||(to={}));var po,fo,Eo,yo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ho=function(){return(ho=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vo=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},bo=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},go=w()(po||(po=yo(["\n  query GetOnlineOrderBranchConfig {\n    onlineOrdersBranchConfig {\n      canBeEnabled\n      enabled\n      agreementAcceptedAt\n      agreementAcceptedBy {\n        firstName\n        lastName\n      }\n      deliveryOptions {\n        deliveryMethod\n        active\n        deliveryGrossPrice\n        unavailabilityReason\n      }\n    }\n  }\n"],["\n  query GetOnlineOrderBranchConfig {\n    onlineOrdersBranchConfig {\n      canBeEnabled\n      enabled\n      agreementAcceptedAt\n      agreementAcceptedBy {\n        firstName\n        lastName\n      }\n      deliveryOptions {\n        deliveryMethod\n        active\n        deliveryGrossPrice\n        unavailabilityReason\n      }\n    }\n  }\n"]))),So={viewType:eo.SPINNER,activationModalOpen:!1},_o=function(e,t){switch(t.type){case to.SET_FETCHED_ONLINE_ORDER_CONFIG:return ho(ho({},e),{onlineSalesConfig:t.payload,viewType:t.payload.enabled?eo.PREVIEW:eo.TEASER});case to.SET_FETCHING_FINISHED_WITH_ERRORS:return ho(ho({},e),{viewType:eo.ERROR});case to.EDIT_CONFIG:return ho(ho({},e),{viewType:eo.FORM});case to.FINISH_EDITING_CONFIG:return ho(ho({},e),{viewType:e.onlineSalesConfig&&e.onlineSalesConfig.enabled?eo.PREVIEW:eo.TEASER});case to.SET_ACTIVATION_MODAL_OPEN:return ho(ho({},e),{activationModalOpen:t.payload});default:return e}},To=Object(i.createContext)(ho(ho({dispatch:function(){}},So),{productsPath:"",agreementPath:"",canBeEnabled:!1,isBranchPL:!0,locale:""})),No=function(){var e=Object(i.useContext)(To),t=e.activationModalOpen,n=e.dispatch,a=e.productsPath,r=e.isBranchPL,o=e.locale;return i.createElement("div",null,i.createElement(d.p,{type:d.r.simple,backdropClose:!0,isFooterVisible:!0,isOpened:t,onClose:function(){return n({type:to.SET_ACTIVATION_MODAL_OPEN,payload:!1})},onCloseText:u.a.t("settings.customerPanel.onlineSales.activationModal.close"),onSecondaryText:u.a.t("settings.customerPanel.onlineSales.activationModal.configureProducts"),onSecondaryAction:function(){return window.location.href=a}},i.createElement("div",{className:"text-center"},i.createElement("div",{className:"mt-s"},i.createElement("img",{style:{width:85},src:window.getAssetHost("images/common/check.png"),alt:u.a.t("settings.customerPanel.onlineSales.activationModal.title")})),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("h2",null,u.a.t("settings.customerPanel.onlineSales.activationModal.title")))),i.createElement("div",{className:"v2-row mt-s mb-s jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",{dangerouslySetInnerHTML:{__html:Ar("activationModal.info","settings.customerPanel.onlineSales",r)}}))),r&&i.createElement("div",{className:"v2-row mt-s mb-s jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.onlineSales.activationModal.additionalInfo")}}))),i.createElement("div",{className:"mt-s"},i.createElement("img",{style:{width:500},src:window.getAssetHost("images/customer_panel/online-sales-activation-"+("pl"===o||"de"===o||"es"===o||"pt"===o||"pt-BR"===o?o:"en")+".png"),alt:u.a.t("settings.customerPanel.onlineSales.activationModal.title")})))))},Oo=function(){var e=Object(i.useContext)(To),t=e.dispatch,n=e.canBeEnabled,a=e.isBranchPL,r="button ml-auto button-blue e2e-activate-online-sales-button",o=u.a.t("settings.customerPanel.onlineSales.teaser.activateButton");return i.createElement(i.Fragment,null,n&&!window.VersumConfig.current_branch_readonly?i.createElement(lr.a,{className:r+" button-blue",onClick:function(){t({type:to.EDIT_CONFIG})},text:o}):i.createElement(Ct.a,{align:Ct.b.Left,trigger:i.createElement(lr.a,{className:r+" button-disabled",text:o,disabled:!0}),content:Ar("teaser.activateButtonTooltip","settings.customerPanel.onlineSales",a),type:Ct.d.Dark}))},Co=function(){var e=Object(i.useContext)(To),t=e.canBeEnabled,n=e.isBranchPL;return i.createElement("div",{className:"v2-blank e2e-online-sales-teaser"},i.createElement("div",{className:nt("v2-blank-actions",{disabled:!t})},i.createElement(Oo,null)),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement("img",{style:{width:136},src:window.getAssetHost("images/customer_panel/online-sales-teaser.png"),alt:Ar("teaser.title","settings.customerPanel.onlineSales",n)})),i.createElement("h2",{className:"v2-blank-title-normal",dangerouslySetInnerHTML:{__html:Ar("teaser.title","settings.customerPanel.onlineSales",n)}}),i.createElement("div",{className:"text-center"},i.createElement("p",{dangerouslySetInnerHTML:{__html:Ar("teaser.info","settings.customerPanel.onlineSales",n)}}),n&&i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.onlineSales.teaser.additionalInfo")}}))))},wo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ao=function(){return(Ao=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ro=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Io=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Po=w()(fo||(fo=wo(["\n  mutation updateOnlineOrderBranchConfig($config: OnlineOrdersBranchConfigUpdateInput!) {\n    updateOnlineOrderBranchConfig(config: $config) {\n      config {\n        canBeEnabled\n        enabled\n        agreementAcceptedAt\n        agreementAcceptedBy {\n          firstName\n          lastName\n        }\n        deliveryOptions {\n          deliveryMethod\n          active\n          deliveryGrossPrice\n          unavailabilityReason\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation updateOnlineOrderBranchConfig($config: OnlineOrdersBranchConfigUpdateInput!) {\n    updateOnlineOrderBranchConfig(config: $config) {\n      config {\n        canBeEnabled\n        enabled\n        agreementAcceptedAt\n        agreementAcceptedBy {\n          firstName\n          lastName\n        }\n        deliveryOptions {\n          deliveryMethod\n          active\n          deliveryGrossPrice\n          unavailabilityReason\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),Do=function(e){return{enabled:!0,deliveryOptions:e&&e.deliveryOptions||[],acceptAgreement:e&&!!e.agreementAcceptedAt||!1}},ko=function(e,t){return""+u.a.t("settings.customerPanel.onlineSales.acceptedWithLink",{acceptDate:(t&&e.formatDateTime(new Date(t.agreementAcceptedAt)))+" "||!1})+u.a.t("settings.customerPanel.onlineSales.by",{userName:t&&t.agreementAcceptedBy&&t.agreementAcceptedBy.firstName+" "+t.agreementAcceptedBy.lastName||u.a.t("settings.customerPanel.onlineSales.deletedUser")})},Mo=function(e,t,n,a,r){return Ro(void 0,void 0,void 0,(function(){var o;return Io(this,(function(i){switch(i.label){case 0:return[4,A.a.mutate({options:{mutation:Po,variables:{config:{enabled:e.enabled,deliveryOptions:e.deliveryOptions.map((function(e){return{deliveryMethod:e.deliveryMethod,active:e.active,deliveryGrossPrice:e.deliveryGrossPrice&&e.deliveryGrossPrice.toString()}})),acceptAgreement:e.acceptAgreement}}},result:function(e){return e&&e.updateOnlineOrderBranchConfig&&e.updateOnlineOrderBranchConfig.config||null},mutationErrors:function(e){return e&&e.updateOnlineOrderBranchConfig&&e.updateOnlineOrderBranchConfig.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return o=i.sent(),t.setSubmitting(!1),o&&(n({type:to.SET_FETCHED_ONLINE_ORDER_CONFIG,payload:o}),r&&r.enabled&&!o.enabled?x.a.success(Ar("deactivated","settings.customerPanel.onlineSales",a),{modal:!0}):r&&!r.enabled&&o.enabled?n({type:to.SET_ACTIVATION_MODAL_OPEN,payload:!0}):r&&r.enabled&&x.a.success(u.a.t("common.settingsSaved"),{modal:!0})),[2]}}))}))},xo=n(51),Lo=function(){return(Lo=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fo=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Bo=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(xo.a).currencyUtils,r=Object(i.useContext)(En.a).netGrossTranslationUtils,o=n.values.deliveryOptions,s=n.touched[t.name]&&n.errors[t.name];return i.createElement("div",{className:"v2-col delivery-options-input"},n.values.deliveryOptions.map((function(e,c){return i.createElement("div",{className:nt("v2-row mt-m",{"mb-m":c!==o.length-1}),key:c},i.createElement("div",{className:"v2-col-3 col-md-6 d-flex ai-center"},i.createElement(_n.a,Lo({},t,{label:u.a.t("settings.customerPanel.onlineSales.deliveryOptions."+e.deliveryMethod),checked:e.active,onChange:function(){return n.setValues(Lo(Lo({},n.values),{deliveryOptions:Fo(Fo(Fo([],o.slice(0,c),!0),[Lo(Lo({},e),{active:!e.active})],!1),o.slice(c+1,o.length),!0)}))},disabled:!!e.unavailabilityReason||n.isSubmitting||!n.values.enabled,inputClassName:nt("v2-form-check",{invalid:s})}))),i.createElement("div",{className:"v2-col-7 col-md-10"},i.createElement("div",{className:"d-flex ai-center"},i.createElement("div",null,i.createElement(_n.f,Lo({type:"number"},t,{value:parseFloat(e.deliveryGrossPrice),className:nt("v2-form-controls","e2e-delivery-option-price-text-input"),onChange:function(t){var a=parseFloat(t.target.value);n.setValues(Lo(Lo({},n.values),{deliveryOptions:Fo(Fo(Fo([],o.slice(0,c),!0),[Lo(Lo({},e),{deliveryGrossPrice:a})],!1),o.slice(c+1,o.length),!0)}))},errorMessage:n.touched[t.name]&&n.errors[e.deliveryMethod],disabled:!!e.unavailabilityReason||n.isSubmitting||!n.values.enabled,size:20}))),i.createElement("span",{className:"ml-m"},a.symbol()+" "+r.t(En.c.GROSS)),e.unavailabilityReason&&i.createElement(Ct.a,{className:"d-block ml-xs e2e-unavailability-reason-tooltip",trigger:i.createElement(Ct.c,null),content:u.a.t("settings.customerPanel.onlineSales.unavailabilityReason."+e.unavailabilityReason),type:Ct.d.Dark}))))})),s&&i.createElement("div",null,i.createElement("div",{className:"v2-form-control-unit invalid"}),i.createElement("div",{className:"ml-xs v2-form-control-hint"},n.errors[t.name])))},jo=function(){return(jo=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Go=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(To),r=a.onlineSalesConfig,o=a.isBranchPL,s=Object(i.useContext)(O.a).dateUtils,c=r&&!!r.agreementAcceptedAt||!1,l=n.touched[t.name]&&n.errors[t.name];return i.createElement(_n.a,jo({},t,{label:c?i.createElement("span",{dangerouslySetInnerHTML:{__html:ko(s,r)}}):i.createElement("span",null,i.createElement("span",{className:nt("v2-form-control-unit",{invalid:l}),dangerouslySetInnerHTML:{__html:Ar("acceptAgreementWithLink","settings.customerPanel.onlineSales",o)}}),l&&i.createElement("div",{className:"ml-xs v2-form-control-hint"},n.errors[t.name])),checked:!!t.value,onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])},disabled:n.isSubmitting||!n.values.enabled||c,inputClassName:nt("v2-form-check",{invalid:l})}))},Vo=function(e){var t=Object(i.useContext)(To),n=t.dispatch,a=t.isBranchPL,r=t.agreementPath;return i.createElement(rn.b,{className:"v2-form v2-form-counted online-sales-form"},a&&i.createElement("div",{className:"vrsm-d-flex vrsm-items-center vrsm-mb-4"},i.createElement(Vr.a,{className:"vrsm-mr-2",name:Vr.b.momentIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.moment"))),i.createElement(_n.d,{className:"v2-form",label:Ar("status","settings.customerPanel.onlineSales",a)+":"},i.createElement(rn.a,{name:"enabled",component:Dr,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("settings.customerPanel.onlineSales.deliveryOption")+":"},i.createElement(rn.a,{name:"deliveryOptions",component:Bo,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("settings.customerPanel.onlineSales.agreement")+":"},a?i.createElement(rn.a,{name:"acceptAgreement",component:Go}):i.createElement("div",{className:"v2-col pl-0"},i.createElement("div",{className:"v2-row mb-m"},i.createElement("a",{className:"button button-link mt-xs",href:r,target:"_blank"},u.a.t("settings.customerPanel.onlineSales.nonPl.showAgreement"))),i.createElement("div",{className:"v2-row pl-s"},i.createElement("div",{className:"infobox infobox-rounded-blue d-flex ai-center"},i.createElement("div",{className:"pl-s"},u.a.t("settings.customerPanel.onlineSales.nonPl.agreementNotice")))))),i.createElement(Pr.a,{isGroupConnected:!1},i.createElement(lr.a,{variant:"blue",type:"submit",text:e.isSubmitting?u.a.t("common.processing"):u.a.t("common.save"),className:nt("e2e-save-settings",{"button-disabled":e.isSubmitting}),disabled:e.isSubmitting}),i.createElement(lr.a,{text:u.a.t("common.cancel"),disabled:e.isSubmitting,className:"e2e-cancel-edit",onClick:function(){n({type:to.FINISH_EDITING_CONFIG})}})))},Uo=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ho=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zo=function(){var e=Object(i.useContext)(To),t=e.onlineSalesConfig,n=e.dispatch,a=e.isBranchPL;return i.createElement("div",null,i.createElement(l.A,{htmlTag:"h2",className:"vrsm-mt-0 vrsm-mb-5"},u.a.t("settings.customerPanel.onlineSales.title")),i.createElement(l.w,null,i.createElement(l.l,{size:{md:8}},i.createElement("div",{className:"settings-box"},a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"vrsm-d-flex vrsm-items-center"},i.createElement(Vr.a,{className:"vrsm-mr-2",name:Vr.b.booksyIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.booksy"))),i.createElement(l.A,{className:"vrsm-mt-4",htmlTag:"div"},u.a.t("common.workInProgress")),i.createElement("div",{className:"vrsm-hr"})),i.createElement(rn.c,{onSubmit:function(e,r){return Uo(void 0,void 0,void 0,(function(){return Ho(this,(function(o){switch(o.label){case 0:return[4,Mo(e,r,n,a,t)];case 1:return o.sent(),[2]}}))}))},initialValues:Do(t),component:Vo,validate:function(e){return function(e,t){return Ao(Ao(Ao({},t&&!e.acceptAgreement&&e.enabled&&{acceptAgreement:u.a.t("validation.acceptRegulations")}),e.enabled&&!e.deliveryOptions.filter((function(e){return e.active})).length&&{deliveryOptions:u.a.t("settings.customerPanel.onlineSales.deliveryOptionRequired")}),e.deliveryOptions.reduce((function(t,n){var a,r;return Ao(Ao(Ao({},t),e.enabled&&n.deliveryGrossPrice&&n.deliveryGrossPrice<0&&((a={})[n.deliveryMethod]=u.a.t("validation.negative"),a)),e.enabled&&!n.deliveryGrossPrice&&0!==n.deliveryGrossPrice&&n.active&&((r={})[n.deliveryMethod]=u.a.t("validation.required"),r))}),{}))}(e,a)}})))))},Yo=function(){var e=Object(i.useContext)(To),t=e.dispatch,n=e.onlineSalesConfig,a=e.isBranchPL,r=e.agreementPath,o=Object(i.useContext)(xo.a).currencyUtils,s=Object(i.useContext)(O.a).dateUtils,c=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement("div",null,i.createElement("div",{className:"d-flex ai-center mb-l"},i.createElement(l.A,{htmlTag:"h2",className:"m-0"},u.a.t("settings.customerPanel.onlineSales.title")),i.createElement(lr.a,{className:"ml-auto e2e-online-sales-edit-button",text:u.a.t("common.edit"),onClick:function(){return t({type:to.EDIT_CONFIG})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement(l.w,null,i.createElement(l.l,{size:{md:8}},i.createElement("div",{className:"settings-box"},a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center"},i.createElement(d.w,{className:"vrsm-mr-2",name:d.x.booksyIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.booksy"))),i.createElement(l.A,{className:"vrsm-mt-4",htmlTag:"div"},u.a.t("common.workInProgress")),i.createElement("div",{className:"vrsm-hr"}),i.createElement("div",{className:"d-flex ai-center vrsm-mb-4"},i.createElement(d.w,{className:"vrsm-mr-2",name:d.x.momentIcon,width:32,height:32}),i.createElement(l.A,{className:"vrsm-m-0",htmlTag:"h3"},u.a.t("common.moment")))),i.createElement("div",{className:"v2-row vrsm-mb-2 ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},Ar("status","settings.customerPanel.onlineSales",a)),i.createElement("div",{className:"v2-col"},i.createElement(d.a,{text:u.a.t("common.activationStatus.active"),variant:"APPROVED",pill:!0,icon:!0}))),i.createElement("div",{className:"v2-row mt-m mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.customerPanel.onlineSales.deliveryOption")),i.createElement("div",{className:"v2-col strong d-flex ai-center"},i.createElement("div",{className:"e2e-delivery-option-preview v2-col"},n?i.createElement(i.Fragment,null,n.deliveryOptions.filter((function(e){return e.active})).map((function(e,t){return i.createElement("div",{className:"v2-row mb-m",key:t},i.createElement("div",{className:"v2-col-4 pl-xs"},u.a.t("settings.customerPanel.onlineSales.deliveryOptions."+e.deliveryMethod)),i.createElement("div",{className:"v2-col"},o.formatCurrency(parseFloat(e.deliveryGrossPrice)||0)+" "+c.t(En.c.GROSS)))}))):i.createElement(i.Fragment,null)))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.customerPanel.onlineSales.agreement")),a?i.createElement("div",{className:"v2-col ml-xs",dangerouslySetInnerHTML:{__html:ko(s,n)}}):i.createElement("div",{className:"v2-col ml-xs"},i.createElement("div",{className:"v2-row mb-m"},i.createElement("a",{className:"button button-link p-0 pl-xs pr-xs ml-s",href:r,target:"_blank"},u.a.t("settings.customerPanel.onlineSales.nonPl.showAgreement"))),i.createElement("div",{className:"v2-row pl-s"},i.createElement("div",{className:"ml-xs infobox infobox-rounded-blue d-flex ai-center"},i.createElement("div",{className:"pl-s"},u.a.t("settings.customerPanel.onlineSales.nonPl.agreementNotice"))))))))))},qo=function(){return(qo=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.SET_HISTORY="SET_HISTORY",e.SET_FILTERS="SET_FILTERS",e.SET_ERRORS="SET_ERRORS",e.SET_LOADING="SET_LOADING"}(Eo||(Eo={}));var Wo,Ko=n(27),$o=n(591),Zo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Xo=function(){return(Xo=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Jo=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Qo=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ei=w()(Wo||(Wo=Zo(["\n  query GetOnlinePaymentBalanceHistory($count: Int, $cursor: String, $filter: OnlinePaymentBalanceHistoryFilter, $page: Int) {\n    onlinePaymentBalanceHistory(count: $count, cursor: $cursor, filter: $filter, page: $page) {\n      all\n      cursor\n      hasNext\n      items {\n        id\n        amount\n        balance\n        currency\n        date\n        purpose\n        transaction {\n          id\n          type\n          amount\n          finishDate\n          subjectId\n          customer {\n            firstName\n            lastName\n            email\n            id\n          }\n          events {\n            id\n            startedAt\n          }\n          sale {\n            id\n            employee {\n              firstName\n              lastName\n              id\n            }\n            productItems{\n              grossPrice\n              netPrice\n              product{\n                fullName\n                vat\n                id\n              }\n              quantity\n              quantityInPacks\n              unit\n            }\n            giftCards {\n              price\n              vatValue\n              name\n              purpose\n              value\n            }\n            packages {\n              price\n              name\n              number\n            }\n          }\n        }\n        payout {\n          id\n          employee {\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetOnlinePaymentBalanceHistory($count: Int, $cursor: String, $filter: OnlinePaymentBalanceHistoryFilter, $page: Int) {\n    onlinePaymentBalanceHistory(count: $count, cursor: $cursor, filter: $filter, page: $page) {\n      all\n      cursor\n      hasNext\n      items {\n        id\n        amount\n        balance\n        currency\n        date\n        purpose\n        transaction {\n          id\n          type\n          amount\n          finishDate\n          subjectId\n          customer {\n            firstName\n            lastName\n            email\n            id\n          }\n          events {\n            id\n            startedAt\n          }\n          sale {\n            id\n            employee {\n              firstName\n              lastName\n              id\n            }\n            productItems{\n              grossPrice\n              netPrice\n              product{\n                fullName\n                vat\n                id\n              }\n              quantity\n              quantityInPacks\n              unit\n            }\n            giftCards {\n              price\n              vatValue\n              name\n              purpose\n              value\n            }\n            packages {\n              price\n              name\n              number\n            }\n          }\n        }\n        payout {\n          id\n          employee {\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n"]))),ti={accountHistory:{all:0,cursor:"",hasNext:!1,items:[]},filters:{page:Bn.b.getCachedPage(Bn.a.ONLINE_PAYMENTS_TABLE,1),count:Bn.b.getCachedPageSize(Bn.a.ONLINE_PAYMENTS_TABLE,20)},errors:[],isLoading:!0},ni=function(e,t){switch(t.type){case Eo.SET_HISTORY:return Xo(Xo({},e),{accountHistory:t.payload});case Eo.SET_FILTERS:return Xo(Xo({},e),{filters:t.payload});case Eo.SET_ERRORS:return Xo(Xo({},e),{errors:t.payload});case Eo.SET_LOADING:return Xo(Xo({},e),{isLoading:t.payload});default:return e}},ai=function(e){return u.a.t("settings.onlinePaymentBalanceHistoryTableHeader."+e)},ri=function(e){return Object($o.a)(u.a.t("settings.onlinePaymentBalancePurpose."+(e||"").toLowerCase()))},oi=n(142),ii=n(37),si=[{type:"PACK",abbr:"op."},{type:"GRAM",abbr:"gr"},{type:"OUNCE",abbr:"oz"},{type:"MILILITER",abbr:"ml"},{type:"ITEM",abbr:"szt."},{type:"AMPOULE",abbr:"amp."},{type:"SERVICE_UNIT",abbr:"im."},{type:"SINGLE_UNIT",abbr:"jd."}];function ci(e){var t=si.find((function(t){return t.type===e}));return t?t.abbr:""}var li,ui,di=function(e){return e?e.firstName||e.lastName?(e.firstName||"")+" "+(e.lastName||""):e.email?e.email:u.a.t("common.accountDeleted"):u.a.t("common.accountDeleted")},mi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pi=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},fi=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ei=function(e){return/\*\*/.test(e)},yi=function(e){return pi(void 0,void 0,void 0,(function(){return fi(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:w()(li||(li=mi(["query GetCustomerSecuredData($id: Int!) {\n          customerSecuredData(id: $id) {\n            limitExceeded\n            customer {\n              email\n              phones {\n                countryCode\n                countryPrefix\n                number\n              }\n            }\n          },\n        }"],["query GetCustomerSecuredData($id: Int!) {\n          customerSecuredData(id: $id) {\n            limitExceeded\n            customer {\n              email\n              phones {\n                countryCode\n                countryPrefix\n                number\n              }\n            }\n          },\n        }"]))),variables:{id:e}},result:function(e){return e||null}})];case 1:return[2,t.sent()]}}))}))},hi=n(805),vi=n(794),bi=n(57),gi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Si=function(){return(Si=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_i=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ti=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ni=function(e){return u.a.t("payments.paymentMethod."+e)};function Oi(e){return e&&-1!==e.indexOf("online")||!1}!function(e){e.EVENT_PREPAYMENT="eventPrepayment",e.ONLINE_ORDER="onlineOrder"}(ui||(ui={}));var Ci,wi,Ai;!function(e){e.now="now",e.later="later"}(wi||(wi={})),function(e){e.blik="online_blik",e.link="online_link"}(Ai||(Ai={}));var Ri,Ii=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pi=function(){return(Pi=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Di=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ki=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Mi=w()(Ki||(Ki=Ii(["\n  mutation CreateCustomerBlikPayment($payment: CustomerBlikPaymentInput!, $helperPayments: [HelperPaymentInput!]) {\n    createCustomerBlikPayment(payment: $payment, helperPayments: $helperPayments ) {\n      errors {\n        argument\n        code\n      }\n      transaction {\n        id\n        type\n        status\n        amount\n      }\n    }\n  }\n"],["\n  mutation CreateCustomerBlikPayment($payment: CustomerBlikPaymentInput!, $helperPayments: [HelperPaymentInput!]) {\n    createCustomerBlikPayment(payment: $payment, helperPayments: $helperPayments ) {\n      errors {\n        argument\n        code\n      }\n      transaction {\n        id\n        type\n        status\n        amount\n      }\n    }\n  }\n"]))),xi=w()($i||($i=Ii(["\n  query GetPaymentStatus($id: ID!) {\n    customerPaymentTransaction(id: $id) {\n      status\n      type\n      id\n      amount\n    }\n  }\n"],["\n  query GetPaymentStatus($id: ID!) {\n    customerPaymentTransaction(id: $id) {\n      status\n      type\n      id\n      amount\n    }\n  }\n"]))),Li=w()(Zi||(Zi=Ii(["\n  mutation createOnlinePaymentRequest($request: OnlinePaymentRequestInput!) {\n    createOnlinePaymentRequest(request: $request) {\n      errors {\n        argument\n        code\n      }\n      request {\n        amount\n        amountExpected\n        amountPaid\n        currency\n        date\n      }\n    }\n  }\n"],["\n  mutation createOnlinePaymentRequest($request: OnlinePaymentRequestInput!) {\n    createOnlinePaymentRequest(request: $request) {\n      errors {\n        argument\n        code\n      }\n      request {\n        amount\n        amountExpected\n        amountPaid\n        currency\n        date\n      }\n    }\n  }\n"]))),Fi=w()(Xi||(Xi=Ii(["\n  mutation SetCustomerCommunicationChannels($id: Int!, $customer: CustomerInput!) {\n    updateCustomer(id: $id, customer: $customer) {\n      customer {\n        firstName\n        lastName\n        email\n        phones {\n          countryCode\n          countryPrefix\n          number\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation SetCustomerCommunicationChannels($id: Int!, $customer: CustomerInput!) {\n    updateCustomer(id: $id, customer: $customer) {\n      customer {\n        firstName\n        lastName\n        email\n        phones {\n          countryCode\n          countryPrefix\n          number\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),Bi=w()(Ji||(Ji=Ii(["\n  query GetGiftCoupon($number: String!) {\n    giftCoupon(number: $number) {\n      leftValue\n      expired\n      locked\n      returned\n    }\n  }\n"],["\n  query GetGiftCoupon($number: String!) {\n    giftCoupon(number: $number) {\n      leftValue\n      expired\n      locked\n      returned\n    }\n  }\n"]))),ji=function(e){return u.a.t("settings.prepayments.validation."+e.argument+"."+e.code)},Gi={isModalVisible:!0,isBlikInfoVisible:!1,isCloseConfirmVisible:!1,isCloseConfirmed:!1,errors:[],loading:!1,transaction:null,code:null,momentOfPayment:null,customer:{},customerSecuredData:{},isCustomerEdited:!1,isCustomerCommunicationPossible:!1,linkWasSent:!1,customerFormData:{},isLimitExceeded:!1,communicationDeliveryOption:b.l.EMAIL},Vi=function(e){return e.paymentMethod?Pi(Pi({},Gi),{momentOfPayment:e.paymentMethod===Ai.blik?wi.now:wi.later}):Gi},Ui=Object(i.createContext)(Pi(Pi({},Gi),{amount:0,customerId:0,dispatch:function(){},subjectId:"",subjectType:b.F.EVENT_PREPAYMENT,transactionInProgress:!1,transactionSuccessfullyPaid:!1}));!function(e){e.CLEAR_STATE="CLEAR_STATE",e.SET_MODAL_VISIBLE="SET_MODAL_VISIBLE",e.SET_BLIK_INFO_MODAL_VISIBLE="SET_BLIK_INFO_MODAL_VISIBLE",e.SET_CLOSE_CONFIRM_VISIBLE="SET_CLOSE_CONFIRM_VISIBLE",e.SET_CLOSE_CONFIRMED="SET_CLOSE_CONFIRMED",e.SET_CODE="SET_CODE",e.SET_LOADING="SET_LOADING",e.SET_TRANSACTION="SET_TRANSACTION",e.SET_ERRORS="SET_ERRORS",e.SET_MOMENT_OF_PAYMENT="SET_MOMENT_OF_PAYMENT",e.SET_CUSTOMER=" SET_CUSTOMER",e.SET_CUSTOMER_FORM_DATA="SET_CUSTOMER_FORM_DATA",e.SET_IS_CUSTOMER_EDITED="SET_IS_CUSTOMER_EDITED",e.SET_IS_CUSTOMER_COMMUNICATION_POSSIBLE="SET_IS_CUSTOMER_COMMUNICATION_POSSIBLE",e.SET_LINK_SENT="SET_LINK_SENT",e.SET_IS_LIMIT_EXCEEDED="SET_IS_LIMIT_EXCEEDED",e.SET_COMMUNICATION_DELIVERY_OPTION="SET_COMMUNICATION_DELIVERY_OPTION"}(Ri||(Ri={}));var Hi=function(e,t){switch(t.type){case Ri.CLEAR_STATE:var n=Vi(t.payload),a=n.code,r=n.transaction,o=n.errors,i=n.momentOfPayment,s=n.isCustomerEdited;return Pi(Pi({},e),{code:a,transaction:r,errors:o,momentOfPayment:i,isCustomerEdited:s});case Ri.SET_MODAL_VISIBLE:return Pi(Pi({},e),{isModalVisible:t.payload});case Ri.SET_BLIK_INFO_MODAL_VISIBLE:return Pi(Pi({},e),{isBlikInfoVisible:t.payload});case Ri.SET_CLOSE_CONFIRM_VISIBLE:return Pi(Pi({},e),{isCloseConfirmVisible:t.payload});case Ri.SET_CLOSE_CONFIRMED:return Pi(Pi({},e),{isCloseConfirmed:t.payload,isCloseConfirmVisible:!1});case Ri.SET_CODE:return Pi(Pi({},e),{code:t.payload});case Ri.SET_LOADING:return Pi(Pi({},e),{loading:t.payload});case Ri.SET_TRANSACTION:return Pi(Pi({},e),{transaction:t.payload});case Ri.SET_MOMENT_OF_PAYMENT:return Pi(Pi({},e),{momentOfPayment:t.payload});case Ri.SET_CUSTOMER:return Pi(Pi({},e),{customer:t.payload});case Ri.SET_IS_LIMIT_EXCEEDED:return Pi(Pi({},e),{isLimitExceeded:t.payload});case Ri.SET_CUSTOMER_FORM_DATA:return Pi(Pi({},e),{customerFormData:t.payload});case Ri.SET_IS_CUSTOMER_EDITED:return Pi(Pi({},e),{isCustomerEdited:t.payload});case Ri.SET_COMMUNICATION_DELIVERY_OPTION:return Pi(Pi({},e),{communicationDeliveryOption:t.payload});case Ri.SET_IS_CUSTOMER_COMMUNICATION_POSSIBLE:return Pi(Pi({},e),{isCustomerCommunicationPossible:t.payload});case Ri.SET_ERRORS:return Pi(Pi({},e),{errors:t.payload});case Ri.SET_LINK_SENT:return Pi(Pi({},e),{linkWasSent:!0});default:return Gi}},zi=function(e,t,n){return Di(void 0,void 0,void 0,(function(){return ki(this,(function(a){return[2,A.a.query({options:{query:xi,fetchPolicy:"network-only",variables:e},result:function(e){return e.customerPaymentTransaction||null},errorHandler:{onGraphQLErrors:function(e){n({type:Ri.SET_TRANSACTION,payload:null}),n({type:Ri.SET_ERRORS,payload:e.map((function(e){return u.a.t("payments.status."+e.message)}))}),clearInterval(t)}}})]}))}))},Yi=function(){return Math.random().toString().replace(".","")},qi=function(e,t,n){return Di(void 0,void 0,void 0,(function(){return ki(this,(function(a){switch(a.label){case 0:return[4,A.a.mutate({options:{mutation:Li,variables:e},result:function(e){return e.createOnlinePaymentRequest&&e.createOnlinePaymentRequest.request||null},mutationErrors:function(e){return e&&e.createOnlinePaymentRequest&&e.createOnlinePaymentRequest.errors||[]},errorHandler:{onMutationErrors:function(e){t({type:Ri.SET_ERRORS,payload:e.map((function(e){return ji(e)}))})},onGraphQLErrors:function(e){t({type:Ri.SET_ERRORS,payload:e.map((function(e){return e.message}))})}}})];case 1:return a.sent()&&(t({type:Ri.SET_LINK_SENT,payload:null}),n&&n()),[2]}}))}))},Wi=function(e){return function(t){var n=t.target.value.replace(/[_ ]/g,"");e({type:Ri.SET_CODE,payload:n})}};Object(vi.a)(window,"reactLegacyBridge.prepayments.refundPayment",(function(e){return Di(void 0,void 0,void 0,(function(){var t,n,a,r;return ki(this,(function(o){switch(o.label){case 0:return(r={})[ui.EVENT_PREPAYMENT]={mutation:"chargeBackEventPrepayment",argument:"EventPrepaymentChargeBackInput!"},r[ui.ONLINE_ORDER]={mutation:"chargeBackOnlineOrder",argument:"OnlineOrderChargeBackInput!"},t=r,n={chargeBack:{id:e.chargeBack.id,chargeBackMethod:e.chargeBack.chargeBackMethod.replace("_blik","").replace("_link","").replace("_online_booking","")}},[4,A.a.mutate({options:{mutation:w()(es||(es=Ii(["\n          mutation RefundPayment($chargeBack: ",") {\n            ","(chargeBack: $chargeBack) {\n            errors {\n              argument\n              code\n            }\n          }\n          }\n        "],["\n          mutation RefundPayment($chargeBack: ",") {\n            ","(chargeBack: $chargeBack) {\n            errors {\n              argument\n              code\n            }\n          }\n          }\n        "])),t[e.refundSubject].argument,t[e.refundSubject].mutation),variables:n},result:function(e){return e||null},mutationErrors:function(n){return n&&n[t[e.refundSubject].mutation]&&n[t[e.refundSubject].mutation].errors||[]},mutationErrorMessage:{message:function(e){return u.a.t("payments.refund.error."+e.code)}},successMessage:A.a.HideMutationResultMessage})];case 1:return o.sent()?(a=function(t){e.refundSubject===ui.EVENT_PREPAYMENT&&x.a.success(u.a.t("settings.prepayments.prepaymentRefundedBy."+t),{life:5e3,modal:!0})},Oi(e.chargeBack.chargeBackMethod||"")&&-1!==["blik","transfer","card"].indexOf(e.prepaymentPaidOnlineVia||"")?(a(e.prepaymentPaidOnlineVia||"other"),[2,!0]):(a("other"),[2,!0])):[2,!1]}}))}))}));Object(vi.a)(window,"reactLegacyBridge.prepayments.getCustomerOverpayment",(function(e){return Di(void 0,void 0,void 0,(function(){return ki(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:w()(ts||(ts=Ii(["\n          query GetCustomerOverpayment($id: Int!) {\n            customer(id: $id) {\n              paymentsAccount {\n                overpaymentBalance\n              }\n            }\n          }\n        "],["\n          query GetCustomerOverpayment($id: Int!) {\n            customer(id: $id) {\n              paymentsAccount {\n                overpaymentBalance\n              }\n            }\n          }\n        "]))),variables:{id:e}},result:function(e){return e&&e.customer.paymentsAccount.overpaymentBalance||null}})];case 1:return[2,t.sent()]}}))}))}));var Ki,$i,Zi,Xi,Ji,Qi,es,ts;Object(vi.a)(window,"reactLegacyBridge.giftCoupons.fetchGiftCoupon",(function(e){return Di(void 0,void 0,Promise,(function(){var t,n;return ki(this,(function(a){switch(a.label){case 0:return[4,A.a.query({options:{query:Bi,fetchPolicy:"network-only",variables:{number:e}},result:function(e){return e.giftCoupon||null}})];case 1:return t=a.sent(),n=function(e){return e.expired?"expired":0===parseFloat(e.leftValue)?"used":e.locked?"locked":e.returned?"returned":"active"},t?[2,{number:e,last_characters:e.slice(e.length-3,e.length),state:n(t),left_value:parseFloat(t.leftValue)}]:[2,null]}}))}))}));var ns,as=function(e){var t=e.firstName,n=e.lastName;return i.createElement(i.Fragment,null,u.a.t("settings.customerTransactions.details.employee"),": ",t," ",n)},rs=function(e){var t=e.row,n=t.transaction,a=t.payout,r=Object(Mr.a)(t,"transaction.events[0]",null),o=Object(Mr.a)(t,"transaction.sale",null);return i.createElement("span",{className:"transaction-details-column"},t.purpose&&t.purpose===b.A.ONLINE_PAYMENTS_PAYOUT&&i.createElement("span",null,u.a.t("payments.transferOfFunds"))||t.purpose&&i.createElement("span",null,ri(t.purpose)),t.purpose===b.A.ONLINE_PAYMENTS_PAYOUT&&i.createElement("span",{className:"text-muted-dark"},u.a.t("payments."+(a&&a.employee?"transferOnDemand":"periodicTransfer"))),r&&n&&i.createElement("span",{className:"text-muted-dark"},r.startedAt&&Object(ii.e)(r.startedAt,ii.d),di(n.customer)),o&&i.createElement("span",{className:"text-muted-dark"},o.employee&&i.createElement(as,{firstName:o.employee.firstName,lastName:o.employee.lastName})),t.bankAccount&&i.createElement("span",{className:"text-muted-dark"},t.bankAccount))},os=function(e){var t=e.row;return i.createElement("span",{className:"transaction-type"},t.purpose===b.A.ONLINE_PAYMENTS_PAYOUT&&i.createElement(i.Fragment,null,i.createElement(d.w,{className:"transaction-type__icon",name:d.x.balancePayout,size:40}),i.createElement("div",null,ri(t.purpose)))||t.amount>0&&i.createElement(i.Fragment,null,i.createElement(d.w,{className:"transaction-type__icon",name:d.x.balanceCredit,size:40}),i.createElement("div",null,Object($o.a)(u.a.t("settings.onlinePaymentBalanceType.credit"))))||t.amount<0&&i.createElement(i.Fragment,null,i.createElement(d.w,{className:"transaction-type__icon",name:d.x.balanceDebit,size:40}),i.createElement("div",null,Object($o.a)(u.a.t("settings.onlinePaymentBalanceType.debit"))))||i.createElement(i.Fragment,null))},is=function(e){var t=e.row,n=function(e){return Object(oi.b)(t)+"-event-box-"+e},a=Object(Mr.a)(window,"reactLegacyBridge.EventBox.renderEventBox",(function(){console.error("no render method")})),r=Object(Mr.a)(t,"transaction.events[0]",{});return a(r.id,"#"+n(r.id)),r.id?i.createElement("div",{key:n(r.id),id:n(r.id)},i.createElement(d.v,null)):i.createElement(i.Fragment,null,u.a.t("common.emptyResults"))},ss=function(e){var t=e.row,n=e.ordersPath;return i.createElement(i.Fragment,null,i.createElement("h4",{className:"mb-m"},u.a.t("settings.OnlinePaymentProductSaleDetails.title")),i.createElement(cs,{row:t}),i.createElement(ls,{row:t,ordersPath:n}))},cs=function(e){var t=e.row,n=Object(i.useContext)(En.a).netGrossTranslationUtils,a=1;return t.transaction&&t.transaction.sale?i.createElement("div",{className:"column_row data_table"},i.createElement("table",{className:"sold_products_info"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,u.a.t("settings.OnlinePaymentProductSaleDetails.table.lp")),i.createElement("th",null,u.a.t("settings.OnlinePaymentProductSaleDetails.table.name")),i.createElement("th",null,u.a.t("common.netGross.price",{netGross:n.t(En.c.NET)})),i.createElement("th",null,u.a.t("common.netGross.price",{netGross:n.t(En.c.GROSS)})),i.createElement("th",null,u.a.t("settings.OnlinePaymentProductSaleDetails.table.quantity")),i.createElement("th",null,u.a.t("settings.OnlinePaymentProductSaleDetails.table.vat")),i.createElement("th",null,u.a.t("common.netGross.value",{netGross:n.t(En.c.GROSS)})))),i.createElement("tbody",null,i.createElement((function(e){var n=e.items;return i.createElement(i.Fragment,null,n.map((function(e){return i.createElement("tr",{key:Yi()},i.createElement("td",null,a++),i.createElement("td",{className:"wrap"},i.createElement("a",{href:"/products/"+e.product.id},i.createElement("span",null," ",e.product.fullName," "))),i.createElement("td",null,Object(dn.b)(e.netPrice,t.currency)),i.createElement("td",null,Object(dn.b)(e.grossPrice,t.currency)),i.createElement("td",null,e.quantityInPacks+"op. ",e.unit&&"PACK"!==e.unit?" ("+e.quantity+" "+ci(e.unit)+")":null),i.createElement("td",null,e.product.vat+"%"),i.createElement("td",null,Object(dn.b)(e.quantityInPacks*e.grossPrice,t.currency)))})))}),{items:t.transaction.sale.productItems}),i.createElement((function(e){var n=e.items;return i.createElement(i.Fragment,null,n.map((function(e){return i.createElement("tr",{key:Yi()},i.createElement("td",null,a++),i.createElement("td",{className:"wrap"},i.createElement("span",null," ",e.name," - ",e.purpose)),i.createElement("td",null,e.vatValue?Object(dn.b)(e.price/(e.vatValue/100+1),t.currency):"-"),i.createElement("td",null,Object(dn.b)(e.price,t.currency)),i.createElement("td",null,"1"+ci(b.P.ITEM)),i.createElement("td",null,e.vatValue?e.vatValue+"%":"-"),i.createElement("td",null,Object(dn.b)(e.price,t.currency)))})))}),{items:t.transaction.sale.giftCards}),i.createElement((function(e){var n=e.items;return i.createElement(i.Fragment,null,n.map((function(e){return i.createElement("tr",{key:Yi()},i.createElement("td",null,a++),i.createElement("td",{className:"wrap"},i.createElement("span",null," ",e.name," ")),i.createElement("td",null,"-"),i.createElement("td",null,Object(dn.b)(e.price,t.currency)),i.createElement("td",null,"1"+ci(b.P.ITEM)),i.createElement("td",null,"-"),i.createElement("td",null,Object(dn.b)(e.price,t.currency)))})))}),{items:t.transaction.sale.packages}),i.createElement("tr",null,i.createElement("td",{className:"empty",colSpan:4}),i.createElement("td",{className:"right_text",colSpan:3},i.createElement("th",null,u.a.t("common.netGross.totalC",{netGross:n.t(En.c.GROSS)})),i.createElement("strong",{className:"bigger_2 left_space"},Object(dn.b)(t.transaction.amount,t.currency))))))):null},ls=function(e){var t=e.row,n=e.ordersPath;if(t.transaction&&t.transaction.sale){var a=t.transaction.sale,r=a.employee,o=a.id,s=t.transaction,c=s.customer,l=s.finishDate;return i.createElement("div",{className:"column_row"},i.createElement("table",{className:"info_table"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.kind")),i.createElement("td",{className:"value"},u.a.t("settings.onlinePaymentBalancePurpose.order_payment_online"))),i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.client")),i.createElement("td",{className:"value"},c&&c.firstName&&c.lastName?i.createElement("a",{href:"/customers/"+c.id},di(c)):u.a.t("common.notSpecified"))),i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.method")),t.transaction?i.createElement("td",{className:"value"},t.transaction.type+" "+Object(dn.b)(t.transaction.amount,t.currency)):u.a.t("common.notSpecified")),i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.employee")),i.createElement("td",{className:"value"},i.createElement("span",{className:"lbl"},r?i.createElement("a",{href:"employees/"+r.id},r.firstName+" "+r.lastName):u.a.t("common.notSpecified")))),c&&c.loyaltyPoints?i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.points")),i.createElement("td",{className:"value"},c.loyaltyPoints)):null,i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.sold")),i.createElement("td",{className:"value"}," ",Object(ii.e)(l)," ")),i.createElement("tr",null,i.createElement("td",{className:"key"},u.a.t("settings.OnlinePaymentProductSaleDetails.list.details")),i.createElement("td",{className:"value"},i.createElement("a",{href:n+"/"+o},u.a.t("settings.OnlinePaymentProductSaleDetails.list.show")))))))}return null};!function(e){e.SET_PAYOUT_DETAILS="SET_TRANSACTION",e.SET_ERRORS="SET_ERRORS"}(ns||(ns={}));var us,ds,ms,ps,fs,Es,ys,hs=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vs=function(){return(vs=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},bs=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},gs=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ss={loading:!1,payoutDetails:{},errors:[]},_s=function(e,t){switch(t.type){case ns.SET_PAYOUT_DETAILS:return vs(vs({},e),{payoutDetails:t.payload});case ns.SET_ERRORS:return vs(vs({},e),{errors:t.payload});default:return Ss}},Ts=function(e){return u.a.t("payments.payoutDetails."+e)},Ns=function(e){var t=e.id,n=e.balance,a=e.currency,r=Object(i.useReducer)(_s,Ss),o=r[0];!function(e,t){Object(i.useEffect)((function(){bs(void 0,void 0,void 0,(function(){var n;return gs(this,(function(a){switch(a.label){case 0:return[4,A.a.query({options:{query:w()(us||(us=hs(["\n            query OnlinePayoutDetails($id: ID!) {\n              onlinePaymentPayout(id: $id) {\n                id\n                amount\n                bankAccount {\n                  accountBankName\n                  accountNumber\n                  ownerName\n                  ownerAddress {\n                    city\n                    street\n                    zipCode\n                  }\n                }\n                cost\n                currency\n                date\n                employee {\n                  firstName\n                  lastName\n                }\n                status\n              }\n            }\n          "],["\n            query OnlinePayoutDetails($id: ID!) {\n              onlinePaymentPayout(id: $id) {\n                id\n                amount\n                bankAccount {\n                  accountBankName\n                  accountNumber\n                  ownerName\n                  ownerAddress {\n                    city\n                    street\n                    zipCode\n                  }\n                }\n                cost\n                currency\n                date\n                employee {\n                  firstName\n                  lastName\n                }\n                status\n              }\n            }\n          "]))),variables:{id:e}},result:function(e){return e.onlinePaymentPayout||null},errorHandler:{onGraphQLErrors:function(e){t({type:ns.SET_ERRORS,payload:e.map((function(e){return e.message}))})}}})];case 1:return(n=a.sent())&&t({type:ns.SET_PAYOUT_DETAILS,payload:n}),[2]}}))}))}),[e])}(t,r[1]);var s=o.loading,c=o.errors,l=o.payoutDetails;return i.createElement("div",null,s&&i.createElement(d.v,null)||i.createElement(i.Fragment,null),!s&&l.bankAccount&&i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-6"},i.createElement("h3",null,Ts("receiver")),l.bankAccount&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-4"},Ts("toAccount")),i.createElement("div",{className:"v2-col-sm-8"},i.createElement("span",null,l.bankAccount.accountNumber)," ",i.createElement("br",null),i.createElement("span",{className:"text-wrap"},l.bankAccount.accountBankName))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-4"},Ts("nameAndAddress")),i.createElement("div",{className:"v2-col-sm-8"},l.bankAccount.ownerName+", "+l.bankAccount.ownerAddress.street,i.createElement("br",null),l.bankAccount.ownerAddress.zipCode+", "+l.bankAccount.ownerAddress.city)))),i.createElement("div",{className:"v2-col-sm-6"},i.createElement("h3",null,"dane transakcji"),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-4"},Ts("fromAccount")),i.createElement("div",{className:"v2-col-sm-8"},Ts("payoutFromVersum"))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-4"},Ts("payoutDate")),i.createElement("div",{className:"v2-col-sm-8"},Object(ii.e)(l.date))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-sm-4"},Ts("balanceAfterTransaction")),i.createElement("div",{className:"v2-col-sm-8"},Object(dn.b)(n,a)))))||i.createElement(i.Fragment,null),c&&c.map((function(e){return i.createElement("div",{key:e,className:"alert alert-danger mt-s"},e)}))||i.createElement(i.Fragment,null))},Os=n(82),Cs=function(){return(Cs=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ws=n(592),As=n(152),Rs=n(81),Is=n(96),Ps=n(28),Ds=n(21),ks=n(59),Ms=n(449),xs=n.n(Ms),Ls=function(e){return e.isActive?i.createElement(i.Fragment,null,i.createElement(Vr.a,{name:Vr.b.active,className:"mr-s",size:16}),u.a.t("common.active")):i.createElement(i.Fragment,null,i.createElement(Vr.a,{name:Vr.b.inactive,className:"mr-s",size:16}),u.a.t("common.inactive"))},Fs=n(157),Bs=n(70),js=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Gs=function(){return(Gs=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Vs=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Us=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Hs=w()(ds||(ds=js(["\n  mutation SetOnlinePaymentConfiguration($branch: BranchUpdateInput!) {\n    updateBranch(branch: $branch) {\n      branch {\n        onlinePayment {\n          messageNewOnlinePayment\n          messageNewPayout\n          notificationsEmail\n          messagePrepaymentUnpaid\n          messagePaymentRequestUnpaid\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation SetOnlinePaymentConfiguration($branch: BranchUpdateInput!) {\n    updateBranch(branch: $branch) {\n      branch {\n        onlinePayment {\n          messageNewOnlinePayment\n          messageNewPayout\n          notificationsEmail\n          messagePrepaymentUnpaid\n          messagePaymentRequestUnpaid\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),zs=function(e,t){return Vs(void 0,void 0,void 0,(function(){var n,a,r;return Us(this,(function(o){switch(o.label){case 0:return n=t.dispatch,a=t.state,t.configurationFormRef&&t.configurationFormRef.current&&t.configurationFormRef.current.initialValues.enabled||e.enabled?(r=e.enabled?Gs(Gs({enabled:e.enabled},(e.messagePaymentRequestUnpaid||e.messageNewOnlinePayment)&&{notificationsEmail:e.notificationsEmail}),{messageNewPayout:e.messageNewOnlinePayment,messageNewOnlinePayment:e.messageNewOnlinePayment,messagePaymentRequestUnpaid:e.messagePaymentRequestUnpaid}):{enabled:e.enabled},[4,A.a.mutate({options:{mutation:Hs,variables:{branch:{onlinePayment:r}}},result:function(e){return e.updateBranch&&e.updateBranch.branch||null},mutationErrors:function(e){return e&&e.updateBranch&&e.updateBranch.errors||[]},errorHandler:{onMutationErrors:function(e){e.find((function(e){return"payout_method_missing"===e.code}))&&n({type:ys.SET_NO_ACCOUNT_MODAL_STATUS,payload:!0})}},mutationErrorMessage:A.a.HideMutationErrorMessage,successMessage:{message:u.a.t("common.settingsSaved")}})]):(n({type:ys.SET_EDIT_MODE_STATUS,payload:!1}),[2]);case 1:if(o.sent()){if(uc(n),a.isFirstStepComplete)return[2,window.location.reload()];n({type:ys.SET_EDIT_MODE_STATUS,payload:!1}),n({type:ys.SET_DISABLE_MOMENTPAY_MODAL_STATUS,payload:!1}),n({type:ys.SET_IS_DISABLE_MODAL_ACCEPTED,payload:!1})}return[2]}}))}))},Ys=function(e){return u.a.t("settings.OnlinePaymentBankAccountView.configuration."+e)},qs=function(e){var t=e.field,n=e.form,a=[{label:u.a.t("settings.OnlinePaymentBankAccountView.momentPayStatus.active"),value:!0},{label:u.a.t("settings.OnlinePaymentBankAccountView.momentPayStatus.inactive"),value:!1}];return i.createElement(Bs.a,{options:a,value:a.find((function(e){return t.value===e.value})),onChange:function(e){n.setFieldValue(t.name,e.value)},className:"v2-form-controls e2e-momentpay-status"})},Ws=function(e){var t;return e?/^(\s?[^\s,]+@[^\s,]+\.[^\s,]+\s?,)*(\s?[^\s,]+@[^\s,]+\.[^\s,]+)$/i.test(e)||(t=u.a.t("validation.email")):t=u.a.t("validation.blank"),t},Ks=function(e){var t=e.field,n=e.form;return i.createElement(Fs.a,{id:t.name,label:Ys(t.name),checked:!!n.values[t.name],onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])}})},$s=function(e){var t=e.values,n=Object(i.useContext)(Zc),a=n.dispatch,r=n.state,o=function(e){return u.a.t("settings.OnlinePaymentBankAccountView.disableMomentPay."+e)};return i.createElement(i.Fragment,null,i.createElement(uo.a,{isOpened:r.isDisableMomentPayModalActive,onClose:function(){return a({type:ys.SET_DISABLE_MOMENTPAY_MODAL_STATUS,payload:!1})},onSave:function(){a({type:ys.SET_IS_DISABLE_MODAL_ACCEPTED,payload:!0}),zs(t,n)},onSaveText:o("disableButton"),onCloseText:u.a.t("common.cancel"),type:uo.c.simple},i.createElement("h3",{className:"fs-h3 strong"},o("title")),i.createElement("p",{className:"fs-h5 mb-l"},o("subtitle")),i.createElement("div",{className:"v2-container pt-l"},["momentPayLock","notificationLock","balanceLock","onlineGiftCardsLock"].map((function(e){return i.createElement("div",{className:"v2-row mb-xl",key:e},i.createElement("div",{className:"v2-col-12 v2-col-md-2 text-center"},i.createElement(Ps.a,{name:Ds.a[e],className:"w-100p"})),i.createElement("div",{className:"v2-col-12 v2-col-md-8"},i.createElement("h5",{className:"fs-h5 strong"},o(e+".title")),i.createElement("p",null,o(e+".description"))))})))))},Zs=function(e){var t=Object(i.useContext)(Zc),n=t.dispatch,a=t.state,r=function(e){return u.a.t("settings.OnlinePaymentBankAccountView.noAccountModal."+e)};return i.createElement(i.Fragment,null,i.createElement(uo.a,{isOpened:a.isNoAccountModalActive,onClose:function(){return n({type:ys.SET_NO_ACCOUNT_MODAL_STATUS,payload:!1})},onSave:function(){window.location.href=window.location.href.replace("configuration","bank_accounts?action=addAccount")},onSaveText:r("addAccount"),onCloseText:u.a.t("common.cancel"),type:uo.c.simple},i.createElement("h3",{className:"fs-h3 strong"},r("title")),i.createElement("p",{className:"fs-h5 mb-l"},r("subtitle"))))},Xs=function(e){var t=e.configurationRef,n=Object(i.useContext)(Zc),a=n.dispatch,r=n.state,o=n.state.data.viewer.branch.onlinePayment,s=o.enabled,c=o.messageNewOnlinePayment,l=o.notificationsEmail,d=o.messagePaymentRequestUnpaid,m=o.messageNewPayout,p=s,f={enabled:s,notificationsEmail:l,messageNewOnlinePayment:c,messagePaymentRequestUnpaid:d,messageNewPayout:m};return i.createElement("div",null,i.createElement(rn.c,{onSubmit:function(e){!p||e.enabled||r.isDisabledMomentPayModalAccepted?zs(e,n):a({type:ys.SET_DISABLE_MOMENTPAY_MODAL_STATUS,payload:!0})},initialValues:f,ref:t,render:function(e){var t=e.values.enabled&&(e.values.messageNewOnlinePayment||e.values.messagePaymentRequestUnpaid);return i.createElement(rn.b,{className:"v2-form v2-form-counted"},i.createElement("h3",{className:"v2-form-title"},Ys("momentPay")),i.createElement(Rs.a,{label:Ys("status")},i.createElement(rn.a,{name:"enabled",component:qs})),e.values.enabled&&i.createElement(i.Fragment,null,i.createElement("h3",{className:"v2-form-title"},Ys("notifications")),i.createElement(Rs.a,{label:Ys("notificationsEmail")},i.createElement(rn.a,{name:"notificationsEmail",component:hc,validate:t&&Ws,disabled:!t,className:"e2e-notification-email"}),i.createElement(ks.a,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 "}),content:u.a.t("payments.communication.notificationsEmailTooltip"),className:"d-flex ai-center ml-s",type:ks.d.Info})),i.createElement(Rs.a,{className:"flex-nowrap"},i.createElement(rn.a,{name:"messageNewOnlinePayment",component:Ks})),i.createElement(Rs.a,{className:"flex-nowrap"},i.createElement(rn.a,{name:"messagePaymentRequestUnpaid",component:Ks}))),i.createElement(Pr.a,{isGroupConnected:!1},i.createElement(lo.a,{variant:"blue",type:"submit",text:u.a.t("common.save"),className:"e2e-save-settings",disabled:window.VersumConfig.current_branch_readonly}),i.createElement(lo.a,{text:u.a.t("common.cancel"),onClick:function(){a({type:ys.SET_EDIT_MODE_STATUS,payload:!1}),a({type:ys.SET_IS_FIRST_STEP_COMPLETE,payload:!1})}})),i.createElement($s,{values:e.values}),i.createElement(Zs,null))}}))},Js=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qs=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ec=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tc=w()(ms||(ms=Js(["\n  query getPaymentBankAccountData {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n      confirmingAccountNumber\n      confirmingAmount\n      confirmingTitle\n      currency\n    }\n    viewer {\n      employee{\n        firstName\n        lastName\n      }\n      branch {\n        state\n        prepayments {\n          enabled\n        }\n        onlinePayment {\n          state\n          payoutFrequency\n          lastPayout\n          nextAutomatedPayout\n          messagePrepaymentUnpaid\n          messagePaymentRequestUnpaid\n          messageNewOnlinePayment\n          messageNewPayout\n          enabled\n          payoutFrequency\n          notificationsEmail\n          minimalBalanceAmount\n          balance {\n            amount\n            currency\n            manualPayoutCost\n          }\n          canBeDisabled\n          canBeEnabled\n        }\n      }\n    }\n  }\n"],["\n  query getPaymentBankAccountData {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n      confirmingAccountNumber\n      confirmingAmount\n      confirmingTitle\n      currency\n    }\n    viewer {\n      employee{\n        firstName\n        lastName\n      }\n      branch {\n        state\n        prepayments {\n          enabled\n        }\n        onlinePayment {\n          state\n          payoutFrequency\n          lastPayout\n          nextAutomatedPayout\n          messagePrepaymentUnpaid\n          messagePaymentRequestUnpaid\n          messageNewOnlinePayment\n          messageNewPayout\n          enabled\n          payoutFrequency\n          notificationsEmail\n          minimalBalanceAmount\n          balance {\n            amount\n            currency\n            manualPayoutCost\n          }\n          canBeDisabled\n          canBeEnabled\n        }\n      }\n    }\n  }\n"]))),nc=w()(ps||(ps=Js(["\n  mutation PerformOnlinePaymentPayout($payout: OnlinePaymentPayOutInput!) {\n    performOnlinePaymentPayout(payout: $payout) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation PerformOnlinePaymentPayout($payout: OnlinePaymentPayOutInput!) {\n    performOnlinePaymentPayout(payout: $payout) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),ac=function(e){return e&&!!e.accountNumber},rc=function(e){return Ke.t("settings.OnlinePaymentBankAccountView."+e)},oc=function(e){var t=e.bankAccount,n=e.isCardDisabled,a=e.cardVariant,r=void 0===a?d.e.orange:a,o=e.iconFill,s=void 0===o?"#d8d5d5":o;return i.createElement(d.d,{variant:r,narrow:!0,disabled:n},i.createElement("div",{className:"d-flex ai-center mb-m pb-m border-bottom"},i.createElement("div",{className:"mr-m"},i.createElement(d.w,{name:d.x.bankIcon,fill:s})),i.createElement("div",{className:"fs-h4"},Object(dn.c)(t.accountNumber)),i.createElement("div",{className:"ml-auto"},i.createElement(d.A,{content:t.status===b.B.CREATED?Ke.t("settings.OnlinePaymentBankAccountView.bankAccountInfo.statusTooltip"):"",type:d.D.Dark,trigger:i.createElement(d.a,{text:rc("accountNumberState."+t.status),variant:t.status})}))),i.createElement("div",{className:"v2-container text-muted-dark"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"mb-xs"},Ke.t("settings.OnlinePaymentBankAccountView.bankAccountInfo.ownerName")),i.createElement("div",{className:"strong"},t.ownerName)),i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"text-muted-dark mb-xs"},Ke.t("settings.OnlinePaymentBankAccountView.bankAccountInfo.cityAndZipCode")),i.createElement("div",{className:"strong"},t.ownerAddress.zipCode+", "+t.ownerAddress.city)),i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"text-muted-dark mb-xs"},Ke.t("settings.OnlinePaymentBankAccountView.bankAccountInfo.address")),i.createElement("div",{className:"strong"},t.ownerAddress.street)),i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"text-muted-dark mb-xs"},Ke.t("settings.OnlinePaymentBankAccountView.bankAccountInfo.country")),i.createElement("div",{className:"strong"},Ke.t("countryNames."+t.ownerAddress.countryCode))))))},ic=function(e){var t=e.bankAccount;return t.ownerAddress?i.createElement(d.d,{variant:d.e.orange,narrow:!0},i.createElement("div",{className:"d-flex border-bottom pb-m mb-m"},i.createElement("div",{className:"mr-m"},i.createElement(d.w,{name:d.x.transactionIcon})),i.createElement("div",null,i.createElement("h4",{className:"d-flex ai-center mb-m strong"},rc("settleTransactionToConfirmAccount")),i.createElement("p",null,rc("verificationText")))),i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row mb-s"},i.createElement(wc,{consumerData:t})))):i.createElement(i.Fragment,null)},sc=function(e){var t=e.bankAccount;return t.ownerAddress?i.createElement(i.Fragment,null,(t.status===b.B.CREATED||t.status===b.B.CONFIRMED)&&i.createElement(ic,{bankAccount:t})||i.createElement(oc,{bankAccount:t,cardVariant:d.e.blue,iconFill:"#a5d3ea"})):i.createElement(i.Fragment,null)},cc=function(){var e=Object(i.useContext)(Zc),t=e.dispatch,n=e.state.data.viewer.branch.onlinePayment,a=n.balance,r=n.payoutFrequency,o=n.messageNewOnlinePayment,s=n.messagePaymentRequestUnpaid,c=n.lastPayout,l=n.nextAutomatedPayout,u=n.notificationsEmail,m=e.state.data.viewer.branch.prepayments.enabled,p=e.state.data.onlinePaymentBankAccounts,f=yc(b.B.CREATED,p),E=yc(b.B.CONFIRMED,p),y=pc(p.filter((function(e){return e.status!==b.B.CREATED&&e.status!==b.B.CONFIRMED}))),h=Object(i.useContext)(Zc),v=a.amount>0&&y.status===b.B.APPROVED,g=0===a.amount?"zeroBalance":"notConfirmed",S=v?"strong cursor-pointer":"strong text-muted",_=v?{}:{pointerEvents:"none",opacity:.5};return i.createElement("div",{className:"e2e-momentpay-view-wrapper"},i.createElement("div",{className:"d-flex ai-center mb-l"},i.createElement("h2",{className:"strong m-0"},rc("title")),i.createElement(d.b,{className:"ml-auto e2e-momentpay-edit",text:Ke.t("common.edit"),onClick:function(){return t({type:ys.SET_EDIT_MODE_STATUS,payload:!0})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:"v2-container mb-xl"},i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-md-3"},rc("status"),":"),i.createElement("div",{className:"v2-col"},i.createElement(d.a,{text:rc("momentPayStatus.active"),variant:"APPROVED",pill:!0,icon:!0}))),i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-md-3"},rc("funds"),":"),i.createElement("div",{className:"v2-col d-flex ai-baseline"},i.createElement("span",{className:"fs-h2 mr-s strong"},Object(dn.b)(a.amount,a.currency),i.createElement(d.A,{className:"ml-s font-normal text-left text-notransform",trigger:i.createElement("i",{className:"icon sprite-info_tip2"}),content:Ke.t("payments.accountBalanceInfo"),type:d.D.Info})),v?i.createElement("a",{className:S,style:_,onClick:function(){return h.dispatch({type:ys.SET_WITHDRAWAL_MODAL_STATUS,payload:!0})}},rc("payout")):i.createElement(d.A,{trigger:i.createElement("a",{className:S,style:_,onClick:function(){return h.dispatch({type:ys.SET_WITHDRAWAL_MODAL_STATUS,payload:!0})}},rc("payout")),content:Ke.t("payments.payoutInfo."+g),type:d.D.Info}))),ac(p[0])&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4 v2-col-md-3"},"  ",rc("payoutMethod"),":"),i.createElement("div",{className:"v2-col strong"},rc(r))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4 v2-col-md-3"},rc("nextPayout")),i.createElement("div",{className:"v2-col strong"},r===b.C.WEEKLY&&Object(ii.e)(l,"DD.MM.YYYY"))),c&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-4 v2-col-md-3"},rc("lastPayout")),i.createElement("div",{className:"v2-col strong"},Object(ii.e)(c,"DD.MM.YYYY"),i.createElement(d.A,{className:"ml-s font-normal text-left text-notransform",trigger:i.createElement("i",{className:"icon sprite-info_tip2"}),content:rc("lastPayoutTooltip"),type:d.D.Info}))))),i.createElement("h4",{className:"v2-form-title mb-m"},rc("payoutAccount")),i.createElement(d.f,{horizontal:!0,separated:!0},f&&i.createElement(sc,{bankAccount:f}),E&&i.createElement(sc,{bankAccount:E}),y&&i.createElement(sc,{bankAccount:y}),!ac(p[0])&&i.createElement(Rc,{dispatch:t})),!m&&i.createElement(d.d,{narrow:!0,variant:d.e.gray,className:"d-flex mb-m"},i.createElement("div",{className:"mr-m"},i.createElement(d.w,{name:d.x.prepaymentsIcon})),i.createElement("div",null,i.createElement("h4",null,Ke.t("settings.PaymentsDashboard.PrepaymentConfig.title")),i.createElement("div",{className:"mb-m"},Ke.t("settings.PaymentsDashboard.PrepaymentConfig.description"),i.createElement("a",{href:Oc.PREPAYMENTS_CONFIGURATION}," Dowiedz się wiecej")),!window.VersumConfig.current_branch_readonly&&i.createElement("a",{href:Oc.PREPAYMENTS_CONFIGURATION,className:"button"},Ke.t("settings.PaymentsDashboard.PrepaymentConfig.turnOn")))),i.createElement("h3",{className:"v2-form-title"},Ke.t("settings.OnlinePaymentBankAccountView.configuration.notifications")),i.createElement("div",null,i.createElement("div",{className:"v2-row mb-m ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-md-3"},Ke.t("settings.OnlinePaymentBankAccountView.configuration.notificationsEmail")),i.createElement("div",{className:"v2-col strong"},u||Ke.t("common.empty"))),i.createElement("div",{className:"v2-row mb-m ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-md-3"},Ke.t("settings.OnlinePaymentBankAccountView.configuration.messageNewOnlinePayment")),i.createElement("div",{className:"v2-col strong"},i.createElement(Ls,{isActive:o}))),i.createElement("div",{className:"v2-row mb-xl ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-md-3"},Ke.t("settings.OnlinePaymentBankAccountView.configuration.messagePaymentRequestUnpaid")),i.createElement("div",{className:"v2-col strong"},i.createElement(Ls,{isActive:s})))))},lc=function(e){var t,n=Object(i.useContext)(Zc),a=n.dispatch,r=n.configurationFormRef,o=n.state.data.viewer.branch.state,s=Object(Mr.a)(n,"state.data.viewer.branch.onlinePayment.state"),c=n.state.data.viewer.branch.onlinePayment.canBeEnabled,l=((t={})[b.D.BLOCKED]=Ke.t("settings.cantEnableOnlinePaymentsBecause.blocked"),t[b.D.DEACTIVATING]=Ke.t("settings.cantEnableOnlinePaymentsBecause.deactivating"),t[b.D.CLOSING]=Ke.t("settings.cantEnableOnlinePaymentsBecause.closing"),t),u=Object(i.useState)(!1),m=u[0],p=u[1],f=function(e){return Ke.t("settings.onlinePaymentActivationScreen."+e)},E=o===b.k.TRIAL,y=at()({button:!0,"ml-auto":!0,"button-blue":!E,"button-disabled":E,"e2e-enable-momentpay":!0});return i.createElement("div",{className:"v2-blank e2e-momentpay-activation-view"},i.createElement("div",{className:"v2-blank-actions"},E?i.createElement(d.A,{align:d.B.Left,trigger:i.createElement(d.b,{className:y,text:f("activateMomentPay"),disabled:E}),content:f("tooltip"),type:d.D.Dark}):i.createElement(d.b,{className:y,onClick:function(){return Qs(void 0,void 0,void 0,(function(){return ec(this,(function(e){switch(e.label){case 0:return c?[4,a({type:ys.SET_EDIT_MODE_STATUS,payload:!0})]:(x.a.alert(l[s]),[2]);case 1:return e.sent(),r&&r.current&&r.current.setFieldValue("enabled",!0),[2]}}))}))},text:f("activateMomentPay"),disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(d.w,{name:d.x.momentPay})),i.createElement("h2",{className:"v2-blank-title"},f("title")),i.createElement("div",null,i.createElement("p",null,f("info")),m?i.createElement(i.Fragment,null,i.createElement("h3",null,f("howItWorks")),i.createElement("p",null,f("howItWorksInfo")),i.createElement("h3",null,f("whyWorth")),i.createElement("p",null,f("whyWorthInfo"))):i.createElement("a",{href:"#",onClick:function(){return p(!0)}},Ke.t("common.learnMore")))))},uc=function(e){return Qs(void 0,void 0,void 0,(function(){var t;return ec(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:tc,fetchPolicy:"network-only"},result:function(e){return e||null}})];case 1:return(t=n.sent())&&e({type:ys.SET_ONLINE_PAYMENT_DATA,payload:t}),[2]}}))}))},dc=function(){var e=Object(i.useContext)(Zc),t=e.dispatch;e.configurationFormRef=Object(i.useRef)(null);var n=e.configurationFormRef;Object(i.useEffect)((function(){uc(t),Uc(t)}),[]);var a=e.state,r=a.data,o=a.isEditModeActive,s=a.isFormOpened,c=a.isWithdrawalModalActive;if(!r.onlinePaymentBankAccounts||!r.viewer.branch)return i.createElement(d.v,null);var l=r.onlinePaymentBankAccounts[0],u=r.viewer.branch.onlinePayment.enabled;return i.createElement(i.Fragment,null,!u&&!o&&i.createElement(lc,null)||(!u||o)&&i.createElement(Xs,{configurationRef:n})||u&&!o&&!s&&i.createElement(cc,null)||u&&!o&&s&&!ac(l)&&i.createElement(Hc,null),c&&i.createElement(Ic,null))},mc=function(){return(mc=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},pc=function(e){return void 0===e&&(e=[]),e.find((function(e){return e.status===b.B.CREATED}))||e.find((function(e){return e.status===b.B.CONFIRMED}))||e.find((function(e){return e.status===b.B.APPROVED}))||e.find((function(e){return e.status===b.B.LOCKED}))||e.find((function(e){return e.status===b.B.CEASED}))||{}},fc=function(e){return void 0===e&&(e=[]),e.find((function(e){return e.status===b.B.APPROVED}))||e.find((function(e){return e.status===b.B.CONFIRMED}))||e.find((function(e){return e.status===b.B.CREATED}))||e.find((function(e){return e.status===b.B.LOCKED}))||e.find((function(e){return e.status===b.B.CEASED}))||{}},Ec=function(e){return void 0===e&&(e=[]),e.some((function(e){return e.status===b.B.CREATED||e.status===b.B.CONFIRMED}))},yc=function(e,t){return void 0===t&&(t=[]),t.find((function(t){return t.status===e}))},hc=function(e){var t=e.field,n=e.form,a=e.disabled,r=void 0!==a&&a,o=e.size,s=e.className,c=Object(Mr.a)(n.touched,t.name)&&Object(Mr.a)(n.errors,t.name)?Object(Mr.a)(n.errors,t.name):null;return i.createElement(i.Fragment,null,i.createElement(d.m,mc({type:"text"},t,{value:t.value||"",disabled:ac(n.initialValues)||r,size:o,errorMessage:c,className:s})))},vc=function(e){var t=e.field,n=e.label,a=e.form,r=nt({"v2-form-control":!0,"e2e-account-number":!0,invalid:Object(Mr.a)(a.touched,t.name)&&Object(Mr.a)(a.errors,t.name)});return i.createElement(i.Fragment,null,i.createElement(d.n,{text:n||u.a.t("settings.onlinePaymentBankAccountEdit."+t.name)}),i.createElement("div",{className:"v2-form-controls"},i.createElement(xs.a,{size:32,mask:[/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],className:r,guide:!0,onChange:function(e){var n=e.target.value;a.setFieldValue(t.name,n.replace(/_/g,"").replace(/ /g,""))},value:t.value,disabled:ac(a.initialValues)}),Object(Mr.a)(a.touched,t.name)&&i.createElement(d.i,{message:Object(Mr.a)(a.errors,t.name)})))},bc=function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement(d.m,mc({type:"text"},t,{className:"e2e-city",value:t.value||"",disabled:ac(n.initialValues),errorMessage:Object(Mr.a)(n.touched,t.name)&&Object(Mr.a)(n.errors,t.name)?Object(Mr.a)(n.errors,t.name):null})))},gc=function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement(d.n,{text:u.a.t("settings.onlinePaymentBankAccountEdit."+t.name)}),i.createElement("div",{className:"v2-form-controls"},i.createElement(d.h,{value:Object(d.E)(t.value),onChange:function(e){n.setFieldValue(t.name,e.value)},isSearchable:!0,disabled:ac(n.initialValues)}),Object(Mr.a)(n.touched,t.name)&&i.createElement(d.i,{message:Object(Mr.a)(n.errors,t.name)})))},Sc=function(){return(Sc=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_c=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Tc=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nc=window.VersumConfig.branch_subdomain,Oc={PAYMENT_CONFIGURATION:"/"+Nc+"/settings/payment_configuration",PREPAYMENTS_CONFIGURATION:"/"+Nc+"/settings/prepayments/configuration",ONLINE_PAYMENTS_BANK_ACCOUNTS:"/"+Nc+"/settings/payment_bank_accounts"},Cc=function(e){var t=e.title,n=e.content,a=e.copyable,r=e.classNames,o=void 0===r?"fs-h5":r;return i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"text-muted-dark mb-xs"},t),i.createElement("div",{className:o,id:"clipboard-"+t},n),a&&i.createElement("a",{className:"clipboard-trigger","data-clipboard-text":n},u.a.t("clipboard.trigger")))},wc=function(e){var t=e.consumerData;le();var n=function(e){return u.a.t("settings.OnlinePaymentBankAccountView."+e)};return i.createElement(i.Fragment,null,i.createElement(Cc,{title:n("confirmingAccountNumber"),content:t.confirmingAccountNumber&&Object(dn.c)(t.confirmingAccountNumber),copyable:!0,classNames:"fs-h4 strong"}),i.createElement(Cc,{title:n("confirmingTitle"),content:t.confirmingTitle,copyable:!0,classNames:"fs-h4 strong"}),i.createElement(Cc,{title:n("nameOfTheRecipient"),content:"Versum sp. z o.o."}),i.createElement(Cc,{title:n("confirmingAmount"),content:Object(dn.b)(t.confirmingAmount||0,t.currency)}))},Ac=function(e){var t=e.isModalActive,n=Object(i.useContext)(Zc);n.bankAccountFormRef=Object(i.useRef)(null);var a=n.bankAccountFormRef;return i.createElement(i.Fragment,null,i.createElement(uo.a,{isOpened:t,title:u.a.t("settings.onlinePaymentBankAccountModal.addAccount"),onClose:function(){return n.dispatch({type:ys.SET_IS_FORM_OPENED,payload:!1})},onSave:function(){Gc(n)}},i.createElement(Vc,{data:jc,bankAccountFormRef:a})))},Rc=function(e){var t=e.dispatch;return i.createElement(As.a,{narrow:!0,variant:As.b.orange,className:"d-flex"},i.createElement("div",{className:"mr-m"},i.createElement(Ps.a,{name:Ds.a.transactionIcon})),i.createElement("div",null,i.createElement("h3",{className:"mt-0 strong"},u.a.t("settings.OnlinePaymentBankAccountView.addAccountCard.title")),i.createElement("div",{className:"mb-m"},u.a.t("settings.OnlinePaymentBankAccountView.addAccountCard.text")),i.createElement(lo.a,{variant:"orange",className:"e2e-add-bank-account",text:u.a.t("settings.OnlinePaymentBankAccountView.addAccountCard.button"),onClick:function(){return t({type:ys.SET_IS_FORM_OPENED,payload:!0})},disabled:window.VersumConfig.current_branch_readonly})))},Ic=function(e){var t=Object(i.useContext)(Zc),n=t.dispatch,a=t.state.isWithdrawalModalActive,r=t.state.data.onlinePaymentBankAccounts,o=t.state.data.viewer.employee,s=t.state.data.viewer.branch.onlinePayment,c=s.balance,l=s.minimalBalanceAmount,d=c.currency,m=c.amount,p=c.manualPayoutCost,f=Object(i.useContext)(Zc),E=+(m-l-(p||0)).toFixed(2),y=null,h=Object(i.useState)(E<=0),v=h[0],b=h[1],g=function(){f.dispatch({type:ys.SET_WITHDRAWAL_MODAL_STATUS,payload:!1})},S=function(e){var t=y&&y.getFormikActions();return!(E<=0)&&(!(e>E)&&(e<=0&&t&&t.submitForm(),!0))};return i.createElement(uo.a,{isOpened:a,title:u.a.t("settings.requestWithdrawalModal.title"),onClose:g,onSave:function(){var e=y&&y.state.values&&y.state.values.payoutAmount;e&&S(e)&&(b(!0),Pc(e,d).then((function(){return y&&y.setSubmitting(!1)})).then((function(){return b(!1)})).then((function(){return uc(n)})).then((function(){return g()})))},onSaveText:u.a.t("settings.requestWithdrawalModal.save"),isOnSaveDisabled:v},i.createElement(rn.c,{ref:function(e){y=e},initialValues:{payoutAmount:0},validationSchema:sn.object().shape({payoutAmount:sn.number().moreThan(0,u.a.t("settings.requestWithdrawalModal.validation.moreThanZero")).max(E,u.a.t("settings.requestWithdrawalModal.validation.max")).required(u.a.t("validation.blank"))}),onSubmit:function(){return{}},render:Dc(r,c,o,l,E>0?E:0)}))},Pc=function(e,t){return _c(void 0,void 0,void 0,(function(){return Tc(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:nc,variables:{payout:{currency:t,amount:e}},refetchQueries:[{query:tc}]},result:function(e){return e||null},mutationErrors:function(e){return e&&e.performOnlinePaymentPayout&&e.performOnlinePaymentPayout.errors||[]},successMessage:{message:u.a.t("settings.OnlinePaymentBankAccountView.payoutPaidOut")}})];case 1:return[2,n.sent()]}}))}))},Dc=function(e,t,n,a,r){return function(a){var o=t.manualPayoutCost,s=t.currency,c=t.amount,l=pc(e);return i.createElement(rn.b,{className:"v2-form v2-form-counted"},i.createElement("fieldset",null,i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.avaibleAmount")},i.createElement("span",{className:"p-s bold"},Object(dn.b)(c,s))),i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.payoutCost")},i.createElement("span",{className:"p-s bold"},o?Object(dn.b)(o,s):null)),i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.maxPayout")},i.createElement("span",{className:"p-s bold"},Object(dn.b)(r,s)),i.createElement(ks.a,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 mt-s"}),content:u.a.t("settings.requestWithdrawalModal.payoutTooltip"),type:ks.d.Info})),i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.account")},i.createElement("span",{className:"p-s bold"},Object(dn.c)(l.accountNumber))),i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.employee")},i.createElement("span",{className:"p-s bold"},n.firstName+" "+n.lastName)),i.createElement(Rs.a,{label:u.a.t("settings.requestWithdrawalModal.requestPayout")},i.createElement(rn.a,{name:"payoutAmount",render:function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement(Is.a,Sc({},t,{min:"0",max:r.toString(),step:"0.01",type:"number",errorMessage:Object(Mr.a)(n.touched,t.name)&&Object(Mr.a)(n.errors,t.name)?Object(Mr.a)(n.errors,t.name):null})),i.createElement("span",{className:"mt-s ml-s bold"},Object(dn.d)(s)))}}))))}},kc=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Mc=function(){return(Mc=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xc=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Lc=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Fc=w()(fs||(fs=kc(["\n  query GetBankAccountsWithMinimalBalanceAmount {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      currency\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n    }\n    viewer {\n      branch {\n        onlinePayment {\n          minimalBalanceAmount\n        }\n      }\n    }\n  }\n"],["\n  query GetBankAccountsWithMinimalBalanceAmount {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      currency\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n    }\n    viewer {\n      branch {\n        onlinePayment {\n          minimalBalanceAmount\n        }\n      }\n    }\n  }\n"]))),Bc=w()(Es||(Es=kc(["\n  mutation CreateOnlinePaymentBankAccount($bankAccount: OnlinePaymentBankAccountInput!) {\n    createOnlinePaymentBankAccount(bankAccount: $bankAccount) {\n      bankAccount {\n        accountNumber\n        confirmingAccountNumber\n        confirmingAmount\n        confirmingTitle\n        currency\n        ownerAddress {\n          city\n          countryCode\n          street\n          zipCode\n        }\n        ownerName\n        status\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation CreateOnlinePaymentBankAccount($bankAccount: OnlinePaymentBankAccountInput!) {\n    createOnlinePaymentBankAccount(bankAccount: $bankAccount) {\n      bankAccount {\n        accountNumber\n        confirmingAccountNumber\n        confirmingAmount\n        confirmingTitle\n        currency\n        ownerAddress {\n          city\n          countryCode\n          street\n          zipCode\n        }\n        ownerName\n        status\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),jc={ownerAddress:{countryCode:b.n.PL,city:"",street:"",zipCode:""},accountNumber:"",ownerName:"",currency:"",status:""},Gc=function(e){return xc(void 0,void 0,void 0,(function(){var t,n,a,r,o,i,s;return Lc(this,(function(c){switch(c.label){case 0:return t=e.bankAccountFormRef,n=e.dispatch,t&&t.current?(a=t&&t.current&&t.current.getFormikBag().values||{},r=t&&t.current&&t.current.getFormikActions(),(i=t&&t.current)?[4,t.current.getFormikActions().validateForm()]:[3,2]):[2];case 1:i=c.sent(),c.label=2;case 2:return o=i,r&&r.submitForm(),o&&Object.keys(o).length?[2]:(s={bankAccount:{ownerName:a.ownerName,accountNumber:a.accountNumber,currency:b.o.PLN,ownerAddress:{city:a.ownerAddress.city||"",zipCode:a.ownerAddress.zipCode||"",street:a.ownerAddress.street||"",countryCode:a.ownerAddress.countryCode||b.n.PL}}},[4,A.a.mutate({options:{mutation:Bc,variables:s},result:function(e){return e&&e.createOnlinePaymentBankAccount&&e.createOnlinePaymentBankAccount.bankAccount||null},mutationErrors:function(e){return e&&e.createOnlinePaymentBankAccount&&e.createOnlinePaymentBankAccount.errors||[]},errorHandler:{onMutationErrors:function(e){var t,n;r&&r.setErrors((t="bankAccount.",n={},e.map((function(e){var a=Object(vi.a)({},e.argument.replace(t,""),u.a.t(e.argument+"."+e.code));n=Mc(Mc({},n),a)})),n))}},successMessage:{message:u.a.t("settings.branchUpdated")}})]);case 3:return c.sent()?[4,Uc(n)]:[3,6];case 4:return c.sent(),[4,uc(n)];case 5:c.sent(),e.dispatch({type:ys.SET_MODAL_STATUS,payload:!1}),e.dispatch({type:ys.SET_IS_FORM_OPENED,payload:!1}),c.label=6;case 6:return[2]}}))}))},Vc=function(e){var t,n=e.bankAccountFormRef,a=e.data,r=Object(i.useContext)(Zc);return i.createElement("div",null,i.createElement(rn.c,{onSubmit:function(){},initialValues:Mc(Mc({},a),{minimalBalanceAmount:r.state.minimalBalanceAmount}),render:(t=r,function(e){var n=t.state,a=n.isEditModeActive,r=n.isModalActive,o=function(e){return u.a.t("settings.onlinePaymentBankAccountEdit."+e)};return i.createElement(i.Fragment,null,!a&&i.createElement(d.d,{variant:d.e.blue,narrow:!0},u.a.t("settings.onlinePaymentBankAccountEdit.accountPurposeHint")),i.createElement("h3",{className:"mb-m"},u.a.t("settings.onlinePaymentBankAccountEdit.accountDetails")),i.createElement(rn.b,{className:"v2-form v2-form-counted"},i.createElement("fieldset",{disabled:a&&!r},i.createElement(d.k,{label:o("ownerName")},i.createElement(rn.a,{name:"ownerName",component:hc,className:"e2e-owner-name"})),i.createElement(d.k,{label:o("ownerAddress.street")},i.createElement(rn.a,{name:"ownerAddress.street",component:hc,className:"e2e-street"})),i.createElement(d.k,{label:o("labels.zipCode")},i.createElement(rn.a,{name:"ownerAddress.zipCode",component:hc,size:7,className:"e2e-zip-code"})),i.createElement(d.k,{label:o("labels.Address")},i.createElement(rn.a,{name:"ownerAddress.city",component:bc,className:"e2e-city"})),i.createElement(d.k,null,i.createElement(rn.a,{name:"ownerAddress.countryCode",render:gc,className:"e2e-country"})),i.createElement(d.k,null,i.createElement(rn.a,{name:"accountNumber",component:vc})),a&&!r&&i.createElement(d.k,{noCount:!0},i.createElement(d.n,null),i.createElement("div",{className:"v2-form-controls"},i.createElement("span",null,o("cantEditAccount")," "),i.createElement("a",{href:Oc.ONLINE_PAYMENTS_BANK_ACCOUNTS,className:"cursor-pointer"},o("payoutAccounts")),i.createElement("span",{className:"d-block"},o("andStartAgain")," "))))))}),validationSchema:sn.object().shape({ownerName:sn.string().required(u.a.t("validation.blank")).max(70,u.a.t("validation.tooLong")),accountNumber:sn.string().required(u.a.t("validation.blank")).matches(/^[0-9 ]{25,32}$/,u.a.t("validation.bankAccountAddress")),ownerAddress:sn.object().shape({city:sn.string().required(u.a.t("validation.blank")).max(29,u.a.t("validation.tooLong")),street:sn.string().required(u.a.t("validation.blank")).max(35,u.a.t("validation.tooLongAddress")),countryCode:sn.string().required(u.a.t("validation.selectCountry")),zipCode:sn.string().required(u.a.t("validation.blank"))}),minimalBalanceAmount:sn.number().min(0,u.a.t("validation.negative")).required(u.a.t("validation.blank"))}),ref:n,enableReinitialize:!0}))},Uc=function(e){return xc(void 0,void 0,void 0,(function(){var t;return Lc(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:Fc,fetchPolicy:"network-only"},result:function(e){return e||null}})];case 1:return(t=n.sent())&&t.onlinePaymentBankAccounts&&(e({type:ys.SET_FILTERED_BANK_ACCOUNT,payload:fc(t.onlinePaymentBankAccounts)}),e({type:ys.SET_MINIMAL_BALANCE_AMOUNT,payload:Object(Mr.a)(t,"viewer.branch.onlinePayment.minimalBalanceAmount",0)}),e({type:ys.SET_PENDING_ACCOUNT_STATUS,payload:Ec(t.onlinePaymentBankAccounts)})),[2]}}))}))},Hc=function(e){var t=Object(i.useContext)(Zc),n=t.state,a=n.isEditModeActive,r=n.filteredBankAccount,o=n.isFormOpened;t.bankAccountFormRef=Object(i.useRef)(null);var s=t.bankAccountFormRef,c=t.dispatch;Object(i.useEffect)((function(){Uc(c)}),[]);return i.createElement(i.Fragment,null,i.createElement(Vc,{bankAccountFormRef:s,data:a?r:jc}),i.createElement(d.b,{text:u.a.t("common.save"),className:"button-blue e2e-save-bank-account",type:"submit",onClick:function(){return Gc(t)},disabled:window.VersumConfig.current_branch_readonly}),a||o&&i.createElement(d.b,{text:u.a.t("common.cancel"),onClick:function(){c({type:ys.SET_EDIT_MODE_STATUS,payload:!1}),c({type:ys.SET_IS_FORM_OPENED,payload:!1})},className:"ml-m"}))},zc=function(){return(zc=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yc={isEditModeActive:!1,isModalActive:!1,filteredBankAccount:jc,isAnyAccountPending:!0,isWithdrawalModalActive:!1,minimalBalanceAmount:0,isFormOpened:!!window.location.search.match(/addAccount/),isDisableMomentPayModalActive:!1,isNoAccountModalActive:!1,isDisabledMomentPayModalAccepted:!1,isFirstStepComplete:!1,data:{}};!function(e){e.SET_EDIT_MODE_STATUS="SET_EDIT_MODE_STATUS",e.SET_MODAL_STATUS="SET_NEW_ACCOUNT_MODAL_STATUS",e.SET_FILTERED_BANK_ACCOUNT="SET_FILTERED_BANK_ACCOUNT",e.SET_MINIMAL_BALANCE_AMOUNT="SET_MINIMAL_BALANCE_AMOUNT",e.SET_PENDING_ACCOUNT_STATUS="SET_PENDING_ACCOUNT_STATUS",e.SET_WITHDRAWAL_MODAL_STATUS="SET_WITHDRAWAL_MODAL_STATUS",e.SET_IS_FORM_OPENED="SET_IS_FORM_OPENED",e.SET_ONLINE_PAYMENT_DATA="SET_ONLINE_PAYMENT_DATA",e.SET_DISABLE_MOMENTPAY_MODAL_STATUS="SET_DISABLE_MOMENTPAY_MODAL_STATUS",e.SET_NO_ACCOUNT_MODAL_STATUS="SET_NO_ACCOUNT_MODAL_STATUS",e.SET_IS_DISABLE_MODAL_ACCEPTED="SET_IS_DISABLE_MODAL_ACCEPTED",e.SET_IS_FIRST_STEP_COMPLETE="SET_IS_FIRST_STEP_COMPLETE"}(ys||(ys={}));var qc,Wc,Kc,$c=function(e,t){switch(t.type){case ys.SET_EDIT_MODE_STATUS:return zc(zc({},e),{isEditModeActive:t.payload});case ys.SET_MODAL_STATUS:return zc(zc({},e),{isModalActive:t.payload});case ys.SET_FILTERED_BANK_ACCOUNT:return zc(zc({},e),{filteredBankAccount:t.payload});case ys.SET_MINIMAL_BALANCE_AMOUNT:return zc(zc({},e),{minimalBalanceAmount:t.payload});case ys.SET_PENDING_ACCOUNT_STATUS:return zc(zc({},e),{isAnyAccountPending:t.payload});case ys.SET_WITHDRAWAL_MODAL_STATUS:return zc(zc({},e),{isWithdrawalModalActive:t.payload});case ys.SET_IS_FORM_OPENED:return zc(zc({},e),{isFormOpened:t.payload});case ys.SET_ONLINE_PAYMENT_DATA:return zc(zc({},e),{data:t.payload});case ys.SET_DISABLE_MOMENTPAY_MODAL_STATUS:return zc(zc({},e),{isDisableMomentPayModalActive:t.payload});case ys.SET_NO_ACCOUNT_MODAL_STATUS:return zc(zc(zc({},e),{isNoAccountModalActive:t.payload}),!!t.payload&&{isDisableMomentPayModalActive:!1});case ys.SET_IS_DISABLE_MODAL_ACCEPTED:return zc(zc({},e),{isDisabledMomentPayModalAccepted:t.payload});case ys.SET_IS_FIRST_STEP_COMPLETE:return zc(zc({},e),{isFirstStepComplete:t.payload});default:return e}},Zc=Object(i.createContext)({dispatch:function(){},state:Yc}),Xc=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Jc=w()(qc||(qc=Xc(["\n  query {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n      confirmingAccountNumber\n      confirmingAmount\n      confirmingTitle\n      currency\n    }\n  }\n"],["\n  query {\n    onlinePaymentBankAccounts {\n      ownerName\n      accountNumber\n      ownerAddress {\n        city\n        countryCode\n        street\n        zipCode\n      }\n      status\n      confirmingAccountNumber\n      confirmingAmount\n      confirmingTitle\n      currency\n    }\n  }\n"]))),Qc=function(e){var t=Object(i.useContext)(Zc),n=t.state.isFormOpened,a=t.dispatch,r=function(e){return u.a.t("settings.onlinePaymentBankAccounts."+e)};return i.createElement(ws.a,{query:Jc},(function(e){var t=e.data,o=e.error;if(e.loading)return i.createElement(i.Fragment,null);if(o)return x.a.error(u.a.t("common.serverError")),i.createElement(i.Fragment,null);if(!t)return x.a.info(u.a.t("common.emptyResults")),i.createElement(i.Fragment,null);var s=t&&t.onlinePaymentBankAccounts,c=yc(b.B.APPROVED,s),l=yc(b.B.CREATED,s),m=yc(b.B.CONFIRMED,s),p=(s||[]).filter((function(e){return e.status!==b.B.APPROVED&&e.status!==b.B.CREATED&&e.status!==b.B.CONFIRMED}));return i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center"},i.createElement("h2",{className:"mb-l strong"},r("payoutAccount")),i.createElement(d.b,{className:"ml-auto",type:"outline-blue",text:r("addNewAccount"),onClick:function(){a({type:ys.SET_IS_FORM_OPENED,payload:!0})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement(d.f,{horizontal:!0,separated:!0},c&&i.createElement(i.Fragment,null,i.createElement("h3",{className:"v2-form-title"},r("activeAccount")),i.createElement(oc,{bankAccount:c,cardVariant:d.e.blue,iconFill:"#a5d3ea"})),i.createElement("h3",{className:"v2-form-title"},r("savedAccounts")),!ac(s&&s[0])&&i.createElement(Rc,{dispatch:a}),l&&i.createElement(oc,{bankAccount:l,cardVariant:d.e.orange}),m&&i.createElement(oc,{bankAccount:m,cardVariant:d.e.orange}),p&&p.map((function(e,t){return i.createElement(oc,{key:t,bankAccount:e,cardVariant:d.e.gray,isCardDisabled:!0})}))),n&&i.createElement(Ac,{isModalActive:n}))}))},el=n(90),tl=n(95),nl=function(e){var t=e.sectionTitle,n=e.communicationData,a=e.isTableActive,r=void 0===a||a,o=e.isLoading,s=function(e){return u.a.t("settings.prepayments.communication."+e)};return void 0!==o&&o?i.createElement(el.a,null):i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex mt-xl mb-l"},i.createElement("h4",{className:"fs-h4 strong mb-0"+(r?"":" text-disabled")},t),!r&&i.createElement(ks.a,{className:"ml-m",trigger:i.createElement("i",{className:"icon sprite-info_tip2"}),content:s("tooltip"),type:ks.d.Dark})),i.createElement("div",{className:"overflow-x-auto"},i.createElement(tl.a,{className:"table-bordered"+(r?"":" disabled"),data:n,isRowDisabled:function(e){return!!e.rowDisabled},columns:[{path:"type",label:s("tableHeader.type"),headerCellClassName:"p-m",bodyCellClassName:"p-m"},{path:"time",label:s("tableHeader.time"),headerCellClassName:"p-m",bodyCellClassName:"p-m"},{path:"sms",label:s("tableHeader.sms"),headerCellClassName:"p-m text-center",bodyCellClassName:"p-m text-center"},{path:"email",label:s("tableHeader.email"),headerCellClassName:"p-m text-center",bodyCellClassName:"p-m text-center"}]})))},al=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},rl=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ol=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},il=w()(Wc||(Wc=al(["\n  query getPrepaymentData {\n    viewer {\n      branch {\n        prepayments{\n          enabled\n          cancelEvents\n        }\n      }\n    }\n  }\n"],["\n  query getPrepaymentData {\n    viewer {\n      branch {\n        prepayments{\n          enabled\n          cancelEvents\n        }\n      }\n    }\n  }\n"]))),sl=function(e,t){return u.a.t("payments.modal.linkSent."+e,t)},cl=function(){var e=Object(i.useContext)(Ui),t=e.customer,n=e.communicationDeliveryOption;return i.createElement("div",{className:"text-center"},i.createElement(d.w,{name:d.x.successClouds}),i.createElement("h2",{className:"text-green"},sl("title")),i.createElement("p",null,sl("message")," ",i.createElement("strong",null,di(t))," ",sl("on"),n===b.l.EMAIL&&" "+t.email||n===b.l.SMS&&" +"+t.phones[0].countryPrefix+" "+t.phones[0].number||n===b.l.SMS_AND_EMAIL&&" "+t.email+" "+sl("and")+" +"+t.phones[0].countryPrefix+" "+t.phones[0].number))};function ll(e,t){document.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))}!function(e){e.open="v2ModalOpen",e.close="v2ModalClose"}(Kc||(Kc={}));var ul=n(120),dl=function(){return(dl=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var ml,pl,fl,El,yl,hl=function(e){return u.a.t("payments.modal.failure."+e)},vl=function(){return i.createElement("div",{className:"text-center"},i.createElement(d.w,{name:d.x.failureClouds}),i.createElement("h2",{className:"text-red"},hl("title")),i.createElement("p",null,hl("message")))},bl=function(e){var t=Object(i.useContext)(Ui),n=t.errors,a=t.transaction;return i.createElement(i.Fragment,null,a&&a.status===b.E.FAILURE&&i.createElement(vl,null),n&&n.map((function(e){return i.createElement("div",{key:e,className:"alert alert-danger mt-s"},e)}))||"")},gl=n(795),Sl=n(806),_l=function(){return(_l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Tl=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Nl=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ol=function(e){return function(t){t&&13===t.keyCode&&e&&e()}},Cl=function(e){var t=e.onChange,n=e.onHitEnter,a=e.showValidation,r=void 0===a||a,o=Object(i.useContext)(Ui),s=o.code,c=o.blikCodeValidation,l=o.dispatch,m=nt({"text-center":!0,"v2-form-control":!0,"v2-form-control-md":!0,invalid:r&&c});return i.createElement("div",{className:"text-center"},i.createElement(d.w,{name:d.x.blikLogoSmall,className:"blik-logo",width:50,height:50}),i.createElement("h3",{className:"strong mb-m"},u.a.t("payments.modal.enterBlikCode")),i.createElement("div",{className:"v2-form-controls"},i.createElement(xs.a,{mask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/],guide:!0,showMask:!0,value:s||"",className:m,size:9,onChange:t,onKeyDown:Ol(n),autoFocus:!0}),r&&c&&i.createElement(d.i,{message:c})),i.createElement("div",{className:"text-center mt-m"},i.createElement(d.b,{link:!0,text:u.a.t("payments.modal.howToPayByBlik"),onClick:function(){l({type:Ri.SET_BLIK_INFO_MODAL_VISIBLE,payload:!0})}})))},wl=function(e){var t=Object(i.useContext)(Ui),n=t.dispatch,a=t.customerId;return i.createElement("div",{className:"m-xl"},i.createElement("div",{className:"v2-row v2-row-l"},i.createElement("div",{className:"v2-col text-center d-flex flex-column"},i.createElement("h3",{className:"mt-0"},u.a.t("payments.customerPaysNow")),i.createElement(d.d,{active:!0,className:"flex-fill d-flex ai-center flex-column",link:!0,onClick:function(){return n({type:Ri.SET_MOMENT_OF_PAYMENT,payload:wi.now})}},i.createElement("p",{className:"fs-h4 strong"},u.a.t("payments.blik")),i.createElement("div",{className:"flex-fill"},i.createElement(d.w,{name:d.x.blikLogo,width:100,height:100})),i.createElement("button",{className:"button button-blue"},u.a.t("common.choose")))),i.createElement("div",{className:nt("v2-col text-center d-flex flex-column",{"opacity-30":!a})},i.createElement("h3",{className:"mt-0"},u.a.t("payments.customerPaysLater")),i.createElement(d.d,{link:!0,className:"flex-fill d-flex ai-center flex-column",onClick:function(){return a&&n({type:Ri.SET_MOMENT_OF_PAYMENT,payload:wi.later})}},i.createElement("p",{className:"fs-h4 strong"},u.a.t("payments.onlinePayments")),i.createElement("div",{className:"flex-fill"},i.createElement(d.w,{name:d.x.moneySack,width:100,height:100})),i.createElement("p",null,u.a.t("payments.sendMailWithPayment")),i.createElement("button",{className:"button",disabled:!a},u.a.t("common.choose"))))))},Al={countryPrefix:"48",countryCode:b.n.PL,number:""},Rl=function(e){var t=e.customerFormRef,n=Object(i.useContext)(Ui),a=n.amount,r=n.currency,o=n.subjectId,s=n.subjectType,c=n.onLinkSent,l=n.customer,m=n.customerFormData,p=n.customerId,f=n.dispatch,E=n.errors,y=n.isLimitExceeded,h=n.event,v={firstName:m.firstName,lastName:m.lastName,email:m.email||"",phones:m.phones||[],shouldSendSms:!1,shouldSendEmail:!0};if(!l)return i.createElement(d.v,null);var g=function(){return y?i.createElement(d.A,{trigger:i.createElement("span",{className:"text-muted-dark ml-s"},u.a.t("common.edit")),content:u.a.t("common.limitExceeded"),type:d.D.Error}):i.createElement("a",{href:"#",className:"ml-s",onClick:function(){return function(e,t,n,a,r){return Di(void 0,void 0,void 0,(function(){var a,o,i;return ki(this,(function(s){switch(s.label){case 0:return[4,yi(e)];case 1:return(a=s.sent())&&(o=a.customerSecuredData&&a.customerSecuredData.customer||{},i=Pi(Pi({},n),Object(hi.a)(o,["__typename"])),t({type:Ri.SET_CUSTOMER,payload:i}),r.current&&r.current.setFieldValue("email",a.customerSecuredData.customer&&a.customerSecuredData.customer.email),r.current&&r.current.setFieldValue("phones[0]",a.customerSecuredData.customer&&a.customerSecuredData.customer.phones[0])),[2]}}))}))}(p,f,l,0,t)}},u.a.t("common.edit"))};return i.createElement(i.Fragment,null,i.createElement("div",{className:"fs-h4 mb-l"},u.a.t("payments.modal.missingData")),i.createElement(rn.c,{ref:t,enableReinitialize:!0,initialValues:v,validationSchema:function(){return e=u.a.t("validation.email"),t=u.a.t("validation.phone"),n=u.a.t("payments.modal.communicationValidation"),sn.object().shape({shouldSendSms:sn.boolean(),shouldSendEmail:sn.boolean(),validationError:sn.string().when(["shouldSendSms","shouldSendEmail"],{is:!1,then:sn.string().required(n)}),email:sn.string().when("shouldSendEmail",{is:!0,then:sn.string().test({name:"email",message:e,test:function(e){return!!Ei(e)||sn.string().email().required().isValid(e)}})}),phones:sn.array().when("shouldSendSms",{is:!0,then:sn.array().min(1,t).of(sn.object({number:sn.string().test({name:"phone",message:t,test:function(e){return!!Ei(e)||sn.string().required().isValid(e)}})}))})});var e,t,n},onSubmit:function(e){return Tl(void 0,void 0,void 0,(function(){var t;return Nl(this,(function(n){return t=e.shouldSendSms&&e.shouldSendEmail?b.l.SMS_AND_EMAIL:e.shouldSendSms?b.l.SMS:b.l.EMAIL,f({type:Ri.SET_COMMUNICATION_DELIVERY_OPTION,payload:t}),!Object(gl.a)(Object(Sl.a)(e,["firstName","lastName"]),Object(Sl.a)(l,["firstName","lastName"]))||e.shouldSendEmail&&!Object(gl.a)(e.email,l.email)||e.shouldSendSms&&!Object(gl.a)(e.phones[0],l.phones[0])?(f({type:Ri.SET_IS_CUSTOMER_EDITED,payload:!0}),f({type:Ri.SET_CUSTOMER_FORM_DATA,payload:e}),[2]):E.length?[2]:(qi({request:{amount:a,currency:r||b.o.PLN,subjectId:(null==h?void 0:h.recurrence_group_id)||parseInt(o),subjectType:(null==h?void 0:h.recurrence_params)?b.F.RECURRING_EVENT_PREPAYMENT:s,deliveryPreference:t}},f,c),[2])}))}))},render:function(e){return i.createElement(rn.b,{className:"v2-form v2-form-narrow"},i.createElement("h3",{className:"v2-form-title font-normal"},u.a.t("payments.modal.clientDetails")),i.createElement(d.k,null,i.createElement(d.n,{text:u.a.t("settings.customer.firstName"),className:"v2-form-label-narrow"}),i.createElement(rn.a,{name:"firstName",render:function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls"},i.createElement(d.m,_l({},t,{onChange:function(e){n.setFieldValue(t.name,e.target.value)}}))))}})),i.createElement(d.k,null,i.createElement(d.n,{text:u.a.t("settings.customer.lastName"),className:"v2-form-label-narrow"}),i.createElement(rn.a,{name:"lastName",render:function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls"},i.createElement(d.m,_l({},t,{onChange:function(e){n.setFieldValue(t.name,e.target.value)}}))))}})),i.createElement("h3",{className:"v2-form-title font-normal"},u.a.t("payments.modal.sendPaymentLink")),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-6"},i.createElement(d.k,null,i.createElement(rn.a,{name:"shouldSendEmail",render:function(e){var t=e.field,n=e.form;return i.createElement(d.g,{checked:t.value,onChange:function(){n.setFieldValue(t.name,!t.value)},label:u.a.t("payments.modal.sendLinkEmail")})}}),i.createElement(rn.a,{name:"email",render:function(e){var t=e.field,n=e.form,a=n.errors.email&&n.touched.email?n.errors.email:null;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls mt-s"},Ei(l.email||"")?i.createElement(i.Fragment,null,i.createElement("span",null,t.value),g()):i.createElement(i.Fragment,null,i.createElement(d.m,_l({},t,{type:"text",errorMessage:a,onChange:function(e){n.setFieldValue(t.name,e.target.value)}})))))}}))),i.createElement("div",{className:"v2-col-6"},i.createElement(d.k,null,i.createElement(rn.a,{name:"shouldSendSms",render:function(e){var t=e.field,n=e.form;return i.createElement(i.Fragment,null,i.createElement(d.g,{checked:t.value,onChange:function(){n.setFieldValue(t.name,!t.value)},label:u.a.t("payments.modal.sendLinkSms")}))}}),i.createElement(rn.a,{name:"phones",render:function(e){var t=e.field,n=e.form,a=Object(Mr.a)(n.errors,"phones[0].number",Object(Mr.a)(n.errors,"phones",""));return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls mt-s"},Ei(Object(Mr.a)(l,"phones[0].number",""))?i.createElement(i.Fragment,null,i.createElement("span",null,t.value[0]&&t.value[0].number),g()):i.createElement(i.Fragment,null,i.createElement(d.t,{phone:t.value.length>0&&t.value[0],errorMessage:a,className:"w-full",defaultPhone:Al,onChange:function(e){n.setFieldValue("phones[0]",e)}}))))}}))),i.createElement("div",{className:"v2-col-12"},i.createElement(rn.a,{name:"validationError",render:function(e){var t=e.field,n=e.form;return i.createElement("div",{className:"text-invalid"},n.errors[t.name])}}))))}}))},Il=function(){var e=Object(i.useContext)(Ui),t=e.customerFormData,n=e.customer,a=function(e){return u.a.t("settings.customerDiff."+e)},r=Object(Mr.a)(n,"phones[0].number"),o=Object(Mr.a)(t,"phones[0].number"),s=Object.keys(n).filter((function(e){return n[e]!==t[e]})).filter((function(e){return t.shouldSendEmail?e:"email"!==e})).filter((function(e){return t.shouldSendSms&&r!==o?e:"phones"!==e})).filter((function(e){return"secured"!==e})).map((function(e){return{position:(a=e,u.a.t("settings.customer."+a)),beforeChange:"phones"===e?r:n[e],afterChange:"phones"===e?o:t[e]};var a}));return i.createElement(i.Fragment,null,i.createElement("div",{className:"fs-h5 mb-l"},u.a.t("settings.customerDiff.title")),i.createElement(d.z,{columns:[{path:"position",label:a("position")},{path:"beforeChange",label:a("beforeChange")},{path:"afterChange",label:a("afterChange")}],data:s}))},Pl=function(e){return u.a.t("payments.modal.progress."+e)},Dl=function(){return i.createElement("div",{className:"transaction-progress"},i.createElement("div",{className:"content"},i.createElement(d.w,{name:d.x.blikPhone,className:"blik-phone"}),i.createElement("div",{className:"text"},i.createElement("h2",{className:"title"},i.createElement(d.v,{inline:!0,size:"sm"}),Pl("title")),Pl("message"))))},kl=function(e){return u.a.t("payments.modal.success."+e)},Ml=function(){return i.createElement("div",{className:"text-center"},i.createElement(d.w,{name:d.x.successClouds}),i.createElement("h2",{className:"text-green"},kl("title")),i.createElement("p",null,kl("message")))},xl=function(){return(xl=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.CASH="cash",e.CREDIT_CARD="credit_card",e.TRANSFER="transfer",e.CARNET="carnet",e.REGISTERED_CARNET="registered_carnet",e.CERTIFICATE="certificate",e.CERTIFICATE_WITH_GIFT_CARD="certificate_with_gift_card",e.CERTIFICATE_WITH_GIFT_CARD_SPV="certificate_with_gift_card_spv",e.BARTER="barter",e.GIFT="gift",e.GRATIS="gratis",e.GROUP_BUYING="group_buying",e.PAYPAL="paypal",e.BALANCE="balance",e.ONLINE="online",e.ONLINE_LINK="online_link",e.ONLINE_BLIK="online_blik",e.OTHER="other",e.ONLINE_ONLINE_BOOKING="online_online_booking",e.ONLINE_ORDER_ONLINE="online_order_online"}(ml||(ml={})),function(e){e.CASH="cash",e.CREDIT_CARD="credit_card",e.TRANSFER="transfer",e.ONLINE="online",e.ONLINE_LINK="online_link",e.ONLINE_BLIK="online_blik"}(pl||(pl={})),function(e){e.LINK="link",e.BLIK="blik"}(fl||(fl={})),function(e){e.PAID="paid",e.QUEUED="queued",e.REFUNDED="refunded",e.UNPAID="unpaid",e.CANCELED="canceled",e.ANY="any",e.REFUND_PENDING="refund_pending",e.REFUND_FAILED="refund_failed",e.PAID_CANCELED="paid_canceled"}(El||(El={})),function(e){e.SET_TRANSACTIONS="SET_TRANSACTION",e.SET_ERRORS="SET_ERRORS"}(yl||(yl={}));var Ll,Fl,Bl=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},jl=function(){return(jl=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Gl=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Vl=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ul={loading:!1,transactions:[],errors:[]},Hl=function(e,t){switch(t.type){case yl.SET_TRANSACTIONS:return jl(jl({},e),{transactions:t.payload});case yl.SET_ERRORS:return jl(jl({},e),{errors:t.payload});default:return Ul}},zl=function(e){return u.a.t("payments.transaction."+e)},Yl=function(e){return u.a.t("payments.transaction.eventDetails."+e)},ql=function(e,t){return u.a.t("settings.customerTransactions."+e+"."+(t||"").toLowerCase())},Wl=function(e){var t=e.label,n=e.content;return i.createElement("div",{className:"v2-row p-s"},i.createElement("div",{className:"v2-col-sm-3"},t),i.createElement("div",{className:"v2-col-sm-9"},i.createElement("strong",null,n)))},Kl=function(e){var t,n=e.transaction,a=e.onRefund;return i.createElement("div",{className:"transaction-info"},i.createElement(Wl,{label:zl("id"),content:n.id}),i.createElement(Wl,{label:zl("customer"),content:n.customer?""+di(n.customer):u.a.t("common.empty")}),i.createElement(Wl,{label:zl("type"),content:ql("transactionType",n.type)}),i.createElement(Wl,{label:zl("subjectType"),content:ql("transactionSubjectType",n.subjectType)}),i.createElement(Wl,{label:zl("amount"),content:Object(dn.b)(n.amount,n.currency)}),i.createElement(Wl,{label:zl("date"),content:Object(ii.e)(n.finishDate)}),i.createElement(Wl,{label:zl("status"),content:(t=n.status,u.a.t("settings.customerTransactions.transactionStatus."+(t||"").toLowerCase()))}),i.createElement($l,{transaction:n,onRefund:a}))},$l=function(e){var t=e.transaction,n=e.onRefund;return t&&t.events&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row p-s mt-s"},i.createElement("div",{className:"v2-col-sm-12"},i.createElement("h4",null,Yl("title")))),t.events.map((function(e){return i.createElement("div",{key:e.id},i.createElement(Wl,{label:Yl("id"),content:e.id}),e.items&&e.items.map((function(e){return i.createElement("div",{key:e.id},i.createElement(Wl,{label:Yl("service"),content:e.service&&"Unlisted service"===e.service.fullName?Yl("unknown"):e.service.fullName}),i.createElement(Wl,{label:Yl("employee"),content:e.employee&&e.employee.firstName+" "+e.employee.lastName}),i.createElement(Wl,{label:Yl("date"),content:Object(ii.e)(e.startedAt)}))})),!t.refunded&&!(t.events&&t.events.length>0&&t.events[0].finalized)&&t.subjectType===b.F.EVENT_PREPAYMENT&&i.createElement("a",{href:"javascript:void(0)",className:"ml-s",onClick:function(){return window.Refunds.show_refund_method_modal({refundSubject:ui.EVENT_PREPAYMENT,id:e.id,amount:t.amount,customerName:(t.customer&&t.customer.firstName)+" "+(t.customer&&t.customer.lastName)||"",paymentStatus:t.status,paymentMethod:ml.CASH,onRefund:function(e){e.isRefunded&&(x.a.success(u.a.t("settings.prepayments.prepaymentRefunded")),n&&n())}})}},u.a.t("settings.prepayments.chargeBack.doRefund")),t.refunded&&i.createElement("div",null,"(",u.a.t("settings.prepayments.chargeBack.refunded"),")"))})))||i.createElement(i.Fragment,null)},Zl=function(){return(Zl=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Xl={loading:!1,isEditModeActive:!1,isAdvancedModeActive:!1,errors:[],data:{},isPeriodInputVisible:!1,isDatePickerVisible:!1,selectedPeriod:null,showPrepaymentsDescription:!1,showAdvancedSettings:!1,isSelectedServicesPrepaymentsHintModalVisible:!1};!function(e){e.setLoading="SET_LOADING",e.setErrors="SET_ERRORS",e.setEditMode="SET_EDIT_MODE",e.setAdvancedMode="SET_ADVANCED_MODE",e.showAdvancedSettings="SHOW_ADVANCED_SETTINGS",e.showSelectedServicesPrepaymentsHintModal="SHOW_SELECTED_SERVICES_PREPAYMENTS_HINT_MODAL",e.setData="SET_DATA",e.turnOnPrepayments="TURN_ON_PREPAYMENTS",e.setPeriodInputVisibility="SET_PERIOD_INPUT_VISIBILITY",e.setDatePickerVisibility="SET_DATE_PICKER_VISIBILITY",e.setSelectedPeriod="SET_SELECTED_PERIOD",e.showPrepaymentsDescription="SHOW_PREPAYMENTS_DESCRIPTION"}(Fl||(Fl={}));var Jl,Ql=function(e,t){switch(void 0===e&&(e=Xl),t.type){case Fl.setLoading:return Zl(Zl({},e),{loading:t.payload});case Fl.setErrors:return Zl(Zl({},e),{errors:t.payload});case Fl.setEditMode:return Zl(Zl({},e),{isEditModeActive:t.payload});case Fl.setAdvancedMode:return Zl(Zl({},e),{isAdvancedModeActive:t.payload});case Fl.setData:return Zl(Zl({},e),{data:t.payload});case Fl.setPeriodInputVisibility:return Zl(Zl({},e),{isPeriodInputVisible:t.payload});case Fl.setDatePickerVisibility:return Zl(Zl({},e),{isDatePickerVisible:t.payload});case Fl.setSelectedPeriod:return Zl(Zl({},e),{selectedPeriod:t.payload});case Fl.showPrepaymentsDescription:return Zl(Zl({},e),{showPrepaymentsDescription:t.payload});case Fl.showAdvancedSettings:return Zl(Zl({},e),{showAdvancedSettings:t.payload});case Fl.showSelectedServicesPrepaymentsHintModal:return Zl(Zl({},e),{isSelectedServicesPrepaymentsHintModalVisible:t.payload});case Fl.turnOnPrepayments:return Zl(Zl({},e),{data:t.payload,isEditModeActive:!0});default:return e}},eu=Object(i.createContext)({state:{},dispatch:function(){}}),tu=function(e){return u.a.t("settings.prepayments.selectedServicesPrepaymentsHintModal."+e)},nu=function(e){var t=Object(i.useContext)(eu),n=t.state,a=t.dispatch,r=n.isSelectedServicesPrepaymentsHintModalVisible;return i.createElement("div",null,i.createElement(d.p,{title:tu("title"),type:d.r.simple,backdropClose:!0,isFooterVisible:!1,isOpened:r,onClose:function(){a({type:Fl.showSelectedServicesPrepaymentsHintModal,payload:!1})}},i.createElement("div",{className:"text-center"},i.createElement("div",{className:"v2-row my-l"},i.createElement("div",{className:"v2-col"},i.createElement("h2",null,tu("header")))),i.createElement("div",{className:"v2-row mt-l mb-xl jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",null,tu("content")))),i.createElement("div",{className:"v2-row jc-center"},i.createElement("div",{className:"v2-col-8"},i.createElement("img",{className:"w-100p",src:window.getAssetHost("images/prepayments/selected-services-prepayments.png"),alt:tu("content")}))))))},au=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};!function(e){e.all="all",e.selectedDays="selectedDays"}(Jl||(Jl={}));var ru,ou=function(e){var t=e.field,n=e.form;return i.createElement("div",{className:"v2-form-options"},[Jl.all,Jl.selectedDays].map((function(e){return i.createElement("label",{key:e,className:"v2-form-option",onClick:function(){if(n.setFieldValue(t.name,e),e===Jl.all){var a=n.values.dateRules;n.setFieldValue("daysOfTheWeekRule",[]),n.setFieldValue("dateRulesToRemove",au(au([],n.values.dateRulesToRemove,!0),a,!0)),n.setFieldValue("dateRules",[]),n.setFieldValue("dateRulesToAdd",[])}}},i.createElement("span",{className:nt("mr-s",{"text-red":e===Jl.selectedDays&&n.touched[t.name]&&n.errors[t.name]})},u.a.t("settings.prepayments.eventPrepaymentRequirement."+e)),i.createElement("input",{type:"radio",className:"v2-form-check",checked:t.value===Jl[e],onChange:function(){}}))})))},iu=function(){return(iu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},su=function(e){var t=e.field,n=e.form,a=n.errors.cancelEventAfterHours,r=i.createElement("input",iu({},t,{type:"text",className:nt("v2-form-control ml-s",{invalid:a}),disabled:!n.values.cancelEvents,style:{width:65}}));return i.createElement("div",null,a&&i.createElement(Ct.a,{className:"mt-xs font-normal text-left text-notransform",trigger:r,content:a,type:Ct.d.Error})||r," "+u.a.t("settings.prepayments.hoursAfterVisit"))},cu=function(){return(cu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},lu=24,uu=48,du=72,mu=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(eu),r=a.state,o=a.dispatch,s=r.data,c=s.cancelEventAfterHours?s.cancelEventAfterHours:lu,l=c!==lu&&c!==uu&&c!==du;return i.createElement("span",{className:"v2-form-controls"},i.createElement("select",cu({},t,{className:"v2-form-control ml-s",disabled:!n.values.cancelEvents,onChange:function(e){"custom"===e.target.value.toString()?o({type:Fl.setPeriodInputVisibility,payload:!0}):n.setFieldValue("cancelEventAfterHours",e.target.value)},value:t.value?t.value:+c}),l?i.createElement("option",{value:c},c,u.a.t("settings.prepayments.hoursAfterVisit")):null,i.createElement("option",{value:lu},lu,u.a.t("settings.prepayments.hoursAfterVisit")),i.createElement("option",{value:uu},uu,u.a.t("settings.prepayments.hoursAfterVisit")),i.createElement("option",{value:du},du,u.a.t("settings.prepayments.hoursAfterVisit")),i.createElement("option",{value:"custom"},u.a.t("common.otherPeriod"))))},pu=function(){return(pu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},fu=function(e){var t=e.field,n=e.form,a=e.label;return i.createElement(i.Fragment,null,i.createElement(_n.a,pu({},t,{label:a,checked:!!t.value,onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])}})))},Eu=function(e){var t=e.field,n=e.form;return i.createElement(_n.a,{id:t.name,label:u.a.t("settings.prepayments.prepaymentNotifications."+t.name),checked:!!n.values[t.name],onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])}})},yu=function(){return(yu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.everyone="everyone",e.oneEvent="oneEvent",e.twoEvents="twoEvents",e.threeEvents="threeEvents"}(ru||(ru={}));var hu,vu=function(e){if(e.customerRule===b.I.EVERYONE)return ru.everyone;if(e.customerRule===b.I.EVENT_COUNTER)switch(e.customerRuleEventCount){case 1:return ru.oneEvent;case 2:return ru.twoEvents;case 3:return ru.threeEvents;default:return ru.everyone}},bu=function(e){return function(t){var n=t.target.value;n===ru.everyone&&(e.setFieldValue("customerRule",b.I.EVERYONE),e.setFieldValue("customerRuleEventCount",void 0)),n!==ru.everyone&&e.setFieldValue("customerRule",b.I.EVENT_COUNTER),n===ru.oneEvent&&e.setFieldValue("customerRuleEventCount",1),n===ru.twoEvents&&e.setFieldValue("customerRuleEventCount",2),n===ru.threeEvents&&e.setFieldValue("customerRuleEventCount",3)}},gu=function(e){var t,n=e.field,a=e.form,r=((t={})[ru.everyone]=u.a.t("settings.prepayments.customerRules."+b.I.EVERYONE.toLowerCase()),t[ru.oneEvent]=u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:1,count:1}),t[ru.twoEvents]=u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:2,count:2}),t[ru.threeEvents]=u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:3,count:3}),t);return i.createElement("span",{className:"v2-form-controls"},i.createElement("select",yu({className:"v2-form-control w-auto"},n,{value:vu(a.values),onChange:bu(a)}),Object.keys(r).map((function(e){return i.createElement("option",{key:e,value:e},r[e])}))),i.createElement(ks.a,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 "}),content:u.a.t("settings.prepayments.tooltip.customerRules"),className:"ml-s",type:ks.d.Info}))},Su=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},_u=Object.keys(b.p),Tu=Su(Su([],_u.slice(1,_u.length),!0),[_u[0]],!1),Nu=function(e){var t=e.field,n=e.form;return i.createElement("div",{className:"v2-form-options"},i.createElement("div",{className:"v2-form-options v2-form-options-vertical"},n.values.daysOfTheWeekRule.length>0&&Tu.map((function(e){var a=-1!==(t.value||[]).indexOf(e),r=a?t.value.filter((function(t){return t!==e})):Su(Su([],t.value,!0),[e],!1);return i.createElement("label",{key:e,className:"v2-form-option mb-s mr-s"},i.createElement("input",{type:"checkbox",className:"v2-form-check",checked:a,onChange:function(){},onClick:function(){n.setFieldValue(t.name,r)}}),u.a.t("weekdayNames."+e.toLowerCase()))}))))},Ou=function(){return(Ou=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Cu=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement("select",Ou({className:"v2-form-control w-auto ml-m"},t),i.createElement("option",{value:b.J.PERCENT},"%"),i.createElement("option",{value:b.J.AMOUNT},Object(dn.d)(n.values.currency)," ",a.t(En.c.GROSS)))},wu=function(){return(wu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Au=function(e){var t=e.field,n=e.form;return i.createElement("span",{className:"v2-form-controls"},i.createElement("select",wu({className:"v2-form-control w-auto"},t,{value:n.values.enabled?"enabled":"disabled",onChange:function(e){var t=e.target.value;n.setFieldValue("enabled","enabled"===t)}}),i.createElement("option",{value:"enabled"},u.a.t("settings.prepayments.switch.enabled")),i.createElement("option",{value:"disabled"},u.a.t("settings.prepayments.switch.disabled"))))},Ru=function(){return(Ru=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Iu=function(e){var t=e.field,n=e.form,a=Object(i.useContext)(En.a).netGrossTranslationUtils,r=n.values.currency,o=n.errors.minimalAmount;return i.createElement(i.Fragment,null,i.createElement("div",{className:"prepayment-minimal-amount-input"},i.createElement(_n.f,Ru({},t,{type:"number",wrap:!1,size:5,className:"mr-m",step:"0.01",errorMessage:o}))),i.createElement("span",{style:{marginTop:"6px"}},Object(dn.d)(r)," "+a.t(En.c.GROSS)),i.createElement(Ct.a,{className:"ml-s mt-xs font-normal text-left text-notransform",trigger:i.createElement("i",{className:"icon sprite-info_tip2 "}),content:u.a.t("settings.prepayments.tooltip.minimalAmount"),type:Ct.d.Dark}))},Pu=function(){return(Pu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Du=function(e){var t=e.field,n=e.form;return i.createElement("span",{className:"v2-form-controls"},i.createElement("select",Pu({className:"v2-form-control w-auto"},t,{value:Ju(n.values.defaultValue&&n.values.defaultValue||0),onChange:function(e){var t=e.target.value;n.setFieldValue("prepaidServices",t),t===hu.particular&&(n.setFieldValue("minimalAmount",0),n.setFieldValue("defaultValue",0),n.setFieldValue("defaultMeasure",b.J.PERCENT)),t===hu.all&&(n.setFieldValue("defaultValue",20),n.setFieldValue("defaultMeasure",b.J.PERCENT))}}),i.createElement("option",{value:hu.all},u.a.t("settings.prepayments.switch.enabledForAll")),i.createElement("option",{value:hu.particular},u.a.t("settings.prepayments.switch.enabledForParticullar"))))},ku=n(796),Mu=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},xu=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Lu=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Fu={minDate:Object(ku.a)(),ranges:{}},Bu=function(e,t){return function(n){var a=-1!==e.id.indexOf("tmp"),r={dateRules:t.values.dateRules.filter((function(t){return t.id!==e.id})),dateRulesToAdd:a?t.values.dateRulesToAdd.filter((function(t){return t.id!==e.id})):t.values.dateRulesToAdd,dateRulesToRemove:a?t.values.dateRulesToRemove:Lu(Lu([],t.values.dateRulesToRemove,!0),[e],!1)};Object.keys(r).forEach((function(e){t.setFieldValue(e,r[e])})),n.preventDefault()}},ju=function(e,t){return function(n,a){return Mu(void 0,void 0,void 0,(function(){return xu(this,(function(r){return e.setFieldValue("dateRulesToAdd",Lu(Lu([],e.values.dateRulesToAdd,!0),[{id:"tmp-"+Yi(),dates:{begin:n.format(),end:a.format()}}],!1)),t({type:Fl.setDatePickerVisibility,payload:!1}),[2]}))}))}},Gu=function(e){return function(t){e({type:Fl.setDatePickerVisibility,payload:!0}),t.preventDefault()}},Vu=function(e){var t=e.dateRule;return i.createElement(i.Fragment,null,t.dates.begin&&t.dates.end&&Object(Ko.a)(t.dates.begin).format(ii.c)," : ",Object(Ko.a)(t.dates.end).format(ii.c))},Uu=function(e){e.field;var t=e.form,n=Object(i.useContext)(eu),a=n.state,r=n.dispatch;return i.createElement("span",{className:"v2-form-controls"},t.values.dateRules.concat(t.values.dateRulesToAdd).filter((function(e){return"placeholder"!==e.id})).map((function(e){return i.createElement("div",{className:"mb-s",key:e.id},i.createElement(Vu,{dateRule:e}),i.createElement(lr.a,{text:u.a.t("settings.prepayments.dateRules.removeDateRange"),link:!0,onClick:Bu(e,t)}))})),a.isDatePickerVisible&&i.createElement(Os.a,{name:"datePicker",options:Fu,onChange:ju(t,r)})||"",!a.isDatePickerVisible&&t.values.dateRules.concat(t.values.dateRulesToAdd).length>0&&i.createElement(lr.a,{text:"+"+u.a.t("settings.prepayments.dateRules.addDateRange"),link:!0,onClick:Gu(r)})||"")},Hu=function(){return(Hu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zu=function(e){var t=e.field,n=e.type,a=(e.label,e.currency),r=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement(i.Fragment,null,i.createElement(_n.f,Hu({},t,{type:n,size:5,wrap:!1}),a&&a+" "+r.t(En.c.GROSS)))},Yu=function(){return i.createElement("div",{className:"v2-form-controls"},i.createElement(rn.a,{type:"number",name:"defaultValue",component:zu}),i.createElement(rn.a,{name:"defaultMeasure",component:Cu}))},qu=function(){return(qu=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Wu=function(e){var t=e.field,n=e.form,a=e.label;return i.createElement(i.Fragment,null,i.createElement(_n.a,qu({},t,{label:a,checked:!!t.value,onChange:function(){return n.setFieldValue(t.name,!n.values[t.name])}})),i.createElement(Ct.a,{className:"ml-s font-normal text-left text-notransform",style:{marginTop:"6px"},trigger:i.createElement("i",{className:"icon sprite-info_tip2 "}),content:u.a.t("settings.prepayments.tooltip.roundDown",{currency:Object(dn.d)(n.values.currency)}),type:Ct.d.Dark}))},Ku=function(){return(Ku=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$u=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Zu=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Xu=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function Ju(e){return e>0?hu.all:hu.particular}!function(e){e.all="all",e.particular="particular"}(hu||(hu={}));var Qu=function(e){return+(e||0)},ed=function(e,t){return function(n){return $u(void 0,void 0,void 0,(function(){var a,r,o,i,s,c;return Zu(this,(function(l){switch(l.label){case 0:return a=e&&e.current,(r=a.getFormikBag().values).dateRulesToAdd.filter((function(e){return"placeholder"!==e.id})).map((function(e){return $u(void 0,void 0,void 0,(function(){return Zu(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:cd,variables:{dateRule:{dates:e.dates}}},result:function(e){return e||null},mutationErrors:function(e){return e.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return t.sent(),[2]}}))}))})),r.dateRulesToRemove.map((function(e){return $u(void 0,void 0,void 0,(function(){return Zu(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:ld,variables:{id:+e.id}},result:function(e){return e||null},mutationErrors:function(e){return[]},successMessage:A.a.HideMutationResultMessage})];case 1:return t.sent(),[2]}}))}))})),o=r.enabled?{prepayments:yd(n),onlinePayment:Ku({messagePrepaymentUnpaid:n.messagePrepaymentUnpaid},n.messagePrepaymentUnpaid&&{notificationsEmail:n.notificationsEmail})}:{prepayments:{enabled:r.enabled}},[4,A.a.mutate({options:{mutation:sd,variables:{branch:o},refetchQueries:[{query:id}]},result:function(e){return e||null},mutationErrors:function(e){return e.updateBranch.errors||[]},errorMessage:{message:u.a.t("settings.settingsNotSaved")},successMessage:A.a.HideMutationResultMessage})];case 1:return i=l.sent(),s=!1===yd(n).enabled,c=s?"settings.prepayments.prepaymentsDisabled":"settings.settingsSaved","pl"!==u.a.currentLocale()||s||n.prepaidServices!==hu.particular||t.dispatch({type:Fl.showSelectedServicesPrepaymentsHintModal,payload:!0}),i&&i.updateBranch&&i.updateBranch.branch&&(x.a.success(u.a.t(c)),t.dispatch({type:Fl.setEditMode,payload:!1}),n.cancelEventAfterHours=Qu(n.cancelEventAfterHours),t.dispatch({type:Fl.setData,payload:n}),t.dispatch({type:Fl.setPeriodInputVisibility,payload:!1})),i&&i.updateBranch.errors&&i.updateBranch.errors.forEach((function(e){x.a.error(u.a.t("settings.prepayments.errors."+e.argument+"."+e.code))})),e&&e.current&&e.current.setSubmitting(!1),ud(t.dispatch),[2]}}))}))}},td=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},nd=function(){return(nd=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ad=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},rd=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},od="\n branch {\n   address {\n     countryCode\n   }\n   locale\n   currency\n   prepayments {\n     cancelEventAfterHours\n     cancelEvents\n     customerRule\n     customerRuleEventCount\n     daysOfTheWeekRule\n     defaultMeasure\n     defaultValue\n     minimalAmount\n     enabled\n     roundDown\n     dateRules {\n      \n  id\n  dates {\n   begin\n   end\n  }\n\n    }\n   }\n   onlinePayment {\n     notificationsEmail\n     messagePrepaymentUnpaid\n   }\n }\n",id=w()(dd||(dd=td(["\n  query GetPrepayments {\n    ","\n  }\n"],["\n  query GetPrepayments {\n    ","\n  }\n"])),"\nviewer {\n  \n branch {\n   address {\n     countryCode\n   }\n   locale\n   currency\n   prepayments {\n     cancelEventAfterHours\n     cancelEvents\n     customerRule\n     customerRuleEventCount\n     daysOfTheWeekRule\n     defaultMeasure\n     defaultValue\n     minimalAmount\n     enabled\n     roundDown\n     dateRules {\n      \n  id\n  dates {\n   begin\n   end\n  }\n\n    }\n   }\n   onlinePayment {\n     notificationsEmail\n     messagePrepaymentUnpaid\n   }\n }\n\n}"),sd=w()(md||(md=td(["\n  mutation SetBranchPrepaymentsConfig($branch: BranchUpdateInput!) {\n    updateBranch(branch:$branch) {\n      errors {\n        argument\n        code\n      }\n      ","\n    }\n  }\n"],["\n  mutation SetBranchPrepaymentsConfig($branch: BranchUpdateInput!) {\n    updateBranch(branch:$branch) {\n      errors {\n        argument\n        code\n      }\n      ","\n    }\n  }\n"])),od),cd=w()(pd||(pd=td(["\n  mutation CreatePrepaymentsDateRule($dateRule: EventPrepaymentDateRuleInput!) {\n    createPrepaymentsDateRule(dateRule: $dateRule) {\n      dateRule {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"],["\n  mutation CreatePrepaymentsDateRule($dateRule: EventPrepaymentDateRuleInput!) {\n    createPrepaymentsDateRule(dateRule: $dateRule) {\n      dateRule {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"])),"\n  id\n  dates {\n   begin\n   end\n  }\n"),ld=w()(fd||(fd=td(["\n  mutation DeletePrepaymentsDateRule($id: Int!) {\n    deletePrepaymentsDateRule(id: $id)\n  }\n"],["\n  mutation DeletePrepaymentsDateRule($id: Int!) {\n    deletePrepaymentsDateRule(id: $id)\n  }\n"])));function ud(e){return ad(this,void 0,void 0,(function(){var t,n;return rd(this,(function(a){switch(a.label){case 0:return e({type:Fl.setLoading,payload:!0}),[4,A.a.query({options:{query:id,fetchPolicy:"network-only"},result:function(e){return e||null},errorHandler:{onGraphQLErrors:function(t){e({type:Fl.setErrors,payload:t.map((function(e){return e.message||""}))})}}})];case 1:return t=a.sent(),e({type:Fl.setLoading,payload:!1}),t&&(n=nd(nd(nd(nd({countryCode:Object(Mr.a)(t,"viewer.branch.address.countryCode")||b.n.PL,locale:Object(Mr.a)(t,"viewer.branch.locale")||b.r.PL_PL,currency:Object(Mr.a)(t,"viewer.branch.currency")||b.o.PLN},Object(Mr.a)(t,"viewer.branch.prepayments")||{}),{prepaidServices:Ju(Object(Mr.a)(t,"viewer.branch.prepayments.defaultValue")),messagePrepaymentUnpaid:Object(Mr.a)(t,"viewer.branch.onlinePayment.messagePrepaymentUnpaid"),notificationsEmail:Object(Mr.a)(t,"viewer.branch.onlinePayment.notificationsEmail")}),t.viewer.branch.onlinePayment.messagePrepaymentUnpaid&&{notificationsEmail:Object(Mr.a)(t,"viewer.branch.onlinePayment.notificationsEmail")}),{dateRulesToAdd:[],dateRulesToRemove:[],eventPrepaymentRequirement:Ed(t.viewer.branch.prepayments)}),e({type:Fl.setData,payload:n})),[2]}}))}))}var dd,md,pd,fd,Ed=function(e){return(Object(Mr.a)(e,"daysOfTheWeekRule",[]).length>0||Object(Mr.a)(e,"dateRules",[]).length>0||Object(Mr.a)(e,"dateRulesToAdd",[]).length>0)&&Jl.selectedDays||Jl.all};function yd(e){if(!e)return{};var t=Qu(e.cancelEventAfterHours);return{enabled:e.enabled,defaultMeasure:e.defaultMeasure||b.J.AMOUNT,defaultValue:e.defaultValue||0,minimalAmount:e.minimalAmount||0,roundDown:!!e.roundDown,cancelEvents:e.cancelEvents,cancelEventAfterHours:t,customerRule:e.customerRule,customerRuleEventCount:e.customerRuleEventCount,daysOfTheWeekRule:e.daysOfTheWeekRule.filter((function(e){return"placeholder"!==e}))}}var hd,vd,bd=n(124),gd=function(){return(gd=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Sd=function(){var e=Object(i.useContext)(eu),t=e.dispatch,n=e.state,a=n.data,r=a.locale===b.r.PL_PL&&a.countryCode!==b.n.PL,o=function(){t({type:Fl.turnOnPrepayments,payload:gd(gd({},a),{enabled:!0,cancelEventAfterHours:48})})};return i.createElement("div",null,i.createElement(bd.Mutation,{mutation:sd},(function(e){var a=function(e){return u.a.t("settings.prepayments."+e)},s=function(e){return u.a.t("settings.prepayments."+(r?"foreignBranchUsingPolishLocale."+e:e))};return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-blank"},i.createElement("div",{className:"v2-blank-actions"},i.createElement(lr.a,{className:"button button-blue ml-auto",onClick:o,text:a("turnOn"),disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{name:Vr.b.prepaymentsLogo})),i.createElement("h2",{className:"v2-blank-title"},a("title")),i.createElement("p",null,s("info")),n.showPrepaymentsDescription?i.createElement(i.Fragment,null,i.createElement("h3",null,a("howItWorks")),i.createElement("p",null,s("howItWorksInfo")),i.createElement("h3",null,a("whyWorth")),i.createElement("p",null,s("whyWorthInfo"))):i.createElement("a",{href:"#",onClick:function(){return t({type:Fl.showPrepaymentsDescription,payload:!0})}},u.a.t("common.learnMore")))))})))},_d=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Td=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nd=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Od=function(e,t){return function(e){var n=t.state,a=t.dispatch,r=n.isPeriodInputVisible,o=e.values.messagePrepaymentUnpaid,s=Nd(Nd([],e.values.dateRules,!0),e.values.dateRulesToAdd,!0).length>0;return i.createElement(rn.b,{className:"v2-form v2-form-counted"},i.createElement("fieldset",null,i.createElement(d.k,{label:u.a.t("settings.prepayments.labels.prepayments")},i.createElement(rn.a,{name:"enabled",component:Au})),e.values.enabled&&i.createElement(i.Fragment,null,i.createElement(d.k,{label:u.a.t("settings.prepayments.labels.prepaidServices"),className:e.values.prepaidServices===hu.particular?"v2-form-group-important":""},i.createElement(rn.a,{name:"enabled",component:Du}),e.values.prepaidServices===hu.particular&&i.createElement("div",{className:"mt-s"},u.a.t("settings.prepayments.prepaymentsDefaultValueForParticularInfo"),i.createElement(d.A,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 ml-s"}),content:u.a.t("settings.prepayments.prepaymentsDefaultValueForParticularHint"),type:d.D.Info}))),e.values.prepaidServices===hu.all&&i.createElement(d.k,{label:u.a.t("settings.prepayments.labels.defaultValue")},i.createElement(Yu,null)),e.values.prepaidServices!==hu.particular&&i.createElement(d.k,{label:u.a.t("settings.prepayments.labels.minimalAmount")},i.createElement(rn.a,{type:"number",name:"minimalAmount",component:Iu}))||"",i.createElement("h3",{className:"mt-xl v2-form-title"},u.a.t("settings.prepayments.prepaymentNotifications.notificationsTitle")),i.createElement(d.k,{label:Ys("notificationsEmail")},i.createElement(rn.a,{name:"notificationsEmail",component:hc,validate:o&&Ws,disabled:!o}),i.createElement(d.A,{trigger:i.createElement("i",{className:"icon sprite-info_tip2 "}),content:u.a.t("payments.communication.notificationsEmailTooltip"),className:"d-flex ai-center ml-s",type:d.D.Info})),i.createElement(d.k,null,i.createElement(rn.a,{name:"messagePrepaymentUnpaid",component:Eu,label:u.a.t("settings.prepayments.labels.roundDown")})),i.createElement("div",null,i.createElement("h3",{className:"mt-xl v2-form-title"},u.a.t("settings.prepayments.advancedSettings.title"),!n.isAdvancedModeActive&&i.createElement(lr.a,{text:u.a.t("settings.prepayments.advancedSettings.show"),link:!0,className:"ml-s",onClick:function(e){a({type:Fl.setAdvancedMode,payload:!n.isAdvancedModeActive}),e.preventDefault()}})||"")),n.isAdvancedModeActive&&i.createElement(i.Fragment,null,i.createElement(d.k,{label:u.a.t("settings.prepayments.eventPrepaymentRequirement.title")},i.createElement(rn.a,{name:"eventPrepaymentRequirement",component:ou})),e.values.eventPrepaymentRequirement===Jl.selectedDays&&i.createElement(i.Fragment,null,i.createElement(d.j,{className:"mb-s"},i.createElement("h4",{className:nt("v2-form-box-title",{"mb-m":e.values.daysOfTheWeekRule.length>0})},u.a.t("settings.prepayments.labels.daysOfTheWeekRule"),i.createElement(d.y,{checked:e.values.daysOfTheWeekRule.length>0,className:"pull-right",onChange:function(t){var n=t?["placeholder"]:[];e.setFieldValue("daysOfTheWeekRule",n)}})),i.createElement(rn.a,{name:"daysOfTheWeekRule",component:Nu,label:u.a.t("settings.prepayments.labels.daysOfTheWeekRule")})),i.createElement(d.j,{className:"mb-s"},i.createElement("h4",{className:nt("v2-form-box-title",{"mb-s":s})},u.a.t("settings.prepayments.labels.dateRules"),i.createElement(d.y,{checked:s,className:"pull-right",onChange:function(t){t&&e.setFieldValue("dateRulesToAdd",[{id:"placeholder",dates:{}}]),t||(e.setFieldValue("dateRulesToRemove",Nd(Nd([],e.values.dateRulesToRemove,!0),e.values.dateRules,!0)),e.setFieldValue("dateRulesToAdd",[]),e.setFieldValue("dateRules",[]))}})),i.createElement(rn.a,{name:"dateRules",component:Uu})),e.touched.eventPrepaymentRequirement&&e.errors.eventPrepaymentRequirement&&i.createElement("p",{className:"text-red"},e.errors.eventPrepaymentRequirement)||"")||"",i.createElement(d.k,{label:u.a.t("settings.prepayments.labels.customerRule")},i.createElement(rn.a,{name:"customerRule",component:gu})),i.createElement(d.k,null,i.createElement(rn.a,{name:"cancelEvents",component:fu,label:u.a.t("settings.prepayments.labels.cancelEvents")}),i.createElement(rn.a,{name:"cancelEventAfterHours",component:r?su:mu})),i.createElement(d.k,null,i.createElement(rn.a,{name:"roundDown",component:Wu,label:u.a.t("settings.prepayments.labels.roundDown")}))))||""),i.createElement("div",{className:"v2-form-actions"},i.createElement(lr.a,{className:"button button-blue",disabled:e.isSubmitting,type:"submit",tabIndex:1,text:e.isSubmitting&&u.a.t("common.processing")||u.a.t("common.saveChanges")}),i.createElement(lr.a,{className:"button ml-s",disabled:e.isSubmitting,tabIndex:2,text:u.a.t("common.cancel"),onClick:function(){return _d(void 0,void 0,void 0,(function(){return Td(this,(function(e){switch(e.label){case 0:return[4,ud(a)];case 1:return e.sent(),t.dispatch({type:Fl.setEditMode,payload:!1}),[2]}}))}))}})))}},Cd=function(){var e,t,n,a,r,o,s=Object(i.useRef)({}),c=Object(i.useContext)(eu),l=c.state.data;return i.createElement(i.Fragment,null,i.createElement("h3",{className:"v2-form-title"},u.a.t("settings.prepayments.title")),i.createElement(rn.c,{ref:s,initialValues:l,validationSchema:(e=u.a.t("validation.minZero"),t=u.a.t("validation.maxHundred"),n=u.a.t("settings.prepayments.validation.defaultValueMinimalAmount"),a=u.a.t("settings.prepayments.validation.eventPrepaymentRequirement"),r=u.a.t("validation.invalid"),o=u.a.t("settings.prepayments.validation.minimalAmountIsHigherThanDefault"),sn.object().shape({enabled:sn.string(),defaultMeasure:sn.string().matches(/^(AMOUNT|PERCENT)$/),defaultValue:sn.number().when("defaultMeasure",{is:"PERCENT",then:sn.number().min(0,e).max(100,t),otherwise:sn.number().min(sn.ref("minimalAmount"),n)}),minimalAmount:sn.number().min(0,e).when("defaultMeasure",{is:"AMOUNT",then:sn.number().lessThan(sn.ref("defaultValue")).max(sn.ref("defaultValue"),o)}),roundDown:sn.boolean(),cancelEventAfterHours:sn.string().test({test:function(e){var t=parseInt(e);return!isNaN(t)&&t>0&&!!e.match(/^\d+$/)},message:r}),eventPrepaymentRequirement:sn.mixed().test({test:function(e){var t=this.parent,n=t.daysOfTheWeekRule,a=t.dateRules,r=t.dateRulesToAdd;return e===Jl.all||Xu(Xu(Xu([],n.filter((function(e){return"placeholder"!==e})),!0),a,!0),r.filter((function(e){return"placeholder"!==e.id})),!0).length>0},message:a})})),enableReinitialize:!0,render:Od(0,c),onSubmit:ed(s,c)}))},wd=function(e){var t=e.customerRule,n=e.customerRuleEventCount;if(t===b.I.EVENT_COUNTER)switch(n){case 1:return i.createElement(i.Fragment,null,u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:1,count:1}));case 2:return i.createElement(i.Fragment,null,u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:2,count:2}));case 3:return i.createElement(i.Fragment,null,u.a.t("settings.prepayments.customerRules.eventCounter",{eventCount:3,count:3}));default:return i.createElement(i.Fragment,null,u.a.t("settings.prepayments.customerRules.everyone"))}return i.createElement(i.Fragment,null,u.a.t("settings.prepayments.customerRules.everyone"))},Ad=function(){var e=Object(i.useContext)(eu),t=e.state,n=e.dispatch,a=function(e){return u.a.t("settings.prepayments."+e)},r=t.data,o=r.defaultValue,s=r.defaultMeasure,c=r.minimalAmount,l=r.roundDown,m=r.cancelEvents,p=r.cancelEventAfterHours,f=r.currency,E=r.prepaidServices,y=r.messagePrepaymentUnpaid,h=r.notificationsEmail,v=r.customerRule,b=r.customerRuleEventCount,g=r.dateRules,S=r.daysOfTheWeekRule;return i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center mb-xl"},i.createElement("h2",{className:"strong mt-0"},a("title")),i.createElement(lr.a,{className:"ml-auto",onClick:function(){return n({type:Fl.setEditMode,payload:!0})},text:u.a.t("common.edit"),disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("labels.prepayments")),i.createElement("div",{className:"v2-col d-flex ai-center strong"},i.createElement(d.a,{text:u.a.t("settings.prepayments.labelActive"),variant:"APPROVED",icon:!0,pill:!0,className:"mr-s"}))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.prepayments.preview.prepaidServices.title")),i.createElement("div",{className:"v2-col strong"}," ",u.a.t("settings.prepayments.preview.prepaidServices."+E))),E!==hu.particular&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.prepayments.labels.defaultValue")),i.createElement("div",{className:"v2-col strong"}," ",o," ","PERCENT"===s?"%":Object(dn.d)(f))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("labels.minimalAmount")),i.createElement("div",{className:"v2-col strong"},c||0," ",Object(dn.d)(f))))||"",i.createElement("h3",{className:"v2-form-title mt-xl"},a("notifications")),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("prepaymentNotifications.notificationsEmail")),i.createElement("div",{className:"v2-col strong"},h||u.a.t("common.empty"))),i.createElement("div",{className:"v2-row mb-m ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("prepaymentNotifications.messagePrepaymentUnpaid")),i.createElement("div",{className:"v2-col strong"},i.createElement(Ls,{isActive:y}))),i.createElement("div",{className:"d-flex ai-center mt-xl mb-s"},i.createElement("h3",{className:"v2-form-title m-0"},a("advancedSettings.title")),!t.showAdvancedSettings&&i.createElement(lr.a,{className:"ml-s",link:!0,text:a("advancedSettings.show"),onClick:function(){return n({type:Fl.showAdvancedSettings,payload:!0})}})),t.showAdvancedSettings&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.prepayments.preview.eventPrepaymentRequirement.title")),i.createElement("div",{className:"v2-col strong"},u.a.t("settings.prepayments.preview.eventPrepaymentRequirement."+Ed(t.data)),i.createElement("div",{className:"mt-xs text-muted"},i.createElement("div",null,Tu.filter((function(e){return-1!==S.indexOf(e)})).map((function(e){return u.a.t("weekdayNames."+e.toLowerCase())})).join(", ")),i.createElement("div",null,g.map((function(e,t){return i.createElement("span",{key:e.id+"_"+t},i.createElement(Vu,{dateRule:e}),t+1<g.length&&i.createElement(i.Fragment,null,", ",i.createElement("br",null)))})))))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.prepayments.preview.customerRules.title")),i.createElement("div",{className:"v2-col strong"}," ",i.createElement(wd,{customerRule:v,customerRuleEventCount:b}))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("preview.cancelEvents")),i.createElement("div",{className:"v2-col strong"},m?i.createElement("span",null,p,a("hoursAfterVisit")):a("activityStatus.false"))),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},a("preview.roundDown")),i.createElement("div",{className:"v2-col strong"},a("activityStatus."+!!l))))))},Rd=function(e){return!!Object(Mr.a)(e,"enabled",!1)},Id=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pd=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Dd=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object(vi.a)(window,"reactLegacyBridge.prepayments.getEventPrepaymentRequirements",(function(e){return Pd(void 0,void 0,Promise,(function(){var t;return Dd(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:w()(hd||(hd=Id(["\n          query GetEventPrepaymentRequirements($customer: Int, $services: [Int!]!, $startedAt: DateTime!) {\n            eventPrepaymentRequirements(customer: $customer, services: $services, startedAt: $startedAt) {\n              amount\n              required\n            }\n          }\n        "],["\n          query GetEventPrepaymentRequirements($customer: Int, $services: [Int!]!, $startedAt: DateTime!) {\n            eventPrepaymentRequirements(customer: $customer, services: $services, startedAt: $startedAt) {\n              amount\n              required\n            }\n          }\n        "]))),variables:e},result:function(e){return e||null}})];case 1:return[2,(t=n.sent())&&t.eventPrepaymentRequirements||t&&t.errors&&{errors:t.errors.map((function(e){return e.message}))}]}}))}))})),function(e){e.SET_DATA="SET_DATA",e.SET_PAGE="SET_PAGE",e.SET_PAGE_SIZE="SET_PAGE_SIZE",e.SET_FILTER="SET_FILTER",e.SET_LOADING="SET_LOADING"}(vd||(vd={}));var kd,Md,xd,Ld=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Fd=function(){return(Fd=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Bd=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},jd=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Gd=w()(kd||(kd=Ld(["\n  query GetOnlineOrders($count: Int, $page: Int, $filter: OnlineOrderListFilter){\n    onlineOrders(count: $count, page: $page, filter: $filter) {\n      all\n      items {\n        createdAt\n        customer {\n          firstName\n          lastName\n          email\n          id\n        }\n        currency\n        grossValue\n        id\n        prettyId\n        items {\n          id\n          productName\n          product {\n            id\n          }\n        }\n        paymentState\n        state\n      }\n    }\n  }\n"],["\n  query GetOnlineOrders($count: Int, $page: Int, $filter: OnlineOrderListFilter){\n    onlineOrders(count: $count, page: $page, filter: $filter) {\n      all\n      items {\n        createdAt\n        customer {\n          firstName\n          lastName\n          email\n          id\n        }\n        currency\n        grossValue\n        id\n        prettyId\n        items {\n          id\n          productName\n          product {\n            id\n          }\n        }\n        paymentState\n        state\n      }\n    }\n  }\n"]))),Vd=function(){return(Vd=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ud={orders:[],page:Bn.b.getCachedPage(Bn.a.ONLINE_ORDERS_TABLE,1),pageSize:Bn.b.getCachedPageSize(Bn.a.ONLINE_ORDERS_TABLE,10),filter:void 0,itemsCount:10,isDataLoading:!0},Hd=function(e,t){switch(t.type){case vd.SET_PAGE:return Vd(Vd({},e),{page:t.payload});case vd.SET_PAGE_SIZE:return Vd(Vd({},e),{pageSize:t.payload});case vd.SET_FILTER:return Vd(Vd({},e),{filter:t.payload});case vd.SET_LOADING:return Vd(Vd({},e),{isDataLoading:t.payload});case vd.SET_DATA:return Vd(Vd({},e),{itemsCount:t.payload.onlineOrders.all,orders:t.payload.onlineOrders.items,isDataLoading:!1});default:return e}},zd=n(25),Yd=n(118),qd=n(41),Wd=function(e){var t=at()("v2-label",{"v2-label-success":e===b.z.FINALIZED,"v2-label-error":e===b.z.CANCELED,"v2-label-warning":e===b.z.PENDING});return i.createElement("span",{className:t},u.a.t("stock.onlineOrders.status."+e))},Kd=function(e){var t=at()("v2-label",{"v2-label-success":e===b.y.PAYMENT_PAID,"v2-label-warning":e===b.y.PAYMENT_PENDING});return i.createElement("span",{className:t},u.a.t("stock.onlineOrders.status."+e))},$d=function(e){var t=e.customersPath,n=e.productsPath,a=Object(i.useReducer)(Hd,Ud),r=a[0],o=a[1],s=Object(i.useContext)(xo.a).currencyUtils,c=Object(i.useContext)(O.a).dateUtils,l=Object(i.useContext)(En.a).netGrossTranslationUtils,d=Object(qd.a)(),m=r.pageSize,p=r.page,f=r.orders,E=r.filter,y=r.itemsCount,h=r.isDataLoading,v=function(e){return u.a.t("stock.onlineOrders.list."+e)},g=function(e){return u.a.t("stock.onlineOrders.select."+e)},S=[{label:g("all"),value:void 0},{label:g("waiting"),value:b.z.PENDING},{label:g("done"),value:b.z.FINALIZED},{label:g("canceled"),value:b.z.CANCELED}];return Object(i.useEffect)((function(){o({type:vd.SET_PAGE_SIZE,payload:Bn.b.getCachedPageSize(Bn.a.ONLINE_ORDERS_TABLE,10)}),o({type:vd.SET_PAGE,payload:Bn.b.getCachedPage(Bn.a.ONLINE_ORDERS_TABLE,1)})}),[]),Object(i.useEffect)((function(){!function(e,t,n){Bd(void 0,void 0,void 0,(function(){var a;return jd(this,(function(r){switch(r.label){case 0:return[4,A.a.query({options:{query:Gd,variables:Fd({page:t.page,sort:[{by:b.x.CREATED_AT,order:b.V.ASC}],count:t.pageSize},t.filter&&{filter:{q:"",state:t.filter}})},result:function(e){return e}})];case 1:return(a=r.sent())&&n.current&&e({type:vd.SET_DATA,payload:a}),!a&&n.current&&e({type:vd.SET_LOADING,payload:!1}),[2]}}))}))}(o,r,d)}),[m,p,E]),i.createElement("div",null,i.createElement("div",{className:"d-flex ai-center mb-m"},i.createElement("span",{className:"font-medium mr-s"},u.a.t("stock.onlineOrders.showOrders")),i.createElement(Bs.a,{defaultValue:S.find((function(e){return e.value===E})),options:S,onChange:function(e){o({type:vd.SET_FILTER,payload:e.value}),o({type:vd.SET_PAGE,payload:1})},isSearchable:!1,className:"w-25p"})),i.createElement(tl.a,{columns:[{path:"prettyId",label:v("orderNumber")},{path:"productName",label:v("products"),bodyCellClassName:"wrap",content:function(e){return e.items.map((function(e,t){return i.createElement("a",{key:t,href:n+"/"+e.product.id,className:"d-block"},t+1+"."," ",e.productName)}))}},{path:"grossValue",label:u.a.t("common.netGross.sum",{netGross:l.t(En.c.GROSS)}),content:function(e){return s.formatCurrency(parseFloat(e.grossValue),e.currency)}},{path:"createdAt",label:v("date"),content:function(e){return c.formatDateTime(new Date(e.createdAt))}},{path:"state",label:v("status"),content:function(e){return Wd(e.state)}},{path:"payment",label:v("payment"),content:function(e){return Kd(e.paymentState)}},{path:"customer",label:v("customer"),content:function(e){return i.createElement("a",{href:t+"/"+(e.customer&&e.customer.id)},di(e.customer))}},{path:"details",label:" ",content:function(e){return i.createElement(zd.b,{to:"/"+e.id},v("details"))}}],data:f,className:"table-bordered mb-m",emptyText:v("emptyTable"),isDataLoading:h}),f.length>0&&i.createElement(Yd.a,{type:"input",itemsCount:y,pageSize:m,currentPage:p,onPageChange:function(e){return o({type:vd.SET_PAGE,payload:e})},onSizeChange:function(e){o({type:vd.SET_PAGE_SIZE,payload:e}),o({type:vd.SET_PAGE,payload:1})},cacheKey:Bn.a.ONLINE_ORDERS_TABLE}))},Zd=n(106);!function(e){e.SPINNER="SPINNER",e.PREVIEW="PREVIEW",e.FETCH_ERROR="FETCH_ERROR"}(Md||(Md={})),function(e){e.SET_FETCHING="SET_FETCHING",e.SET_FETCHED_ORDER="SET_FETCHED_ORDER",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.SET_EDIT_MODAL_VISIBLE="SET_EDIT_MODAL_VISIBLE",e.SET_CANCEL_MODAL_VISIBLE="SET_CANCEL_MODAL_VISIBLE",e.SET_CONFIRM_FINALIZE_MODAL_VISIBLE="SET_CONFIRM_FINALIZE_MODAL_VISIBLE",e.SET_CONFIRM_CANCEL_MODAL_VISIBLE="SET_CONFIRM_CANCEL_MODAL_VISIBLE",e.SET_CONFIRM_REFUND_MODAL_VISIBLE="SET_CONFIRM_REFUND_MODAL_VISIBLE",e.HIDE_CONFIRMATION_MODALS="HIDE_CONFIRMATION_MODALS"}(xd||(xd={}));var Xd,Jd,Qd,em,tm=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},nm=function(){return(nm=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},am=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},rm=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},om="\n  contactDetails {\n    email\n    firstName\n    lastName\n    phone {\n      countryCode\n      countryPrefix\n      number\n    }\n  }\n  currency\n  createdAt\n  customer {\n    firstName\n    lastName\n    email\n    id\n  }\n  customerMessage\n  deliveryAddress {\n    city\n    companyName\n    country\n    countryCode\n    houseNumber\n    region\n    street\n    unitNumber\n    zipCode\n  }\n  deliveryGrossPrice\n  deliveryMethod\n  grossValue\n  id\n  items {\n    grossPrice\n    grossValue\n    id\n    netPrice\n    product {\n      id\n    }\n    productName\n    quantity\n    vatRate\n  }\n  paidAmount\n  itemsGrossValue\n  paidAmount\n  paymentState\n  prettyId\n  transactions {\n    type\n    status\n    refunded\n  }\n  state\n  invoiceData {\n    recipient\n    address {\n      city\n      country\n      countryCode\n      houseNumber\n      street\n      unitNumber\n      zipCode\n    }\n    companyData {\n      name\n      taxId\n    }\n    customerData {\n      firstName\n      lastName\n    }\n  }\n  amountPaidWithGiftCoupon\n",im=w()(Xd||(Xd=tm(["\n  query GetOnlineOrderDetails($id: Int!) {\n    onlineOrder(id: $id) {\n      ","\n    }\n  }\n"],["\n  query GetOnlineOrderDetails($id: Int!) {\n    onlineOrder(id: $id) {\n      ","\n    }\n  }\n"])),om),sm={order:null,viewType:Md.SPINNER,editModalVisible:!1,cancelModalVisible:!1,confirmFinalizeModalVisible:!1,confirmCancelModalVisible:!1,confirmRefundModalVisible:!1},cm=function(e,t){switch(t.type){case xd.SET_FETCHING:return nm(nm({},e),{viewType:Md.SPINNER});case xd.SET_FETCHED_ORDER:return nm(nm({},e),{order:t.payload,viewType:Md.PREVIEW});case xd.SET_FETCHING_FINISHED_WITH_ERRORS:return nm(nm({},e),{viewType:Md.FETCH_ERROR});case xd.SET_EDIT_MODAL_VISIBLE:return nm(nm({},e),{editModalVisible:t.payload});case xd.SET_CANCEL_MODAL_VISIBLE:return nm(nm({},e),{cancelModalVisible:t.payload});case xd.SET_CONFIRM_FINALIZE_MODAL_VISIBLE:return nm(nm({},e),{confirmFinalizeModalVisible:t.payload});case xd.SET_CONFIRM_CANCEL_MODAL_VISIBLE:return nm(nm({},e),{confirmCancelModalVisible:t.payload});case xd.SET_CONFIRM_REFUND_MODAL_VISIBLE:return nm(nm({},e),{confirmRefundModalVisible:t.payload});case xd.HIDE_CONFIRMATION_MODALS:return nm(nm({},e),{confirmFinalizeModalVisible:!1,confirmCancelModalVisible:!1,confirmRefundModalVisible:!1});default:return e}},lm=Object(i.createContext)(nm(nm({},sm),{dispatch:function(){},customersPath:"/customers",productsPath:"/products",isBranchPL:!0,fetchOrderDetails:function(e){}})),um=function(){return(um=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},dm=function(){var e=Object(i.useContext)(lm),t=e.order,n=e.productsPath,a=Object(i.useContext)(xo.a).currencyUtils,r=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement("div",{className:"data_table"},t&&i.createElement(tl.a,{columns:[{path:"index",label:u.a.t("stock.onlineOrders.details.items.ordinal"),content:function(e){return e.index}},{path:"productName",label:u.a.t("stock.onlineOrders.details.items.name"),bodyCellClassName:"wrap",content:function(e){return i.createElement("a",{className:"button-link",href:n+"/"+e.product.id},e.productName)}},{path:"netPrice",label:u.a.t("common.netGross.price",{netGross:r.t(En.c.NET)}),content:function(e){return a.formatCurrency(parseFloat(e.netPrice),t.currency)}},{path:"grossPrice",label:u.a.t("common.netGross.price",{netGross:r.t(En.c.GROSS)}),content:function(e){return a.formatCurrency(parseFloat(e.grossPrice),t.currency)}},{path:"quantity",label:u.a.t("stock.onlineOrders.details.items.quantity"),content:function(e){return i.createElement(i.Fragment,null,parseInt(e.quantity)," ",u.a.t("stock.onlineOrders.details.items.unit"))}},{path:"vatRate",label:u.a.t("stock.onlineOrders.details.items.tax"),content:function(e){return null==(t=e.vatRate)||-1==t?u.a.t("common.vat.exempt"):parseInt(String(t).replace(".",",").replace(/,0$/,""))+"%";var t}},{path:"grossValue",label:u.a.t("common.netGross.value",{netGross:r.t(En.c.GROSS)}),content:function(e){return a.formatCurrency(parseFloat(e.grossValue),t.currency)}}],data:t.items.map((function(e,t){return um(um({},e),{index:t+1})})),className:"mb-m",summary:i.createElement(i.Fragment,null,i.createElement("td",{className:"empty",colSpan:4}),i.createElement("td",{className:"text-right",colSpan:3},u.a.t("common.netGross.totalC",{netGross:r.t(En.c.GROSS)}),i.createElement("span",{className:"bigger_2 ml-s strong"},a.formatCurrency(parseFloat(t.itemsGrossValue),t.currency))))}))},mm=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pm=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},fm=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Em=w()(Jd||(Jd=mm(["\n  mutation UpdateOnlineOrderState($id: Int!, $state: OnlineOrderState!) {\n    updateOnlineOrderState(id: $id, state: $state) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation UpdateOnlineOrderState($id: Int!, $state: OnlineOrderState!) {\n    updateOnlineOrderState(id: $id, state: $state) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"])),om),ym=function(e,t,n){return pm(void 0,void 0,void 0,(function(){var a;return fm(this,(function(r){switch(r.label){case 0:return[4,A.a.mutate({options:{mutation:Em,variables:{id:e,state:t}},result:function(e){return e&&e.updateOnlineOrderState&&e.updateOnlineOrderState.order||null},mutationErrors:function(e){return e&&e.updateOnlineOrderState&&e.updateOnlineOrderState.errors||[]},mutationErrorMessage:{message:function(e){return A.a.mutationErrorMessage(e,Ke.t("validation.orderError"))}},successMessage:A.a.HideMutationResultMessage})];case 1:return a=r.sent(),n({type:xd.HIDE_CONFIRMATION_MODALS}),a&&(n({type:xd.SET_FETCHED_ORDER,payload:a}),n({type:xd.SET_CANCEL_MODAL_VISIBLE,payload:!1}),a.state===b.z.FINALIZED&&x.a.success(Ke.t("stock.onlineOrders.details.finalized"),{modal:!0}),a.state===b.z.CANCELED&&x.a.success(Ke.t("stock.onlineOrders.details.canceled"),{modal:!0})),[2,a]}}))}))},hm=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},vm=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bm=function(e){switch(e){case b.y.PAYMENT_PAID:return El.PAID;case b.y.PAYMENT_PENDING:return El.QUEUED;case b.y.PAYMENT_REFUNDED:return El.REFUNDED;default:return El.QUEUED}},gm=function(e){if(e.transactions.length>0)switch(e.transactions[0].type){case b.G.BLIK:return ml.ONLINE_BLIK;case b.G.CARD:return ml.CREDIT_CARD;case b.G.TRANSFER:return ml.ONLINE;case b.G.OFFLINE_TRANSFER:return ml.TRANSFER;default:return ml.OTHER}return ml.OTHER},Sm=function(e){return e.sale&&e.sale.payments.length>0&&e.sale.payments[0].method||void 0},_m=function(e,t){return void 0===t&&(t=!0),e.paidAmount&&e.paymentState===b.y.PAYMENT_PAID&&e.transactions.length>0&&e.transactions[0].status===b.E.SUCCESS&&!e.transactions[0].refunded&&t},Tm=function(e,t,n){_m(e)&&window.Refunds.show_refund_method_modal({refundSubject:ui.ONLINE_ORDER,id:e.id,amount:parseFloat(e.paidAmount),customerName:di(e.customer),paymentStatus:bm(e.paymentState),paymentMethod:gm(e),paymentPaidOnlineVia:Sm(e),amountPaidWithGiftCoupon:parseFloat(e.amountPaidWithGiftCoupon),onRefund:function(a){var r=a.isRefunded;return hm(void 0,void 0,void 0,(function(){return vm(this,(function(a){switch(a.label){case 0:return r?(x.a.success(u.a.t("payments.refund.success")),n?[4,ym(e.id,b.z.CANCELED,n)]:[3,2]):[3,2];case 1:a.sent()||t("network-only"),n({type:xd.SET_CANCEL_MODAL_VISIBLE,payload:!1}),a.label=2;case 2:return[2]}}))}))}})},Nm=function(){var e=Object(i.useContext)(lm),t=e.cancelModalVisible,n=e.dispatch,a=e.order,r=e.fetchOrderDetails;return i.createElement(i.Fragment,null,a&&i.createElement(d.p,{title:u.a.t("stock.onlineOrders.details.cancelModal.cancelOrder"),type:d.r.normal,isFooterVisible:!0,isOpened:t,onClose:function(){return n({type:xd.SET_CANCEL_MODAL_VISIBLE,payload:!1})},onSaveText:u.a.t("stock.onlineOrders.details.cancelModal.refund"),onSave:function(){return Tm(a,r,n)}},i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col",dangerouslySetInnerHTML:{__html:u.a.t("stock.onlineOrders.details.cancelModal.message")}})))))},Om=function(e){var t=Object(i.useContext)(lm).order;return i.createElement(i.Fragment,null,t&&i.createElement(d.p,{title:u.a.t("common.actionNeedsConfirmation"),isFooterVisible:!0,isOpened:e.isOpened,onClose:function(){return e.onClose()},onCloseText:u.a.t("common.close"),onSaveText:u.a.t("stock.onlineOrders.details.actions.changeState"),onSave:function(){return e.onSave()}},i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},e.message)))))},Cm=function(){var e=Object(i.useContext)(lm),t=e.order,n=e.dispatch,a=e.confirmFinalizeModalVisible,r=e.confirmCancelModalVisible,o=e.isBranchPL;return i.createElement(i.Fragment,null,t&&t.state===b.z.PENDING&&i.createElement("div",{className:"d-flex ai-center"},i.createElement(Pr.a,{isGroupConnected:!1,className:"ml-auto"},i.createElement(lr.a,{className:"button-blue",text:u.a.t("stock.onlineOrders.details.actions.finalize"),onClick:function(){return n({type:xd.SET_CONFIRM_FINALIZE_MODAL_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly}),i.createElement(lr.a,{text:u.a.t("stock.onlineOrders.details.actions.cancel"),onClick:function(){_m(t,o)?n({type:xd.SET_CANCEL_MODAL_VISIBLE,payload:!0}):n({type:xd.SET_CONFIRM_CANCEL_MODAL_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement(Nm,null),i.createElement(Om,{onSave:function(){return ym(t.id,b.z.FINALIZED,n)},onClose:function(){return n({type:xd.SET_CONFIRM_FINALIZE_MODAL_VISIBLE,payload:!1})},isOpened:a,message:u.a.t("stock.onlineOrders.details.actions.finalizeConfirmation")}),i.createElement(Om,{onSave:function(){return ym(t.id,b.z.CANCELED,n)},onClose:function(){return n({type:xd.SET_CONFIRM_CANCEL_MODAL_VISIBLE,payload:!1})},isOpened:r,message:Ar("actions.cancelConfirmation","stock.onlineOrders.details",o)})))},wm=function(){var e=Object(i.useContext)(lm),t=e.order,n=e.fetchOrderDetails,a=e.dispatch,r=e.confirmRefundModalVisible;return i.createElement(i.Fragment,null,t&&i.createElement(d.p,{title:u.a.t("common.actionNeedsConfirmation"),isFooterVisible:!0,isOpened:r,onClose:function(){return a({type:xd.SET_CONFIRM_REFUND_MODAL_VISIBLE,payload:!1})},onCloseText:u.a.t("common.no"),onSaveText:u.a.t("common.yes"),onSave:function(){a({type:xd.HIDE_CONFIRMATION_MODALS,payload:!1}),Tm(t,n,a)}},i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},u.a.t("stock.onlineOrders.details.actions.refundConfirmation"))))))},Am=function(){var e=Object(i.useContext)(lm),t=e.order,n=e.customersPath,a=e.dispatch,r=e.isBranchPL,o=Object(i.useContext)(O.a).dateUtils,s=Object(i.useContext)(xo.a).currencyUtils;return i.createElement("div",null,t&&i.createElement(i.Fragment,null,i.createElement(Cm,null),i.createElement("div",{className:"v2-container mb-xl"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("h2",null,u.a.t("stock.onlineOrders.details.header")," ",t.prettyId))),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement(dm,null))),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.customer"),":"),i.createElement("div",{className:"v2-col strong"},i.createElement("a",{className:"button-link",href:n+"/"+t.customer.id},di(t.customer)))),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.orderDate"),":"),i.createElement("div",{className:"v2-col strong"},o.formatDateTime(new Date(t.createdAt)))),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.orderStatus"),":"),i.createElement("div",{className:"v2-col"},Wd(t.state))),i.createElement("div",{className:"v2-row mt-s mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.payment"),":"),i.createElement("div",{className:"v2-col d-flex ai-center"},i.createElement("div",{className:"strong mr-s",style:{fontSize:22}},s.formatCurrency(parseFloat(t.grossValue),t.currency)),Kd(t.paymentState),_m(t,r)&&i.createElement(i.Fragment,null,i.createElement("button",{className:"button button-link",onClick:function(){return a({type:xd.SET_CONFIRM_REFUND_MODAL_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly},u.a.t("stock.onlineOrders.details.refund")),i.createElement(wm,null)))),t.transactions.length>0&&i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.paymentMethod"),":"),i.createElement("div",{className:"v2-col strong"},t.amountPaidWithGiftCoupon>0?u.a.t("payments.paymentMethod.online_gift_coupon"):u.a.t("stock.onlineOrders.details.transactionTypes."+t.transactions[0].type))),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.deliveryMethod"),":"),i.createElement("div",{className:"v2-col strong"},u.a.t("settings.customerPanel.onlineSales.deliveryOptions."+t.deliveryMethod)," (+",s.formatCurrency(parseFloat(t.deliveryGrossPrice),t.currency),")")),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.deliveryAddress"),":"),i.createElement("div",{className:"v2-col"},i.createElement("p",{className:"strong"},t.contactDetails.firstName," ",t.contactDetails.lastName,",",i.createElement("br",null),u.a.t("stock.onlineOrders.details.street")," ",t.deliveryAddress.street," ",t.deliveryAddress.houseNumber,t.deliveryAddress.unitNumber&&"/"+t.deliveryAddress.unitNumber,i.createElement("br",null),t.deliveryAddress.zipCode,", ",t.deliveryAddress.city),t.state===b.z.PENDING&&i.createElement("button",{className:"button button-link p-0",onClick:function(){return a({type:xd.SET_EDIT_MODAL_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly},u.a.t("stock.onlineOrders.details.edit")))),r&&i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.invoice"),":"),i.createElement("div",{className:"v2-col strong"},t.invoiceData?u.a.t("stock.onlineOrders.details.invoiceAccepted"):u.a.t("stock.onlineOrders.details.notApplicable"))),t.invoiceData&&i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.invoiceDetails"),":"),i.createElement("div",{className:"v2-col strong"},t.invoiceData.recipient===b.w.PRIVATE_PERSON?t.invoiceData.customerData&&t.invoiceData.customerData.firstName+" "+t.invoiceData.customerData.lastName:t.invoiceData.companyData&&t.invoiceData.companyData.name,i.createElement("br",null),u.a.t("stock.onlineOrders.details.street")," ",t.invoiceData.address.street," ",t.invoiceData.address.houseNumber,t.invoiceData.address.unitNumber&&"/"+t.invoiceData.address.unitNumber,", "+t.invoiceData.address.zipCode," ",t.invoiceData.address.city,i.createElement("br",null),t.invoiceData.companyData&&t.invoiceData.recipient===b.w.COMPANY&&u.a.t("stock.onlineOrders.details.taxId")+" "+t.invoiceData.companyData.taxId))),i.createElement("div",{className:"v2-row mt-s mb-s"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("stock.onlineOrders.details.messageFromCustomer"),":"),i.createElement("div",{className:"v2-col strong"},t.customerMessage||u.a.t("stock.onlineOrders.details.noMessage"))))))},Rm=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Im=function(){return(Im=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Pm=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Dm=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},km=w()(Qd||(Qd=Rm(["\n  mutation UpdateOnlineOrderDeliveryDetails($id: Int!, $contactDetails: OnlineOrderContactDetailsUpdateInput, $deliveryAddress: OnlineOrderDeliveryAddressUpdateInput) {\n    updateOnlineOrderDeliveryDetails(id: $id, contactDetails: $contactDetails, deliveryAddress: $deliveryAddress) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation UpdateOnlineOrderDeliveryDetails($id: Int!, $contactDetails: OnlineOrderContactDetailsUpdateInput, $deliveryAddress: OnlineOrderDeliveryAddressUpdateInput) {\n    updateOnlineOrderDeliveryDetails(id: $id, contactDetails: $contactDetails, deliveryAddress: $deliveryAddress) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"])),om),Mm=function(e){return Im(Im({id:e.id},e.deliveryAddress),e.contactDetails)},xm=function(e){return Im(Im(Im(Im(Im(Im(Im(Im(Im(Im(Im({},ca("email",e.email)),ua("zipCode",e.zipCode)),da("phone",e.phone)),oa("firstName",e.firstName)),oa("lastName",e.lastName)),oa("email",e.email)),oa("phone",e.phone.number)),oa("street",e.street)),oa("houseNumber",e.houseNumber)),oa("zipCode",e.zipCode)),oa("city",e.city))},Lm=function(e,t,n){return Pm(void 0,void 0,void 0,(function(){var a;return Dm(this,(function(r){switch(r.label){case 0:return[4,A.a.mutate({options:{mutation:km,variables:{id:e.id,contactDetails:Im({firstName:e.firstName,lastName:e.lastName,email:e.email},e.phone.number&&e.phone.countryCode&&{phone:{number:e.phone.number,countryCode:e.phone.countryCode}}),deliveryAddress:{street:e.street,houseNumber:e.houseNumber,unitNumber:e.unitNumber,zipCode:e.zipCode,city:e.city}}},result:function(e){return e&&e.updateOnlineOrderDeliveryDetails&&e.updateOnlineOrderDeliveryDetails.order||null},mutationErrors:function(e){return e&&e.updateOnlineOrderDeliveryDetails&&e.updateOnlineOrderDeliveryDetails.errors||[]},successMessage:{message:Ke.t("stock.onlineOrders.details.form.saved")}})];case 1:return a=r.sent(),t.setSubmitting(!1),a&&(n({type:xd.SET_FETCHED_ORDER,payload:a}),n({type:xd.SET_EDIT_MODAL_VISIBLE,payload:!1})),[2]}}))}))},Fm=function(e){var t=e.field,n=e.form;return i.createElement(_n.h,{phone:n.values[t.name],className:"v2-form-controls",errorMessage:n.touched[t.name]&&n.errors[t.name],onChange:function(e){return n.setFieldValue("phone",e)},onBlur:function(){return n.setFieldTouched("phone",!0)},disabled:n.isSubmitting,skipValidation:!0})},Bm=function(e){var t=Object(i.useContext)(lm).order;return i.createElement(rn.b,{className:"v2-form ml-s"},t&&i.createElement(i.Fragment,null,i.createElement("h3",null,u.a.t("stock.onlineOrders.details.form.recipientData")),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.firstName")+":"},i.createElement(rn.a,{name:"firstName",component:Lr,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.lastName")+":"},i.createElement(rn.a,{name:"lastName",component:Lr,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.email")+":"},i.createElement(rn.a,{name:"email",component:Lr,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.phone")+":"},i.createElement(rn.a,{name:"phone",component:Fm})),i.createElement("h3",null,u.a.t("stock.onlineOrders.details.form.shippingAddress")),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.street")+":"},i.createElement(rn.a,{name:"street",component:Lr,disabled:e.isSubmitting})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.houseNumber")+":"},i.createElement(rn.a,{name:"houseNumber",component:Lr,disabled:e.isSubmitting,size:"15"})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.unitNumber")+":"},i.createElement(rn.a,{name:"unitNumber",component:Lr,disabled:e.isSubmitting,size:"15"})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.zipCode")+":"},i.createElement(rn.a,{name:"zipCode",component:Lr,disabled:e.isSubmitting,size:"15"})),i.createElement(_n.d,{label:u.a.t("stock.onlineOrders.details.form.city")+":"},i.createElement(rn.a,{name:"city",component:Lr,disabled:e.isSubmitting})),i.createElement("input",{type:"submit",className:"d-none"})))},jm=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Gm=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vm=function(){var e=Object(i.useContext)(lm),t=e.editModalVisible,n=e.dispatch,a=e.order,r=Object(i.useRef)(null);return i.createElement(d.p,{title:u.a.t("stock.onlineOrders.details.form.deliveryAddress"),type:d.r.normal,isFooterVisible:!0,isOpened:t,onClose:function(){return n({type:xd.SET_EDIT_MODAL_VISIBLE,payload:!1})},onCloseText:u.a.t("common.cancel"),isOnSaveDisabled:r.current&&r.current.getFormikBag().isSubmitting||!1,onSaveText:u.a.t("common.saveChanges"),onSave:function(){return r.current&&r.current.submitForm()}},a&&i.createElement(rn.c,{ref:r,onSubmit:function(e,t){return jm(void 0,void 0,void 0,(function(){return Gm(this,(function(a){switch(a.label){case 0:return[4,Lm(e,t,n)];case 1:return a.sent(),[2]}}))}))},initialValues:Mm(a),component:Bm,validate:xm}))},Um=function(){return(Um=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Hm=function(e){var t=Object(i.useReducer)(cm,sm),n=t[0],a=t[1],r=function(e,t){var n=Object(qd.a)(),a=function(a){var r="network-only"===a;if(t){var o=parseInt(t);if(!isNaN(o))return void am(void 0,void 0,void 0,(function(){var t;return rm(this,(function(i){switch(i.label){case 0:return!r&&e({type:xd.SET_FETCHING}),[4,A.a.query({options:nm({query:im,variables:{id:o}},r&&{fetchPolicy:a}),result:function(e){return e&&e.onlineOrder||null}})];case 1:return(t=i.sent())?n.current&&e({type:xd.SET_FETCHED_ORDER,payload:t}):e({type:xd.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}e({type:xd.SET_FETCHING_FINISHED_WITH_ERRORS})};return Object(i.useEffect)((function(){a()}),[t]),a}(a,e.id);return i.createElement(lm.Provider,{value:Um(Um(Um({},n),e),{dispatch:a,fetchOrderDetails:r})},function(){switch(n.viewType){case Md.SPINNER:return i.createElement(el.a,null);case Md.PREVIEW:return i.createElement(Am,null);case Md.FETCH_ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(Vm,null))},zm=function(){return(zm=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ym=function(e){var t=Object(Zd.i)().id;return i.createElement(Hm,zm({},e,{id:t}))},qm="/"+window.VersumConfig.branch_subdomain+"/settings/subscription/new",Wm=qm,Km=qm+"/summary",$m=n(585),Zm=function(e){var t=e.price,n=e.currency,a=e.animate,r=void 0===a||a,o=e.precision,s=void 0===o?0:o;if(isNaN(t))return i.createElement(i.Fragment,null,Object(dn.b)(0,n,s));return r?i.createElement(i.Fragment,null,i.createElement($m,{duration:1,end:t||0,decimals:1,formattingFn:function(e){return Object(dn.b)(e,n,s)}})):i.createElement("span",{className:"v2-price"},Object(dn.b)(t,n,s))},Xm=n(65),Jm=function(e,t){return Xm(e||1).multiply(t).value},Qm=n(797),ep=function(){return(ep=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tp=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};!function(e){e.FIRST="step1",e.SECOND="step2",e.THIRD="step3",e.FOURTH="step4",e.FIFTH="step5"}(em||(em={}));var np,ap,rp,op=function(e,t){return t&&t.steps&&t.steps.completedSteps&&-1!==t.steps.completedSteps.indexOf(e)},ip=function(e,t){return!!t&&!!t.steps&&t.steps.activeStep===e},sp=function(e,t){return t&&t.steps&&-1!==t.steps.visitedSteps.indexOf(e)},cp=function(e){return!!e&&e.steps&&e.steps.visitedSteps||[]},lp=function(e,t){return at()({"v2-step-title":!sp(e,t)||ip(e,t)&&sp(e,t)||sp(e,t)&&!op(e,t),"v2-step-subtitle":op(e,t)&&!ip(e,t)&&sp(e,t)})},up=function(e,t){return at()({"v2-step-item":!0,active:ip(e,t),visited:sp(e,t),disabled:!sp(e,t),completed:op(e,t)})},dp=function(e){return!!e&&e.steps&&e.steps.completedSteps||[]},mp=function(e){return!!e&&e.steps&&e.steps.activeStep||"no_current_step"},pp=function(e){return Array.from(new Set(e).values()).sort()},fp=function(){return(fp=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ep=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},yp=function(e,t){var n=Xm(t).divide(100);return Xm(e).subtract(Xm(e).multiply(n)).value},hp=function(e){return"custom"===e?u.a.t("subscription.plans.nameCustom"):e.toLocaleUpperCase()},vp=function(e){var t=e.multiplier,n=e.multiplierLabel,a=e.price,r=e.discount,o=e.currency,s=e.isExtensionCountedYearly,c=void 0!==s&&s;return i.createElement(i.Fragment,null,(c?"":t+" ")+n.toLocaleLowerCase()+" x "+Object(dn.b)(a,o,2),r>0&&i.createElement(i.Fragment,null,i.createElement("br",null),"(",u.a.t("subscription.discount").toLowerCase(),": ",r,"%)"))},bp=function(e){return e&&e.order.plan&&e.order.plan.prices&&e.order.plan.prices[0]},gp=function(e){return e.subscriptionPlans.find((function(t){return e.order.plan.id===t.id}))||null},Sp=function(e){return e&&e.order&&e.order.plan&&e.order.plan.prices[0]&&e.order.plan.prices[0].period},_p=function(e){return e.length>0&&e.filter((function(e){return!!e.custom})).length>0},Tp=function(e){return e&&e.order.plan&&e.order.plan.custom},Np=function(e,t){return!!e&&!!t.subscriptionRecommendations&&!!t.subscriptionRecommendations.plan&&t.subscriptionRecommendations.plan.id===e.id},Op=function(e){return Object(Ko.a)(Object(Mr.a)(e,"viewer.branch.subscription.validTo")).format(ii.a)},Cp=function(e){return Object(Ko.a)(Object(ii.m)()).isAfter(Op(e))},wp=function(){return(wp=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ap=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Rp=function(e,t){return!!e&&!!t.subscriptionRecommendations&&t.subscriptionRecommendations.period===e},Ip=function(e){return u.a.t("subscription.period."+e.toLowerCase())},Pp=function(){return(Pp=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Dp=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},kp=function(e,t){return e&&e.prices&&(e.prices.find((function(e){return e.period===t}))||e.prices.find((function(e){return e.period===b.X.YEAR}))||e.prices.find((function(e){return e.period===b.X.QUARTER}))||e.prices.find((function(e){return e.period===b.X.MONTH})))||null},Mp=function(e,t){var n=gp(t),a=n&&n.extensions;return a&&a.find((function(t){return t.id===e.id}))},xp=function(e){return e&&e.prices&&1===e.prices.length&&e.prices[0].period===b.X.YEAR},Lp=function(e,t){var n,a=Mp(e,t),r=e&&e.prices&&e.prices[0],o=e.quantity||1,i=r&&r.period&&(n=Object(ii.i)(r.period),isNaN(n)?1:n),s=a&&xp(a)?1:i;return{quantity:o,extensionPrice:r,priceMultiplier:s,priceMultiplierLabel:a&&xp(a)?u.a.t("subscription.period.year"):u.a.t("common.month",{count:s}),isExtensionCountedYearly:a&&xp(a)||!1}},Fp=function(e){return e.prices&&e.prices.length&&e.prices[0].period},Bp=function(e){return e&&e.order&&e.order.plan},jp=function(e){return e.name===u.a.t("subscription.extensions.fiscalization")},Gp=function(e){return e&&e.order&&e.order.plan&&e.order.plan.extensions||[]},Vp=function(e,t){return!!e&&!!t.subscriptionRecommendations&&!!t.subscriptionRecommendations.extensions&&!!t.subscriptionRecommendations.extensions.length&&t.subscriptionRecommendations.extensions.filter((function(t){return t.id===e.id})).length>0},Up=function(e,t){return!!t.order.plan.extensions.find((function(t){return t.id===e.id}))},Hp=function(e){return!!e&&!!(e&&e.viewStatus&&e.viewStatus.extensionPeriodWasChanged)},zp=function(e,t){return e.position-t.position},Yp={basePrice:9999,price:9999,discount:9999,period:b.X.MONTH,currency:b.o.PLN,vatRate:0,subscriptionValidTo:null,months:1},qp=function(e,t){var n=Mp(e,t),a=e.prices&&e.prices[0],r=e.quantity||1,o=n&&xp(n)?1:a&&Object(ii.i)(a.period);return o&&a&&Jm(r*o,a.price)},Wp=function(){return(Wp=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Kp=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},$p=function(e){return e.viewer.company.currency||b.o.PLN},Zp=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Xp=w()(np||(np=Zp(["\n  query GetSubscriptionData {\n    viewer {\n      ","\n      ","\n    }\n    subscriptionPlans {\n      ","\n    }\n    subscriptionPaymentChannels {\n      id\n      discount\n    }\n    subscriptionRecommendations {\n      period\n      plan {\n        id\n      }\n      plan {\n        id\n      }\n      extensions {\n        id\n      }\n      paymentChannel {\n        id\n      }\n    }\n  }\n"],["\n  query GetSubscriptionData {\n    viewer {\n      ","\n      ","\n    }\n    subscriptionPlans {\n      ","\n    }\n    subscriptionPaymentChannels {\n      id\n      discount\n    }\n    subscriptionRecommendations {\n      period\n      plan {\n        id\n      }\n      plan {\n        id\n      }\n      extensions {\n        id\n      }\n      paymentChannel {\n        id\n      }\n    }\n  }\n"])),"\n  branch {\n    id\n    email\n    currency\n    address {\n      countryCode\n    }\n    subscription {\n      validTo\n    }\n  }\n",ir,"\n  id\n  name\n  custom\n  enabled\n  employeesLimit\n  validTo\n  unavailabilityReasons {\n    code\n    number\n  }\n  freeTextMessages\n  prices {\n    \n      period\n      basePrice\n      discount\n      price\n      currency\n      subscriptionValidTo\n    \n  }\n  extensions {\n    \n  id\n  name\n  description\n  position\n  prices {\n    \n      period\n      basePrice\n      discount\n      price\n      currency\n      subscriptionValidTo\n    \n  }\n\n  }\n"),Jp=w()(ap||(ap=Zp(["\n  query GetPersistedSubscriptionState {\n    subscriptionState\n  }\n"],["\n  query GetPersistedSubscriptionState {\n    subscriptionState\n  }\n"]))),Qp=w()(rp||(rp=Zp(["\n  mutation setSubscriptionProgress($progress: SubscriptionProgressInput!, $state: String) {\n    setSubscriptionProgress(progress: $progress, state: $state) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation setSubscriptionProgress($progress: SubscriptionProgressInput!, $state: String) {\n    setSubscriptionProgress(progress: $progress, state: $state) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),ef=n(145),tf=function(e){var t=e.viewer.branch;return t&&t.address&&t.address.countryCode||ef.b},nf=function(){return(nf=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},af=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},rf=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},of=function(){return af(void 0,void 0,Promise,(function(){var e;return rf(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:Jp,fetchPolicy:"no-cache"},result:function(e){return e&&e.subscriptionState||null}})];case 1:return[2,(e=t.sent())&&JSON.parse(e)]}}))}))};window.clearSubscriptionProgress=function(){return sf({subscriptionProgress:"cleared"},!0)};var sf=function(e,t){return void 0===t&&(t=!1),af(void 0,void 0,void 0,(function(){return rf(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:Qp,variables:{progress:{currentStep:"",completedSteps:[],visitedSteps:[]},state:JSON.stringify(e)}},result:function(e){return e.setSubscriptionProgress||null},mutationErrors:function(e){return e&&e.setSubscriptionProgress&&e.setSubscriptionProgress.errors||[]},errorHandler:{onCatchError:function(e){return Object(Zn.a)(e,"Clear subscription progress")}}})];case 1:return n.sent()&&t&&location.reload(),[2]}}))}))},cf=function(e){return af(void 0,void 0,void 0,(function(){var t;return rf(this,(function(n){switch(n.label){case 0:return t=function(e){return{progress:{currentStep:mp(e),visitedSteps:cp(e),completedSteps:dp(e)},state:JSON.stringify({order:e.order,steps:e.steps,countryCode:tf(e)})}}(e),[4,A.a.mutate({options:{mutation:Qp,variables:t},result:function(e){return e.setSubscriptionProgress||null},mutationErrors:function(e){return e&&e.setSubscriptionProgress&&e.setSubscriptionProgress.errors||[]},errorHandler:{onCatchError:function(e){return Object(Zn.a)(e,"Subscription progress")}},successMessage:A.a.HideMutationResultMessage})];case 1:return n.sent(),[2]}}))}))},lf=function(e,t){var n=Object(Mr.a)(t,"order.plan",null);if(!n)return!1;var a=Object(Mr.a)(n,"prices[0].period",null),r=e.subscriptionPlans.find((function(e){return e.id===n.id}))||null,o=Object(hi.a)(n,["extensions"]),i=nf(nf({},Object(hi.a)(r,["extensions"])),{prices:r&&r.prices.filter((function(e){return e.period===a}))||[]});return!Object(gl.a)(o,i)},uf=function(e){return e&&Object.keys(e).length>0?nf(nf(nf({},e),e.country&&{country:e.country.value}),e.region&&{region:e.region.value}):{}},df=function(e,t){var n=uf(e.order.subscriptionCompany),a=uf(t.order.subscriptionCompany);return!Object(gl.a)(n,a)},mf=function(e){var t=function(e){var t=Bp(e)||{},n=e.order.subscriptionCompany&&e.order.subscriptionCompany.country,a=n&&n.value,r=n&&a&&Of(a),o=n&&parseFloat("1."+n.taxValue)||1,i=r?o:1,s=t&&t.prices&&t.prices[0]||{},c=s&&s.period||{},l=c&&Object(ii.i)(c)||1,u=Xm(s.price).multiply(l).multiply(i).value,d=t&&t.extensions||[];return{conditionalTaxMultiplier:i,planGrossPrice:u,extensions:d}}(e),n=t.conditionalTaxMultiplier,a=t.planGrossPrice,r=t.extensions.reduce((function(t,a){var r=pf(a,e,n);return r&&Xm(t).add(r).value||t}),0);return Xm(a).add(r).value},pf=function(e,t,n){var a=Mp(e,t),r=e.prices&&e.prices[0]||{},o=a&&xp(a)?1:r&&Object(ii.i)(r.period),i=r.discount/100,s=e.quantity||1;return Xm((r.basePrice*o*s-r.basePrice*o*s*i)*n).value};var ff,Ef,yf=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},hf=function(){return(hf=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vf=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},bf=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gf=function(e){return e.discount>0?"("+u.a.t("subscription.discount").toLocaleLowerCase()+"  "+e.discount+"%)":""},Sf=w()(ff||(ff=yf(["\n  mutation CreateSubscription($plan: SubscriptionPlanInput!, $company: CompanyInput!) {\n    createSubscription(plan: $plan, company: $company) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation CreateSubscription($plan: SubscriptionPlanInput!, $company: CompanyInput!) {\n    createSubscription(plan: $plan, company: $company) {\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),_f=function(e){return vf(void 0,void 0,void 0,(function(){var t;return bf(this,(function(n){switch(n.label){case 0:return t=function(e){var t=Bp(e),n=Sp(e),a=function(e){return e&&e.order&&e.order.subscriptionCompany}(e),r=t&&t.extensions&&t.extensions.map((function(e){return{id:e.id,period:e.prices&&e.prices[0]&&e.prices[0].period,quantity:e.quantity||1}}))||[];return t&&a&&{company:hf(hf(hf({name:a.name,email:a.email},a.haveTaxID&&{taxID:a.taxID}),!a.haveTaxID&&{companyID:a.companyID}),{taxIdentityStatement:a.taxIdentityStatement,addressWithHouseNumber:{city:a.city,region:a.region.value,zipCode:a.zipCode,street:a.street,houseNumber:a.houseNumber,unitNumber:a.unitNumber,countryCode:a.country.value}}),plan:{period:n,extensions:r,id:t.id}}||{plan:{},company:{}}}(e),[4,A.a.mutate({options:{mutation:Sf,variables:{company:t.company,plan:t.plan},fetchPolicy:"no-cache"},result:function(e){return e.createSubscription||null},mutationErrors:function(e){return e&&e.createSubscription&&e.createSubscription.errors||[]},errorHandler:{onCatchError:function(e){return Object(Zn.a)(e)}},successMessage:{message:u.a.t("subscription.notification.success")},errorMessage:{message:u.a.t("subscription.notification.error")}})];case 1:return n.sent()?[4,sf({subscriptionProgress:"done"})]:[3,3];case 2:n.sent(),setTimeout((function(){window.location.href=Tf(e)}),3e3),n.label=3;case 3:return[2]}}))}))},Tf=function(e){var t=$f(e),n=t&&t.id;return window.VersumConfig.payment_finish_url+"?method="+(n+"").toLocaleLowerCase()},Nf=b.n.PL,Of=function(e){return e===Nf},Cf=function(e){var t=Bp(e)||{},n=t.prices&&t.prices[0],a=n&&n.period,r=e&&e.order&&e.order.subscriptionCompany||{},o=t&&t.prices&&t.prices[0]||{},i=o&&o.period||{},s=i&&Object(ii.i)(i)||1,c=t&&t.extensions||[],l=s&&o&&Jm(s,o.price)||0,u=c.reduce((function(t,n){var a=qp(n,e);return a&&t+ +a||t}),0),d=e.order.subscriptionCompany&&e.order.subscriptionCompany.country,m=d&&d.value,p=d&&m&&Of(m),f=d&&parseFloat("1."+d.taxValue)||1,E=l+u||0,y=parseFloat((E*(p?f:1)).toFixed(2)),h=p?f:1,v=d&&Of(d.value),b=e.order&&e.order.subscriptionPaymentChannel||{};return{company:r,country:d,countryCode:m,extensions:c,extensionsSum:u,isPolishCountry:p,isTaxNeeded:v,paymentChannel:b,paymentChannelDiscount:b&&b.discount||0,plan:t,planMultiplier:s,planPeriod:i,planPrice:o,planSum:l,priceMultiplier:Object(ii.i)(a),selectedPeriod:a,selectedPrice:n,taxMultiplier:f,taxValue:mf(e)-E,totalGrossPrice:y,totalNetPrice:E,orderTotals:{plan:Xm(o.price).multiply(s).multiply(h).value,extensions:Xm(u).multiply(h).value,grossPrice:mf(e)}}},wf=function(){return(wf=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Af=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Rf=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},If=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Pf={name:"",street:"",houseNumber:"",unitNumber:"",city:"",region:{value:"",label:""},zipCode:"",email:"",taxID:"",companyID:"",haveTaxID:!0,taxIdentityStatement:"",country:{value:ef.b,label:"",eu:!1,taxValue:0}},Df={id:"",discount:0},kf={viewer:{branch:{},company:{}},subscriptionPlans:[{id:0,name:"",custom:!1,enabled:!1,employeesLimit:null,validTo:null,prices:[],extensions:[],unavailabilityReasons:[],freeTextMessages:0,prolong:!1}],subscriptionPaymentChannels:[Df],subscriptionRecommendations:{plan:null,period:null,extensions:[],paymentChannel:null},steps:{activeStep:em.FIRST,visitedSteps:[em.FIRST],completedSteps:[em.THIRD]},order:{plan:{id:0,name:"",custom:!1,enabled:!1,employeesLimit:null,freeTextMessages:0,unavailabilityReasons:[],validTo:null,prices:[],extensions:[],prolong:!1},subscriptionCompany:Pf,subscriptionPaymentChannel:Df},viewStatus:{isLoading:!1,showNormalPlans:!1,extensionPeriodWasChanged:!1,isOrderButtonDisabled:!1}},Mf=function(e,t){var n=t.order.plan.id,a=Object(Mr.a)(t,"order.plan.prices[0].period"),r=Object(Mr.a)(t,"order.plan.extensions",[]).map((function(e){return{id:e.id,period:Object(Mr.a)(e,"prices[0].period"),quantity:e.quantity||1}})),o=e.subscriptionPlans.find((function(e){return e.id===n}))||e.subscriptionPlans.find((function(e){return e.custom}))||e.subscriptionPlans.find((function(e){return e.enabled}))||e.subscriptionPlans[0],i=!!o.custom;return wf(wf({},o),{prices:i?o.prices:[o.prices.find((function(e){return e.period===a}))],extensions:o.extensions.filter((function(e){return-1!==r.map((function(e){return e.id})).indexOf(e.id)})).map((function(e,t){return wf(wf({},e),{prices:[e.prices.find((function(e){return e.period===r[t].period}))],quantity:r[t].quantity})}))})},xf=function(e,t){return Af(void 0,void 0,void 0,(function(){var n;return Rf(this,(function(a){switch(a.label){case 0:return[4,of()];case 1:return n=a.sent(),function(e,t){var n=e&&e.order&&e.order.plan&&e.order.plan.id,a=e.subscriptionPlans.find((function(e){return e.custom}))||e.subscriptionPlans.find((function(e){return e.enabled}))||e.subscriptionPlans[0],r=!!a.custom?[(a.prices||[])[0]]:a.prices.filter((function(e){return e.period===o||e.period===b.X.QUARTER})),o=Object(Mr.a)(e,"order.plan.prices[0].period"),i=Object(Mr.a)(e,"order.plan.extensions",[]).map((function(e){return{id:e.id,period:Object(Mr.a)(e,"prices[0].period")}})),s=e.order.subscriptionPaymentChannel&&e.order.subscriptionPaymentChannel.id,c=e.subscriptionPaymentChannels.find((function(e){return e.id===s})),l={subscriptionPaymentChannel:c},u=pp(If(If([],e.steps.completedSteps,!0),[em.FIRST,em.SECOND],!1)),d=a.extensions.filter((function(e){return-1!==i.map((function(e){return e.id})).indexOf(e.id)})).map((function(e,t){return wf(wf({},e),{prices:e.prices.filter((function(e){return e.period===i[t].period}))})}));t(a&&!n||s&&!c?{type:Ef.SET_STATE,payload:wf(wf({},e),{order:wf(wf(wf({},e.order),{plan:wf(wf({},a),{prices:r,extensions:d})}),l),steps:wf(wf({},e.steps),{completedSteps:c?u:u.filter((function(e){return e!==em.FIFTH}))})})}:{type:Ef.SET_STATE,payload:e})}(function(e,t){return wf(wf(wf(wf(wf({},e),Object(Mr.a)(t,"order")&&{order:wf(wf({},t.order),{plan:Mf(e,t),subscriptionCompany:e.order.subscriptionCompany})}),Object(Mr.a)(t,"steps")&&{steps:wf({},t.steps)}),Object(Mr.a)(t,"countryCode")&&{countryCode:t.countryCode}),{loading:!1})}(e,n),t),[2]}}))}))},Lf=function(e){Object(i.useEffect)((function(){!function(e){Af(void 0,void 0,void 0,(function(){var t;return Rf(this,(function(n){switch(n.label){case 0:return[4,Ff()];case 1:return t=n.sent(),xf(t,e),[2]}}))}))}(e)}),[])},Ff=function(){return Af(void 0,void 0,void 0,(function(){var e,t,n,a,r,o,i;return Rf(this,(function(s){switch(s.label){case 0:return e=kf,[4,A.a.query({options:{query:Xp,fetchPolicy:"network-only"},result:function(e){return e||null}})];case 1:return(t=s.sent())?(n=t.subscriptionPlans.map((function(e){return wf({},function(e){return fp(fp({},e),{extensions:e.extensions.filter((function(e){return!!e.prices&&e.prices.length>0}))})}(e))})).map((function(e){return wf(wf({},e),{validTo:Object(ii.f)(e)})})),a=t.viewer,r=[wf({},e)],o={viewer:a,subscriptionPlans:n,subscriptionPaymentChannels:t.subscriptionPaymentChannels.map((function(e){return wf({},e)})),subscriptionRecommendations:wf({},t.subscriptionRecommendations)},i={plan:e.order.plan,subscriptionPaymentChannel:e.order.subscriptionPaymentChannel},[4,Ia(t.viewer.company)]):[3,3];case 2:return[2,wf.apply(void 0,r.concat([(o.order=(i.subscriptionCompany=s.sent(),i),o.viewStatus=wf(wf({},e.viewStatus),{showNormalPlans:!_p(n)}),o.loading=!0,o)]))];case 3:return[2,e]}}))}))},Bf=function(e){return e&&e.order&&e.order.subscriptionCompany&&e.order.subscriptionCompany.name||""};!function(e){e.SET_STATE="SET_STATE",e.GO_TO_NEXT_STEP="GO_TO_NEXT_STEP",e.SELECT_PLAN="SELECT_PLAN",e.SELECT_PLAN_PERIOD="SELECT_PLAN_PERIOD",e.TOGGLE_SHOW_NORMAL_PLANS="TOGGLE_SHOW_NORMAL_PLANS",e.TOGGLE_EXTENSION="TOGGLE_EXTENSION",e.SELECT_EXTENSION_PRICING_PERIOD="SELECT_EXTENSION_PRICING_PERIOD",e.SET_EXTENSION_QUANTITY="SET_EXTENSION_QUANTITY",e.COMPANY_FORM_SUBMIT="COMPANY_FORM_SUBMIT",e.SELECT_PAYMENT_CHANNEL="SELECT_PAYMENT_CHANNEL",e.SET_ORDER_BUTTON_DISABLED="SET_ORDER_BUTTON_DISABLED"}(Ef||(Ef={}));var jf,Gf,Vf,Uf=function(e,t){switch(t.type){case Ef.SET_STATE:return wf({},t.payload);case Ef.GO_TO_NEXT_STEP:return function(e,t){var n=t.payload,a=Tp(e);return ep(ep({},e),{steps:ep(ep({},e.steps),{activeStep:n,visitedSteps:pp(tp(tp(tp([],e.steps.visitedSteps,!0),[n],!1),a&&[em.SECOND]||[],!0))})})}(e,t);case Ef.SELECT_PLAN:return function(e,t){var n=t.payload,a=n.prices.find((function(e){return e.period===b.X.QUARTER})),r=n.prices.find((function(e){return!!e.period}));return fp(fp({},e),{order:fp(fp({},e.order),{plan:fp(fp({},n),{extensions:[],prices:[a||r]})}),steps:fp(fp({},e.steps),{completedSteps:pp(Ep(Ep([],e.steps.completedSteps,!0),[em.FIRST,em.SECOND],!1))})})}(e,t);case Ef.SELECT_PLAN_PERIOD:return function(e,t){var n=t.payload,a=Gp(e).length,r=gp(e),o=Sp(e),i=r&&r.extensions,s=Gp(e).map((function(e){var t=i&&i.find((function(t){return e.id===t.id})),n=t&&kp(t,o);return wp(wp({},e),{prices:[n]})}));return wp(wp({},e),{order:wp(wp({},e.order),{plan:wp(wp(wp({},e.order.plan),{prices:[n]}),a&&!Hp(e)&&{extensions:Ap([],s,!0)})}),viewStatus:wp(wp({},e.viewStatus),{extensionPeriodWasChanged:!1}),steps:wp(wp({},e.steps),{completedSteps:pp(Ap(Ap([],e.steps.completedSteps,!0),[em.SECOND],!1))})})}(e,t);case Ef.TOGGLE_SHOW_NORMAL_PLANS:return function(e){return fp(fp({},e),{viewStatus:fp(fp({},e.viewStatus),{showNormalPlans:e&&e.viewStatus&&!e.viewStatus.showNormalPlans})})}(e);case Ef.TOGGLE_EXTENSION:return function(e,t){var n=t.payload,a=n.availableExtensionPrices,r=n.rawExtension,o=n.selectedPeriod,i=a&&a.map((function(e){return Pp({},e)}))||[],s=kp(r,o)||Yp,c={id:r.id,name:r.name,position:r.position,description:r.description,quantity:1,prices:a&&1===a.length?i:[s]},l=Pp({},c),u=Up(c,e)?Dp([],e.order.plan.extensions.filter((function(e){return e.id!==c.id})),!0):Dp(Dp([],e.order.plan.extensions,!0),[l],!1);return Pp(Pp({},e),{order:Pp(Pp({},e.order),{plan:Pp(Pp({},e.order.plan),{extensions:u})}),steps:Pp(Pp({},e.steps),{completedSteps:pp(Dp(Dp([],e.steps.completedSteps,!0),[em.THIRD],!1))})})}(e,t);case Ef.SELECT_EXTENSION_PRICING_PERIOD:return function(e,t){var n=t.payload.extension,a=t.payload.selectedExtension;if(!a||!n)return e;var r=a.value,o=Pp({},r),i=e.order.plan.extensions.filter((function(e){return e.id!==n.id})),s=Pp(Pp({},n),{prices:[o]});return Pp(Pp(Pp({},e),{order:Pp(Pp({},e.order),{plan:Pp(Pp({},e.order.plan),{extensions:Dp(Dp([],i,!0),[s],!1)})})}),!Hp(e)&&{viewStatus:Pp(Pp({},e.viewStatus),{extensionPeriodWasChanged:!0})})}(e,t);case Ef.SET_EXTENSION_QUANTITY:return function(e,t){var n=t.payload,a=n.extension,r=n.quantity,o=e.order.plan.extensions.filter((function(e){return e.id!==a.id})),i=Pp(Pp({},a),{quantity:r});return Pp(Pp({},e),{order:Pp(Pp({},e.order),{plan:Pp(Pp({},e.order.plan),{extensions:Dp(Dp([],o,!0),[i],!1)})})})}(e,t);case Ef.COMPANY_FORM_SUBMIT:return function(e,t){return Wp(Wp({},e),{order:Wp(Wp({},e.order),{subscriptionCompany:t.payload}),steps:Wp(Wp({},e.steps),{visitedSteps:pp(Kp(Kp([],e.steps.completedSteps,!0),[em.FOURTH,em.FIFTH],!1)),completedSteps:pp(Kp(Kp([],e.steps.completedSteps,!0),[em.FOURTH],!1)),activeStep:em.FIFTH})})}(e,t);case Ef.SELECT_PAYMENT_CHANNEL:return Xf(e,t);case Ef.SET_ORDER_BUTTON_DISABLED:return function(e,t){return hf(hf({},e),{viewStatus:hf(hf({},e.viewStatus),{isOrderButtonDisabled:t.payload})})}(e,t);default:return e}},Hf=Object(i.createContext)({state:{},dispatch:function(){}}),zf=function(){return Object(i.useContext)(Hf)},Yf=function(){return(Yf=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},qf=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Wf=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Kf=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},$f=function(e){return e.order.subscriptionPaymentChannel&&!!e.order.subscriptionPaymentChannel.id&&e.order.subscriptionPaymentChannel},Zf=function(e,t){return $p(t)===b.o.MXN&&-1!==[b.W.TRANSFER_MANUAL,b.W.TRANSFER].indexOf(e)?u.a.t("subscription.payments.mexicanPayments."+e.toLowerCase()):u.a.t("subscription.payments."+e.toLowerCase())},Xf=function(e,t){var n=t.payload;return Yf(Yf({},e),{order:Yf(Yf({},e.order),{subscriptionPaymentChannel:Yf({},n)}),steps:Yf(Yf({},e.steps),{completedSteps:pp(Kf(Kf([],e.steps.completedSteps,!0),[em.FIFTH],!1))})})},Jf=function(e,t){return function(){return qf(void 0,void 0,void 0,(function(){return Wf(this,(function(n){return t({type:Ef.SELECT_PAYMENT_CHANNEL,payload:e}),[2]}))}))}},Qf=function(e,t){return!!e&&!!t.subscriptionRecommendations&&!!t.subscriptionRecommendations.paymentChannel&&t.subscriptionRecommendations.paymentChannel.id===e.id},eE=function(e,t){return!!t.order.subscriptionPaymentChannel&&!!e&&t.order.subscriptionPaymentChannel.id===e.id},tE=function(){var e=zf().state,t=Object(i.useContext)(En.a).netGrossTranslationUtils,n=Cf(e),a=n.plan,r=n.selectedPrice,o=n.priceMultiplier,s=n.planPrice,c=n.totalNetPrice,l=n.paymentChannel,d=n.paymentChannelDiscount,m=n.isTaxNeeded,p=n.country,f=n.isPolishCountry,E=n.orderTotals,y=n.taxValue;return""===a.name||-1===e.steps.completedSteps.indexOf(em.SECOND)||-1===e.steps.visitedSteps.indexOf(em.SECOND)?null:i.createElement("div",{className:"v2-card bg-light js-cart mt-xl mt-l-0 d-none d-md-block"},i.createElement("header",{className:"fs-h3 mb-xl"},u.a.t("subscription.cart.title")),a&&a.name.length&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-md-6 v2-col-lg-12"},i.createElement("div",{className:"h-secondary"},u.a.t("subscription.cart.planTitle")),i.createElement("div",{className:"v2-row mt-s"},i.createElement("div",{className:"v2-col-auto"},i.createElement("div",{className:"fs-h4 text-uppercase"},hp(a.name)),r&&o&&i.createElement("div",{className:"text-muted fs-h5"},vp({multiplier:o,multiplierLabel:u.a.t("common.month",{count:o}),price:r.price,discount:r.discount,currency:r.currency}))||i.createElement(i.Fragment,null)),r&&i.createElement("div",{className:"v2-col text-right"},i.createElement("div",{className:"fs-h4"},i.createElement(Zm,{price:Jm(o,r.price),currency:r.currency,animate:!1,precision:2})),i.createElement("div",{className:"text-muted"},f&&t.t(En.c.NET)))||i.createElement(i.Fragment,null)),a&&a.extensions&&a.extensions.length&&i.createElement("div",{className:"h-secondary mt-l"},u.a.t("subscription.cart.extensionsTitle"))||i.createElement(i.Fragment,null),a&&a.extensions&&a.extensions.length&&a.extensions.sort(zp).map((function(n){var a=Lp(n,e),r=a.quantity,o=a.extensionPrice,s=a.priceMultiplier,c=a.priceMultiplierLabel,l=a.isExtensionCountedYearly;return i.createElement("div",{key:n.id+n.name,className:"v2-row mt-s"},i.createElement("div",{className:"v2-col-auto"},i.createElement("div",{className:"fs-h4"},n.name,jp(n)&&n.quantity&&i.createElement("span",{className:"ml-s"},"x",n.quantity)||""),o&&s&&i.createElement("div",{className:"text-muted fs-h5"},vp({isExtensionCountedYearly:l,multiplier:s,multiplierLabel:c,price:o.price,discount:o.discount,currency:o.currency}))),s&&o&&i.createElement("div",{className:"v2-col text-right"},i.createElement("div",{className:"fs-h4"},i.createElement(Zm,{price:Jm(r*s,o.price),currency:o.currency,animate:!1,precision:2})),i.createElement("div",{className:"text-muted"},f&&t.t(En.c.NET))))}))||i.createElement(i.Fragment,null)),i.createElement("div",{className:"v2-col-md-6 v2-col-lg-12"},d&&d>0&&i.createElement("div",{className:"v2-row mt-l"},i.createElement("div",{className:"v2-col-auto"},i.createElement("div",{className:"fs-h4"},u.a.t("subscription.discount")," ",d,"%"),l&&i.createElement("div",{className:"text-muted fs-h5"},Zf(l.id,e))),i.createElement("div",{className:"v2-col text-right"},i.createElement("div",{className:"fs-h4"},"-",i.createElement(Zm,{price:c-yp(c,d),currency:s.currency,animate:!1,precision:2})),i.createElement("div",{className:"text-muted"},m&&" "+t.t(En.c.NET))))||i.createElement(i.Fragment,null),i.createElement("div",{className:"border-top mt-xl pt-m"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-auto"},i.createElement("div",{className:"fs-h3 strong"},u.a.t("subscription.cart.total"))),i.createElement("div",{className:"v2-col text-right"},i.createElement("div",{className:"fs-h3 strong"},i.createElement(Zm,{price:yp(c,d),currency:s.currency,animate:!1,precision:2})," ",m&&t.t(En.c.NET)))),p&&s&&m&&y>0&&i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-auto"},i.createElement("div",{className:"text-muted"},u.a.t("subscription.tax.name")," ",p.taxValue,"%")),i.createElement("div",{className:"v2-col text-right"},i.createElement("div",{className:"text-muted"},"(",i.createElement(Zm,{price:yp(E.grossPrice,d),currency:s.currency,animate:!1,precision:2})," ",t.t(En.c.GROSS),")"))))))||i.createElement(i.Fragment,null))},nE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},aE=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rE=function(e,t,n){return function(t){var a=t.value||1;n({type:Ef.SET_EXTENSION_QUANTITY,payload:{extension:e,quantity:a}})}},oE=function(e,t,n){return function(t){return nE(void 0,void 0,void 0,(function(){return aE(this,(function(a){return n({type:Ef.SELECT_EXTENSION_PRICING_PERIOD,payload:{selectedExtension:t,extension:e}}),[2]}))}))}},iE=function(e,t,n,a,r){return function(){r({type:Ef.TOGGLE_EXTENSION,payload:{rawExtension:e,availableExtensionPrices:t,selectedPeriod:n}})}},sE=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},cE=function(e){e.stopPropagation()},lE=function(e){var t=e.extension,n=zf(),a=n.state,r=n.dispatch,o=Object(i.useContext)(En.a).netGrossTranslationUtils,s=!!bp(a)&&bp(a).period,c=t.prices&&sE([],t.prices,!0),l=t.prices&&t.prices.map((function(e){var t=e.discount>0?"(-"+e.discount+"%)":"";return{label:Ip(e.period)+" "+t,value:e}})),m=Array(5).fill("").map((function(e,t){return{value:t+1,label:t+1}})),p=kp(t,s),f=function(e,t){var n=t&&t.order.plan.extensions.find((function(t){return t.id===e.id}));return n&&n.prices&&n.prices[0]||null}(t,a),E=!Up(t,a)&&!!l,y=function(e,t){return t&&t.order.plan.extensions.find((function(t){return t.id===e.id}))||null}(t,a),h=l&&f&&l.find((function(e){return e.value.period===f.period})),v=l&&l.find((function(e){return e.value.period===(a.order.plan.prices[0]||{}).period})),b=!!f&&f.discount>0&&f&&f.discount||0,g=l.length>0?l[0].label:"",S=!!f&&f.basePrice!==f.price,_=!f&&p&&p.basePrice!==p.price,T=Cf(a).isTaxNeeded,N=nt("fs-h4",{"text-muted text-line-through":S||_}),O=nt("v2-form-check","v2-form-check-checkbox","v2-form-check-lg","mr-sm-l mb-s mb-sm-0",{checked:Up(t,a)}),C=!!a.order.plan.extensions.find((function(e){return e.id===t.id})),w=nt("e2e-extension-box",{"e2e-extension-box-selected":C});return i.createElement(d.d,{active:Up(t,a),onClick:iE(t,c||[],s,0,r),className:w,ribbonText:Vp(t,a)?u.a.t("subscription.recommended"):"",link:!0},i.createElement("div",null,i.createElement("div",{className:"d-flex ai-center flex-column flex-sm-row"},i.createElement("div",{className:O}),i.createElement("div",{className:"text-center text-sm-left mb-s mb-sm-0"},i.createElement("div",{className:"fs-h3 font-medium mb-s mb-sm-0"},t.name,i.createElement(d.A,{className:"ml-s font-normal",trigger:i.createElement(d.C,null),content:t.description})),i.createElement("div",null,i.createElement("span",{className:N},E?p&&Object(dn.b)(p.basePrice,p.currency):f&&Object(dn.b)(f.basePrice,f.currency)),i.createElement("span",{className:"d-sm-inline-block ml-s fs-h4"},S&&f&&i.createElement("span",{className:"mr-s"},Object(dn.b)(f.price,f.currency,2)),_&&p&&i.createElement("span",{className:"mr-s"},Object(dn.b)(p.price,p.currency,2))),i.createElement("span",{className:"fs-h4"},T&&o.t(En.c.NET)))),t&&y&&jp(t)&&i.createElement("div",{onClick:cE},i.createElement("span",{className:"ml-m mr-s"},u.a.t("common.qty"),":"),i.createElement(d.u,{className:"d-inline-block",options:m,onChange:rE(t,0,r),value:{value:y.quantity,label:y.quantity},isSearchable:!1,version:"v2"}))||"",i.createElement("div",{className:"d-flex ai-center flex-column flex-sm-row ml-sm-auto"},f&&b>0&&i.createElement(d.o,{className:"mb-s mb-sm-0 text-nowrap",type:"success",labelText:u.a.t("subscription.discount")+" "+b+"%"}),i.createElement(d.u,{onClick:cE,options:l,onChange:oE(y||t,0,r),value:E?v:h,className:"ml-sm-l w-40",isSearchable:!1,placeholder:g,version:"v2"})))))},uE=function(){var e=zf().state;return i.createElement(d.f,{horizontal:!0},function(e){var t=e.order.plan.id,n=e.subscriptionPlans.find((function(e){return e.id===t}));return n&&n.extensions||[]}(e).filter((function(e){return!!e.prices})).sort(zp).map((function(e){return i.createElement(lE,{key:e.id,extension:e})})))},dE={CARD:d.x.paymentCard,TRANSFER:d.x.paymentTransfer,TRANSFER_MANUAL:d.x.paymentAlior,ALIOR:d.x.paymentAlior,BLIK:d.x.paymentBlik,PAYPAL:d.x.paymentPaypal},mE=function(e){var t=e.paymentChannel,n=zf(),a=n.state,r=n.dispatch,o=eE(t,a),s=nt({"d-flex ai-center":!0,selected:o,"e2e-payment-channel-box":!0}),c=nt("v2-form-check","v2-form-check-lg","v2-form-check-radio","mr-l","mb-0",{checked:eE(t,a)});return i.createElement(d.d,{className:s,onClick:Jf(t,r),ribbonText:Qf(t,a)?u.a.t("subscription.recommended"):"",link:!0},i.createElement("div",{className:c}),i.createElement("div",null,i.createElement(d.w,{name:dE[t.id],className:"mr-l",width:40,height:40})),i.createElement("div",{className:"fs-h2 font-medium mr-auto"},Zf(t.id,a)),t.discount>0&&i.createElement(d.o,{labelText:u.a.t("subscription.payments.discount",{discount:t.discount})}))},pE=function(){var e=function(e){return e.subscriptionPaymentChannels}(zf().state);return i.createElement(d.f,{horizontal:!0},e.map((function(e){return i.createElement(mE,{key:e.id,paymentChannel:e})})))},fE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},EE=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yE=function(e,t){return function(){return fE(void 0,void 0,void 0,(function(){return EE(this,(function(n){return t({type:Ef.GO_TO_NEXT_STEP,payload:e}),[2]}))}))}},hE=function(e,t){return function(){t({type:Ef.GO_TO_NEXT_STEP,payload:e})}},vE=n(674),bE=function(e){var t=e.limit;return i.createElement("div",null,u.a.t("subscription.plans.employeeLimit",{limit:t,count:t||0}))},gE={solo:"plan-solo",basic:"plan-basic",medium:"plan-medium",pro:"plan-pro",custom:"plan-custom"},SE=n(807),_E=function(e){var t=e.price,n=e.plan,a=e.isTaxNeeded,r=Object(i.useContext)(En.a).netGrossTranslationUtils;if(Object(Qm.a)(t))return i.createElement(i.Fragment,null);var o=n.custom,s=Object(SE.a)(t.price),c=nt({"font-medium":!0,"my-l":!n.custom});return i.createElement("div",{className:c},i.createElement("div",{className:"fs-h2 lh-1"},Object(dn.b)(t.price,t.currency,o?s?0:2:0)),i.createElement("div",{className:"fs-h6 mt-xs"},a?r.t(En.c.NET)+" / ":"",""+u.a.t("subscription.period."+(n.custom?"month":t.period.toLowerCase()))))},TE=function(e,t){return function(){t({type:Ef.SELECT_PLAN,payload:e})}},NE=function(e){var t,n,a=e.plan,r=e.onComplete,o=e.onClick,s=zf().state,c=a.custom,l=a.id===s.order.plan.id,m=a.enabled||a.custom,p=at()("e2e-plan-box",{"e2e-plan-box-custom":c,"e2e-plan-box-selected":l,selected:l,disabled:!m,"text-center":!0}),f=(t=a.prices,n=Object(ii.h)(t),Object(Qm.a)(n)&&(n=Object(ii.j)(t),Object(Qm.a)(n)&&(n=Object(ii.l)(t))),n),E=Cf(s).isTaxNeeded,y=a.freeTextMessages||0,h=Object(ii.i)(f.period),v=u.a.t("subscription.plans.period",{months:h,count:h});return i.createElement(i.Fragment,null,c?i.createElement(d.d,{ribbonText:Np(a,s)?u.a.t("subscription.promotion"):"",className:p,onClick:o,onComplete:r,link:!0},i.createElement("div",{className:"v2-row v2-row-bordered text-center"},i.createElement("div",{className:"v2-col-12 v2-col-sm mb-m mb-sm-0 text-uppercase border-right-0 border-sm-right"},i.createElement("div",{className:"mb-s"},i.createElement(d.w,{name:gE[a.name]})),i.createElement("div",{className:"text-uppercase font-medium fs-h3"},hp(a.name))),i.createElement("div",{className:"v2-col-6 v2-col-sm font-medium d-flex jc-center ai-center"},i.createElement(_E,{price:f,plan:a,isTaxNeeded:E})),i.createElement("div",{className:"v2-col-6 v2-col-sm fs-h4 d-flex jc-center flex-column ai-center"},i.createElement(bE,{limit:a.employeesLimit}),y>0&&i.createElement("span",{className:"fs-h5 mt-l"},u.a.t("subscription.plans.freeSms",{freeSms:y})))),a.validTo&&i.createElement("div",{className:"fs-h6 text-center text-muted mt-m"},u.a.t("subscription.plans.validTo",{validTo:a.validTo,months:v}))):i.createElement(d.d,{ribbonText:Np(a,s)?u.a.t("subscription.recommended"):"",className:p,onClick:o,onComplete:r,link:!0},i.createElement("div",{className:"mb-s"},i.createElement(d.w,{name:gE[a.name],className:"my-auto"})),i.createElement("div",{className:"text-uppercase font-medium mb-m fs-h3"},hp(a.name)),i.createElement(_E,{price:f,plan:a,isTaxNeeded:E}),i.createElement(bE,{limit:a.employeesLimit}),!a.enabled&&a.unavailabilityReasons&&i.createElement(d.A,{className:"d-block mt-s",trigger:i.createElement(d.C,null),content:OE(a.unavailabilityReasons)})))},OE=function(e){if(!e)return"";var t="";return e.map((function(e){var n="subscription.plans."+Object(vE.default)(e.code.toLowerCase());t+=e.number?u.a.t(n,{calendars:e.number})+"<br/>":u.a.t(n)+"<br/>"})),t},CE=function(e){return function(){e({type:Ef.TOGGLE_SHOW_NORMAL_PLANS})}},wE=function(e){var t,n=e.plans,a=e.onComplete,r=e.id,o=zf(),s=o.state,c=o.dispatch,l="custom",m="normal",p=((t={})[l]=n.filter((function(e){return e.custom})),t[m]=n.filter((function(e){return!e.custom})),t),f=s.order.subscriptionCompany&&s.order.subscriptionCompany.country.value,E=_p(n),y=function(e){return e&&e.viewStatus&&e.viewStatus.showNormalPlans}(s)||function(e){return e&&e.order.plan&&!e.order.plan.custom}(s),h=Tp(s)?em.THIRD:em.SECOND;return i.createElement("div",{className:"e2e-plan-list"},Object.keys(p).filter((function(e){return y?e:e===l})).map((function(e,t){var n,r=p[e];return i.createElement("div",{key:t},e==m&&1===t&&i.createElement("div",{key:Math.random()+"",className:"mt-l mb-m d-flex"}),i.createElement(d.f,{className:(n=r,at()({"mb-m":n&&n.length&&n[0].custom,"flex-column":!0,"flex-sm-row":!0})),key:e},r.map((function(e){return i.createElement(NE,{key:e.id,plan:e,onComplete:a,onClick:TE(e,c)})}))))})),E&&!y&&i.createElement(d.b,{version:d.c.v2,text:u.a.t("subscription.plans.showDefault"),onClick:CE(c),link:!0,className:"strong pl-0"}),i.createElement("div",{className:"mt-l d-flex"},i.createElement("span",{className:"e2e-next-step mr-auto"},op(r,s)&&h&&i.createElement(d.b,{className:"mr-auto",text:u.a.t("subscription.steps.next"),onClick:hE(h,c),iconRight:d.x.chevronRight,version:d.c.v2})),i.createElement("a",{className:"v2-btn v2-btn-link",href:"/"+window.VersumConfig.branch_subdomain+"/helps/new",target:"_blank"},f===b.n.MX?u.a.t("subscription.needHelpAlternative"):u.a.t("subscription.needHelp"))))},AE=function(e,t,n){return function(){n({type:Ef.SELECT_PLAN_PERIOD,payload:e})}},RE=function(e){var t=e.price,n=zf(),a=n.state,r=n.dispatch,o=Object(i.useContext)(En.a).netGrossTranslationUtils,s=!!a.order.plan.prices[0]&&a.order.plan.prices[0].period===t.period,c=at()("e2e-plan-period","e2e-plan-period-"+t.period.toLowerCase(),{"p-xl":!0,selected:s}),l=Object(ii.i)(t.period),m=Cf(a).isTaxNeeded,p=at()("v2-form-check","v2-form-check-lg","v2-form-check-radio","mr-sm-l mb-0",{checked:s});return i.createElement(d.d,{onClick:AE(t,0,r),className:c,ribbonText:Rp(t.period,a)?u.a.t("subscription.recommended"):"",link:!0},i.createElement("div",{className:"d-flex ai-center flex-column flex-sm-row"},i.createElement("div",{className:p}),i.createElement("div",{className:"fs-h2 font-medium mr-sm-auto mb-s mb-sm-0"},u.a.t("subscription.plans.period",{months:l,count:l})),t.discount>0&&i.createElement(d.o,{className:"mb-s mb-sm-0 text-nowrap",type:"success",labelText:u.a.t("subscription.discount")+" "+t.discount+"%"}),i.createElement("div",{className:"d-flex flex-column flex-sm-row text-center ml-sm-xl"},t.basePrice!==t.price&&i.createElement("span",{className:"fs-h4 mr-sm-m mb-s mb-sm-0 text-line-through text-muted"},Object(dn.b)(t.basePrice,t.currency)),i.createElement("span",null,i.createElement("span",{className:"fs-h2 lh-1 font-medium"},Object(dn.b)(t.price,t.currency,Object(SE.a)(t.price)?0:2)),i.createElement("span",{className:"fs-h4"},m&&" "+o.t(En.c.NET))))))},IE=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},PE=function(){var e=zf().state,t=gp(e),n=t&&IE([],t.prices,!0);return n?i.createElement(d.f,{horizontal:!0},n.map((function(e){return i.createElement(RE,{key:e.period,price:e})})).reverse()):i.createElement(i.Fragment,null)},DE=function(){return(DE=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},kE=function(e){var t=e.children,n=i.useReducer(Uf,DE(DE({},kf),{loading:!0})),a=n[0],r=n[1];return Lf(r),function(e){var t=i.useRef(0);i.useEffect((function(){t.current>1&&cf(e),t.current++}),[(e.order.plan||{id:null}).id,(e.order.plan||{prices:[]}).prices.map((function(e){return(e||{}).period})).join(","),(e.order.subscriptionPaymentChannel||{id:null}).id,(e.order.plan||{extensions:[]}).extensions.map((function(e){return(e.prices||[]).map((function(e){return e.period})).join(",")})).join(","),(e.order.plan||{extensions:[]}).extensions.map((function(e){return e.quantity})).join(","),e.steps.activeStep,e.steps.visitedSteps.join(","),e.steps.completedSteps.join(",")])}(a),i.createElement(Hf.Provider,{value:{state:a,dispatch:r}},i.createElement("div",{className:"e2e-subscription-container"},a.loading&&i.createElement(d.v,null),!a.loading&&t({state:a,dispatch:r})))},ME=function(e){var t=e.currentStepId,n=zf().state,a=gp(n),r=Sp(n),o=Gp(n),s=Bf(n),c=$f(n);if(!function(e,t){return op(e,t)&&sp(e,t)&&!ip(e,t)}(t,n))return i.createElement(i.Fragment,null);if(t===em.THIRD&&o&&0===o.length)return i.createElement("div",{className:"v2-step-title"},u.a.t("subscription.empty"));var l=Tp(n);return i.createElement(i.Fragment,null,t===em.FIRST&&a&&i.createElement("div",{className:"v2-step-title"},l&&u.a.t("subscription.plans.nameCustom"),!l&&u.a.t("subscription.plans.name",{name:a.name})),t===em.SECOND&&r&&i.createElement("div",{className:"v2-step-title"},u.a.t("subscription.period."+r.toLowerCase())),t===em.THIRD&&o&&i.createElement("div",{className:"v2-step-title"},o.map((function(e){return i.createElement("div",{key:e.name},e.name)}))),t===em.FOURTH&&s&&i.createElement("div",{className:"v2-step-title"},s),t===em.FIFTH&&c&&i.createElement("div",{className:"v2-step-title"},c&&Zf(c.id,n)))},xE=function(e){var t=e.id,n=zf(),a=n.state,r=n.dispatch;return i.createElement("div",{className:"v2-step-header"},i.createElement("div",{className:lp(t,a)},u.a.t("subscription.steps."+t+"."+(op(t,a)?"completed":"notCompleted"))),i.createElement(ME,{currentStepId:t}),op(t,a)&&sp(t,a)&&!ip(t,a)?i.createElement(d.b,{text:u.a.t("subscription.change"),onClick:yE(t,r),className:"v2-btn-link",version:d.c.v2}):i.createElement(i.Fragment,null))},LE=function(e){var t=e.id,n=e.nextStep,a=zf(),r=a.state,o=a.dispatch;return i.createElement(i.Fragment,null,op(t,r)&&n&&i.createElement(d.b,{text:u.a.t("subscription.steps.next"),onClick:hE(n,o),iconRight:d.x.chevronRight,version:d.c.v2,className:"e2e-next-step-"+t}))},FE=function(e){var t=e.id,n=e.nextStep,a=e.isNextButtonShown,r=void 0===a||a,o=e.children,s=zf().state;if(!s)return i.createElement("div",null);var c=op(t,s),l=sp(em.THIRD,s);return i.createElement("li",{className:up(t,s),"data-step-id":t},i.createElement("div",{className:"v2-step-icon"},i.createElement("div",{className:"v2-step-progress"},!c||t===em.THIRD&&!l?i.createElement("span",{className:"v2-step-number"}):i.createElement(d.w,{name:d.x.check}))),i.createElement("div",{className:"v2-step-container"},i.createElement(xE,{id:t}),i.createElement("div",{className:"v2-step-content"},o,r&&i.createElement("div",{className:"mt-xl"},i.createElement(LE,{id:t,nextStep:n})))))},BE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},jE=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},GE=function(e,t){return function(){return BE(void 0,void 0,void 0,(function(){return jE(this,(function(n){switch(n.label){case 0:return[4,cf(e)];case 1:return n.sent(),t.push(Km),[2]}}))}))}},VE=function(e){return function(t){var n=t.history;return i.createElement(d.b,{className:"e2e-summary-button",onClick:GE(e,n),size:"md",text:u.a.t("subscription.summary.goto"),version:d.c.v2})}},UE=function(e){var t=e.children,n=zf().state;return i.createElement("div",null,i.createElement("ol",{className:"v2-step-list"},t),i.createElement("div",null,function(e,t){return e&&e.steps&&e.steps.completedSteps&&e.steps.completedSteps.length>0&&e.steps.completedSteps.length===t}(n,t.length)&&i.createElement(Zd.b,{render:VE(n)})))},HE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},zE=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},YE=function(){return i.createElement(kE,null,(function(e){var t=e.state,n=e.dispatch;return i.createElement(i.Fragment,null,i.createElement("h2",{className:"v2-page-title"},u.a.t("subscription.title")),i.createElement("div",{className:"v2-row v2-row-m"},i.createElement("div",{className:"v2-col-xl-8"},i.createElement(UE,null,i.createElement(FE,{id:em.FIRST,nextStep:em.SECOND,isNextButtonShown:!1},i.createElement(wE,{plans:t.subscriptionPlans,id:em.FIRST})),i.createElement(FE,{id:em.SECOND,nextStep:em.THIRD},i.createElement(PE,null)),i.createElement(FE,{id:em.THIRD,nextStep:em.FOURTH},i.createElement(uE,null)),i.createElement(FE,{id:em.FOURTH,nextStep:em.FIFTH,isNextButtonShown:!1},ip(em.FOURTH,t)&&i.createElement($a,{formType:fa.SUBSCRIPTION,company:t&&t.order&&t.order.subscriptionCompany,billingCurrency:$p(t),onSubmit:function(e){var t=e.actions,a=e.values;return HE(void 0,void 0,void 0,(function(){return zE(this,(function(e){return ka(fa.SUBSCRIPTION,t,a,(function(e){return HE(void 0,void 0,void 0,(function(){var t;return zE(this,(function(a){switch(a.label){case 0:return[4,Ia(e)];case 1:return t=a.sent(),n({type:Ef.COMPANY_FORM_SUBMIT,payload:t}),[2]}}))}))})),[2]}))}))}})||i.createElement(i.Fragment,null)),i.createElement(FE,{id:em.FIFTH},i.createElement(pE,null)))),i.createElement("div",{className:"v2-col-lg"},i.createElement(tE,null))))}))},qE=function(){return(qE=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},WE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},KE=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$E=function(e,t,n){return function(){return WE(void 0,void 0,void 0,(function(){var n,a,r,o,i;return KE(this,(function(s){switch(s.label){case 0:return e.viewStatus.isOrderButtonDisabled||window.VersumConfig.current_branch_readonly?[2]:(t({type:Ef.SET_ORDER_BUTTON_DISABLED,payload:!0}),[4,Ff()]);case 1:return n=s.sent(),[4,of()];case 2:return a=s.sent(),r=[lf(n,a),df(n,a)],i=r[1],(o=r[0])||i?(t({type:Ef.SET_STATE,payload:qE(qE({},e),{steps:qE(qE({},e.steps),{activeStep:o?em.FIRST:em.FOURTH,completedSteps:i?e.steps.completedSteps.filter((function(e){return-1===[em.FOURTH,em.FIFTH].indexOf(e)})):e.steps.completedSteps})})}),x.a.alert(u.a.t(o?"subscription.offerHasChanged":"subscription.companyHasChanged"),{sticky:!0}),window.setTimeout((function(){window.location.href=Wm}),3e3),[2]):[4,_f(e)];case 3:return s.sent(),[2]}}))}))}},ZE=i.createElement("tr",null),XE=function(){var e=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement(kE,null,(function(t){var n=t.state,a=t.dispatch,r=function(e){return e.order.plan.id&&e.order.plan.prices.length>0&&""!==Bf(e)&&e.order.subscriptionPaymentChannel&&e.order.subscriptionPaymentChannel.id}(n),o=function(e){var t=e&&e.order&&e.order.plan&&e.order.plan.extensions&&e.order.plan.extensions.map((function(t){return Mp(t,e)})),n={montlyCountedExtensions:t.filter((function(e){return e&&!xp(e)})),yearlyCountedExtensions:t.filter((function(e){return e&&xp(e)}))},a=e&&e.order&&e.order.plan&&e.order.plan.extensions||[];return{montlyCountedExtensions:n.montlyCountedExtensions.map((function(e){return a.find((function(t){return t.name===e.name}))||{}}))||[],yearlyCountedExtensions:n.yearlyCountedExtensions.map((function(e){return a.find((function(t){return t.name===e.name}))||{}}))||[]}}(n),s=Cf(n),c=s.company,l=s.paymentChannel,m=s.paymentChannelDiscount,p=s.plan,f=s.planPrice,E=s.planSum,y=s.selectedPeriod,h=s.selectedPrice,v=s.isTaxNeeded,g=s.totalNetPrice,S=s.totalGrossPrice,_=s.orderTotals,T=c.country&&c.country.value===b.n.BR&&c.region&&c.region.value,N=function(){var e=function(e){var t=Op(e);return Cp(e)?-1:Object(Ko.a)(t).diff(Object(Ko.a)(Object(ii.m)()),"days")}(zf().state),t=u.a.t("common.day",{days:e,count:e});return i.createElement("th",{className:"text-right"},u.a.t("subscription.summary.validTo"),e>=0&&i.createElement(ks.a,{className:"ml-s font-normal text-left text-notransform",trigger:i.createElement(ks.c,null),content:u.a.t("subscription.summary.validToInfo",{daysLeft:t})}))};return i.createElement(i.Fragment,null,!r&&i.createElement(Zd.a,{to:Wm}),i.createElement("div",null,i.createElement("h2",{className:"v2-page-title"},u.a.t("subscription.summary.title")),i.createElement("div",{className:"v2-row mb-xl"},i.createElement("div",{className:"v2-col v2-col-md-3"},i.createElement((function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"h-secondary"},u.a.t("subscription.summary.invoice")),i.createElement("address",null,c.name&&i.createElement("strong",null,c.name,i.createElement("br",null)),c.taxID&&i.createElement(i.Fragment,null,u.a.t("subscription.company.taxID"),": ",c.taxID,i.createElement("br",null)),c.companyID&&i.createElement(i.Fragment,null,u.a.t("subscription.company.companyID"),": ",c.companyID,i.createElement("br",null)),c.street&&i.createElement(i.Fragment,null,c.street,c.houseNumber&&" "+c.houseNumber,c.unitNumber&&"/"+c.unitNumber,i.createElement("br",null)),c.city&&i.createElement(i.Fragment,null,c.city,T&&", "+c.region.value,c.zipCode&&", "+c.zipCode,i.createElement("br",null)),c.country&&i.createElement(i.Fragment,null,c.country.label,i.createElement("br",null)),c.email&&i.createElement(i.Fragment,null,c.email)))}),null)),l&&l.id&&i.createElement("div",{className:"v2-col v2-col-md-3"},i.createElement((function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"h-secondary"},u.a.t("subscription.summary.paymentChannel")),i.createElement("span",{className:"strong"},Zf(l.id,n)))}),null))),i.createElement("div",{className:"v2-container-xl-width90"},i.createElement((function(){return i.createElement("table",{className:"v2-table v2-table-responsive v2-table-fixed mb-xl"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null),i.createElement("th",null,u.a.t("subscription.summary.period")),i.createElement("th",{className:"text-right"},u.a.t("subscription.summary.monthlyCost")),i.createElement("th",{className:"text-right"},u.a.t("subscription.summary.sum")),i.createElement(N,null))),i.createElement("tbody",null,p&&i.createElement("tr",null,i.createElement("td",{className:"strong"},hp(p.name)),i.createElement("td",null,y&&Ip(y)||"",h&&h.discount&&" "+gf(h)||""),i.createElement("td",{className:"text-right"},h&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:h.price,currency:h.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},h&&E&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:E,currency:h.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},h&&h.subscriptionValidTo||"-")),o&&o.montlyCountedExtensions&&o.montlyCountedExtensions.length&&o.montlyCountedExtensions.sort(zp).map((function(t){var a=Lp(t,n).extensionPrice,r=qp(t,n),o=Fp(t);return i.createElement("tr",{key:t.name},i.createElement("td",{className:"fs-h4 strong"},t.name,jp(t)&&t.quantity&&i.createElement("span",{className:"ml-s"},"x",t.quantity)||""),i.createElement("td",null,o&&Ip(o)||"",a&&" "+gf(a)),i.createElement("td",{className:"text-right"},a&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:a.price,currency:a.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},a&&r&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:r,currency:a.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},a.subscriptionValidTo))}))||i.createElement(i.Fragment,null)))}),null),o.yearlyCountedExtensions&&o.yearlyCountedExtensions.length>0&&i.createElement((function(){return i.createElement("table",{className:"v2-table v2-table-responsive v2-table-fixed mb-xl"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null),i.createElement("th",null,u.a.t("subscription.summary.period")),i.createElement("th",{className:"text-right"},u.a.t("subscription.summary.yearlyCost")),i.createElement("th",{className:"text-right"},u.a.t("subscription.summary.sum")),i.createElement(N,null))),i.createElement("tbody",null,o.yearlyCountedExtensions.sort(zp).map((function(t){var a=Lp(t,n).extensionPrice,r=qp(t,n),o=Fp(t);return i.createElement("tr",{key:t.name},i.createElement("td",{className:"fs-h4 strong"},t.name,jp(t)&&t.quantity&&i.createElement("span",{className:"ml-s"},"x",t.quantity)||""),i.createElement("td",null,o&&Ip(o)||"",a&&" "+gf(a)),i.createElement("td",{className:"text-right"},a&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:a.price,currency:a.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},a&&r&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:r,currency:a.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET))||""),i.createElement("td",{className:"text-right"},a.subscriptionValidTo))}))||i.createElement(i.Fragment,null)))}),null),i.createElement("div",{className:"v2-row"},i.createElement((function(){return i.createElement("table",{className:"v2-table v2-col-sm-6 col-sm-offset-6"},p&&i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"border-top",colSpan:2}),i.createElement("td",{className:"border-top"},u.a.t("subscription.cart.total"),":"),i.createElement("td",{className:"text-right border-top"},E&&h&&g&&i.createElement(i.Fragment,null,i.createElement(Zm,{price:g,currency:h.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET)))),m&&i.createElement("tr",null,i.createElement("td",{colSpan:2}),i.createElement("td",null,u.a.t("subscription.discount")+" ("+m+"% "+Zf(l.id,n)+")"),i.createElement("td",{className:"text-right"},"-",i.createElement(Zm,{price:g-yp(g,m),currency:f.currency,animate:!1,precision:2})," ",v&&e.t(En.c.NET)))||ZE),p&&S&&_.grossPrice&&i.createElement("tfoot",null,i.createElement("tr",null,i.createElement("td",{colSpan:2}),i.createElement("td",{className:"fs-h3 strong border-top"},u.a.t("subscription.summary.paymentSummary")),i.createElement("td",{className:"text-right fs-h3 strong border-top"},i.createElement(Zm,{price:yp(_.grossPrice,m),currency:f.currency,animate:!1,precision:2})," ",v&&e.t(En.c.GROSS)))))}),null)),i.createElement("div",{className:"d-flex ai-center mt-xl d-print-none"},i.createElement((function(){return i.createElement(i.Fragment,null,i.createElement(zd.b,{to:Wm},u.a.t("subscription.backTo")),i.createElement(d.b,{onClick:$E(n,a,bi.a),className:"e2e-summary-submit v2-btn v2-btn-blue v2-btn-lg ml-auto",text:n.viewStatus.isLoading&&u.a.t("common.processing")||u.a.t("subscription.summary.checkout"),disabled:window.VersumConfig.current_branch_readonly||n.viewStatus.isLoading||n.viewStatus.isOrderButtonDisabled,version:d.c.v2}))}),null)))))}))},JE=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},QE=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ey=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ty=w()(jf||(jf=JE(["\n  query getSubscriprionProlong {\n    subscriptionPlans {\n      id\n      name\n      enabled\n      custom\n      prolong\n      validTo\n      employeesLimit\n      freeCommissionMomentPayMonths\n      freeTextMessages\n      prices {\n        basePrice\n        currency\n        discount\n        invoiceNetPrice\n        months\n        period\n        price\n        smsReminderCost\n        subscriptionValidTo\n        vatRate\n      }\n      unavailabilityReasons {\n        code\n        number\n      }\n    }\n  }\n"],["\n  query getSubscriprionProlong {\n    subscriptionPlans {\n      id\n      name\n      enabled\n      custom\n      prolong\n      validTo\n      employeesLimit\n      freeCommissionMomentPayMonths\n      freeTextMessages\n      prices {\n        basePrice\n        currency\n        discount\n        invoiceNetPrice\n        months\n        period\n        price\n        smsReminderCost\n        subscriptionValidTo\n        vatRate\n      }\n      unavailabilityReasons {\n        code\n        number\n      }\n    }\n  }\n"]))),ny=function(e){return function(){return QE(void 0,void 0,void 0,(function(){return ey(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:w()(Gf||(Gf=JE(["\n            mutation ProlongSubscription($plan: SubscriptionProlongPlanInput!) {\n              prolongSubscription(plan: $plan) {\n                errors {\n                  argument\n                  code\n                  detail\n                }\n              }\n            }"],["\n            mutation ProlongSubscription($plan: SubscriptionProlongPlanInput!) {\n              prolongSubscription(plan: $plan) {\n                errors {\n                  argument\n                  code\n                  detail\n                }\n              }\n            }"]))),variables:{plan:{id:e.id}}},result:function(e){return e.prolongSubscription||null},mutationErrors:function(e){return e&&e.prolongSubscription&&e.prolongSubscription.errors||[]},successMessage:{message:u.a.t("subscription.notification.success")}})];case 1:return t.sent()&&(window.location.href=window.location.href.replace("prolong_subscription","settings/payment_processing/prolong_subscriptions/new")),[2]}}))}))}},ay=n(131),ry=function(e,t){return u.a.t("subscription.prolongs."+e,t)},oy=function(e){return e.invoiceNetPrice||e.price*e.months},iy=function(e){var t=e.plan,n=Object(i.useContext)(En.a).netGrossTranslationUtils,a=t.prices&&t.prices[0],r=t.freeCommissionMomentPayMonths?190+1e4/180*.39*(t.freeCommissionMomentPayMonths||1):0,o=(a.smsReminderCost||0)*(t.freeTextMessages||0),s=(function(e){return e.basePrice*e.months}(a)-oy(a)+r+o)*(a.vatRate/100+1);return i.createElement("div",{className:"prolong"},i.createElement("h2",{className:"prolong-title"},ry("title")),i.createElement("h3",{className:"prolong-subtitle mb-0"},ry("subtitle")),i.createElement("h3",{className:"prolong-subtitle mt-0 mb-xl"},ry("subtitle2")),i.createElement(ay.a,{ribbonText:ry("ribbonText"),className:"prolong-box"},i.createElement("span",{className:"valid-to"},ry("validTo",{date:t.validTo})),i.createElement(Vr.a,{name:Vr.b.planCustom,className:"my-auto"}),i.createElement("h4",{className:"plan-name"},ry("planName")),i.createElement("h5",{className:"monthly-price"},Object(dn.b)(a.price,a.currency)," / "+ry("perMonth")),i.createElement(sy,null,i.createElement(cy,null)," ",Object(dn.b)(s,a.currency)," ",ry("netGrossSavings",{netGross:n.t(En.c.GROSS)})),i.createElement(sy,null,i.createElement(cy,null)," ",ry("orderFor",{count:a.months})),t.freeTextMessages&&i.createElement(sy,null,i.createElement(cy,null)," ",ry("freeSms",{count:t.freeTextMessages}))||"",t.freeCommissionMomentPayMonths&&i.createElement(sy,null,i.createElement(cy,null)," ",ry("freeMomentPay",{count:t.freeCommissionMomentPayMonths}))||"",i.createElement("div",{className:"sum mt-m mb-m"},i.createElement("div",null,ry("toPay")),i.createElement("strong",null," ",Object(dn.b)(oy(a),a.currency),"  "),i.createElement("span",null,"(",Object(dn.b)(function(e){return oy(e)*(e.vatRate/100+1)}(a),a.currency),")")),i.createElement(lr.a,{className:"order-button",text:ry("order"),variant:"blue",disabled:window.VersumConfig.current_branch_readonly,onClick:ny(t)})))},sy=function(e){var t=e.children;return i.createElement("div",{className:"offer-line mt-s"},t)},cy=function(){return i.createElement(Vr.a,{name:Vr.b.active,className:"mr-s",size:16})},ly=n(500),uy=n(465),dy=function(){function e(){this.converter=new ly.Converter({noHeaderId:!0,strikethrough:!0,simpleLineBreaks:!1,openLinksInNewWindow:!0,tables:!0}),ly.setFlavor("github")}return e.parseHtml=function(e){return e.replace(/<!-- -->/g,"").replace(/((<(strong|em|b|s|i|u|p|del)>)+)((\&nbsp;|\s)+)((<\/(strong|em|b|s|i|u|p|del)>)+)/g,"$4").replace(/(<(strong|em|b|s|i|u|p|del)>)(\&nbsp;|\s)+(<(strong|em|b|s|i|u|p|del)>)/g,"$1$4").replace(/(<\/(strong|em|b|s|i|u|p|del)>)(\&nbsp;|\s)+(<\/(strong|em|b|s|i|u|p|del)>)/g,"$1$4").replace(/(\&nbsp;|\s)+((<\/(strong|em|b|s|i|u|p|del)>)+)/g,"$2 ").replace(/((<(strong|em|b|s|i|u|p|del)>)+)(\&nbsp;|\s)+/g," $1").replace(/(<li>)((<br>)+(.*?))(<\/li>)/g,"$1$4$5").replace(/(<li>)((<br>|\&nbsp;|\s)*)(<\/li>)/g,"").replace(/(\&nbsp;)/g," ").replace(/<(s)>/g,"<del>").replace(/<\/(s)>/g,"</del>")},e.parseMarkdown=function(e){return e.replace(/<!-- -->/g,"").replace(/<br(\/| \/)*>(\n\n)/g,"  \n")},e.prototype.toMarkdown=function(t){var n=e.parseHtml(uy.sanitize(t)),a=this.converter.makeMarkdown(n);return e.parseMarkdown(a)},e.prototype.toHtml=function(e){return uy.sanitize(this.converter.makeHtml(e).replace("  \n","<br>").replace(/<(del)>/g,"<s>").replace(/<\/(del)>/g,"</s>"))},e.prototype.richContentHtml=function(e,t,n){return void 0===n&&(n=u.a.t("common.noDescription")),e&&e.length>0&&t?"text/markdown"===t?this.toHtml(e):uy.sanitize(e):n},e}();!function(e){e.SET_GIFT_CARDS="SET_GIFT_CARDS",e.SET_FOUND_GIFT_CARDS="SET_FOUND_GIFT_CARDS",e.SET_SEARCH="SET_SEARCH",e.SET_MODAL_VISIBILITY="SET_MODAL_VISIBILITY"}(Vf||(Vf={}));var my,py,fy,Ey,yy,hy,vy=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},by=function(){return(by=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gy=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Sy=Object(i.createContext)({}),_y={search:"",isModalVisible:!0,servicesMaxVatValue:0},Ty=function(e,t){switch(t.type){case Vf.SET_GIFT_CARDS:return by(by({},e),{giftCards:Oy(t.payload)});case Vf.SET_FOUND_GIFT_CARDS:return by(by({},e),{foundGiftCards:t.payload});case Vf.SET_SEARCH:return by(by({},e),{search:t.payload});case Vf.SET_MODAL_VISIBILITY:return by(by({},e),{isModalVisible:t.payload})}},Ny=function(e,t,n){return A.a.query({options:{query:w()(my||(my=vy(["\n        query getGiftCards($term: String, $services: [ID!], $customer: ID) {\n          prepaymentGiftCards(term: $term, services: $services, customer: $customer) {\n            giftCard {\n              id\n              name\n              number\n              validUntil\n              valueLeft\n              value\n              vatValue\n              purpose\n              lockingEventId\n            }\n            prepaymentUnavailabilityReasons\n          }\n        }\n      "],["\n        query getGiftCards($term: String, $services: [ID!], $customer: ID) {\n          prepaymentGiftCards(term: $term, services: $services, customer: $customer) {\n            giftCard {\n              id\n              name\n              number\n              validUntil\n              valueLeft\n              value\n              vatValue\n              purpose\n              lockingEventId\n            }\n            prepaymentUnavailabilityReasons\n          }\n        }\n      "]))),variables:by(by(by({},e&&{customer:e}),t&&{services:t}),n&&{term:n}),fetchPolicy:"network-only"},result:function(e){return e.prepaymentGiftCards}})},Oy=function(e){return gy([],e,!0).sort((function(e,t){var n;return(null===(n=e.prepaymentUnavailabilityReasons)||void 0===n?void 0:n.length)?1:-1}))},Cy=n(798),wy=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ay=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ry=function(){var e=Object(i.useContext)(Sy),t=e.dispatch,n=e.search,a=e.serviceIDs,r=Object(i.useCallback)(Object(Cy.a)((function(e){return wy(void 0,void 0,void 0,(function(){var n;return Ay(this,(function(r){switch(r.label){case 0:return e?[4,Ny(void 0,a,e)]:[3,2];case 1:n=r.sent(),t({type:Vf.SET_FOUND_GIFT_CARDS,payload:n||[]}),r.label=2;case 2:return[2]}}))}))}),1e3),[]),o=Object(i.useCallback)((function(e){var n=e.target.value;t({type:Vf.SET_SEARCH,payload:n})}),[]);return i.createElement(i.Fragment,null,i.createElement(l.A,{htmlTag:"h4"},u.a.t("payments.giftCards.modal.search.enterGiftCardNumber"),":"),i.createElement("div",{className:"vrsm-mb-6"},i.createElement(l.A,{htmlTag:"span",textColor:"muted",className:"vrsm-mr-2"},u.a.t("payments.giftCards.modal.search.giftCardNumber")),i.createElement("input",{type:"text",onChange:o,onKeyPress:function(e){"Enter"===e.key&&r(n)},placeholder:u.a.t("payments.giftCards.modal.search.enterNumber")}),i.createElement(l.b,{isLink:!0,className:"vrsm-ml-2",onClick:function(){return r(n)}},u.a.t("common.search"))))},Iy=function(){return i.createElement(l.w,null,i.createElement(l.l,{size:11},i.createElement(l.g,{className:"vrsm-mt-3"},i.createElement(l.h,{className:"giftcard-balance-waring"},u.a.t("payments.giftCards.modal.list.balanceWarning")))))},Py=function(e){var t=e.eventId;return i.createElement(l.w,null,i.createElement(l.l,{size:11},i.createElement(l.g,{className:"vrsm-mt-3"},i.createElement(l.h,{className:"giftcard-event-locking"},i.createElement("span",{className:"mr-s"},u.a.t("payments.giftCards.modal.unavailabilityReason.locked"),": "),i.createElement("a",{href:"/"+window.VersumConfig.branch_subdomain+"/events/"+t+"/versions",target:"_blank"},t)))))},Dy=function(){var e=Object(i.useContext)(Sy),t=e.giftCards,n=e.foundGiftCards;return t?i.createElement(i.Fragment,null,(null==n?void 0:n.length)&&i.createElement("div",{className:"my-m"},null==n?void 0:n.map((function(e){var t;return i.createElement(ky,{item:e,key:null===(t=e.giftCard)||void 0===t?void 0:t.id})})))||"",i.createElement(l.A,{htmlTag:"h4"},u.a.t("payments.giftCards.modal.list.title"),":"),i.createElement("div",{className:"vrsm-divide-y"},0===t.length?i.createElement("div",null,u.a.t("payments.giftCards.modal.list.empty")):t.map((function(e){var t;return i.createElement(ky,{item:e,key:null===(t=e.giftCard)||void 0===t?void 0:t.id})})))):i.createElement(el.a,null)},ky=function(e){var t=e.item,n=t.giftCard,a=t.prepaymentUnavailabilityReasons,r=n||{},o=r.valueLeft,s=r.validUntil,c=r.number,m=r.name,p=r.purpose,f=r.lockingEventId,E=Object(i.useContext)(Sy),y=E.prepaymentAmount,h=E.onSave,v=E.dispatch,g=Object(i.useContext)(xo.a).currencyUtils,S=Object(i.useContext)(O.a).dateUtils,_=(null==a?void 0:a.some((function(e){return e===b.H.EXPIRED})))||!1,T=null==a?void 0:a.filter((function(e){return e!==b.H.EXPIRED})),N=i.useState(!1),C=N[0],w=N[1],A=function(e){h&&h(e),v({type:Vf.SET_MODAL_VISIBILITY,payload:!1})};return n?i.createElement("div",{style:{opacity:(null==T?void 0:T.length)?.3:1}},i.createElement(d.p,{isOpened:C,onSave:function(){A(n),w(!1)},onSaveText:u.a.t("common.yes"),onClose:function(){w(!1)},onCloseText:u.a.t("common.no"),type:d.r.simple,backdropClose:!0,keyboardClose:!0,dispatchEvents:!1},i.createElement("h2",{className:"mb-xl"},u.a.t("common.actionNeedsConfirmation")),i.createElement("p",null,u.a.t("payments.giftCards.modal.confirm.expired"))),i.createElement(l.w,{className:"py-m",align:"center"},i.createElement(l.l,{size:8,className:"vrsm-d-flex"},i.createElement(Ps.a,{name:Ds.a.giftCard,size:24}),i.createElement("div",{className:"vrsm-ml-2"},i.createElement(l.A,{htmlTag:"p",className:"vrsm-mb-1"},m),i.createElement(l.A,{htmlTag:"div",textColor:"muted",className:"vrsm-text-h6"},u.a.t("payments.giftCards.modal.list.giftCard"),i.createElement("span",{className:"text-uppercase"}," ",p)," |",u.a.t("payments.giftCards.modal.list.balance"),":"," ",g.formatCurrency(o||0))),(null==a?void 0:a.length)&&i.createElement(Ct.a,{trigger:i.createElement(Ps.a,{name:Ds.a.info}),content:a.map((function(e){return u.a.t("payments.giftCards.modal.unavailabilityReason."+e.toLowerCase())})).join(", "),className:"ml-s",type:Ct.d.Info})||""),i.createElement(l.l,{className:"vrsm-text-right"},i.createElement(l.A,{htmlTag:"strong",className:"vrsm-mb-1"},u.a.t("payments.giftCards.modal.list.number"),": ",c),i.createElement(l.A,{htmlTag:"div",textColor:"muted",className:"vrsm-text-h6"},u.a.t("payments.giftCards.modal.list.validTo"),": ",S.formatDate(new Date(s)))),i.createElement(l.l,{size:"auto",className:"vrsm-text-right"},i.createElement(l.b,{isOutline:!0,className:"vrsm-ml-2 px-m",onClick:function(){return(null==T?void 0:T.length)?x.a.alert(u.a.t("payments.giftCards.modal.list.cantUse")):_?w(!0):A(n)}},u.a.t("common.use"))),y&&y>(n.valueLeft||0)&&n.id&&i.createElement(Iy,null)||"",a&&a.indexOf(b.H.LOCKED)>-1&&f&&i.createElement(Py,{eventId:f})||"")):i.createElement(i.Fragment,null)},My=function(){return(My=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xy=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ly=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Fy=n(155),By=n(53),jy=function(e){var t=e.error;return t&&t.error_message.length&&Array.isArray(t.error_message)&&t.error_message.length&&i.createElement("div",{className:"mb-s"},t.service_info&&i.createElement("span",null,t.service_info+" - "||!1),i.createElement("b",null,t.error_message.join(", ")))||i.createElement(i.Fragment,null)},Gy=n(80),Vy=function(e){e.end;var t=e.beginning,n=e.startAtChange,a=e.editMode,r=i.useContext(O.a).dateUtils;return i.createElement("div",{className:nt({"date-error":status&&status.includes("error")})},a&&i.createElement(Os.a,{name:"starts_at",options:{singleDatePicker:!0,timePickerIncrement:1,timePicker:!0,startDate:R(t).toDate()},onChange:function(e){n(e)},style:{width:160}})||i.createElement("div",null,t&&i.createElement("span",null,r.formatDateTime(R(t).toDate(),Gy.b.WITH_WEEKDAY_NAME))))},Uy=function(){return(Uy=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Hy=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},zy=function(e){var t,n=e.onChange,a=e.onClose,r=Object(Fy.c)().recurrenceManager,o=Object(By.f)().forceUpdate,s=i.useState({}),c=s[0],l=s[1],d=(null==r?void 0:r.getRecurringEventsFromDrafts().filter((function(e){return!e._destroy})))||[],m=d.filter((function(e){var t;return null===(t=e.errors)||void 0===t?void 0:t.length})),p=r&&Hy(Hy([],(null===(t=r.mainEventErrors)||void 0===t?void 0:t.length)&&Hy([],r.mainEventErrors,!0)||[{isMainEvent:!0,beginning:window.dateUtils.formatRestPayloadDateTime(r.eventModel.beginning.toDate())}],!0),d,!0)||[],f=i.useState(p.every((function(e){return!e.errors}))),E=f[0],y=f[1];return r&&r.eventModel&&i.createElement(i.Fragment,null,m.length!==d.length?i.createElement("div",{className:"row my-m"},i.createElement("div",{className:"col-sm-12"},i.createElement("span",{className:"mr-s"},u.a.t("calendar.eventRecurrence.modal.payloadEditor.showAll"),":"),i.createElement("input",{type:"checkbox",checked:E,onChange:function(){return y(!E)}}))):"",i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12"},i.createElement(tl.a,{className:"table-bordered recurring-events-table",isRowHighlighted:function(e){return E&&e.errors&&e.errors.length>0||!1},isRowDisabled:function(e){return!e.errors&&!E||!!e.deleted},columns:[{path:"starts_at",label:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.header.startsAt"),bodyCellClassName:"date-cell",content:function(e,t){return i.createElement(Vy,Uy({},e,{editMode:c[t]||!1,startAtChange:r.handleRecurringEventStartDateChange(e.beginning||e.id,(function(){var e;l(Uy(Uy({},c),((e={})[t]=!1,e))),o(),n()}))}))}},{path:"details",label:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.header.details"),bodyCellClassName:"details-cell",content:function(e,t){return i.createElement("span",null,e.errors&&Array.isArray(e.errors)?e.errors.filter((function(e){return!!e.error_message})).map((function(e,t){return i.createElement(jy,{key:e.item_name&&e.service_name&&e.item_name+e.service_name||t,error:e})})):e.errors)}},{path:"actions",label:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.header.actions"),content:function(e,t){return e.isMainEvent?i.createElement("span",null,i.createElement(lr.a,{variant:"link",text:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.actions.correct"),onClick:function(){return a()}})):i.createElement("span",null,i.createElement(lr.a,{variant:"link",text:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.actions.edit"),onClick:function(){var e;return l(Uy(Uy({},c),((e={})[t]=!0,e)))}}),i.createElement(lr.a,{variant:"link",text:u.a.t("calendar.eventRecurrence.modal.payloadEditor.table.actions.delete"),onClick:function(t){Object(By.c)(t,(function(){r&&r.removeDraftRecurringEvent(e.beginning||e.id),o(),n()}))}}))||""}}],data:p}))))||i.createElement(i.Fragment,null)};!function(e){e.LOADING="LOADING",e.ERROR="ERROR",e.ACTIVATION_SCREEN="ACTIVATION_SCREEN",e.MODAL="MODAL",e.ACTIVE_PHONES_LIST="ACTIVE_PHONES_LIST"}(py||(py={})),function(e){e[e.FIRST=0]="FIRST",e[e.SECOND=1]="SECOND",e[e.THIRD=2]="THIRD",e[e.FOURTH=3]="FOURTH"}(fy||(fy={})),function(e){e.SET_CONTAINER_VIEW="SET_CONTAINER_VIEW",e.SET_ERRORS="SET_ERRORS",e.SET_ACTIVATION_STEPS_MODAL_VISIBLE="SET_ACTIVATION_STEPS_MODAL_VISIBLE",e.SET_ACTIVATION_STEP="SET_ACTIVATION_STEP",e.SET_PHONE_NUMBER_TO_ACTIVATE="SET_PHONE_NUMBER_TO_ACTIVATE",e.SET_ACTIVE_PHONES="SET_ACTIVE_PHONES",e.SET_BRANCH_PHONE="SET_BRANCH_PHONE"}(Ey||(Ey={})),function(e){e.BUSY="busy",e.NOT_RESPONDING="notResponding",e.TURNED_OFF="turnedOff"}(yy||(yy={})),function(e){e.ACTIVATION="activation",e.STATUS="status",e.DEACTIVATION="deactivation"}(hy||(hy={}));var Yy,qy,Wy,Ky,$y,Zy,Xy=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Jy=function(){return(Jy=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Qy=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},eh=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},th={containerView:py.LOADING,activationStepsModalVisible:!1,activePhones:[]},nh=i.createContext({}),ah=function(){return i.useContext(nh)},rh=function(e,t){switch(t.type){case Ey.SET_CONTAINER_VIEW:return Jy(Jy({},e),{containerView:t.payload});case Ey.SET_ERRORS:return Jy(Jy({},e),{errors:t.payload,activationStepsModalVisible:!1,containerView:py.ERROR});case Ey.SET_ACTIVE_PHONES:return Jy(Jy({},e),{activePhones:t.payload});case Ey.SET_BRANCH_PHONE:return Jy(Jy({},e),{branchPhone:t.payload});case Ey.SET_ACTIVATION_STEP:return Jy(Jy({},e),{currentActivationStep:t.payload});case Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE:return Jy(Jy(Jy({},e),{activationStepsModalVisible:t.payload}),t.payload&&{currentActivationStep:fy.FIRST});case Ey.SET_PHONE_NUMBER_TO_ACTIVATE:return Jy(Jy({},e),{phoneNumberToActivate:t.payload});default:return e}},oh=function(e){return window.getAssetHost("images/communication/call_forwarding/"+e)},ih=function(e){switch(e){case yy.BUSY:return"phone_busy.svg";case yy.NOT_RESPONDING:return"phone_no_answer.svg";case yy.TURNED_OFF:return"phone_off.svg";default:return""}},sh=function(e){switch(e){case yy.BUSY:return Ds.a.callForwardingBusy;case yy.NOT_RESPONDING:return Ds.a.callForwardingNotResponding;case yy.TURNED_OFF:return Ds.a.callForwardingTurnedOff;default:return Ds.a.inactive}},ch=function(){return Qy(void 0,void 0,void 0,(function(){return eh(this,(function(e){switch(e.label){case 0:return[4,bi.a.query({query:w()(Wy||(Wy=Xy(["\n    query GetCallForwadingPhones {\n      viewer {\n        branch {\n          pbxPhoneNumber {\n            lastActivityAt\n            phone {\n              countryCode\n              countryPrefix\n              number\n            }\n            state\n          }\n        }\n      }\n      pbxPhoneNumbers {\n        id\n        branchPhone {\n          countryCode\n          countryPrefix\n          number\n        }\n        pbxPhoneNumber {\n          lastActivityAt\n          phone {\n            countryCode\n            countryPrefix\n            number\n          }\n          state\n        }\n      }\n    }\n  "],["\n    query GetCallForwadingPhones {\n      viewer {\n        branch {\n          pbxPhoneNumber {\n            lastActivityAt\n            phone {\n              countryCode\n              countryPrefix\n              number\n            }\n            state\n          }\n        }\n      }\n      pbxPhoneNumbers {\n        id\n        branchPhone {\n          countryCode\n          countryPrefix\n          number\n        }\n        pbxPhoneNumber {\n          lastActivityAt\n          phone {\n            countryCode\n            countryPrefix\n            number\n          }\n          state\n        }\n      }\n    }\n  "]))),fetchPolicy:"network-only"})];case 1:return[2,e.sent()]}}))}))},lh=function(e){var t;return(t={},t[yy.BUSY]=b.m.BUSY,t[yy.NOT_RESPONDING]=b.m.NO_ANSWER,t[yy.TURNED_OFF]=b.m.OUT_OF_RANGE,t)[e]},uh=function(){var e=ah(),t=e.dispatch,n=e.isOnlineReservaionEnabled;return i.createElement("div",{className:"v2-blank e2e-call-forwarding-activation-screen"},i.createElement("div",{className:"v2-blank-actions"},i.createElement(lr.a,{className:"button ml-auto button-blue e2e-activate-call-forwarding-button",onClick:function(){n?t({type:Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE,payload:!0}):x.a.error(u.a.t("settings.communication.callForwarding.error.activatePbxRedirection.moment_not_activated"))},text:u.a.t("settings.communication.callForwarding.turnOnTheFeature")})),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement("img",{style:{width:300},src:oh("teaser.svg"),alt:u.a.t("settings.communication.callForwarding.title")})),i.createElement("h2",{className:"v2-blank-title-normal"},u.a.t("settings.communication.callForwarding.title")),i.createElement("div",{className:"text-center"},i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.callForwarding.featureDescription")}}))))},dh=function(e){var t=e.phoneNumber,n=e.size,a=void 0===n?40:n;return i.createElement("a",{href:"tel:"+t,className:"make-call-button"},i.createElement("img",{src:oh("make-call.svg"),alt:u.a.t("settings.communication.callForwarding.settings.communication.callForwarding.dialNumber"),width:a,height:a}))},mh=function(e){var t,n,a,r;return(t={})[yy.BUSY]=((n={})[hy.ACTIVATION]="**67*+"+e.countryPrefix+e.number+"#",n[hy.STATUS]="*#67#",n[hy.DEACTIVATION]="#67#",n),t[yy.NOT_RESPONDING]=((a={})[hy.ACTIVATION]="**61*+"+e.countryPrefix+e.number+"#",a[hy.STATUS]="*#61#",a[hy.DEACTIVATION]="#61#",a),t[yy.TURNED_OFF]=((r={})[hy.ACTIVATION]="**62*+"+e.countryPrefix+e.number+"#",r[hy.STATUS]="*#62#",r[hy.DEACTIVATION]="#62#",r),t},ph=function(e){var t=e.branchPhone,n=e.pbxPhoneNumber;if(!n||!t.number)return i.createElement(i.Fragment,null);var a=mh(n.phone)||{};return i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-12 v2-col-md-8 mb-m"},i.createElement("div",{className:"call-forwarding-box"},i.createElement("div",{className:""},i.createElement("p",{className:"fs-h5 light mb-xl"},u.a.t("settings.communication.callForwarding.phoneList.forwardingForNumber"),i.createElement("strong",null," ",Eh(t))),Object.keys(a).map((function(e){return i.createElement("div",{className:"d-flex mb-l",key:e},i.createElement(Ps.a,{name:sh(e)}),i.createElement("div",{className:"ml-m"},i.createElement("h4",{className:"mt-s mb-m"},u.a.t("settings.communication.callForwarding.phoneList.phoneNumberTitle."+e)),i.createElement("div",{className:"text-muted-dark"},i.createElement("p",null,u.a.t("settings.communication.callForwarding.phoneList.activationCode"),":",i.createElement("strong",{className:"fs-h5 text-default"}," ",a[e][hy.ACTIVATION]),i.createElement(dh,{phoneNumber:a[e][hy.ACTIVATION],size:30})),i.createElement("p",null,u.a.t("settings.communication.callForwarding.phoneList.statusCode"),": ",i.createElement("span",{className:"strong"},a[e][hy.STATUS])),i.createElement("p",null,u.a.t("settings.communication.callForwarding.phoneList.deactivationCode"),": ",i.createElement("span",{className:"strong"},a[e][hy.DEACTIVATION])))))}))))))},fh=function(){var e=ah(),t=e.activePhones,n=e.dispatch,a=i.useState(!1),r=a[0],o=a[1],s=t.slice().reverse(),c=s[0],l=c.branchPhone,d=c.pbxPhoneNumber,m=s.slice(1);return i.createElement("div",{className:"v2-container"},l&&d&&i.createElement(ph,{branchPhone:l,pbxPhoneNumber:d}),m.length>0&&i.createElement("details",{className:"show-more-codes",open:r},i.createElement("summary",{className:"v2-col-12 v2-col-md-8",onClick:function(e){e.preventDefault(),o(!r)}},r&&u.a.t("settings.communication.callForwarding.hideDetail")||u.a.t("settings.communication.callForwarding.showMore")),m.map((function(e,t){var n=e.branchPhone,a=e.pbxPhoneNumber;return i.createElement(ph,{key:n.number||t,branchPhone:n,pbxPhoneNumber:a})}))),i.createElement(lr.a,{className:"button ml-auto button-blue e2e-activate-call-forwarding-button",onClick:function(){return n({type:Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE,payload:!0})},text:u.a.t("settings.communication.callForwarding.addNumber")}))},Eh=function(e){return["+",e.countryPrefix,(e.number||"").replace(/(\d{3})/g," $1")].join("")},yh=function(){var e=ah(),t=e.dispatch,n=e.errors;return i.createElement("div",{className:"v2-blank e2e-call-forwarding-activation-screen"},i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{name:Vr.b.failureClouds})),i.createElement("h2",{className:"v2-blank-title-normal"},u.a.t("settings.communication.callForwarding.errorTitle")),i.createElement("div",{className:"text-center my-xl",dangerouslySetInnerHTML:{__html:n&&n.join("<br>")||""}}),i.createElement("div",{className:"text-center mt-xl"},i.createElement(lr.a,{className:"button ml-auto button-blue e2e-activate-call-forwarding-button",onClick:function(){t({type:Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE,payload:!0})},text:u.a.t("settings.communication.callForwarding.tryAgain")}))))},hh=function(){return(hh=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vh=function(e){var t=e.onSubmit,n=ah().dispatch;return i.createElement(i.Fragment,null,i.createElement("h2",{className:"mb-xl"},u.a.t("settings.communication.callForwarding.modal.firstStep.title")),i.createElement(rn.c,{initialValues:{phoneNumberToActivate:""},enableReinitialize:!0,validate:function(e){return hh({},!gh(e.phoneNumberToActivate)&&{phoneNumberToActivate:u.a.t("settings.communication.callForwarding.validation.phoneNumberToActivate.invalid")})},render:function(e){e.values,e.errors,e.setFieldValue;return i.createElement(rn.b,{className:"mb-xl"},i.createElement(rn.a,{name:"phoneNumberToActivate"},(function(e){var t=e.field,a=e.form;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-phone-input-prefix-container"},i.createElement("div",{className:"v2-phone-input-prefix "},i.createElement(Ps.a,{name:Ds.a.flag}),"+48"),i.createElement("input",hh({type:"text"},t,{onBlur:function(e){var t=e.target.value;return n({type:Ey.SET_PHONE_NUMBER_TO_ACTIVATE,payload:t})},maxLength:9,minLength:9}))),a.touched.phoneNumberToActivate&&a.errors.phoneNumberToActivate&&i.createElement("div",{className:"v2-form-error"},a.errors.phoneNumberToActivate))})))},onSubmit:function(e){var a=e.phoneNumberToActivate;n({type:Ey.SET_PHONE_NUMBER_TO_ACTIVATE,payload:a}),t(a)}}))},bh=function(e){var t,n,a=e.phoneState,r=ah().activePhones,o=r&&r.length>0&&r[r.length-1].id||0;return i.createElement(i.Fragment,null,i.createElement("h2",{className:"mb-l"},u.a.t("settings.communication.callForwarding.modal."+a+".title")),i.createElement("img",{src:oh(ih(a)),alt:u.a.t("settings.communication.callForwarding.title"),className:"mb-m"}),i.createElement(Sh,null),i.createElement("p",{className:"mb-m px-m"},u.a.t("settings.communication.callForwarding.modal."+a+".description")),i.createElement(lo.a,{link:!0,text:u.a.t("settings.communication.callForwarding.modal.sendSMSCode"),className:"mb-l",onClick:(t=o,n=lh(a),function(){return Qy(void 0,void 0,void 0,(function(){var e,a;return eh(this,(function(r){switch(r.label){case 0:return[4,bi.a.mutate({mutation:w()(Ky||(Ky=Xy(["\n      mutation SendCallForwardingConfigurationSms {\n        sendPbxConfigurationSms(pbxPhoneNumber: ",", type: ",")\n      }\n    "],["\n      mutation SendCallForwardingConfigurationSms {\n        sendPbxConfigurationSms(pbxPhoneNumber: ",", type: ",")\n      }\n    "])),t,n)})];case 1:return e=r.sent(),a=e.data,!e.errors&&a&&a.sendPbxConfigurationSms?(x.a.success(u.a.t("settings.communication.callForwarding.notify.smsHasBeenSent")),[2]):(x.a.error(u.a.t("settings.communication.callForwarding.notify.smsHasNotBeenSent")),[2])}}))}))})}))},gh=function(e){return!!e.match(/\d{9}/)},Sh=function(){var e=ah(),t=e.activePhones,n=e.currentActivationStep,a=t&&t[0]&&t[0].pbxPhoneNumber&&t[0].pbxPhoneNumber.phone&&t[0].pbxPhoneNumber.phone.number,r=mh({countryCode:b.n.PL,countryPrefix:"48",number:a})[[null,yy.BUSY,yy.NOT_RESPONDING,yy.TURNED_OFF][n||yy.BUSY]][hy.ACTIVATION];return i.createElement("div",{className:"fs-h2 mb-m"},r,i.createElement(dh,{phoneNumber:r}))},_h=function(){var e=ah(),t=e.dispatch,n=e.currentActivationStep,a=void 0===n?0:n,r=e.phoneNumberToActivate,o=void 0===r?"":r,s=e.activePhones,c=e.branchPhone,l=function(e){if(a===fy.FIRST)return gh(e)?void function(e,t){var n=e.phoneNumber,a=e.firstActivation;Qy(void 0,void 0,void 0,(function(){var e,r,o,i,s,c,l,d,m,p,f;return eh(this,(function(E){switch(E.label){case 0:return E.trys.push([0,5,,6]),e={countryCode:b.n.PL,countryPrefix:"48",number:n},a?[4,bi.a.mutate({mutation:w()(Yy||(Yy=Xy(["\n            mutation ActivatePbxRedirection {\n              activatePbxRedirection {\n                errors {\n                  argument\n                  code\n                }\n                phoneNumber {\n                  lastActivityAt\n                  phone {\n                    countryCode\n                    countryPrefix\n                    number\n                  }\n                  state\n                }\n              }\n            }\n          "],["\n            mutation ActivatePbxRedirection {\n              activatePbxRedirection {\n                errors {\n                  argument\n                  code\n                }\n                phoneNumber {\n                  lastActivityAt\n                  phone {\n                    countryCode\n                    countryPrefix\n                    number\n                  }\n                  state\n                }\n              }\n            }\n          "])))})]:[3,2];case 1:if(r=E.sent(),o=r.errors,i=r.data,s=o&&o||i&&i.activatePbxRedirection&&i.activatePbxRedirection.errors&&i.activatePbxRedirection.errors,Array.isArray(s)&&s.length>0)return t({type:Ey.SET_ERRORS,payload:s.map((function(e){return e.message||u.a.t("settings.communication.callForwarding.error."+e.argument+"."+e.code)}))}),x.a.error(u.a.t("settings.communication.callForwarding.notify.featureActivationError")),[2];i&&i.activatePbxRedirection&&x.a.success(u.a.t("settings.communication.callForwarding.notify.featureActivationSuccess"),{life:1e4}),E.label=2;case 2:return[4,bi.a.mutate({mutation:w()(qy||(qy=Xy(["\n          mutation CreatePbxPhoneNumber($phone: PhoneInput!) {\n            createPbxPhoneNumber(phone: $phone) {\n              errors {\n                argument\n                code\n                detail\n              }\n            }\n          }\n        "],["\n          mutation CreatePbxPhoneNumber($phone: PhoneInput!) {\n            createPbxPhoneNumber(phone: $phone) {\n              errors {\n                argument\n                code\n                detail\n              }\n            }\n          }\n        "]))),variables:{phone:e}})];case 3:return c=E.sent(),l=c.data,d=c.errors,m=d&&d||l&&l.createPbxPhoneNumber&&l.createPbxPhoneNumber.errors&&l.createPbxPhoneNumber.errors||[],Array.isArray(m)&&m.length>0?(t({type:Ey.SET_ERRORS,payload:m.map((function(e){return e.message||u.a.t("settings.communication.callForwarding.error."+e.argument+"."+e.code)}))}),x.a.error(u.a.t("settings.communication.callForwarding.notify.numberCreationError")),[2]):[4,ch()];case 4:return(p=E.sent().data.pbxPhoneNumbers)&&p.length>0&&t({type:Ey.SET_ACTIVE_PHONES,payload:p}),x.a.success(u.a.t("settings.communication.callForwarding.notify.numberCreationSuccess"),{life:1e4}),t({type:Ey.SET_ACTIVATION_STEP,payload:fy.SECOND}),t({type:Ey.SET_CONTAINER_VIEW,payload:py.ACTIVE_PHONES_LIST}),[3,6];case 5:return f=E.sent(),t({type:Ey.SET_ERRORS,payload:[f.message||"error"]}),[3,6];case 6:return[2]}}))}))}({phoneNumber:e,firstActivation:0===s.length&&!c},t):void x.a.error(u.a.t("settings.communication.callForwarding.validation.phoneNumberToActivate.invalid"));a!==fy.FOURTH&&t({type:Ey.SET_ACTIVATION_STEP,payload:a+1}),a===fy.FOURTH&&(t({type:Ey.SET_CONTAINER_VIEW,payload:py.ACTIVE_PHONES_LIST}),t({type:Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE,payload:!1}))};return i.createElement("div",null,i.createElement(uo.a,{align:uo.b.center,isOpened:!0,onSave:function(){return l(o)},onSaveText:u.a.t("common.next"),onSecondaryAction:a>fy.FIRST?function(){return t({type:Ey.SET_ACTIVATION_STEP,payload:a-1})}:void 0,onSecondaryText:u.a.t("common.backward"),onClose:function(){t({type:Ey.SET_ACTIVATION_STEPS_MODAL_VISIBLE,payload:!1}),s.length>0&&t({type:Ey.SET_CONTAINER_VIEW,payload:py.ACTIVE_PHONES_LIST})},hideCloseButton:!0,type:uo.c.simple,isFooterVisible:!0,className:"activation-steps-modal"},a===fy.FIRST&&i.createElement(vh,{onSubmit:l})||a===fy.SECOND&&i.createElement(bh,{phoneState:yy.BUSY})||a===fy.THIRD&&i.createElement(bh,{phoneState:yy.NOT_RESPONDING})||a===fy.FOURTH&&i.createElement(bh,{phoneState:yy.TURNED_OFF}),i.createElement(mo,{activeStep:a,stepCount:Object.keys(fy).length/2})))},Th=function(){return(Th=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.FORM="FORM",e.TEASER="TEASER",e.SPINNER="SPINNER",e.ERROR="ERROR",e.PREVIEW="PREVIEW"}($y||($y={})),function(e){e.SET_FETCHED_SAFE_BRANCH_SETTING="SET_FETCHED_SAFE_BRANCH_SETTING",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.EDIT_FORM="EDIT_FORM",e.FINISH_EDITING_SETTING="FINISH_EDITING_SETTING",e.SET_DELETE_MODAL_OPEN="SET_DELETE_MODAL_OPEN"}(Zy||(Zy={}));var Nh,Oh,Ch,wh,Ah=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Rh=function(){return(Rh=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ih=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ph=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Dh=w()(Nh||(Nh=Ah(["\n  query getSafeBranchSetting {\n    viewer {\n      branch {\n        safeBranchSetting(showAll: true) {\n          active\n          safetyMeasuresCategories {\n            measures {\n              name\n              value\n              key\n              custom\n            }\n            kind\n            name\n          }\n        }\n      }\n    }\n  }\n"],["\n  query getSafeBranchSetting {\n    viewer {\n      branch {\n        safeBranchSetting(showAll: true) {\n          active\n          safetyMeasuresCategories {\n            measures {\n              name\n              value\n              key\n              custom\n            }\n            kind\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),kh={viewType:$y.SPINNER,deleteModalOpen:!1},Mh=function(e,t){switch(t.type){case Zy.SET_FETCHED_SAFE_BRANCH_SETTING:return Rh(Rh({},e),{safeBranchSetting:t.payload,viewType:t.payload.active?$y.PREVIEW:$y.TEASER,deleteModalOpen:!1});case Zy.SET_FETCHING_FINISHED_WITH_ERRORS:return Rh(Rh({},e),{viewType:$y.ERROR});case Zy.EDIT_FORM:return Rh(Rh({},e),{viewType:$y.FORM});case Zy.FINISH_EDITING_SETTING:return Rh(Rh({},e),{viewType:e.safeBranchSetting&&e.safeBranchSetting.active?$y.PREVIEW:$y.TEASER});case Zy.SET_DELETE_MODAL_OPEN:return Rh(Rh({},e),{deleteModalOpen:t.payload});default:return e}},xh=function(){return Ih(void 0,void 0,void 0,(function(){return Ph(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:Dh},result:function(e){return e.viewer.branch.safeBranchSetting}})];case 1:return[2,e.sent()]}}))}))},Lh=Object(i.createContext)(Rh({dispatch:function(){}},kh));!function(e){e.ADD_CUSTOM_EMPTY_MEASURE="ADD_CUSTOM_EMPTY_MEASURE",e.TOGGLE_SAFETY_MEASURE="TOGGLE_SAFETY_MEASURE",e.DELETE_CUSTOM_SAFETY_MEASURE="DELETE_CUSTOM_SAFETY_MEASURE",e.SET_CUSTOM_SAFETY_MEASURE_NAME="SET_CUSTOM_SAFETY_MEASURE_NAME",e.SET_CUSTOM_SAFETY_MEASURE_EDIT_MODE="SET_CUSTOM_SAFETY_MEASURE_EDIT_MODE",e.CANCEL_CUSTOM_SAFETY_MEASURE_EDIT="CANCEL_CUSTOM_SAFETY_MEASURE_EDIT"}(Oh||(Oh={})),function(e){e.TEASER="TEASER",e.FORM="FORM",e.PREVIEW="PREVIEW",e.SPINNER="SPINNER",e.ERROR="ERROR"}(Ch||(Ch={})),function(e){e.SET_FETCHED_HEALTH_SURVEY_CONFIG="SET_FETCHED_HEALTH_SURVEY_CONFIG",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.EDIT_CONFIG="EDIT_CONFIG",e.FINISH_EDITING_CONFIG="FINISH_EDITING_CONFIG",e.SET_INFO_MODAL_OPEN="SET_INFO_MODAL_OPEN"}(wh||(wh={}));var Fh,Bh,jh,Gh,Vh,Uh=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Hh=function(){return(Hh=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zh=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Yh=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},qh=w()(Fh||(Fh=Uh(["\n  query GetCustomerHealthSurveyConfig {\n    customerHealthSurveyConfig{\n      enabled\n    }\n  }\n"],["\n  query GetCustomerHealthSurveyConfig {\n    customerHealthSurveyConfig{\n      enabled\n    }\n  }\n"]))),Wh={viewType:Ch.SPINNER,infoModalOpen:!1},Kh=function(e,t){switch(t.type){case wh.SET_FETCHED_HEALTH_SURVEY_CONFIG:return Hh(Hh({},e),{healthSurveyConfig:t.payload,viewType:t.payload.enabled?Ch.PREVIEW:Ch.TEASER});case wh.SET_FETCHING_FINISHED_WITH_ERRORS:return Hh(Hh({},e),{viewType:Ch.ERROR});case wh.EDIT_CONFIG:return Hh(Hh({},e),{viewType:Ch.FORM});case wh.FINISH_EDITING_CONFIG:return Hh(Hh({},e),{viewType:e.healthSurveyConfig&&e.healthSurveyConfig.enabled?Ch.PREVIEW:Ch.TEASER});case wh.SET_INFO_MODAL_OPEN:return Hh(Hh({},e),{infoModalOpen:t.payload});default:return e}},$h=function(){return zh(void 0,void 0,void 0,(function(){return Yh(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:qh},result:function(e){return e.customerHealthSurveyConfig||null}})];case 1:return[2,e.sent()]}}))}))},Zh=Object(i.createContext)(Hh(Hh({dispatch:function(){}},Wh),{reminderDaysBefore:"",reminderPlatform:"",exampleSurveyLink:"",reminderEditPath:"",smsSettingsPath:"",smsMessageLength:0,locale:""})),Xh=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Jh=function(){return(Jh=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Qh=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ev=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tv=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},nv=function(e,t,n,a){var r=e.values.safetyMeasuresCategories,o=r[t],i=o.measures,s=i[n];e.setValues(Jh(Jh({},e.values),{safetyMeasuresCategories:tv(tv(tv([],r.slice(0,t),!0),[Jh(Jh({},o),{measures:tv(tv(tv([],i.slice(0,n),!0),[a(s)],!1),i.slice(n+1,i.length),!0)})],!1),r.slice(t+1,r.length),!0)}))},av=function(e,t){switch(t.type){case Oh.ADD_CUSTOM_EMPTY_MEASURE:var n=e.values.safetyMeasuresCategories[t.payload.categoryIdx].measures.findIndex((function(e){return!e.visible}));return void nv(e,t.payload.categoryIdx,n,(function(e){return Jh(Jh({},e),{value:!0,visible:!0,editMode:!0})}));case Oh.TOGGLE_SAFETY_MEASURE:var a=e.values.safetyMeasuresCategories[t.payload.categoryIdx];return void nv(e,t.payload.categoryIdx,t.payload.measureIdx,(function(t){return e.setFieldTouched(a.kind+"."+t.key,!0),Jh(Jh({},t),{value:!t.value})}));case Oh.SET_CUSTOM_SAFETY_MEASURE_NAME:return void nv(e,t.payload.categoryIdx,t.payload.measureIdx,(function(e){return Jh(Jh({},e),{name:t.payload.name})}));case Oh.DELETE_CUSTOM_SAFETY_MEASURE:var r=e.values.safetyMeasuresCategories[t.payload.categoryIdx];return void nv(e,t.payload.categoryIdx,t.payload.measureIdx,(function(t){return e.setFieldTouched(r.kind+"."+t.key,!1),e.setFieldError(r.kind+"."+t.key,""),Jh(Jh({},t),{name:"",visible:!t.custom,value:!1})}));case Oh.SET_CUSTOM_SAFETY_MEASURE_EDIT_MODE:return void nv(e,t.payload.categoryIdx,t.payload.measureIdx,(function(e){return Jh(Jh({},e),{editMode:t.payload.editMode,originalName:e.name})}));case Oh.CANCEL_CUSTOM_SAFETY_MEASURE_EDIT:var o=e.values.safetyMeasuresCategories[t.payload.categoryIdx];return void nv(e,t.payload.categoryIdx,t.payload.measureIdx,(function(t){return""===t.originalName&&(e.setFieldTouched(o.kind+"."+t.key,!1),e.setFieldError(o.kind+"."+t.key,"")),Jh(Jh(Jh({},t),{editMode:!1,name:t.originalName}),""===t.originalName&&{visible:!t.custom,value:!1})}));default:return}},rv=function(e){return Jh(Jh(Jh({},e.safetyMeasuresCategories.reduce((function(e,t){var n,a=t.measures.reduce((function(e,t){var n;return Jh(Jh({},e),t.custom&&!t.name&&t.visible&&((n={})[t.key]=u.a.t("validation.required"),n))}),{});return Jh(Jh({},e),Object.keys(a).length>0&&((n={})[t.kind]=a,n))}),{})),e.safetyMeasuresCategories.reduce((function(e,t){return tv(tv([],e,!0),t.measures.filter((function(e){return e.value})),!0)}),[]).length<5&&{measuresCount:u.a.t("settings.customerPanel.safeBranch.form.measuresCountError")}),e.safetyMeasuresCategories.reduce((function(e,t){return tv(tv([],e,!0),t.measures.filter((function(e){return e.editMode})),!0)}),[]).length>0&&{unsavedMeasure:u.a.t("settings.customerPanel.safeBranch.form.unsavedMeasureError")})},ov=w()(Bh||(Bh=Xh(["\n  mutation updateSafeBranchSetting($settings: SafeBranchSettingUpdateInput!) {\n    updateSafeBranchSetting(settings: $settings) {\n      safeBranchSetting(showAll: true) {\n        active\n        safetyMeasuresCategories {\n          measures {\n            name\n            value\n            key\n            custom\n          }\n          kind\n          name\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation updateSafeBranchSetting($settings: SafeBranchSettingUpdateInput!) {\n    updateSafeBranchSetting(settings: $settings) {\n      safeBranchSetting(showAll: true) {\n        active\n        safetyMeasuresCategories {\n          measures {\n            name\n            value\n            key\n            custom\n          }\n          kind\n          name\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),iv=function(e,t,n,a){return Qh(void 0,void 0,void 0,(function(){var r,o,i;return ev(this,(function(s){switch(s.label){case 0:return[4,A.a.mutate({options:{mutation:ov,variables:{settings:{safetyMeasuresCategories:tv([],e.safetyMeasuresCategories.map((function(e){return{kind:e.kind,measures:e.measures.map((function(e){return{key:e.key,name:e.name,value:e.value,custom:e.custom}}))}})),!0)}}},result:function(e){return e&&e.updateSafeBranchSetting&&e.updateSafeBranchSetting.safeBranchSetting||null},mutationErrors:function(e){return e&&e.updateSafeBranchSetting&&e.updateSafeBranchSetting.errors||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return r=s.sent(),t.setSubmitting(!1),r?(n({type:Zy.SET_FETCHED_SAFE_BRANCH_SETTING,payload:r}),a&&!a.active&&r.active?(x.a.success(u.a.t("settings.customerPanel.safeBranch.badgeAwarded"),{modal:!0}),o=document.getElementsByClassName("safe-branch-link"),[4,$h()]):[3,3]):[3,4];case 2:return(i=s.sent())&&i.enabled&&o.length>0&&o[0].classList.add("d-none"),[3,4];case 3:a&&a.active&&x.a.success(u.a.t("common.settingsSaved"),{modal:!0}),s.label=4;case 4:return[2]}}))}))},sv=function(e){var t=e.field,n=e.form,a=e.categoryIdx,r=e.measureIdx,o=n.values.safetyMeasuresCategories[a],s=o.measures[r],c=s.name||"",l=(n.touched[o.kind]&&n.touched[o.kind][s.key]||n.touched.safetyMeasuresCategories)&&n.errors[o.kind]&&n.errors[o.kind][s.key],d=Object(i.useCallback)((function(e){e&&s.editMode&&e.focus()}),[s.editMode]);return i.createElement("div",null,s.visible&&i.createElement(_n.a,{name:t.name,checked:s.value,onChange:function(){return av(n,{type:Oh.TOGGLE_SAFETY_MEASURE,payload:{categoryIdx:a,measureIdx:r}})},label:s.custom?s.editMode?i.createElement(i.Fragment,null,i.createElement(_n.f,{forwardedRef:d,type:"text",onChange:function(e){return av(n,{type:Oh.SET_CUSTOM_SAFETY_MEASURE_NAME,payload:{categoryIdx:a,measureIdx:r,name:e.target.value}})},value:c,onBlur:function(){return n.setFieldTouched(t.name)},errorMessage:l,className:nt("v2-form-controls","e2e-"+t.name+"-text-input")}),i.createElement(Pr.a,{isGroupConnected:!1,className:"pl-m"},i.createElement(lr.a,{type:"button",className:"v2-btn-blue",onClick:function(){return!l&&av(n,{type:Oh.SET_CUSTOM_SAFETY_MEASURE_EDIT_MODE,payload:{categoryIdx:a,measureIdx:r,editMode:!1}})}},u.a.t("common.save")),i.createElement(lr.a,{type:"button",className:"button-link",onClick:function(){return av(n,{type:Oh.CANCEL_CUSTOM_SAFETY_MEASURE_EDIT,payload:{categoryIdx:a,measureIdx:r}})}},u.a.t("common.cancel")))):i.createElement(i.Fragment,null,c,i.createElement(Pr.a,{isGroupConnected:!1,className:"pl-m"},i.createElement(lr.a,{type:"button",className:"button-link p-0",onClick:function(){return av(n,{type:Oh.SET_CUSTOM_SAFETY_MEASURE_EDIT_MODE,payload:{categoryIdx:a,measureIdx:r,editMode:!0}})}},u.a.t("common.edit")),i.createElement(lr.a,{type:"button",className:"v2-btn-link v2-btn-red p-0 text-red",onClick:function(){return av(n,{type:Oh.DELETE_CUSTOM_SAFETY_MEASURE,payload:{categoryIdx:a,measureIdx:r}})}},u.a.t("common.delete")))):i.createElement(i.Fragment,null,c)}))},cv=function(e){var t=Object(i.useContext)(Lh).dispatch,n=e.touched.safetyMeasuresCategories&&(e.errors.measuresCount||e.errors.unsavedMeasure);return i.createElement(rn.b,null,e.values.safetyMeasuresCategories.map((function(t,n){return i.createElement(i.Fragment,{key:t.kind},i.createElement("h3",{className:"bold"},t.name),i.createElement("p",null,u.a.t("settings.customerPanel.safeBranch.measures.categoryInfo."+t.kind)),t.measures.map((function(e,a){return i.createElement(rn.a,{name:t.kind+"."+e.key,key:e.key,categoryIdx:n,measureIdx:a,component:sv})})),t.measures.filter((function(e){return e.custom&&e.visible})).length<3?i.createElement(lr.a,{className:"button-link",onClick:function(){return av(e,{type:Oh.ADD_CUSTOM_EMPTY_MEASURE,payload:{categoryIdx:n}})},type:"button"},"+ "+u.a.t("settings.customerPanel.safeBranch.form.addCustom")):i.createElement(i.Fragment,null))})),n&&i.createElement("div",null,i.createElement("div",{className:"v2-form-control-unit invalid"}),i.createElement("div",{className:"ml-xs v2-form-control-hint"},n)),i.createElement(Pr.a,{isGroupConnected:!1,className:"pt-m"},i.createElement(lr.a,{variant:"blue",type:"submit",text:e.isSubmitting?u.a.t("common.processing"):u.a.t("common.save"),className:nt("e2e-save-settings",{"button-disabled":e.isSubmitting}),disabled:e.isSubmitting}),i.createElement(lr.a,{text:u.a.t("common.cancel"),disabled:e.isSubmitting,className:"e2e-cancel-edit",onClick:function(){t({type:Zy.FINISH_EDITING_SETTING})}})))},lv=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},uv=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},dv=function(){var e,t=Object(i.useContext)(Lh),n=t.safeBranchSetting,a=t.dispatch;return i.createElement(i.Fragment,null,i.createElement("div",{className:"booksy_integration_banner vrsm-mb-6"},u.a.t("settings.customerPanel.safeBranch.booksyBanner")),n&&i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-start mb-m"},i.createElement("div",{className:"infobox infobox-bg-blue d-flex ai-center"},i.createElement(Vr.a,{name:Vr.b.info,className:"v2-tooltip-icon",width:23,height:23}),i.createElement("div",{className:"pl-s"},u.a.t("settings.customerPanel.safeBranch.form.info"))),i.createElement(lr.a,{className:"ml-auto e2e-safe-branch-delete-button",text:u.a.t("settings.customerPanel.safeBranch.form.delete"),disabled:!n.active,onClick:function(){return a({type:Zy.SET_DELETE_MODAL_OPEN,payload:!0})}})),i.createElement(rn.c,{onSubmit:function(e,t){return lv(void 0,void 0,void 0,(function(){return uv(this,(function(r){switch(r.label){case 0:return[4,iv(e,t,a,n)];case 1:return r.sent(),[2]}}))}))},initialValues:(e=n,{safetyMeasuresCategories:e.safetyMeasuresCategories.map((function(e){return{name:e.name,kind:e.kind,measures:e.measures.map((function(e){return{key:e.key,name:e.name,value:e.value,custom:e.custom,visible:!e.custom||e.custom&&!!e.name,editMode:!1,originalName:e.name}}))}}))}),component:cv,validate:rv})))},mv=function(){var e=Object(i.useContext)(Lh),t=e.dispatch,n=e.momentStatus,a=u.a.t("settings.customerPanel.safeBranch.teaser.activateButton"),r="active"===n||"suspended"===n&&!0;return i.createElement("div",{className:"v2-blank e2e-safe-branch-teaser"},i.createElement("div",{className:nt("v2-blank-actions")},i.createElement(ks.a,{content:r?"":u.a.t("settings.customerPanel.safeBranch.teaser.tooltip"),type:ks.d.Dark,trigger:i.createElement(lo.a,{className:"button button-blue ml-auto button-blue e2e-activate-safe-branch-button",disabled:!r||window.VersumConfig.current_branch_readonly,onClick:function(){t({type:Zy.EDIT_FORM})},text:a})})),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Ps.a,{width:136,name:Ds.a.safeBranchTeaser})),i.createElement("h2",{className:"v2-blank-title-normal bold"},u.a.t("settings.customerPanel.safeBranch.teaser.title")),i.createElement("div",{className:"text-center"},u.a.t("settings.customerPanel.safeBranch.teaser.info"))))},pv=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},fv=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ev=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yv=w()(jh||(jh=pv(["\n  mutation deleteSafeBranchSetting {\n    deleteSafeBranchSetting {\n      safeBranchSetting {\n        active\n        safetyMeasuresCategories {\n          measures {\n            name\n            value\n            key\n            custom\n          }\n          kind\n          name\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation deleteSafeBranchSetting {\n    deleteSafeBranchSetting {\n      safeBranchSetting {\n        active\n        safetyMeasuresCategories {\n          measures {\n            name\n            value\n            key\n            custom\n          }\n          kind\n          name\n        }\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),hv=function(){var e=Object(i.useContext)(Lh),t=e.deleteModalOpen,n=e.dispatch;return i.createElement("div",null,i.createElement(d.p,{type:d.r.danger,title:u.a.t("settings.customerPanel.safeBranch.form.deleteModal.title"),backdropClose:!0,isFooterVisible:!0,isOpened:t,onClose:function(){return n({type:Zy.SET_DELETE_MODAL_OPEN,payload:!1})},onCloseText:u.a.t("common.cancel"),onSave:function(){return function(e){return fv(void 0,void 0,void 0,(function(){var t,n;return Ev(this,(function(a){switch(a.label){case 0:return[4,A.a.mutate({options:{mutation:yv},result:function(e){return e&&e.deleteSafeBranchSetting&&e.deleteSafeBranchSetting.safeBranchSetting||null},mutationErrors:function(e){return e.deleteSafeBranchSetting&&e.deleteSafeBranchSetting.errors||[]},successMessage:{message:u.a.t("settings.customerPanel.safeBranch.badgeRevoked")},errorMessage:{message:u.a.t("settings.customerPanel.safeBranch.badgeRevokingError")}})];case 1:return(t=a.sent())?(e({type:Zy.SET_FETCHED_SAFE_BRANCH_SETTING,payload:t}),(n=document.getElementsByClassName("safe-branch-link")).length>0&&n[0].classList.remove("d-none")):e({type:Zy.SET_DELETE_MODAL_OPEN,payload:!1}),[2]}}))}))}(n)},onSaveText:u.a.t("settings.customerPanel.safeBranch.form.deleteModal.confirm")},i.createElement("div",{className:"mt-s"},u.a.t("settings.customerPanel.safeBranch.form.deleteModal.info"))))},vv=function(){var e=Object(i.useContext)(Lh),t=e.dispatch,n=e.safeBranchSetting;return i.createElement("div",{className:"e2e-safe-branch-preview"},i.createElement("div",{className:"booksy_integration_banner vrsm-mb-6"},u.a.t("settings.customerPanel.safeBranch.booksyBanner")),i.createElement("div",null,n&&n.safetyMeasuresCategories.map((function(e,n){return i.createElement("div",{key:e.kind},0===n?i.createElement("div",{className:"d-flex ai-center"},i.createElement("h3",{className:"bold mt-0"},e.name),i.createElement(lo.a,{className:"button button-outline-blue ml-auto e2e-edit-settings-button",onClick:function(){return t({type:Zy.EDIT_FORM})},text:u.a.t("settings.customerPanel.safeBranch.editSettings"),disabled:window.VersumConfig.current_branch_readonly})):i.createElement("h3",{className:"bold"},e.name),i.createElement("p",null,u.a.t("settings.customerPanel.safeBranch.measures.categoryInfo."+e.kind)),e.measures.filter((function(e){return!!e.name})).map((function(e){return i.createElement("div",{className:"d-flex ai-center mt-s mb-s",key:e.key},e.value?i.createElement(d.w,{className:"mr-s text-green xx",size:24,name:d.x.statusActive}):i.createElement(d.w,{className:"mr-s text-muted",size:24,name:d.x.statusFailed}),e.name)})))}))))},bv=function(){return(bv=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.BRANCH_CATEGORIES="BRANCH_CATEGORIES"}(Gh||(Gh={})),function(e){e.SET_VIEW="SET_VIEW",e.SET_BOOKSY_BUSINESS_CATEGORIES="SET_BOOKSY_BUSINESS_CATEGORIES",e.TOGGLE_SERVICES_MODAL="TOGGLE_SERVICES_MODAL",e.TOGGLE_EDITABLE="TOGGLE_EDITABLE",e.SET_BOOKSY_DEFAULT_SERVICES="SET_BOOKSY_DEFAULT_SERVICES",e.SET_SELECTED_SERVICES="SET_SELECTED_SERVICES",e.UPDATE_BUSINESS_CATEGORIES="UPDATE_BUSINESS_CATEGORIES",e.SET_VIEWER_SETTINGS="SET_VIEWER_SETTINGS"}(Vh||(Vh={}));var gv,Sv,_v,Tv,Nv,Ov,Cv,wv=function(){var e=Object(i.useContext)(qv),t=e.booksyBusinessCategories,n=e.isEditable,a=Object(g.useFormContext)(),r=a.control,o=a.watch,s=a.register,c=Object(g.useFieldArray)({control:r,name:"optional",keyName:"key"}),d=c.fields,m=c.append,p=o("primary");return Object(i.useEffect)((function(){m(t)}),[]),i.createElement(i.Fragment,null,i.createElement("p",{className:nt("text-grayed-out",{"vrsm-mb-4":n})},u.a.t("settings.customerPanel.branchCategories.optionalCategory")+":"),n&&i.createElement(i.Fragment,null,d.map((function(e){return i.createElement(l.a,{margin:{b:2},key:"optional-"+e.id},i.createElement("label",{className:nt("v2-form-option vrsm-mr-3",{"text-muted":(p||Wv(t))===e.id})},i.createElement("input",{className:nt("v2-form-check",{"disabled checked":(p||Wv(t))===e.id}),type:"checkbox",defaultChecked:e.state===b.e.OPTIONAL,disabled:(p||Wv(t))===e.id,name:"optional["+e.id+"].id",defaultValue:e.id,ref:s()}),e.name))})))||i.createElement(i.Fragment,null,!!t.find((function(e){return e.state===b.e.OPTIONAL}))&&i.createElement("ul",{className:"vrsm-pl-4"}," ",t.map((function(e){if(e.state===b.e.OPTIONAL)return i.createElement("li",{key:e.id},e.name)})))||i.createElement("span",{className:"vrsm-ml-2"},u.a.t("common.empty"))))},Av=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Rv=function(){var e=Object(i.useContext)(qv),t=e.booksyBusinessCategories,n=e.isEditable,a=Object(g.useFormContext)(),r=a.register,o=a.errors;return i.createElement(l.a,{margin:{b:6}},i.createElement("span",{className:nt("text-grayed-out",{"vrsm-mr-6":n})},u.a.t("settings.customerPanel.branchCategories.primaryCategory")+":"),n&&i.createElement(i.Fragment,null,i.createElement(l.x,{name:"primary",ref:r({required:{value:!0,message:u.a.t("validation.required")}}),defaultValue:Wv(t),options:t.reduce((function(e,t){return Av(Av([],e,!0),[{text:t.name,value:t.id}],!1)}),[])}),o.primary&&i.createElement("p",{className:"text-red vrsm-pt-2"},o.primary.message)||i.createElement(i.Fragment,null))||i.createElement(i.Fragment,null,tb(t)&&i.createElement(i.Fragment,null," ",t.map((function(e){if(e.state===b.e.PRIMARY)return i.createElement("span",{className:"vrsm-font-bold vrsm-ml-2",key:e.id},e.name)})))||i.createElement("span",{className:"vrsm-font-bold vrsm-ml-2"},u.a.t("common.empty"))))},Iv=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Pv=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Dv=function(){var e=Object(i.useContext)(qv),t=e.dispatch,n=e.isServicesModalOpen,a=e.selectedServices,r=e.reservationSettingsPath,o=e.viewer,s=Object(i.useCallback)((function(){return Iv(void 0,void 0,void 0,(function(){var e;return Pv(this,(function(t){switch(t.label){case 0:return n?[4,Jv()]:[3,2];case 1:if((e=t.sent())&&e.length>0)return[2,{rows:e.map((function(e){return{data:e,id:e.id}})),itemsCount:e.length}];t.label=2;case 2:return[2,{rows:[],itemsCount:0}]}}))}))}),[n]);return i.createElement(d.p,{type:d.r.simple,isFooterVisible:!1,isOpened:n,onClose:function(){return t({type:Vh.TOGGLE_SERVICES_MODAL,payload:!1})},onSave:function(){return Zv(t,a,r)}},i.createElement(l.A,{htmlTag:"h1"},u.a.t("settings.customerPanel.branchCategories.servicesModal.title")),i.createElement(l.a,{margin:{b:6}},u.a.t("settings.customerPanel.branchCategories.servicesModal.description")),i.createElement("div",{className:"booksy-default-services-wrapper"},i.createElement(l.z,{selectable:!0,hideHeadCheck:!0,onSelectionChange:function(e){t({type:Vh.SET_SELECTED_SERVICES,payload:e.selectedItems})},dataSource:s,columns:[{id:"name",head:{content:u.a.t("services.tableHeader.name")},body:{render:function(e){return e.name}}},{id:"duration",head:{content:u.a.t("services.tableHeader.duration")},body:{render:function(e){return u.a.t("services.tableBody.duration",{count:e.duration})}}},{id:"price",head:{content:u.a.t("services.tableHeader.price")},body:{render:function(e){var t;return Object(dn.b)(e.price,null===(t=null==o?void 0:o.branch)||void 0===t?void 0:t.currency,2)}}}]})),i.createElement(l.a,{className:"d-flex jc-end",margin:{t:4}},i.createElement(l.b,{className:"vrsm-mr-2",type:"button",isOutline:!0,onClick:function(){return t({type:Vh.TOGGLE_SERVICES_MODAL,payload:!1})}},u.a.t("common.cancel")),i.createElement(l.b,{type:"button",onClick:function(){return Zv(t,a,r)}},u.a.t("settings.customerPanel.branchCategories.servicesModal.addServices"))))},kv=function(){var e=Object(i.useContext)(qv).dispatch;return i.createElement("div",{className:"v2-blank"},i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:259,name:Vr.b.inventoryProducts})),i.createElement("h2",{className:"v2-blank-title-normal bold"},u.a.t("settings.customerPanel.branchCategories.emptyCategories.title")),i.createElement("div",{className:"text-center text-grayed-out"},u.a.t("settings.customerPanel.branchCategories.emptyCategories.description")),i.createElement("div",{className:"text-center mt-l"},i.createElement(l.b,{type:"button",onClick:function(){return e({type:Vh.TOGGLE_EDITABLE,payload:!0})}},u.a.t("settings.customerPanel.branchCategories.emptyCategories.chooseCategory")))))},Mv=function(){return(Mv=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xv=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Lv=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Fv=function(){return(Fv=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Bv=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},jv=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Gv=w()(gv||(gv=Lv(["\n  query booksyBusinessCategories {\n    booksyBusinessCategories {\n      id\n      name\n      state\n    }\n  }\n"],["\n  query booksyBusinessCategories {\n    booksyBusinessCategories {\n      id\n      name\n      state\n    }\n  }\n"]))),Vv=w()(Sv||(Sv=Lv(["\n  query GetViewer {\n    viewer{\n      branch{\n        currency\n      }\n    }\n  }\n"],["\n  query GetViewer {\n    viewer{\n      branch{\n        currency\n      }\n    }\n  }\n"]))),Uv=function(e){var t=Object(g.useForm)(),n=Object(i.useCallback)((function(t){Bv(void 0,void 0,void 0,(function(){var n,a;return jv(this,(function(r){switch(r.label){case 0:return n=t.optional.map((function(e){return e.id})).filter((function(e){return e&&e!==t.primary})),[4,$v(t.primary,n)];case 1:return(a=r.sent())&&e({type:Vh.UPDATE_BUSINESS_CATEGORIES,payload:a}),[2]}}))}))}),[]);return Fv(Fv({},t),{onSubmit:t.handleSubmit(n)})},Hv={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),BRANCH_CATEGORIES:i.createElement((function(){var e=Object(i.useContext)(qv),t=e.dispatch,n=e.isEditable,a=e.booksyBusinessCategories,r=Uv(t),o=r.onSubmit,s=xv(r,["onSubmit"]);return i.createElement(i.Fragment,null,(tb(a)||n)&&i.createElement(i.Fragment,null,i.createElement(l.w,{className:"vrsm-mb-4"},i.createElement(l.l,{size:"auto"},i.createElement(l.A,{htmlTag:"h1",isPageTitle:!0},n?u.a.t("settings.customerPanel.branchCategories.title"):u.a.t("settings.customerPanel.branchCategories.previewTitle"))),!n&&i.createElement(l.l,{size:"auto",className:"vrsm-ml-auto"},i.createElement(l.b,{isOutline:!0,type:"button",onClick:function(){return t({type:Vh.TOGGLE_EDITABLE,payload:!0})}},u.a.t("common.edit")))),i.createElement(g.FormProvider,Mv({},s),i.createElement("form",null,i.createElement(Rv,null),i.createElement(wv,null))),i.createElement(l.a,{margin:{t:6}},n&&i.createElement(i.Fragment,null,i.createElement(l.b,{className:"vrsm-mr-4",type:"button",isOutline:!0,onClick:function(){return t({type:Vh.TOGGLE_EDITABLE,payload:!1})}},u.a.t("common.cancel")),i.createElement(l.b,{type:"button",onClick:function(){return o()}},u.a.t("common.save")))))||i.createElement(kv,null),i.createElement(Dv,null))}),null)},zv={view:Gh.SPINNER,booksyBusinessCategories:[],isServicesModalOpen:!1,isEditable:!1,booksyDefaultServices:[],selectedServices:[]},Yv=function(e,t){switch(t.type){case Vh.SET_VIEW:return Fv(Fv({},e),{view:t.payload});case Vh.SET_BOOKSY_BUSINESS_CATEGORIES:return Fv(Fv({},e),{view:Gh.BRANCH_CATEGORIES,booksyBusinessCategories:t.payload});case Vh.TOGGLE_SERVICES_MODAL:return Fv(Fv({},e),{isServicesModalOpen:t.payload});case Vh.TOGGLE_EDITABLE:return Fv(Fv({},e),{isEditable:t.payload});case Vh.SET_BOOKSY_DEFAULT_SERVICES:return Fv(Fv({},e),{booksyDefaultServices:t.payload});case Vh.SET_SELECTED_SERVICES:return Fv(Fv({},e),{selectedServices:t.payload});case Vh.UPDATE_BUSINESS_CATEGORIES:return Fv(Fv({},e),{isEditable:!1,isServicesModalOpen:!0,booksyBusinessCategories:t.payload});case Vh.SET_VIEWER_SETTINGS:return Fv(Fv({},e),{viewer:t.payload});default:return e}},qv=Object(i.createContext)(Fv(Fv({dispatch:function(){}},zv),{reservationSettingsPath:""})),Wv=function(e){var t,n=e.find((function(e){return e.state===b.e.PRIMARY}));return n?n.id:null===(t=e[0])||void 0===t?void 0:t.id},Kv=w()(_v||(_v=Lv(["\n  mutation updateBooksyBusinessCategories($primary: String!, $optional: [String!]) {\n    updateBooksyBusinessCategories(primary: $primary, optional: $optional){\n      id\n      name\n      state\n    }\n  }\n"],["\n  mutation updateBooksyBusinessCategories($primary: String!, $optional: [String!]) {\n    updateBooksyBusinessCategories(primary: $primary, optional: $optional){\n      id\n      name\n      state\n    }\n  }\n"]))),$v=function(e,t){return Bv(void 0,void 0,void 0,(function(){return jv(this,(function(n){return[2,A.a.mutate({options:{mutation:Kv,variables:{primary:e,optional:t}},result:function(e){return e.updateBooksyBusinessCategories||null},mutationErrors:function(e){return[]}})]}))}))},Zv=function(e,t,n){return Bv(void 0,void 0,void 0,(function(){var a,r;return jv(this,(function(o){switch(o.label){case 0:return[4,eb(t)];case 1:return a=o.sent(),r=new URLSearchParams(window.location.search),a&&"true"===r.get("moment_task")?window.location.href=n:a&&e({type:Vh.TOGGLE_SERVICES_MODAL,payload:!1}),[2]}}))}))},Xv=w()(Tv||(Tv=Lv(["\n  query booksyDefaultServices {\n    booksyDefaultServices{\n      duration\n      id\n      name\n      price\n    }\n  }\n"],["\n  query booksyDefaultServices {\n    booksyDefaultServices{\n      duration\n      id\n      name\n      price\n    }\n  }\n"]))),Jv=function(){return Bv(void 0,void 0,void 0,(function(){return jv(this,(function(e){return[2,A.a.query({options:{query:Xv,fetchPolicy:"network-only"},result:function(e){return e.booksyDefaultServices||null}})]}))}))},Qv=w()(Nv||(Nv=Lv(["\n  mutation createBooksyDefaultServices($services: [String!]!) {\n    createBooksyDefaultServices(services: $services)\n  }\n"],["\n  mutation createBooksyDefaultServices($services: [String!]!) {\n    createBooksyDefaultServices(services: $services)\n  }\n"]))),eb=function(e){return Bv(void 0,void 0,void 0,(function(){return jv(this,(function(t){return[2,A.a.mutate({options:{mutation:Qv,variables:{services:e}},result:function(e){return e.createBooksyDefaultServices||null},mutationErrors:function(e){return[]},successMessage:{message:u.a.t("settings.customerPanel.branchCategories.servicesModal.servicesUpdated")}})]}))}))},tb=function(e){return!!e.find((function(e){return e.state===b.e.PRIMARY}))},nb=function(){return(nb=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ab=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},rb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ob=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ib=w()(Ov||(Ov=ab(["\n  mutation updateCustomerHealthSurveyConfig($config: CustomerHealthSurveyConfigUpdateInput!) {\n    updateCustomerHealthSurveyConfig(config: $config) {\n      config {\n        enabled\n      }\n      contentFullyRemoved\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation updateCustomerHealthSurveyConfig($config: CustomerHealthSurveyConfigUpdateInput!) {\n    updateCustomerHealthSurveyConfig(config: $config) {\n      config {\n        enabled\n      }\n      contentFullyRemoved\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),sb=function(e,t,n,a,r){return rb(void 0,void 0,void 0,(function(){var a,o,i,s;return ob(this,(function(c){switch(c.label){case 0:return[4,A.a.mutate({options:{mutation:ib,variables:{config:{enabled:e.enabled}}},result:function(e){return e.updateCustomerHealthSurveyConfig||null},mutationErrors:function(e){return e&&e.updateCustomerHealthSurveyConfig&&e.updateCustomerHealthSurveyConfig.errors||[]},successMessage:A.a.HideMutationResultMessage,mutationErrorMessage:A.a.HideMutationErrorMessage,errorHandler:{onMutationErrors:function(e){e.map((function(e){return x.a.error(u.a.t("validation."+e.argument+"."+e.code),{sticky:!0})}))}}})];case 1:return a=c.sent(),o=document.getElementsByClassName("active_icon customer_health_survey_active_icon"),a&&a.config?(t({type:wh.SET_FETCHED_HEALTH_SURVEY_CONFIG,payload:a.config}),i=document.getElementsByClassName("safe-branch-link"),r&&r.enabled&&!a.config.enabled?(a.contentFullyRemoved?x.a.success(u.a.t("settings.communication.customerHealthSurvey.deactivated"),{modal:!0}):x.a.success(u.a.t("settings.communication.customerHealthSurvey.deactivatedNotRemoved",{reminderEditPath:n}),{modal:!0,sticky:!0}),o.length>0&&o[0].classList.add("d-none"),i.length>0&&i[0].classList.remove("d-none"),[3,5]):[3,2]):[3,5];case 2:return r&&!r.enabled&&a.config.enabled?(x.a.success(u.a.t("settings.communication.customerHealthSurvey.activated"),{modal:!0}),o.length>0&&o[0].classList.remove("d-none"),[4,xh()]):[3,4];case 3:return(s=c.sent())&&s.active&&i.length>0&&i[0].classList.add("d-none"),setTimeout((function(){t({type:wh.SET_INFO_MODAL_OPEN,payload:!0})}),500),[3,5];case 4:r&&r.enabled&&x.a.success(u.a.t("common.settingsSaved"),{modal:!0}),c.label=5;case 5:return[2]}}))}))},cb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},lb=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ub=function(){var e=Object(i.useContext)(Zh),t=e.dispatch,n=e.healthSurveyConfig,a=e.reminderEditPath;e.smsSettingsPath;return i.createElement("div",{className:"v2-blank e2e-customer-health-survey-teaser"},i.createElement("div",{className:"v2-blank-actions"},i.createElement(lr.a,{className:"button ml-auto button-blue e2e-activate-customer-health-survey-button",onClick:function(){return cb(void 0,void 0,void 0,(function(){return lb(this,(function(e){switch(e.label){case 0:return[4,sb({enabled:!0},t,a,0,n)];case 1:return e.sent(),[2]}}))}))},text:u.a.t("settings.communication.customerHealthSurvey.teaser.activateButton"),disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement("img",{style:{width:130},src:window.getAssetHost("images/communication/customer-health-survey-teaser.png"),alt:u.a.t("settings.communication.customerHealthSurvey.teaser.title")})),i.createElement("h2",{className:"v2-blank-title-normal",dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.customerHealthSurvey.teaser.title")}}),i.createElement("div",{className:"text-center"},i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.customerHealthSurvey.teaser.info")}}),i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.customerHealthSurvey.teaser.additionalInfo")}}))))},db=function(e){var t=Object(i.useContext)(Zh),n=t.dispatch,a=t.reminderDaysBefore,r=t.reminderPlatform;return i.createElement(i.Fragment,null,i.createElement(rn.b,{className:"v2-form v2-form-counted"},i.createElement("h3",{className:"v2-form-title"},u.a.t("settings.communication.customerHealthSurvey.title")),i.createElement(_n.d,{className:"v2-form",label:u.a.t("settings.communication.customerHealthSurvey.status")+":"},i.createElement(rn.a,{name:"enabled",component:Dr,disabled:e.isSubmitting})),i.createElement(_n.d,{className:"v2-form ml-s",label:""+u.a.t("settings.communication.customerHealthSurvey.reminderDaysBefore"),hideCount:!0},i.createElement("div",{className:"strong d-flex ai-center"},i.createElement("div",{className:"e2e-reminder-days-before-preview ml-xs"},a))),i.createElement(_n.d,{className:"v2-form ml-s",label:""+u.a.t("settings.communication.customerHealthSurvey.reminderPlatform"),hideCount:!0},i.createElement("div",{className:"strong d-flex ai-center"},i.createElement("div",{className:"e2e-reminder-platform-preview ml-xs"},r),i.createElement("div",{className:"pl-xs"},i.createElement(Ct.a,{className:"d-block ml-xs e2e-reminder-platform-tooltip",trigger:i.createElement(Ct.c,null),content:u.a.t("settings.communication.customerHealthSurvey.reminderPlatformTooltip"),type:Ct.d.Dark})))),i.createElement(Pr.a,{isGroupConnected:!1},i.createElement(lr.a,{variant:"blue",type:"submit",text:e.isSubmitting?u.a.t("common.processing"):u.a.t("common.save"),className:nt("e2e-save-settings",{"button-disabled":e.isSubmitting}),disabled:e.isSubmitting}),i.createElement(lr.a,{text:u.a.t("common.cancel"),disabled:e.isSubmitting,className:"e2e-cancel-edit",onClick:function(){n({type:wh.FINISH_EDITING_CONFIG})}}))))},mb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},pb=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},fb=function(){var e=Object(i.useContext)(Zh),t=e.healthSurveyConfig,n=e.dispatch,a=e.reminderEditPath;e.smsSettingsPath;return i.createElement(rn.c,{onSubmit:function(e,r){return mb(void 0,void 0,void 0,(function(){return pb(this,(function(o){switch(o.label){case 0:return[4,sb(e,n,a,0,t)];case 1:return o.sent(),r.setSubmitting(!1),[2]}}))}))},initialValues:{enabled:!0},component:db})},Eb=function(){var e=Object(i.useContext)(Zh),t=e.dispatch,n=e.reminderDaysBefore,a=e.reminderPlatform,r=e.exampleSurveyLink;return i.createElement("div",null,i.createElement("div",{className:"d-flex ai-center mb-l"},i.createElement("h2",{className:"strong m-0"},u.a.t("settings.communication.customerHealthSurvey.title")),i.createElement(Pr.a,{className:"ml-auto",isGroupConnected:!1},r?i.createElement("a",{href:r,target:"_blank",className:"ml-auto button e2e-customer-health-survey-preview-link"},u.a.t("settings.communication.customerHealthSurvey.preview")):i.createElement(i.Fragment,null),i.createElement(lr.a,{className:"e2e-customer-health-survey-preview-button",text:u.a.t("common.edit"),onClick:function(){return t({type:wh.EDIT_CONFIG})},disabled:window.VersumConfig.current_branch_readonly}))),i.createElement("div",{className:"v2-container mb-xl"},i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("settings.communication.customerHealthSurvey.status")),i.createElement("div",{className:"v2-col"},i.createElement(d.a,{text:u.a.t("common.activationStatus.active"),variant:"APPROVED",pill:!0,icon:!0}))),i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("settings.communication.customerHealthSurvey.reminderDaysBefore")),i.createElement("div",{className:"v2-col strong d-flex ai-center"},i.createElement("div",{className:"e2e-customer-benefit-preview text-bold ml-xs"},n),i.createElement("div",{className:"pl-xs"},i.createElement(d.A,{className:"d-block ml-xs e2e-customer-benefit-tooltip",trigger:i.createElement(d.C,null),content:u.a.t("settings.communication.customerHealthSurvey.reminderDaysBeforeTooltip"),type:d.D.Dark})))),i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-4 v2-col-lg-3"},u.a.t("settings.communication.customerHealthSurvey.reminderPlatform")),i.createElement("div",{className:"v2-col strong d-flex ai-center ml-xs"},i.createElement("div",{className:"e2e-customer-benefit-preview text-bold"},a),i.createElement("div",{className:"pl-xs"},i.createElement(d.A,{className:"d-block ml-xs e2e-customer-benefit-tooltip",trigger:i.createElement(d.C,null),content:u.a.t("settings.communication.customerHealthSurvey.reminderPlatformTooltip"),type:d.D.Dark}))))))};!function(e){e.TAB_1="tab1",e.TAB_2="tab2"}(Cv||(Cv={}));var yb,hb,vb,bb=function(){var e=Object(i.useContext)(Zh),t=e.infoModalOpen,n=e.dispatch,a=e.exampleSurveyLink,r=e.smsMessageLength,o=Object(i.useState)(Cv.TAB_1),s=o[0],c=o[1],l=function(){n({type:wh.SET_INFO_MODAL_OPEN,payload:!1})};return i.createElement(d.p,{type:d.r.simple,backdropClose:!0,isFooterVisible:!1,isOpened:t,onClose:l},s===Cv.TAB_1?i.createElement(gb,{tab:s,actionText:u.a.t("common.next"),action:function(){return c(Cv.TAB_2)},messageLength:r+a.length}):i.createElement(gb,{tab:s,actionText:u.a.t("common.understood"),action:function(){l(),c(Cv.TAB_1)}}))},gb=function(e){var t=Object(i.useContext)(Zh).locale,n="pl"===t?t:"en";return i.createElement("div",{className:"text-center"},i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col"},i.createElement("h2",null,u.a.t("settings.communication.customerHealthSurvey.infoModal."+e.tab+".title")))),i.createElement("div",{className:"v2-row mt-s mb-s jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.customerHealthSurvey.infoModal."+e.tab+".info")}}),void 0!==e.messageLength&&i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("settings.communication.customerHealthSurvey.infoModal."+Cv.TAB_1+".charactersInfo",{amount:e.messageLength})}}))),i.createElement("div",{className:"mt-s mb-s"},i.createElement("img",{src:window.getAssetHost("images/communication/customer-health-survey-"+e.tab+"-"+n+".png"),alt:u.a.t("settings.customerPanel.onlineSales.activationModal.title")})),i.createElement("div",{className:"v2-row mt-s mb-s jc-center"},i.createElement("div",{className:"v2-col-10"},i.createElement(d.b,{onClick:e.action,className:"button-blue"},e.actionText))))},Sb=function(){return(Sb=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Tb=function(){return(Tb=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Nb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ob=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cb=w()(yb||(yb=_b(["\n  mutation sendCustomerHealthSurveyMessage($message: CustomerHealthSurveyMessageSendInput!) {\n    sendCustomerHealthSurveyMessage(message: $message) {\n      message {\n        content\n        deliveryPreference\n        event {\n          id\n        }\n        sentAt\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation sendCustomerHealthSurveyMessage($message: CustomerHealthSurveyMessageSendInput!) {\n    sendCustomerHealthSurveyMessage(message: $message) {\n      message {\n        content\n        deliveryPreference\n        event {\n          id\n        }\n        sentAt\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),wb=function(e){return{shouldSendSms:[b.l.SMS,b.l.PREFER_SMS,b.l.SMS_AND_EMAIL].includes(e.deliveryPreference),shouldSendEmail:[b.l.EMAIL,b.l.PREFER_EMAIL,b.l.SMS_AND_EMAIL].includes(e.deliveryPreference),email:e.customerEmail,phone:Tb(Tb({},e.customerPhone),{number:e.customerPhone.number?e.customerPhone.number:e.eventCustomerPhone}),customerId:e.customerId,message:e.message}},Ab=function(e){return Tb(Tb(Tb(Tb(Tb({},e.shouldSendEmail&&!Ei(e.email)&&ca("email",e.email)),e.shouldSendSms&&!Ei(e.phone.number||"")&&da("phone",e.phone)),e.shouldSendEmail&&!Ei(e.email)&&oa("email",e.email)),e.shouldSendSms&&!Ei(e.phone.number||"")&&oa("phone",e.phone.number)),!e.shouldSendEmail&&!e.shouldSendSms&&{message:u.a.t("settings.communication.customerHealthSurvey.resendModal.deliveryOptionMissingError")})},Rb=function(e,t,n,a,r){return Nb(void 0,void 0,void 0,(function(){var o,i;return Ob(this,(function(s){switch(s.label){case 0:return o=e.shouldSendSms&&e.shouldSendEmail?b.l.SMS_AND_EMAIL:e.shouldSendSms?b.l.SMS:b.l.EMAIL,[4,A.a.mutate({options:{mutation:Cb,variables:{message:Tb(Tb({event:t,content:e.message,deliveryPreference:o},e.shouldSendEmail&&!Ei(e.email)&&{email:e.email}),e.shouldSendSms&&!Ei(e.phone.number||"")&&e.phone.countryCode&&e.phone.number&&{phone:{countryCode:e.phone.countryCode,countryPrefix:e.phone.countryPrefix,number:e.phone.number}})}},result:function(e){return e&&e.sendCustomerHealthSurveyMessage&&e.sendCustomerHealthSurveyMessage.message||null},mutationErrors:function(e){return e&&e.sendCustomerHealthSurveyMessage&&e.sendCustomerHealthSurveyMessage.errors||[]},successMessage:{message:u.a.t("settings.communication.customerHealthSurvey.resendModal.successMessage")}})];case 1:return i=s.sent(),n.setSubmitting(!1),i&&(a(i),r&&r()),[2]}}))}))},Ib=function(){return(Ib=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Pb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Db=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},kb=function(e){var t=function(e){var t=e.value,n=e.form;return i.createElement("div",{className:"d-flex ai-center mt-s"},t,i.createElement(lo.a,{text:u.a.t("common.edit"),type:"button",link:!0,onClick:function(){return function(e){return Pb(void 0,void 0,void 0,(function(){var t;return Db(this,(function(n){switch(n.label){case 0:return[4,yi(e.values.customerId)];case 1:return(t=n.sent())&&t.customerSecuredData&&t.customerSecuredData.customer&&(e.setFieldValue("email",t&&t.customerSecuredData&&t.customerSecuredData.customer&&t.customerSecuredData.customer.email),e.setFieldValue("phone",t&&t.customerSecuredData&&t.customerSecuredData.customer&&t.customerSecuredData.customer.phones[0])),t&&t.customerSecuredData&&t.customerSecuredData.limitExceeded&&x.a.error(u.a.t("common.limitExceeded")),[2]}}))}))}(n)}}))};return i.createElement(i.Fragment,null,i.createElement(rn.b,{id:"campaign_progress",className:"v2-form pt-0"},i.createElement("h3",{className:"v2-form-title font-normal"},u.a.t("settings.communication.customerHealthSurvey.resendModal.content")),i.createElement("div",{className:"message_body ml-0"},i.createElement("div",{className:"value",dangerouslySetInnerHTML:{__html:e.values.message}})),i.createElement("h3",{className:"v2-form-title font-normal"},u.a.t("settings.communication.customerHealthSurvey.resendModal.sendSurvey")),i.createElement("div",{className:"v2-row"},i.createElement("div",{className:"v2-col-6"},i.createElement(_n.d,null,i.createElement(rn.a,{name:"shouldSendEmail",render:function(e){var t=e.field,n=e.form;return i.createElement(_n.a,{checked:t.value,label:u.a.t("settings.communication.customerHealthSurvey.resendModal.shouldSendEmail"),onChange:function(){return n.setFieldValue("shouldSendEmail",!t.value)}})}}),i.createElement(rn.a,{name:"email",render:function(e){var n=e.field,a=e.form;return i.createElement(i.Fragment,null,Ei(n.value)?i.createElement(t,{value:n.value,form:a}):i.createElement("div",{className:"v2-form-controls mt-s"},i.createElement(_n.f,Ib({},n,{type:"text",errorMessage:a.touched[n.name]&&a.errors[n.name]}))))}}))),i.createElement("div",{className:"v2-col-6"},i.createElement(_n.d,null,i.createElement(rn.a,{name:"shouldSendSms",render:function(e){var t=e.field,n=e.form;return i.createElement(_n.a,{onChange:function(){return n.setFieldValue("shouldSendSms",!t.value)},checked:t.value,label:u.a.t("settings.communication.customerHealthSurvey.resendModal.shouldSendSms")})}}),i.createElement(rn.a,{name:"phone",render:function(e){var n=e.field,a=e.form;return i.createElement(i.Fragment,null,Ei(a.values.phone.number||"")?i.createElement(t,{value:a.values.phone.number||"",form:a}):i.createElement("div",{className:"v2-form-controls mt-s"},i.createElement(_n.h,{phone:a.values[n.name],className:"w-full",errorMessage:a.touched[n.name]&&a.errors[n.name],defaultPhone:{countryPrefix:"48",countryCode:b.n.PL,number:""},onChange:function(e){return a.setFieldValue("phone",e)},onBlur:function(){return a.setFieldTouched("phone",!0)},disabled:a.isSubmitting,skipValidation:!0})))}}))),i.createElement("div",{className:"v2-col-12"},e.errors.message&&i.createElement("div",null,i.createElement("div",{className:"v2-form-control-unit invalid"}),i.createElement("div",{className:"ml-xs v2-form-control-hint"},e.errors.message))))))},Mb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},xb=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.DETAILS="DETAILS",e.SUMMARY="SUMMARY",e.UNAVAILABLE="UNAVAILABLE"}(hb||(hb={})),function(e){e.SET_FETCHED_BRANCH_PAYMENT_BONUS="SET_FETCHED_BRANCH_PAYMENT_BONUS",e.SET_FETCHED_PAYMENT_BONUS_ERRORS="SET_FETCHED_PAYMENT_BONUS_ERRORS",e.SET_FETCHING_FINISHED_WITH_ERRORS="SET_FETCHING_FINISHED_WITH_ERRORS",e.SET_IS_MUTATING="SET_IS_MUTATING",e.FETCHED_COUNTRY_CODE="FETCHED_COUNTRY_CODE"}(vb||(vb={}));var Lb,Fb,Bb,jb,Gb,Vb,Ub,Hb=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zb=function(){return(zb=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yb=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},qb=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Wb="\n    bonusDetails {\n      endDate\n      bonusType\n      value\n    }\n    bonusMultiplier\n    netBonus\n    optionNetValue\n    optionType\n",Kb="\n    selectedExtensionEnabled\n    momentPremiumEnabled\n    paymentPlan\n    subscriptionCost\n    netBonus\n    bonusCurrency\n    periodEndDate\n    periodStartDate\n    promotionEndDate\n    selectedOption {\n      "+Wb+"\n    }\n    status\n    visibleOptions {\n      option {\n        "+Wb+"\n      }\n      selectable\n    }\n",$b=w()(Lb||(Lb=Hb(["\n  query getBranchPaymentBonusSetting {\n    branchPaymentBonus {\n      paymentBonus {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  query getBranchPaymentBonusSetting {\n    branchPaymentBonus {\n      paymentBonus {\n        ","\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"])),Kb),Zb=w()(Fb||(Fb=Hb(["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"],["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"]))),Xb={viewType:hb.SPINNER,isMutating:!1},Jb=function(e,t){switch(t.type){case vb.SET_FETCHED_BRANCH_PAYMENT_BONUS:return zb(zb({},e),{branchPaymentBonus:t.payload,viewType:function(){switch(t.payload.status){case b.j.PENDING:return hb.DETAILS;case b.j.SELECTED:return t.payload.selectedOption?hb.SUMMARY:hb.ERROR;default:return hb.UNAVAILABLE}}(),isMutating:!1});case vb.SET_FETCHING_FINISHED_WITH_ERRORS:return zb(zb({},e),{viewType:hb.ERROR});case vb.SET_FETCHED_PAYMENT_BONUS_ERRORS:return zb(zb({},e),{bonusErrors:t.payload,viewType:hb.UNAVAILABLE});case vb.SET_IS_MUTATING:return zb(zb({},e),{isMutating:t.payload});case vb.FETCHED_COUNTRY_CODE:return zb(zb({},e),{countryCode:t.payload});default:return e}},Qb=Object(i.createContext)(zb(zb({dispatch:function(){}},Xb),{paymentBonusDetailsUrl:function(e){return e}})),eg=function(e,t){return e!==b.i.SUBSCRIPTION_WITH_SMS||t.some((function(e){return e.bonusType===b.h.SMS_MESSAGES}))?e:"SUBSCRIPTION_WITHOUT_SMS"},tg=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ng=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ag=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rg=w()(Bb||(Bb=tg(["\n  mutation selectBranchPaymentBonus($selectedOptionType: BranchPaymentBonusOptionType!) {\n    selectBranchPaymentBonus(selectedOptionType: $selectedOptionType) {\n      paymentBonus {\n         ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"],["\n  mutation selectBranchPaymentBonus($selectedOptionType: BranchPaymentBonusOptionType!) {\n    selectBranchPaymentBonus(selectedOptionType: $selectedOptionType) {\n      paymentBonus {\n         ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"])),Kb),og=function(e){return 2===parseFloat(e.bonusMultiplier)},ig=function(e){return ng(void 0,void 0,void 0,(function(){return ag(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:rg,variables:{selectedOptionType:e}},result:function(e){return e.selectBranchPaymentBonus&&e.selectBranchPaymentBonus.paymentBonus||null},mutationErrors:function(e){return e&&e.selectBranchPaymentBonus&&e.selectBranchPaymentBonus.errors||[]},successMessage:{message:u.a.t("services.createServiceModal.addedService")}})];case 1:return[2,t.sent()]}}))}))},sg=function(e,t){return ng(void 0,void 0,void 0,(function(){var n;return ag(this,(function(a){switch(a.label){case 0:return t({type:vb.SET_IS_MUTATING,payload:!0}),[4,ig(e)];case 1:return(n=a.sent())&&(x.a.success(u.a.t("paymentBonus.success")),t({type:vb.SET_FETCHED_BRANCH_PAYMENT_BONUS,payload:n})),t({type:vb.SET_IS_MUTATING,payload:!1}),[2]}}))}))},cg=function(e){var t=e.visibleOption,n=Object(i.useContext)(Qb).branchPaymentBonus,a=Object(i.useContext)(xo.a).currencyUtils,r=Object(i.useContext)(O.a).dateUtils;return i.createElement(i.Fragment,null,t.option.bonusDetails.length>0&&i.createElement("p",{dangerouslySetInnerHTML:{__html:t.option.bonusDetails.map((function(e){return u.a.t("paymentBonus.options.description."+e.bonusType,function(){switch(e.bonusType){case b.h.EXTENSION_MONTHS:return{monthCount:parseInt(e.value)+" "+u.a.t("common.month",{count:parseInt(e.value)}),endDate:e.endDate?r.formatDate(new Date(e.endDate)):"---"};case b.h.SUBSCRIPTION_MONTHS:return{monthCount:parseInt(e.value)+" "+u.a.t("common.month",{count:parseInt(e.value)}),subscriptionPlan:n?n.paymentPlan.toUpperCase():"---",subscriptionValue:n?a.formatCurrency(parseFloat(n.subscriptionCost),n.bonusCurrency):"---",endDate:e.endDate?r.formatDate(new Date(e.endDate)):"---"};case b.h.SMS_MESSAGES:return{smsCount:parseInt(e.value)};case b.h.MOMENT_PREMIUM_FUNDS:return{price:a.formatCurrency(parseFloat(e.value),null==n?void 0:n.bonusCurrency)};default:return{}}}())})).join(" <br> + ")}}))},lg=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ug=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},dg=function(e){var t=e.visibleOption,n=e.visible,a=e.setVisible,r=Object(i.useContext)(Qb),o=r.dispatch,s=r.isMutating;return i.createElement(d.p,{title:u.a.t("common.actionNeedsConfirmation"),isFooterVisible:!0,isOpened:n,onClose:function(){return a(!1)},isOnSaveDisabled:s,onCloseText:u.a.t("common.close"),onSaveText:u.a.t("common.choose"),onSave:function(){return lg(void 0,void 0,void 0,(function(){return ug(this,(function(e){switch(e.label){case 0:return[4,sg(t.option.optionType,o)];case 1:return e.sent(),a(!1),[2]}}))}))}},i.createElement("div",{className:"v2-container"},i.createElement(l.w,null,i.createElement(l.l,null,u.a.t("paymentBonus.options.confirmation",{extension:u.a.t("paymentBonus.options.title."+eg(t.option.optionType,t.option.bonusDetails))})))))},mg=function(e){var t=e.visibleOption,n=Object(i.useContext)(Qb),a=n.paymentBonusDetailsUrl,r=n.isMutating,o=Object(i.useState)(!1),s=o[0],c=o[1],d=og(t.option);return i.createElement(l.w,{className:nt("payment-bonus-option mb-xl",{promoted:d})},i.createElement(l.l,null,i.createElement(l.w,{align:"center",className:"py-l"},i.createElement(l.l,{size:{xs:12,md:2},className:"text-center"},function(e){switch(e){case b.i.LOYALTY_PROGRAM:return i.createElement("svg",{className:"svg-lumo extension-icon"},i.createElement("use",{xlinkHref:"#svg-lumo"}));case b.i.MOMENT_PREMIUM:return i.createElement("svg",{className:"svg-moment_power extension-icon"},i.createElement("use",{xlinkHref:"#svg-moment_power"}));case b.i.MARKETING_AUTOMATION:return i.createElement("svg",{className:"svg-automatic_marketing extension-icon"},i.createElement("use",{xlinkHref:"#svg-automatic_marketing"}));case b.i.SMS:return i.createElement("svg",{className:"svg-client_communication extension-icon"},i.createElement("use",{xlinkHref:"#svg-client_communication"}));case b.i.SUBSCRIPTION_WITH_SMS:return i.createElement("svg",{className:"svg-billing extension-icon"},i.createElement("use",{xlinkHref:"#svg-billing"}));default:return i.createElement(i.Fragment,null)}}(t.option.optionType)),i.createElement(l.l,{size:{xs:12,md:6},className:"payment-bonus-description"},i.createElement("h3",{className:"m-0 fs-h4 strong mb-xs"},u.a.t("paymentBonus.options.title."+eg(t.option.optionType,t.option.bonusDetails))),i.createElement(cg,{visibleOption:t}),d&&i.createElement("a",{href:a(t.option.optionType),target:"_blank"},u.a.t("paymentBonus.options.learnMore"))),i.createElement(l.l,{size:{xs:12,md:3},className:"bonus-choose-button"},i.createElement("button",{className:nt("button button-blue extension-select-button",{disabled:r||!t.selectable}),onClick:function(){return c(!0)},disabled:r},u.a.t("paymentBonus.options.choosePromoted"),i.createElement(Vr.a,{className:"ml-xs",name:Vr.b.chevronRight,size:16}))))),i.createElement(dg,{visibleOption:t,visible:s,setVisible:c}))},pg=function(e){var t=e.visibleOptions;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-col v2-col-md-10"},t.map((function(e){return i.createElement(mg,{key:e.option.optionType,visibleOption:e})}))))},fg=function(e){var t=e.visibleOptions;return i.createElement(i.Fragment,null,i.createElement(l.l,{size:{md:10}},t.map((function(e){return i.createElement(mg,{key:e.option.optionType,visibleOption:e})}))))},Eg=function(){var e=Object(i.useContext)(Qb).branchPaymentBonus,t=e&&e.visibleOptions.filter((function(e){return e.selectable&&og(e.option)}))||[],n=e&&e.visibleOptions.filter((function(e){return function(e){return 1===parseFloat(e.bonusMultiplier)}(e.option)}))||[];return i.createElement(i.Fragment,null,e&&i.createElement("div",{className:"e2e-payment-bonus-options mt-xxl"},0===t.length&&0===n.length&&i.createElement("h5",null,u.a.t("paymentBonus.options.noOptions")),0===t.length&&0!==n.length&&i.createElement(fg,{visibleOptions:n}),0!==t.length&&0===n.length&&i.createElement(pg,{visibleOptions:t}),0!==t.length&&0!==n.length&&i.createElement(i.Fragment,null,i.createElement("div",{className:"fs-h3 mb-l"},u.a.t("paymentBonus.options.chooseBonus")),i.createElement(pg,{visibleOptions:t}),i.createElement(fg,{visibleOptions:n}))))},yg=function(){var e,t=Object(i.useContext)(Qb),n=t.countryCode,a=t.branchPaymentBonus,r=Object(i.useContext)(xo.a).currencyUtils,o=Object(i.useContext)(O.a).dateUtils;return i.createElement("div",{className:"e2e-payment-bonus-details"}," ",a&&i.createElement("div",null,i.createElement("h2",{className:"mb-l"},Ke.t("paymentBonus.title")),i.createElement(l.w,{className:"mb-s"},i.createElement(l.l,{size:{xs:6,lg:3}},Ke.t("paymentBonus.bonusValue")),i.createElement(l.l,{className:"strong"},i.createElement("span",{className:" fs-h3"},r.formatCurrency(parseFloat(a.netBonus),a.bonusCurrency)),n&&n===b.n.PL?" netto ("+r.formatCurrency((e=parseFloat(a.netBonus),Xm(e).multiply(Xm(1.23)).value),b.o.PLN)+" brutto)":"")),i.createElement(l.w,null,i.createElement(l.l,{size:{xs:6,lg:3}},Ke.t("paymentBonus.bonusExpired")),i.createElement(l.l,{className:"strong"},o.formatDate(new Date(a.promotionEndDate)))),i.createElement(Eg,null)))},hg=function(){var e=Object(i.useContext)(Qb).bonusErrors;return i.createElement("div",null,e&&e.map((function(e){var t=e.argument,n=e.code;return i.createElement("div",{key:n,dangerouslySetInnerHTML:{__html:u.a.t("paymentBonus.errors."+t+"."+n,{supportPath:window.VersumConfig.physical_help_url})}})})))},vg=function(e,t){return u.a.t("paymentBonus.summary."+e+"."+t)},bg=function(e,t,n){switch(e){case b.i.LOYALTY_PROGRAM:case b.i.MARKETING_AUTOMATION:return n;case b.i.MOMENT_PREMIUM:return t;default:return!1}},gg=function(){var e=Object(i.useContext)(Qb),t=e.branchPaymentBonus,n=e.paymentBonusDetailsUrl;return i.createElement("div",{className:"e2e-payment-bonus-summary"},t&&t.selectedOption&&i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Ps.a,{size:60,name:Ds.a.active})),i.createElement("h4",{className:"text-center bold"},vg("title",eg(t.selectedOption.optionType,t.selectedOption.bonusDetails))),i.createElement("div",{className:"text-center"},vg("description",eg(t.selectedOption.optionType,t.selectedOption.bonusDetails))),t.selectedOption.optionType!==b.i.SMS&&t.selectedOption.optionType!==b.i.SUBSCRIPTION_WITH_SMS&&i.createElement("div",{className:"text-center"},i.createElement(lo.a,{className:"mt-xl",variant:"blue",text:bg(t.selectedOption.optionType,t.momentPremiumEnabled,t.selectedExtensionEnabled)?u.a.t("paymentBonus.summary.settings"):vg("extensionButton",t.selectedOption.optionType),onClick:function(){window.location.href=n(t.selectedOption.optionType)}}))))},Sg=function(){return(Sg=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_g=function(){return(_g=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Tg=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ng=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Og=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cg=w()(jb||(jb=Tg(["\n  mutation UnreadCommunicationThread($id: Int!){\n    unreadCommunicationThread(id: $id) {\n      communicationThread {\n        id\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"],["\n  mutation UnreadCommunicationThread($id: Int!){\n    unreadCommunicationThread(id: $id) {\n      communicationThread {\n        id\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"]))),wg=function(e){var t=e.isModalVisible,n=e.setModalVisible;return i.createElement(d.p,{type:d.r.simple,isOpened:t,onSave:function(){n(!1),Pg(),window.location.reload()},onSaveText:u.a.t("common.close")},i.createElement("div",{className:"d-flex ai-center flex-column p-s"},i.createElement(d.w,{name:d.x.greenCheck,size:80}),i.createElement("h4",{className:"bold my-m"},u.a.t("momentPremium.smsActivationSuccessModal.title")),u.a.t("momentPremium.smsActivationSuccessModal.description")))},Ag=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Rg=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Ig=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pg=function(){var e=document.getElementById("SmsActivationModal");e&&(Object(Ie.unmountComponentAtNode)(e),document.body.removeChild(e))},Dg=n(799);!function(e){e.SPINNER="SPINNER",e.FETCHING_ERROR="FETCHING_ERROR",e.DETAILS="DETAILS"}(Vb||(Vb={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.SET_NOTIFICATION="SET_NOTIFICATION",e.SET_UNREAD_NOTIFICATIONS_COUNT="SET_UNREAD_NOTIFICATIONS_COUNT"}(Ub||(Ub={}));var kg,Mg,xg,Lg,Fg,Bg,jg,Gg,Vg,Ug=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Hg=function(){return(Hg=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zg=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Yg=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},qg={viewType:Vb.SPINNER,notification:null,unreadNotificationsCount:0},Wg=function(e,t){switch(t.type){case Ub.SET_VIEW_TYPE:return Hg(Hg({},e),{viewType:t.payload});case Ub.SET_NOTIFICATION:return Hg(Hg({},e),{notification:t.payload});case Ub.SET_UNREAD_NOTIFICATIONS_COUNT:return Hg(Hg({},e),{unreadNotificationsCount:t.payload});default:return qg}},Kg=Object(i.createContext)({}),$g=w()(kg||(kg=Ug(["\n  query GetNotificationCenterNotification($id: Int!) {\n    notificationCenterNotification(id: $id) {\n      createdAt\n      seenAt\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          markdownContent\n          title\n          systemNotification{\n            notificationType\n            id\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetNotificationCenterNotification($id: Int!) {\n    notificationCenterNotification(id: $id) {\n      createdAt\n      seenAt\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          markdownContent\n          title\n          systemNotification{\n            notificationType\n            id\n          }\n        }\n      }\n    }\n  }\n"]))),Zg=w()(Mg||(Mg=Ug(["\n  query GetNotificationCenterPushNotification($id: Int!) {\n    notificationCenterPushNotification(id: $id) {\n      createdAt\n      seenAt\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          markdownContent\n          title\n          systemNotification{\n            notificationType\n            id\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetNotificationCenterPushNotification($id: Int!) {\n    notificationCenterPushNotification(id: $id) {\n      createdAt\n      seenAt\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          markdownContent\n          title\n          systemNotification{\n            notificationType\n            id\n          }\n        }\n      }\n    }\n  }\n"]))),Xg=function(e){return zg(void 0,void 0,void 0,(function(){return Yg(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:$g,variables:{id:e},fetchPolicy:"network-only"},result:function(e){return e.notificationCenterNotification||null}})];case 1:return[2,t.sent()]}}))}))},Jg=function(e){return zg(void 0,void 0,void 0,(function(){return Yg(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:Zg,variables:{id:e},fetchPolicy:"network-only"},result:function(e){return e.notificationCenterPushNotification||null}})];case 1:return[2,t.sent()]}}))}))},Qg=w()(xg||(xg=Ug(["\n  mutation ReadNotificationCenterNotification($id: Int!) {\n    readNotificationCenterNotification(id: $id) {\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          systemNotification {\n            id\n          }\n        }\n      }\n    }\n  }\n"],["\n  mutation ReadNotificationCenterNotification($id: Int!) {\n    readNotificationCenterNotification(id: $id) {\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          systemNotification {\n            id\n          }\n        }\n      }\n    }\n  }\n"]))),eS=w()(Lg||(Lg=Ug(["\n  mutation ReadNotificationCenterPushNotification($id: Int!) {\n    readNotificationCenterPushNotification(id: $id) {\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          systemNotification {\n            id\n          }\n        }\n      }\n    }\n  }\n"],["\n  mutation ReadNotificationCenterPushNotification($id: Int!) {\n    readNotificationCenterPushNotification(id: $id) {\n      subject {\n        ... on NotificationCenterSystemNotificationContentType{\n          systemNotification {\n            id\n          }\n        }\n      }\n    }\n  }\n"]))),tS=function(e,t,n,a){Object(i.useEffect)((function(){if(e&&!n){var r=function(){window.reactLegacyBridge.notificationCenter.decrementUnreadNotificationsCount&&window.reactLegacyBridge.notificationCenter.decrementUnreadNotificationsCount(a)},o=function(e){window.reactLegacyBridge.notificationCenter.removeReadPushNotifications&&window.reactLegacyBridge.notificationCenter.removeReadPushNotifications(e)};t&&function(e){return zg(void 0,void 0,void 0,(function(){return Yg(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:eS,variables:{id:e}},result:function(e){return e.readNotificationCenterPushNotification||null},mutationErrors:function(e){return[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,t.sent()]}}))}))}(e).then((function(e){e&&(r(),o(e.subject.systemNotification.id))})),!t&&function(e){return zg(void 0,void 0,void 0,(function(){return Yg(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:Qg,variables:{id:e}},result:function(e){return e.readNotificationCenterNotification||null},mutationErrors:function(e){return[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,t.sent()]}}))}))}(e).then((function(e){e&&(r(),o(e.subject.systemNotification.id))}))}}),[])},nS=function(){return window.location.href=window.VersumConfig.notification_center_notifications_path},aS=function(e){var t=e.branchState,n=i.useState(0),a=n[0],r=n[1];return"paused"!==t&&(lS(r),uS(r),dS()),i.createElement("a",{className:"link e2e-notification-center-navbar",onClick:nS},i.createElement("div",{id:"notification_center_navbar_icon",className:nt({notification_center_icon:!0,notifications_unread:a>0}),"data-unread_notifications":a},i.createElement(Ps.a,{name:Ds.a.bell})))},rS=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},oS=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},iS=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},sS=function(e,t){return oS(void 0,void 0,void 0,(function(){return iS(this,(function(n){return fS(t).then((function(t){t&&e(t.notifications)})),[2]}))}))},cS=function(e){return oS(void 0,void 0,void 0,(function(){return iS(this,(function(t){return ES(e).then((function(e){e&&e.map((function(e){!localStorage.getItem(e.id+"-PushNotificationIsClosed")&&x.a.push(window.markdownUtils.toHtml(e.subject.markdownContent),{header:e.subject.title,sticky:!0,group:"notification-center-push-notification "+e.id+" systemNotification-"+e.subject.systemNotification.id,beforeOpen:function(){return document.getElementsByClassName("notification-center-push-notification").length<2&&0===document.getElementsByClassName("notification-center-push-notification "+e.id).length},close:function(){return localStorage.setItem(e.id+"-PushNotificationIsClosed","true")},click:function(){localStorage.setItem(e.id+"-PushNotificationIsClosed","true"),window.location.href=window.VersumConfig.notification_center_notifications_path+"/"+e.id+"?isPushNotification=true"}})}))})),[2]}))}))},lS=function(e){Object(i.useEffect)((function(){cS(),sS(e);var t=setInterval((function(){return oS(void 0,void 0,void 0,(function(){return iS(this,(function(n){switch(n.label){case 0:return[4,cS(t)];case 1:return n.sent(),[4,sS(e,t)];case 2:return n.sent(),[2]}}))}))}),36e5);return function(){clearInterval(t)}}),[])},uS=function(e){Object(i.useEffect)((function(){return Object(vi.a)(window,"reactLegacyBridge.notificationCenter.decrementUnreadNotificationsCount",(function(t){return e(t-1)})),function(){Object(Dg.a)(window,"reactLegacyBridge.notificationCenter.decrementUnreadNotificationsCount")}}),[])},dS=function(){Object(i.useEffect)((function(){return Object(vi.a)(window,"reactLegacyBridge.notificationCenter.removeReadPushNotifications",(function(e){var t=document.getElementsByClassName("notification-center-push-notification systemNotification-"+e)[0];t&&t.children[0].click()})),function(){Object(Dg.a)(window,"reactLegacyBridge.notificationCenter.removeReadPushNotifications")}}),[])},mS=w()(Fg||(Fg=rS(["\n  query GetNotificationCenterPushNotifications($count: Int, $cursor: String, $page: Int ) {\n    notificationCenterPushNotifications(count: $count, page: $page, cursor: $cursor ) {\n      items {\n        id\n        subject {\n          __typename\n          ... on NotificationCenterSystemNotificationContentType{\n            title\n            markdownContent\n            systemNotification {\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetNotificationCenterPushNotifications($count: Int, $cursor: String, $page: Int ) {\n    notificationCenterPushNotifications(count: $count, page: $page, cursor: $cursor ) {\n      items {\n        id\n        subject {\n          __typename\n          ... on NotificationCenterSystemNotificationContentType{\n            title\n            markdownContent\n            systemNotification {\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),pS=w()(Bg||(Bg=rS(["\n  query GetNotificationCenterUnreadCount {\n    notificationCenterUnreadCount{\n      notifications\n    }\n  }\n"],["\n  query GetNotificationCenterUnreadCount {\n    notificationCenterUnreadCount{\n      notifications\n    }\n  }\n"]))),fS=function(e){return oS(void 0,void 0,void 0,(function(){return iS(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:pS,fetchPolicy:"network-only"},result:function(e){return e.notificationCenterUnreadCount||null},errorHandler:{onGraphQLErrors:function(){return e&&clearInterval(e)},onCatchError:function(){return e&&clearInterval(e)}}})];case 1:return[2,t.sent()]}}))}))},ES=function(e,t,n,a,r){return void 0===t&&(t=1),void 0===n&&(n=10),void 0===a&&(a="network-only"),oS(void 0,void 0,void 0,(function(){return iS(this,(function(o){switch(o.label){case 0:return[4,A.a.query({options:{query:mS,variables:{page:t,count:n,cursor:r},fetchPolicy:a},result:function(e){return e.notificationCenterPushNotifications.items||null},errorHandler:{onGraphQLErrors:function(){return e&&clearInterval(e)},onCatchError:function(){return e&&clearInterval(e)}}})];case 1:return[2,o.sent()]}}))}))};!function(e){e.SPINNER="SPINNER",e.FETCHING_ERROR="FETCHING_ERROR",e.LIST="LIST"}(jg||(jg={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.SET_NOTIFICATIONS="SET_NOTIFICATIONS",e.SET_NOTIFICATIONS_PAGE_SIZE="SET_NOTIFICATIONS_PAGE_SIZE",e.SET_NOTIFICATIONS_PAGE="SET_NOTIFICATIONS_PAGE,",e.SET_SORT_BY="SET_SORT_BY",e.SET_FILTER="SET_FILTER"}(Gg||(Gg={})),function(e){e.TITLE="subject.title",e.CONTENT="subject.markdownContent",e.TYPE="subject.systemNotification.notificationType",e.DATE="createdAt"}(Vg||(Vg={}));var yS,hS,vS,bS=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},gS=function(){return(gS=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},SS=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},_S=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},TS={viewType:jg.SPINNER,notifications:[],notificationsCount:0,notificationsPage:Bn.b.getCachedPage(Bn.a.NOTIFICATION_CENTER_TABLE,1),notificationsPageSize:Bn.b.getCachedPageSize(Bn.a.NOTIFICATION_CENTER_TABLE,10),sortBy:{by:b.u.CREATED_AT,order:b.V.DESC},filter:{}},NS=function(e,t){switch(t.type){case Gg.SET_VIEW_TYPE:return gS(gS({},e),{viewType:t.payload});case Gg.SET_NOTIFICATIONS:return gS(gS({},e),{viewType:jg.LIST,notifications:t.payload.items,notificationsCount:t.payload.all});case Gg.SET_NOTIFICATIONS_PAGE:return gS(gS({},e),{notificationsPage:t.payload});case Gg.SET_NOTIFICATIONS_PAGE_SIZE:return gS(gS({},e),{notificationsPageSize:t.payload});case Gg.SET_SORT_BY:return gS(gS({},e),{sortBy:t.payload});case Gg.SET_FILTER:return gS(gS({},e),{notificationsPage:1,filter:t.payload});default:return TS}},OS=Object(i.createContext)(gS(gS({},TS),{dispatch:function(){}})),CS=w()(yS||(yS=bS(["\n  query GetNotificationCenterNotifications($count: Int, $cursor: String, $filter: NotificationCenterNotificationsFilter,\n    $page: Int, $sort: [NotificationCenterNotificationsSort!]) {\n    notificationCenterNotifications(count: $count, page: $page, cursor: $cursor, filter: $filter, sort: $sort) {\n      all\n      items {\n        id\n        seenAt\n        createdAt\n        subject {\n          ... on NotificationCenterSystemNotificationContentType{\n            markdownContent\n            title\n            systemNotification{\n              notificationType\n            }\n          }\n        }\n      }\n    }\n  }\n"],["\n  query GetNotificationCenterNotifications($count: Int, $cursor: String, $filter: NotificationCenterNotificationsFilter,\n    $page: Int, $sort: [NotificationCenterNotificationsSort!]) {\n    notificationCenterNotifications(count: $count, page: $page, cursor: $cursor, filter: $filter, sort: $sort) {\n      all\n      items {\n        id\n        seenAt\n        createdAt\n        subject {\n          ... on NotificationCenterSystemNotificationContentType{\n            markdownContent\n            title\n            systemNotification{\n              notificationType\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),wS=function(e,t,n,a){return void 0===e&&(e=1),void 0===t&&(t=10),void 0===n&&(n={}),SS(void 0,void 0,void 0,(function(){return _S(this,(function(r){switch(r.label){case 0:return[4,A.a.query({options:{query:CS,variables:{page:e,count:t,filter:n,sort:a?[a]:[]},fetchPolicy:"network-only"},result:function(e){return e.notificationCenterNotifications||null}})];case 1:return[2,r.sent()]}}))}))},AS=function(e){switch(e){case b.v.NEW_FEATURES:return"NEW";default:return"APPROVED"}},RS=function(){return[{label:Ke.t("notificationCenter.notificationsState.allNotifications"),value:{}},{label:Ke.t("notificationCenter.notificationsState.unreadNotifications"),value:{seen:!1}},{label:Ke.t("notificationCenter.notificationsState.readNotifications"),value:{seen:!0}}]},IS=n(139),PS=function(e){var t=e.message;return i.createElement("div",{className:"e2e-no-results-notifications-table column_row row"},i.createElement("div",{className:"col-md-2"}),i.createElement("div",{className:"col-md-8"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:310,name:Vr.b.fetchingError})),i.createElement("h2",{className:"empty-list-heading-centered"},u.a.t("notificationCenter.emptyNotificationsList.title")),i.createElement("div",{className:"text-center"},t)))},DS=function(e){var t=Object(i.useContext)(OS),n=t.notifications,a=t.notificationsCount,r=t.notificationsPage,o=t.notificationsPageSize,s=t.dispatch,c=t.sortBy,l=t.filter,d=Object(i.useContext)(O.a).dateUtils,m=[{path:Vg.TITLE,label:u.a.t("notificationCenter.tableHeader.title"),headerCellClassName:"pl-m py-0 text-muted",bodyCellClassName:"pl-m wrap pointer py-l",content:function(e){return i.createElement("div",{className:nt({"d-flex":!0,bold:!e.seenAt})},!e.seenAt&&i.createElement("span",{className:"circle mr-s as-center"}),e.subject.title)}},{path:Vg.CONTENT,label:u.a.t("notificationCenter.tableHeader.content"),bodyCellClassName:"wrap pointer w-40p text-muted py-l",headerCellClassName:"py-0 text-muted",content:function(e){return i.createElement("div",{className:"line-clamp-2",dangerouslySetInnerHTML:{__html:window.markdownUtils.toHtml(e.subject.markdownContent)}})}},{path:Vg.TYPE,label:u.a.t("notificationCenter.tableHeader.type"),headerCellClassName:"py-0 text-muted",bodyCellClassName:"wrap pointer py-l",content:function(e){return i.createElement(IS.a,{text:u.a.t("notificationCenter.notificationType."+e.subject.systemNotification.notificationType),variant:AS(e.subject.systemNotification.notificationType),pill:!1})}},{path:Vg.DATE,sortable:!0,label:u.a.t("notificationCenter.tableHeader.date"),headerCellClassName:"py-0 text-muted",bodyCellClassName:"pl-m pr-m wrap pointer text-muted py-l",content:function(e){return i.createElement("div",null,d.formatDateTime(new Date(e.createdAt)))}}];return i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center mt-xl mb-l mt-xl"},i.createElement("span",{className:"ml-m"},u.a.t("notificationCenter.notificationsState.title")+":"," "),i.createElement(Bs.a,{isSearchable:!1,options:RS(),onChange:function(e){return function(e,t){t({type:Gg.SET_FILTER,payload:e.value})}(e,s)},value:void 0===(null==l?void 0:l.seen)?RS()[0]:RS().find((function(e){return e.value===l})),version:"v2",className:"w-64 ml-m"})),n.length>0?i.createElement(i.Fragment,null,i.createElement("div",{style:{overflowX:"auto"}},i.createElement(tl.a,{className:"table-bordered",columns:m,data:n,columnSort:{order:c.order?c.order.toLowerCase():b.V.ASC.toLowerCase(),path:Vg.DATE},onSort:function(e){return function(e,t){t({type:Gg.SET_SORT_BY,payload:{by:b.u.CREATED_AT,order:"desc"===e.order?b.V.DESC:b.V.ASC}})}(e,s)},onRowClick:function(e,t){return function(e){window.location.href=window.VersumConfig.notification_center_notifications_path+"/"+e.id}(e)}})),i.createElement("div",{className:"pagination_container"},i.createElement(Yd.a,{itemsCount:a,pageSize:o,currentPage:r,onPageChange:function(e){return function(e,t,n,a){var r=Math.ceil(t/n);a({type:Gg.SET_NOTIFICATIONS_PAGE,payload:e>r?r:e<1||isNaN(e)?1:e})}(e,a,o,s)},type:"input",onSizeChange:function(e){return function(e,t){t({type:Gg.SET_NOTIFICATIONS_PAGE_SIZE,payload:e})}(e,s)},cacheKey:Bn.a.NOTIFICATION_CENTER_TABLE}))):i.createElement(PS,{message:void 0===(null==l?void 0:l.seen)?u.a.t("notificationCenter.emptyNotificationsList.description"):u.a.t("notificationCenter.notificationsNotFound")}))},kS=function(){return(kS=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},MS=function(){var e=Object(i.useContext)(Kg),t=e.notification,n=e.notificationId,a=e.isPushNotification,r=e.unreadNotificationsCount,o=Object(i.useContext)(O.a).dateUtils;return tS(n,a,t?t.seenAt:null,r),i.createElement(i.Fragment,null,t&&i.createElement(i.Fragment,null,i.createElement("h2",{className:"bold"}," ",t.subject.title," "),i.createElement("div",{className:"mb-xl mt-m"},i.createElement("span",{className:"text-muted mr-m"},o.formatDateTime(new Date(t.createdAt),Gy.b.WITH_WEEKDAY_NAME)),i.createElement(IS.a,{text:u.a.t("notificationCenter.notificationType."+t.subject.systemNotification.notificationType),variant:AS(t.subject.systemNotification.notificationType),pill:!1})),i.createElement("div",{dangerouslySetInnerHTML:{__html:window.markdownUtils.toHtml(t.subject.markdownContent)}})),i.createElement(lo.a,{text:u.a.t("notificationCenter.backToList"),onClick:nS,className:"mt-xl"}))||""},xS=function(){return(xS=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.NEW_ORDER="NEW_ORDER",e.DRAFTS="DRAFTS",e.HISTORY="HISTORY",e.ORDER="ORDER"}(hS||(hS={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.SET_DRAFT_ORDERS_COUNT="SET_DRAFT_ORDERS_COUNT"}(vS||(vS={}));var LS,FS,BS,jS,GS,VS=function(){return(VS=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},US={},HS=function(e,t){switch(t.type){case vS.SET_DRAFT_ORDERS_COUNT:return VS(VS({},e),{draftOrdersCount:t.payload});default:return e}},zS=Object(i.createContext)(VS(VS({dispatch:function(){}},US),{product_orders_path:"",physical_products_products_path:"",new_physical_order_path:"",new_physical_use_path:"",new_physical_delivery_path:"",physical_products_stocktakings_path:"",physical_products_suppliers_path:""})),YS=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qS=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},WS=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},KS="\n    id\n    number\n    supplierEmail\n    ccEmails\n    state\n    createdAt\n    sentAt\n    creator {\n      firstName\n      lastName\n    }\n    items {\n      id\n      unit\n      quantity\n      product {\n        id\n        name\n        fullName\n        unit\n      }\n    }\n    supplier {\n      id\n      name\n      contactPerson\n      email\n      description\n      phone {\n        number\n        countryPrefix\n      }\n    }\n    remarks\n    updatedAt\n    pdfUrl\n",$S=w()(LS||(LS=YS(["\n  mutation changeProductOrder($id: Int!, $action: ProductOrderTransition!, $supplierEmail: String, $ccEmails: [String!]) {\n    changeProductOrder(id: $id, action: $action, supplierEmail: $supplierEmail, ccEmails: $ccEmails){\n      errors {\n        argument\n        code\n        detail\n      }\n      order {\n        ","}\n      }\n  }\n"],["\n  mutation changeProductOrder($id: Int!, $action: ProductOrderTransition!, $supplierEmail: String, $ccEmails: [String!]) {\n    changeProductOrder(id: $id, action: $action, supplierEmail: $supplierEmail, ccEmails: $ccEmails){\n      errors {\n        argument\n        code\n        detail\n      }\n      order {\n        ","}\n      }\n  }\n"])),KS),ZS=w()(FS||(FS=YS(["\n  mutation CreateProductOrderPdf($id: Int!) {\n    createProductOrderPdf(id: $id)\n  }\n"],["\n  mutation CreateProductOrderPdf($id: Int!) {\n    createProductOrderPdf(id: $id)\n  }\n"]))),XS=function(e){return qS(void 0,void 0,void 0,(function(){var t;return WS(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:ZS,variables:{id:e}},result:function(e){return e.createProductOrderPdf||!1},mutationErrors:function(e){return[]},successMessage:A.a.HideMutationResultMessage})];case 1:return n.sent()?(x.a.info(u.a.t("productOrders.pdf.queued")),[4,new Promise((function(t,n){var a=function(r){return setTimeout((function(){return qS(void 0,void 0,void 0,(function(){var o;return WS(this,(function(i){switch(i.label){case 0:return[4,$_(e)];case 1:return(null==(o=i.sent())?void 0:o.pdfUrl)?t(o):r>=30?n():a(r+1),[2]}}))}))}),5e3)};return a(0)}))]):[3,3];case 2:if(t=n.sent())return t.pdfUrl&&window.open(t.pdfUrl,"_blank"),[2,t];n.label=3;case 3:return x.a.error(u.a.t("productOrders.pdf.error"),{sticky:!0}),[2,null]}}))}))},JS=function(e,t,n,a){return qS(void 0,void 0,void 0,(function(){return WS(this,(function(r){switch(r.label){case 0:return[4,A.a.mutate({options:{mutation:$S,variables:{id:e,supplierEmail:n,ccEmails:a,action:t}},result:function(e){return e.changeProductOrder.order||null},mutationErrors:function(e){return e.changeProductOrder.errors||[]}})];case 1:return[2,r.sent()]}}))}))},QS=function(e,t,n,a){return void 0===n&&(n=b.L.NONE),qS(void 0,void 0,void 0,(function(){var r;return WS(this,(function(o){switch(o.label){case 0:return[4,A.a.mutate({options:{mutation:w()(BS||(BS=YS(["\n          mutation createProductOrderDeliveryDraft($draftAction: ProductOrderDraftAction, $id: Int!) {\n            createProductOrderDeliveryDraft(draftAction: $draftAction , id: $id) {\n              deliveryDraft {\n                id\n              }\n              errors {\n                argument\n                code\n                detail\n              }\n            }\n          }\n        "],["\n          mutation createProductOrderDeliveryDraft($draftAction: ProductOrderDraftAction, $id: Int!) {\n            createProductOrderDeliveryDraft(draftAction: $draftAction , id: $id) {\n              deliveryDraft {\n                id\n              }\n              errors {\n                argument\n                code\n                detail\n              }\n            }\n          }\n        "]))),variables:{draftAction:n,id:t}},mutationErrors:function(e){var t;return(null===(t=e.createProductOrderDeliveryDraft)||void 0===t?void 0:t.errors)||[]},mutationErrorMessage:A.a.HideMutationErrorMessage,errorHandler:{onMutationErrors:function(e){return a&&a(t)}},result:function(e){var t,n;return(null===(n=null===(t=e.createProductOrderDeliveryDraft)||void 0===t?void 0:t.deliveryDraft)||void 0===n?void 0:n.id)||null}})];case 1:return(r=o.sent())&&(window.location.href=e+"?draft_id="+r),[2]}}))}))};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.ORDER="ORDER"}(jS||(jS={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.FETCHED_PRODUCT_ORDER="FETCHED_PRODUCT_ORDER",e.SET_CANCEL_ORDER_MODAL_STATE="SET_CANCEL_ORDER_MODAL_STATE",e.SET_SEND_ORDER_MODAL_STATE="SET_SEND_ORDER_MODAL_STATE",e.SET_DELIVERY_CONVERSION_MODAL_STATE="SET_DELIVERY_CONVERSION_MODAL_STATE"}(GS||(GS={}));var e_,t_,n_=function(){return(n_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},r_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o_=function(e,t){return a_(void 0,void 0,void 0,(function(){var n,a,r,o,i;return r_(this,(function(s){switch(s.label){case 0:return n=e.id,a=e.ccEmails,r=e.supplierEmail,(i=r)?[4,JS(n,b.N.CANCEL,r,a)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=i,t.setSubmitting(!1),[2,o]}}))}))},i_=function(e){return n_({},ca("supplierEmail",e.supplierEmail||""))},s_=function(){return(s_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c_=function(e){var t,n=e.cancelOrderModalSate,a=e.onClose,r=e.onSubmit,o=Object(i.useRef)(null);return i.createElement(i.Fragment,null,n.productOrder&&i.createElement(d.p,{backdropClose:!1,title:u.a.t("productOrders.orderDetails.cancelModal.title"),isFooterVisible:!0,isOpened:n.isOpen,onClose:a,onCloseText:u.a.t("common.cancel"),onSave:function(){return o.current&&o.current.submitForm()},onSaveText:u.a.t("productOrders.orderDetails.cancelModal.changeStatus")},i.createElement("div",{className:"mb-s"},u.a.t("productOrders.orderDetails.cancelModal.content")),i.createElement(rn.c,{ref:o,onSubmit:r,initialValues:{id:n.productOrder.id,supplierEmail:n.productOrder.supplierEmail||(null===(t=n.productOrder.supplier)||void 0===t?void 0:t.email)||"",ccEmails:n.productOrder.ccEmails,productOrderState:b.M.CANCELED},validate:i_,component:function(e){return i.createElement(rn.b,{className:"v2-form"},i.createElement(d.k,{className:"pl-xs"},u.a.t("productOrders.orderDetails.cancelModal.infoSentTo"),i.createElement(rn.a,{name:"supplierEmail",render:function(e){var t=e.field,n=e.form,a=n.errors[t.name]&&n.touched[t.name]?n.errors[t.name]:null;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls mt-s"},i.createElement(d.m,s_({},t,{type:"text",errorMessage:a,onChange:function(e){n.setFieldValue(t.name,e.target.value)}}))))}})))}})))},l_=function(e){var t=e.deliveryConversionModalState,n=e.deliveryPath,a=e.onClose,r=e.onSave,o=t.productOrderId,s=t.isOpen,c=function(e){r(),o&&QS(n,o,e)};return i.createElement(d.p,{backdropClose:!1,title:u.a.t("common.actionNeedsConfirmation"),isFooterVisible:!0,isOpened:s,onClose:a,onCloseText:u.a.t("common.close"),onSave:function(){return c(b.L.SELECT)},onSaveText:u.a.t("productOrders.deliveryConversion.useExisting"),onSecondaryAction:function(){return c(b.L.DELETE)},onSecondaryText:u.a.t("productOrders.deliveryConversion.createNew")},i.createElement("div",{className:"mb-s"},u.a.t("productOrders.deliveryConversion.existingDraftQuestion")))},u_=function(){return(u_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},m_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p_=function(e){return d_(void 0,void 0,void 0,(function(){var t,n,a,r;return m_(this,(function(o){switch(o.label){case 0:return t=e.id,n=e.ccEmails,a=e.supplierEmail,r=e.shouldSendCCEmail,a?[4,JS(t,b.N.ORDER,a,r?n:[])]:[3,2];case 1:return[2,o.sent()];case 2:return[2,null]}}))}))},f_=function(e){return u_(u_({},ca("supplierEmail",e.supplierEmail||"")),E_(e.shouldSendCCEmail,e.ccEmails))},E_=function(e,t){return t.length>0?t.reduce((function(t,n){return u_(u_({},t),e&&ca("ccEmails",n))}),{}):u_({},e&&ca("ccEmails",""))},y_=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},h_=function(e){var t=e.inputValues,n=e.onChange,a=e.errorMessage,r=Object(i.useState)(t&&t.length>0?t:[{value:""}]),o=r[0],s=r[1],c=function(){var e=y_(y_([],o,!0),[{value:""}],!1);s(e),n&&n(e)};return i.createElement(i.Fragment,null,o.map((function(e,t){return i.createElement("div",{key:t},i.createElement("div",{className:"v2-form-group ai-center"},i.createElement(_n.f,{className:nt({"v2-form-control":!0,invalid:a}),value:e.value,onChange:function(e){return function(e,t){var a=y_([],o,!0);a[t]={value:e.target.value},s(a),n&&n(a)}(e,t)}}),1!==o.length&&i.createElement("i",{className:"icon sprite-filter_cancellation_visits ml-s pointer",title:u.a.t("common.delete"),onClick:function(){return function(e){var t=y_([],o,!0);t.splice(e,1),s(t),n&&n(t)}(t)}})),o.length-1===t&&i.createElement("a",{className:"pointer",onClick:c}," + ",u.a.t("common.addAnother")))})),a&&i.createElement("p",{className:"red mt-s"},a))},v_=function(){return(v_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},g_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},S_=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},__=function(e){var t,n=e.modalState,a=e.onSave,r=e.onClose,o=Object(i.useRef)(null);return i.createElement(i.Fragment,null,n.productOrder&&i.createElement(d.p,{backdropClose:!1,title:u.a.t("productOrders.orderDetails.sendModal.title"),isFooterVisible:!0,isOpened:n.isOpen,onClose:r,onCloseText:u.a.t("common.cancel"),onSave:function(){return o.current&&o.current.submitForm()},onSaveText:u.a.t("productOrders.orderDetails.sendModal.confirm")},i.createElement(rn.c,{ref:o,onSubmit:function(e,t){return b_(void 0,void 0,void 0,(function(){var n;return g_(this,(function(r){switch(r.label){case 0:return[4,p_(e)];case 1:return n=r.sent(),a&&a(n),t.setSubmitting(!1),[2]}}))}))},initialValues:{id:n.productOrder.id,supplierEmail:n.productOrder.supplierEmail||(null===(t=n.productOrder.supplier)||void 0===t?void 0:t.email),ccEmails:n.productOrder.ccEmails,productOrderState:b.M.ORDERED,shouldSendCCEmail:n.productOrder.ccEmails.length>0},validate:f_,component:function(e){var t;return i.createElement(rn.b,{className:"v2-form"},i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.sendModal.supplier")},i.createElement("span",{className:"text-bold"},(null===(t=n.productOrder.supplier)||void 0===t?void 0:t.name)||"")),i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.sendModal.supplierEmail")},i.createElement(rn.a,{name:"supplierEmail",render:function(e){var t=e.field,n=e.form,a=n.errors[t.name]&&n.touched[t.name]?n.errors[t.name]:null;return i.createElement(i.Fragment,null,i.createElement("div",{className:"v2-form-controls"},i.createElement(d.m,v_({},t,{type:"text",errorMessage:a,onChange:function(e){n.setFieldValue(t.name,e.target.value)}}))))}})),i.createElement(d.k,null,i.createElement(d.n,{text:""}),i.createElement("div",{className:"v2-form-controls"},i.createElement(rn.a,{name:"shouldSendCCEmail",render:function(e){var t=e.field,n=e.form;return i.createElement(d.g,{labelClassName:"v2-form-option mb-s",label:u.a.t("productOrders.orderDetails.sendModal.sendCopy"),inputClassName:"v2-form-check",checked:t.value,onChange:function(e){var a=!t.value;n.setFieldValue(t.name,a,!1),Object.keys(E_(a,n.values.ccEmails)).length>0?n.setFieldError("ccEmails",u.a.t("validation.email")):n.setFieldError("ccEmails","")}})}}),i.createElement(rn.a,{name:"ccEmails",render:function(e){var t=e.field,n=e.form,a=n.errors[t.name]?n.errors[t.name]:null;return i.createElement(h_,{errorMessage:a,inputValues:t.value.reduce((function(e,t){return S_(S_([],e,!0),[{value:t}],!1)}),[]),onChange:function(e){return n.setFieldValue(t.name,e.reduce((function(e,t){return S_(S_([],e,!0),[t.value],!1)}),[]))}})}}))))}})))},T_=function(e){var t=e.options,n=e.label,a=void 0===n?u.a.t("common.more"):n;return i.createElement(i.Fragment,null,i.createElement("div",{className:"dropdown inline-block"},i.createElement("button",{className:"button button-dropdown","data-toggle":"dropdown"},a),i.createElement("ul",{className:"dropdown-menu"},t.map((function(e){var t=e.label,n=e.action,a=e.disabled;return i.createElement("li",{key:t},i.createElement("a",{className:nt("py-s px-m",{"row-disabled":a}),onClick:function(e){e.preventDefault(),a||n()}},t))})))))};!function(e){e.NEW_PRODUCT_ORDER="NEW_PRODUCT_ORDER",e.FETCHED_PRODUCT_ORDER_DRAFT="FETCHED_PRODUCT_ORDER_DRAFT",e.SET_ADD_SUPPLIER_MODAL_VISIBLE="SET_ADD_SUPPLIER_MODAL_VISIBLE",e.SET_REMARKS_EDITOR_VISIBLE="SET_REMARKS_EDITOR_VISIBLE",e.SET_REMARKS_EDITOR_LOCKED="SET_REMARKS_EDITOR_LOCKED",e.SET_SUPPLIER_SELECT_VISIBLE="SET_SUPPLIER_SELECT_VISIBLE",e.SET_DELETE_DRAFT_MODAL_VISIBLE="SET_DELETE_DRAFT_MODAL_VISIBLE",e.SET_SUBMIT_ATTEMPTED="SET_SUBMIT_ATTEMPTED",e.SET_SEND_DRAFT_MODAL_VISIBLE="SET_SEND_DRAFT_MODAL_VISIBLE",e.SET_LOADING="SET_LOADING"}(e_||(e_={})),function(e){e.NEW_ORDER="NEW_ORDER"}(t_||(t_={}));var N_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},O_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C_=function(){var e=Object(i.useContext)(zS).product_orders_path,t=Object(i.useContext)(eT),n=t.productOrder,a=t.dispatch;return i.createElement("div",{className:"ml-auto"},i.createElement(T_,{options:[{label:u.a.t("productOrders.orderDetails.actions.createSimilar"),action:function(){n&&X_(n.id).then((function(t){window.location.href=e+"/"+t_.NEW_ORDER.toLowerCase()+"/"+t}))},disabled:window.VersumConfig.current_branch_readonly},{label:u.a.t("productOrders.orderDetails.actions.print"),action:function(){return N_(void 0,void 0,void 0,(function(){var e;return O_(this,(function(t){switch(t.label){case 0:return(null==n?void 0:n.id)?[4,XS(n.id)]:[3,2];case 1:(e=t.sent())&&a({type:GS.FETCHED_PRODUCT_ORDER,payload:e}),t.label=2;case 2:return[2]}}))}))}}]}))},w_=function(e){var t,n,a,r=e.supplierEmail,o=e.supplier,s=e.onSupplierChange;return i.createElement("div",{className:"suppliers-content"},i.createElement(ay.a,{variant:ay.b.gray},i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row mb-s"},i.createElement(A_,{title:u.a.t("productOrders.orderDetails.supplierDetails.companyName"),content:null==o?void 0:o.name}),i.createElement(A_,{title:u.a.t("productOrders.orderDetails.supplierDetails.contactPerson"),content:null==o?void 0:o.contactPerson}),i.createElement(A_,{title:u.a.t("productOrders.orderDetails.supplierDetails.email"),content:r||(null==o?void 0:o.email)||""}),i.createElement(A_,{title:u.a.t("productOrders.orderDetails.supplierDetails.description"),content:null==o?void 0:o.description}),i.createElement(A_,{title:u.a.t("productOrders.orderDetails.supplierDetails.phone"),content:((null===(t=null==o?void 0:o.phone)||void 0===t?void 0:t.countryPrefix)?(null===(n=null==o?void 0:o.phone)||void 0===n?void 0:n.countryPrefix)+" ":"")+"\n              "+((null===(a=null==o?void 0:o.phone)||void 0===a?void 0:a.number)||"")}),s&&!window.VersumConfig.current_branch_readonly&&i.createElement(lr.a,{text:u.a.t("common.change"),variant:"link",type:"button",onClick:s})))))},A_=function(e){var t=e.title,n=e.content;return i.createElement("div",{className:"v2-col-12 v2-col-sm-6 my-s"},i.createElement("div",{className:"text-muted-dark d-inline-block suppliers-label"},t),i.createElement("div",{className:"d-inline-block "},n||"-"))},R_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},I_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P_=function(e,t,n){return R_(void 0,void 0,void 0,(function(){var a,r,o,i,s,c,l;return I_(this,(function(u){switch(u.label){case 0:return a=t.id,r=t.productOrderState,o=t.ccEmails,i=t.supplierEmail,s=D_(r),(l=s&&i)?[4,JS(a,s,i,o)]:[3,2];case 1:l=u.sent(),u.label=2;case 2:return(c=l)&&e({type:GS.FETCHED_PRODUCT_ORDER,payload:c}),n.setSubmitting(!1),[2]}}))}))},D_=function(e){switch(e){case b.M.DELIVERED:return b.N.DELIVER;case b.M.CANCELED:return b.N.CANCEL;case b.M.ORDERED:return b.N.ORDER;case b.M.DRAFT:default:return null}},k_=function(e,t,n){Object(i.useEffect)((function(){var n;!e&&((n=t.values.productOrderState)!==b.M.CANCELED&&n!==b.M.ORDERED)&&t.submitForm()}),[t.values.productOrderState])},M_=function(e){var t=e.currentState,n=e.onChange,a=e.disabled,r=e.draftsEnabled,o=[{label:u.a.t("productOrders.orderState."+b.M.ORDERED),value:b.M.ORDERED},{label:u.a.t("productOrders.orderState."+b.M.DELIVERED),value:b.M.DELIVERED},{label:u.a.t("productOrders.orderState."+b.M.CANCELED),value:b.M.CANCELED}];return r&&o.push({label:u.a.t("productOrders.orderState."+b.M.DRAFT),value:b.M.DRAFT}),i.createElement(Ma.a,{options:o,value:o.find((function(e){return t===e.value})),onChange:n,className:"w-40",disabled:a,isSearchable:!1,isOptionDisabled:function(e){switch(t){case b.M.DRAFT:return e.value===b.M.CANCELED||e.value===b.M.DELIVERED;case b.M.CANCELED:case b.M.DELIVERED:return!0;case b.M.ORDERED:return e.value===b.M.ORDERED||e.value===b.M.DRAFT;default:return e.value===b.M.DRAFT}}})};function x_(e){var t=e.field,n=e.form,a=Object(i.useContext)(eT),r=a.productOrder,o=a.dispatch,s=!Object(qd.a)().current;return function(e,t,n,a){Object(i.useEffect)((function(){!e&&a&&n.setFieldValue(t.name,a.state)}),[null==a?void 0:a.state])}(s,t,n,r),k_(s,n),i.createElement(M_,{currentState:t.value,onChange:function(e){switch(e.value){case b.M.CANCELED:return o({type:GS.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!0,productOrder:r}});case b.M.ORDERED:return o({type:GS.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!0,productOrder:r}});default:return n.setFieldValue(t.name,e.value)}},disabled:n.isSubmitting||window.VersumConfig.current_branch_readonly})}var L_,F_,B_,j_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},G_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},V_=function(){var e,t=Object(i.useContext)(eT),n=t.productOrder,a=t.dispatch,r=Object(i.useContext)(O.a).dateUtils;return i.createElement(i.Fragment,null," ",n&&i.createElement(rn.c,{onSubmit:function(e,t){return j_(void 0,void 0,void 0,(function(){return G_(this,(function(n){switch(n.label){case 0:return[4,P_(a,e,t)];case 1:return n.sent(),[2]}}))}))},initialValues:{id:n.id,supplierEmail:n.supplierEmail||(null===(e=n.supplier)||void 0===e?void 0:e.email)||"",ccEmails:n.ccEmails,productOrderState:n.state},render:function(e){return i.createElement(rn.b,{className:"v2-form v2-form-counted product-orders-details-form"},i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.status")},i.createElement(rn.a,{name:"productOrderState",component:x_,disabled:e.isSubmitting})),i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.supplier")},i.createElement(w_,{supplierEmail:null==n?void 0:n.supplierEmail,supplier:null==n?void 0:n.supplier})),i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.remarks")},i.createElement("div",{className:"d-flex ai-center"},n.remarks?n.remarks:u.a.t("productOrders.orderDetails.noRemarks"))),i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.orderDate")},i.createElement("div",{className:"d-flex ai-center"},n.sentAt?r.formatLastSavedDate(new Date(n.sentAt)):u.a.t("productOrders.orderDetails.noOrderDate"))),i.createElement(d.k,{label:u.a.t("productOrders.orderDetails.orderEmployee")},i.createElement("div",{className:"d-flex ai-center"},n.creator.firstName?n.creator.firstName+" ":"",n.creator.lastName?n.creator.lastName:"")))}}))},U_=function(){return(U_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},H_=function(){var e=Object(i.useContext)(eT).productOrder,t=Object(i.useContext)(zS).physical_products_products_path;return i.createElement(i.Fragment,null,e&&i.createElement(i.Fragment,null,i.createElement("h2",{className:"mb-l"},u.a.t("productOrders.orderDetails.orderItems")+" :"),i.createElement("div",{style:{overflowX:"auto"}},i.createElement(tl.a,{className:"table-bordered",columns:[{path:"index",label:u.a.t("productOrders.orderDetails.productsTable.index"),content:function(e){return e.index}},{path:"product.fullName",label:u.a.t("productOrders.orderDetails.productsTable.name"),content:function(e){return i.createElement("a",{target:"_blank",href:t+"/"+e.product.id}," ",e.product.fullName," ")},bodyCellClassName:"text-wrap text-break"},{path:"amount",label:u.a.t("productOrders.orderDetails.productsTable.quantity"),content:function(e){return i.createElement("span",null,(+e.quantity).toLocaleString(window._locale)+" "+ci(e.unit))}}],data:e.items.map((function(e,t){return U_(U_({},e),{index:t+1})}))})))||i.createElement(i.Fragment,null))},z_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Y_=function(){return(Y_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},q_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},W_=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},K_=w()(L_||(L_=z_(["\n  query GetProductOrder($id: Int! ) {\n    productOrder(id: $id){\n      ","\n    }\n  }\n"],["\n  query GetProductOrder($id: Int! ) {\n    productOrder(id: $id){\n      ","\n    }\n  }\n"])),KS),$_=function(e){return q_(void 0,void 0,void 0,(function(){return W_(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:K_,variables:{id:e},fetchPolicy:"network-only"},result:function(e){return e.productOrder||null}})];case 1:return[2,t.sent()]}}))}))},Z_=w()(F_||(F_=z_(["\n  mutation CopyProductOrder($id: Int! ) {\n    copyProductOrder(id: $id) {\n      order {\n        id\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"],["\n  mutation CopyProductOrder($id: Int! ) {\n    copyProductOrder(id: $id) {\n      order {\n        id\n      }\n      errors {\n        argument\n        code\n      }\n    }\n  }\n"]))),X_=function(e){return q_(void 0,void 0,void 0,(function(){return W_(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:Z_,variables:{id:e}},result:function(e){var t,n;return(null===(n=null===(t=e.copyProductOrder)||void 0===t?void 0:t.order)||void 0===n?void 0:n.id)||null},mutationErrors:function(e){var t;return(null===(t=e.copyProductOrder)||void 0===t?void 0:t.errors)||[]}})];case 1:return[2,t.sent()]}}))}))},J_={viewType:jS.SPINNER,cancelOrderModalSate:{isOpen:!1},sendOrderModalState:{isOpen:!1},deliveryConversionModalState:{isOpen:!1}},Q_=function(e,t){switch(t.type){case GS.SET_VIEW_TYPE:return Y_(Y_({},e),{viewType:t.payload});case GS.FETCHED_PRODUCT_ORDER:return Y_(Y_({},e),{productOrder:t.payload,viewType:jS.ORDER});case GS.SET_DELIVERY_CONVERSION_MODAL_STATE:return Y_(Y_({},e),{deliveryConversionModalState:t.payload});case GS.SET_CANCEL_ORDER_MODAL_STATE:return Y_(Y_({},e),{cancelOrderModalSate:Y_(Y_({},e.cancelOrderModalSate),{isOpen:t.payload.isOpen,productOrder:t.payload.productOrder})});case GS.SET_SEND_ORDER_MODAL_STATE:return Y_(Y_({},e),{sendOrderModalState:Y_(Y_({},e.sendOrderModalState),{isOpen:t.payload.isOpen,productOrder:t.payload.productOrder})});default:return e}},eT=Object(i.createContext)(Y_({dispatch:function(){}},J_)),tT={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),ORDER:i.createElement((function(){var e=Object(i.useContext)(eT),t=e.productOrder,n=e.cancelOrderModalSate,a=e.sendOrderModalState,r=e.deliveryConversionModalState,o=e.dispatch,s=Object(i.useContext)(zS).new_physical_delivery_path;return i.createElement(i.Fragment,null,t&&i.createElement(i.Fragment,null,i.createElement("div",{className:"d-flex ai-center mt-l mb-xl"},i.createElement("h2",{className:"my-0"},u.a.t("productOrders.orderDetails.title")+": "+((null==t?void 0:t.number)?t.number:u.a.t("productOrders.orderDetails.noOrderNumber"))),i.createElement(C_,null)),i.createElement(V_,null),i.createElement(H_,null),i.createElement(d.b,{className:"mt-xl",text:u.a.t("productOrders.orderDetails.createDelivery"),disabled:!t.id||window.VersumConfig.current_branch_readonly,onClick:function(){QS(s,t.id,b.L.NONE,(function(e){return o({type:GS.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!0,productOrderId:e}})}))},variant:"blue"}),i.createElement(c_,{cancelOrderModalSate:n,onClose:function(){return o({type:GS.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!1}})},onSubmit:function(e,t){o_(e,t).then((function(e){e&&o({type:GS.FETCHED_PRODUCT_ORDER,payload:e}),o({type:GS.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!1}})}))}}),i.createElement(__,{modalState:a,onSave:function(e){e&&o({type:GS.FETCHED_PRODUCT_ORDER,payload:e}),o({type:GS.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!1}})},onClose:function(){return o({type:GS.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!1}})}}),i.createElement(l_,{deliveryConversionModalState:r,deliveryPath:s,onClose:function(){return o({type:GS.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!1}})},onSave:function(){return o({type:GS.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!1}})}}))||i.createElement(i.Fragment,null))}),null)},nT=function(){return(nT=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},aT=function(){var e=Object(i.useReducer)(Q_,J_),t=e[0],n=e[1];return function(e){var t=Object(Zd.g)(),n=Object(Zd.i)().id;Object(i.useEffect)((function(){q_(void 0,void 0,void 0,(function(){var a,r;return W_(this,(function(o){switch(o.label){case 0:return a=parseInt(n),isNaN(a)?[3,2]:[4,$_(a)];case 1:if(r=o.sent()){if(r.state===b.M.DRAFT)return t.replace("/"+t_.NEW_ORDER.toLowerCase()+"/"+r.id),[2];e({type:GS.FETCHED_PRODUCT_ORDER,payload:r})}else e({type:GS.SET_VIEW_TYPE,payload:jS.ERROR});return[3,3];case 2:t.replace("/"+hS.HISTORY.toLowerCase()),o.label=3;case 3:return[2]}}))}))}),[])}(n),i.createElement(eT.Provider,{value:nT(nT({},t),{dispatch:n})},tT[t.viewType]||i.createElement(i.Fragment,null))};!function(e){e.NUMBER="number",e.SUPPLIER="supplier.name",e.COUNT="items",e.DATE="sentAt",e.STATE="state"}(B_||(B_={}));var rT,oT;!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.HISTORY="HISTORY"}(rT||(rT={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.SET_ORDERS_HISTORY_PAGE="SET_ORDERS_HISTORY_PAGE",e.SET_ORDERS_HISTORY_PAGE_SIZE="SET_ORDERS_HISTORY_PAGE_SIZE",e.SET_SEARCHED_QUERY="SET_SEARCHED_QUERY",e.SET_SELECTED_SUPPLIER="SET_SELECTED_SUPPLIER",e.SET_SELECTED_STATE="SET_SELECTED_STATE",e.SET_CANCEL_ORDER_MODAL_STATE="SET_CANCEL_ORDER_MODAL_STATE",e.SET_SEND_ORDER_MODAL_STATE="SET_SEND_ORDER_MODAL_STATE",e.SET_DELIVERY_CONVERSION_MODAL_STATE="SET_DELIVERY_CONVERSION_MODAL_STATE",e.FETCHED_SUPPLIERS_AND_ORDERS="FETCHED_SUPPLIERS_AND_ORDERS",e.FETCHED_ORDERS="FETCHED_ORDERS"}(oT||(oT={}));var iT,sT,cT,lT,uT,dT=function(){return i.createElement("div",{className:"e2e-no-results-history-table column_row row"},i.createElement("div",{className:"col-md-2"}),i.createElement("div",{className:" col-md-8"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:310,name:Vr.b.fetchingError})),i.createElement("h2",{className:"empty-list-heading-centered"},u.a.t("productOrders.ordersHistoryTable.ordersNotFound"))))},mT=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},pT=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},fT=function(){var e=Object(i.useContext)(kT),t=e.ordersHistoryCount,n=e.ordersHistoryPageSize,a=e.ordersHistoryPage,r=e.ordersHistory,o=e.selectedState,s=e.searchedQuery,c=e.selectedSupplier,l=e.dispatch,m=!Object(qd.a)().current,p=Object(i.useContext)(zS),f=p.physical_products_suppliers_path,E=p.new_physical_delivery_path,y=Object(i.useContext)(O.a).dateUtils,h=[{path:B_.NUMBER,label:u.a.t("productOrders.ordersHistoryTable.tableHeader.number"),headerCellClassName:"pl-m py-m",bodyCellClassName:"pl-m wrap py-l",content:function(e){return i.createElement(zd.b,{className:"pointer",to:"/"+jS.ORDER.toLowerCase()+"/"+e.id},e.number)}},{path:B_.SUPPLIER,label:u.a.t("productOrders.ordersHistoryTable.tableHeader.supplier"),bodyCellClassName:"wrap py-l",headerCellClassName:"py-m",content:function(e){var t;return window.VersumConfig.current_branch_readonly?i.createElement(i.Fragment,null,(null===(t=e.supplier)||void 0===t?void 0:t.name)||""):i.createElement("a",{className:"pointer",onClick:function(){var t;return window.location.href=f+"/"+(null===(t=e.supplier)||void 0===t?void 0:t.id)}})}},{path:B_.COUNT,label:u.a.t("productOrders.ordersHistoryTable.tableHeader.count"),headerCellClassName:"py-m",bodyCellClassName:"wrap py-l",content:function(e){return i.createElement(i.Fragment,null,e.items.length)}},{path:B_.DATE,label:u.a.t("productOrders.ordersHistoryTable.tableHeader.date"),headerCellClassName:"pr-m py-m",bodyCellClassName:"pr-m py-l",content:function(e){return i.createElement(i.Fragment,null,y.formatLastSavedDate(new Date(e.sentAt)))}},{path:B_.STATE,label:u.a.t("productOrders.ordersHistoryTable.tableHeader.state"),headerCellClassName:"pr-m py-m",bodyCellClassName:"pr-m py-l",content:function(e){return i.createElement("div",{className:"d-flex ai-center"},i.createElement(M_,{currentState:e.state,onChange:function(t){return mT(void 0,void 0,void 0,(function(){return pT(this,(function(r){switch(r.label){case 0:switch(t.value){case b.M.CANCELED:return[3,1];case b.M.ORDERED:return[3,2];case b.M.DELIVERED:return[3,3]}return[3,6];case 1:return[2,l({type:oT.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!0,productOrder:e}})];case 2:return[2,l({type:oT.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!0,productOrder:e}})];case 3:return e.supplierEmail?[4,JS(e.id,b.N.DELIVER,e.supplierEmail,e.ccEmails).then((function(e){return mT(void 0,void 0,void 0,(function(){return pT(this,(function(e){switch(e.label){case 0:return[4,_T(l,a,n,o,m,s,c)];case 1:return e.sent(),[2]}}))}))}))]:[3,5];case 4:r.sent(),r.label=5;case 5:r.label=6;case 6:return[2]}}))}))},disabled:window.VersumConfig.current_branch_readonly}),window.VersumConfig.current_branch_readonly?i.createElement(i.Fragment,null):i.createElement(d.A,{className:"ml-m",trigger:i.createElement(d.w,{name:d.x.suppliers,size:20,className:"pointer",onClick:function(){return e.id&&QS(E,e.id,b.L.NONE,(function(e){return l({type:oT.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!0,productOrderId:e}})}))}}),content:u.a.t("productOrders.ordersHistoryTable.changeToDelivery"),type:d.D.Info}))}}];return i.createElement(i.Fragment,null," ",r&&r.length>0?i.createElement(i.Fragment,null,i.createElement("div",{style:{overflowX:"auto"}},i.createElement(d.z,{className:"table-bordered",columns:h,data:r})),i.createElement("div",{className:"pagination_container"},i.createElement(d.s,{itemsCount:t||0,pageSize:n,currentPage:a,onPageChange:function(e){return OT(e,t||0,n,l)},type:"input",onSizeChange:function(e){return CT(e,l)},cacheKey:Bn.a.ORDERS_HISTORY_TABLE}))):i.createElement(dT,null)," ")},ET=function(){var e=Object(i.useContext)(kT),t=e.dispatch,n=e.ordersHistoryCount,a=e.searchedQuery,r=e.productSuppliers,o=e.selectedSupplier,s=e.selectedState,c=Object(i.useContext)(zS).product_orders_path,l=Object(xn.a)((function(e){t({type:oT.SET_SEARCHED_QUERY,payload:e})}),500);return i.createElement("div",{className:"row mb-xl"},i.createElement("div",{className:"col-sm-10 d-felx ai-center"},0!==n||0===n&&""!==a?i.createElement(Mn.a,{placeholder:u.a.t("productOrders.ordersHistoryTable.searchBar.searchForOrder"),onItemSearch:l}):i.createElement(i.Fragment,null),i.createElement("span",{className:"ml-m mr-s"}," ",u.a.t("productOrders.ordersHistoryTable.supplier")+":"," "),i.createElement(Ma.a,{isSearchable:!1,options:RT(r),onChange:function(e){return t({type:oT.SET_SELECTED_SUPPLIER,payload:e.value})},value:RT(r).find((function(e){return e.value===o})),version:"v2",className:"w-40 d-inline-block"}),i.createElement("span",{className:"ml-m mr-s"}," ",u.a.t("productOrders.ordersHistoryTable.state")+":"," "),i.createElement(Ma.a,{isSearchable:!1,options:IT(),onChange:function(e){return t({type:oT.SET_SELECTED_STATE,payload:e.value})},value:IT().find((function(e){return Object(gl.a)(e.value,s)})),version:"v2",className:"w-40 d-inline-block"})),window.VersumConfig.current_branch_readonly?i.createElement(i.Fragment,null):i.createElement("div",{className:"col-sm-2 text-right mt-xs mt-sm-0"},i.createElement("a",{className:"e2e-create-order button button-blue",href:c},u.a.t("productOrders.ordersHistoryTable.createOrder"))))},yT=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},hT=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vT=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},bT=function(){return(bT=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gT=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ST=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_T=function(e,t,n,a,r,o,i){return gT(void 0,void 0,void 0,(function(){var s,c;return ST(this,(function(l){switch(l.label){case 0:return[4,NT(t,n,a,o,i)];case 1:return s=l.sent(),r?[4,AT()]:[3,3];case 2:c=l.sent(),e(null!==s&&null!==c?{type:oT.FETCHED_SUPPLIERS_AND_ORDERS,payload:{orders:s.items,count:s.all,suppliers:c}}:{type:oT.SET_VIEW_TYPE,payload:rT.ERROR}),l.label=3;case 3:return r||e(null!==s?{type:oT.FETCHED_ORDERS,payload:{orders:s.items,count:s.all}}:{type:oT.SET_VIEW_TYPE,payload:rT.ERROR}),[2]}}))}))},TT=w()(iT||(iT=vT(["\n  query GetProductOrders($filter: ProductOrdersFilter, $page: Int, $count: Int) {\n    productOrders(filter: $filter, page: $page, count: $count) {\n      all\n      items {\n        ","\n      }\n    }\n  }\n"],["\n  query GetProductOrders($filter: ProductOrdersFilter, $page: Int, $count: Int) {\n    productOrders(filter: $filter, page: $page, count: $count) {\n      all\n      items {\n        ","\n      }\n    }\n  }\n"])),KS),NT=function(e,t,n,a,r){return gT(void 0,void 0,void 0,(function(){return ST(this,(function(o){switch(o.label){case 0:return[4,A.a.query({options:{query:TT,variables:{filter:{q:a,supplier:r,states:n},page:e,count:t},fetchPolicy:"network-only"},result:function(e){return e.productOrders||null}})];case 1:return[2,o.sent()]}}))}))},OT=function(e,t,n,a){var r=Math.ceil(t/n);a({type:oT.SET_ORDERS_HISTORY_PAGE,payload:e>r?r:e<1||isNaN(e)?1:e})},CT=function(e,t){t({type:oT.SET_ORDERS_HISTORY_PAGE_SIZE,payload:e})},wT=w()(sT||(sT=vT(["\n  query GetProductSuppliers {\n    productSuppliers{\n      id\n      name\n    }\n  }\n"],["\n  query GetProductSuppliers {\n    productSuppliers{\n      id\n      name\n    }\n  }\n"]))),AT=function(){return gT(void 0,void 0,void 0,(function(){return ST(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:wT,fetchPolicy:"network-only"},result:function(e){return e.productSuppliers||null}})];case 1:return[2,e.sent()]}}))}))},RT=function(e){var t=[{label:u.a.t("productOrders.ordersHistoryTable.allSuppliers"),value:null}];return e&&e.map((function(e){return t.push({label:e.name,value:e.id})})),t},IT=function(){return[{label:u.a.t("productOrders.ordersHistoryTable.allStates"),value:[b.M.ORDERED,b.M.CANCELED,b.M.DELIVERED]},{label:u.a.t("productOrders.orderState."+b.M.ORDERED),value:[b.M.ORDERED]},{label:u.a.t("productOrders.orderState."+b.M.DELIVERED),value:[b.M.DELIVERED]},{label:u.a.t("productOrders.orderState."+b.M.CANCELED),value:[b.M.CANCELED]}]},PT={viewType:rT.SPINNER,ordersHistoryPage:Bn.b.getCachedPage(Bn.a.ORDERS_HISTORY_TABLE,1),ordersHistoryPageSize:Bn.b.getCachedPageSize(Bn.a.ORDERS_HISTORY_TABLE,10),searchedQuery:"",selectedSupplier:null,selectedState:[b.M.ORDERED,b.M.CANCELED,b.M.DELIVERED],cancelOrderModalSate:{isOpen:!1},sendOrderModalState:{isOpen:!1},deliveryConversionModalState:{isOpen:!1}},DT=function(e,t){switch(t.type){case oT.SET_VIEW_TYPE:return bT(bT({},e),{viewType:t.payload});case oT.SET_ORDERS_HISTORY_PAGE:return bT(bT({},e),{ordersHistoryPage:t.payload});case oT.SET_ORDERS_HISTORY_PAGE_SIZE:return bT(bT({},e),{ordersHistoryPageSize:t.payload});case oT.SET_SEARCHED_QUERY:return bT(bT({},e),{searchedQuery:t.payload});case oT.SET_SELECTED_SUPPLIER:return bT(bT({},e),{selectedSupplier:t.payload});case oT.SET_SELECTED_STATE:return bT(bT({},e),{selectedState:t.payload});case oT.SET_CANCEL_ORDER_MODAL_STATE:return bT(bT({},e),{cancelOrderModalSate:bT(bT({},e.cancelOrderModalSate),{isOpen:t.payload.isOpen,productOrder:t.payload.productOrder})});case oT.SET_SEND_ORDER_MODAL_STATE:return bT(bT({},e),{sendOrderModalState:bT(bT({},e.sendOrderModalState),{isOpen:t.payload.isOpen,productOrder:t.payload.productOrder})});case oT.SET_DELIVERY_CONVERSION_MODAL_STATE:return bT(bT({},e),{deliveryConversionModalState:t.payload});case oT.FETCHED_SUPPLIERS_AND_ORDERS:return bT(bT({},e),{viewType:rT.HISTORY,ordersHistory:t.payload.orders,ordersHistoryCount:t.payload.count,productSuppliers:t.payload.suppliers});case oT.FETCHED_ORDERS:return bT(bT({},e),{viewType:rT.HISTORY,ordersHistory:t.payload.orders,ordersHistoryCount:t.payload.count});default:return e}},kT=Object(i.createContext)(bT({dispatch:function(){}},PT)),MT={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),HISTORY:i.createElement((function(){var e=Object(i.useContext)(kT),t=e.dispatch,n=e.cancelOrderModalSate,a=e.deliveryConversionModalState,r=e.sendOrderModalState,o=e.ordersHistoryPage,s=e.ordersHistoryPageSize,c=e.selectedState,l=e.searchedQuery,u=e.selectedSupplier,d=Object(i.useContext)(zS).new_physical_delivery_path,m=!Object(qd.a)().current;return i.createElement(i.Fragment,null,i.createElement(ET,null),i.createElement(fT,null),i.createElement(c_,{cancelOrderModalSate:n,onClose:function(){return t({type:oT.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!1}})},onSubmit:function(e,n){o_(e,n).then((function(e){return yT(void 0,void 0,void 0,(function(){return hT(this,(function(e){switch(e.label){case 0:return t({type:oT.SET_CANCEL_ORDER_MODAL_STATE,payload:{isOpen:!1}}),[4,_T(t,o,s,c,m,l,u)];case 1:return e.sent(),[2]}}))}))}))}}),i.createElement(__,{modalState:r,onSave:function(e){return yT(void 0,void 0,void 0,(function(){return hT(this,(function(e){switch(e.label){case 0:return t({type:oT.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!1}}),[4,_T(t,o,s,c,m,l,u)];case 1:return e.sent(),[2]}}))}))},onClose:function(){return t({type:oT.SET_SEND_ORDER_MODAL_STATE,payload:{isOpen:!1}})}}),i.createElement(l_,{deliveryConversionModalState:a,deliveryPath:d,onClose:function(){return t({type:oT.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!1}})},onSave:function(){return t({type:oT.SET_DELIVERY_CONVERSION_MODAL_STATE,payload:{isOpen:!1}})}}))}),null)},xT=function(){return(xT=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},LT=function(){var e=Object(i.useReducer)(DT,PT),t=e[0],n=e[1],a=t.viewType,r=t.ordersHistoryPage,o=t.ordersHistoryPageSize,s=t.searchedQuery,c=t.selectedSupplier,l=t.selectedState;return function(e,t,n,a,r,o,s){var c=!a.current;Object(i.useEffect)((function(){_T(e,t,n,s,c)}),[]),Object(i.useEffect)((function(){!c&&_T(e,t,n,s,c,r,o)}),[t,n,r,o,s])}(n,r,o,Object(qd.a)(),s,c,l),i.createElement(kT.Provider,{value:xT(xT({},t),{dispatch:n})},MT[a]||i.createElement(i.Fragment,null))},FT=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},BT=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},jT=function(e){var t=e.isOpen,n=e.draftId,a=e.onSave,r=e.onClose;return i.createElement("div",null,i.createElement(d.p,{type:d.r.danger,title:u.a.t("common.actionNeedsConfirmation"),backdropClose:!0,isFooterVisible:!0,isOpened:t,onClose:r,onCloseText:u.a.t("common.cancel"),onSave:function(){return FT(void 0,void 0,void 0,(function(){return BT(this,(function(e){switch(e.label){case 0:return n?[4,lN(n)]:[3,2];case 1:e.sent(),a&&a(),e.label=2;case 2:return[2]}}))}))},onSaveText:u.a.t("common.confirm")},i.createElement("div",{className:"mt-s"},u.a.t("common.confirmDeletion"))))};!function(e){e.SUMMARY="items",e.SUPPLIER="supplier.name",e.CREATED="createdAt",e.DELETE=""}(cT||(cT={})),function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.DRAFTS="DRAFTS"}(lT||(lT={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.FETCHED_DRAFT_ORDERS="FETCHED_DRAFT_ORDERS",e.SET_DELETE_DRAFT_MODAL_STATE="SET_DELETE_DRAFT_MODAL_STATE",e.SET_DRAFT_ORDERS_PAGE="SET_DRAFT_ORDERS_PAGE",e.SET_DRAFT_ORDERS_PAGE_SIZE="SET_DRAFT_ORDERS_PAGE_SIZE"}(uT||(uT={}));var GT,VT,UT,HT,zT,YT,qT,WT,KT=function(){return i.createElement("div",{className:"e2e-no-results-drafts-table column_row row"},i.createElement("div",{className:"col-md-2"}),i.createElement("div",{className:" col-md-8"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:310,name:Vr.b.fetchingError})),i.createElement("h2",{className:"empty-list-heading-centered"},u.a.t("productOrders.draftOrdersTable.draftsNotFound"))))},$T=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},ZT=function(){var e=Object(i.useContext)(mN),t=e.draftOrdersCount,n=e.draftOrdersPageSize,a=e.draftOrdersPage,r=e.draftOrders,o=e.dispatch,s=Object(i.useContext)(zS).physical_products_suppliers_path,c=Object(i.useContext)(O.a).dateUtils,l=$T([{path:cT.SUMMARY,label:u.a.t("productOrders.draftOrdersTable.tableHeader.summary"),headerCellClassName:"pl-m py-m",bodyCellClassName:"pl-m wrap py-l",content:function(e){return i.createElement(zd.b,{className:"pointer",to:"/"+t_.NEW_ORDER.toLowerCase()+"/"+e.id},u.a.t("productOrders.draftOrdersTable.products",{count:e.items.length}))}},{path:cT.SUPPLIER,label:u.a.t("productOrders.draftOrdersTable.tableHeader.supplier"),bodyCellClassName:"wrap py-l",headerCellClassName:"py-m",content:function(e){var t;return window.VersumConfig.current_branch_readonly?i.createElement(i.Fragment,null,(null===(t=e.supplier)||void 0===t?void 0:t.name)||""):i.createElement("a",{className:"pointer",onClick:function(){var t;return window.location.href=s+"/"+(null===(t=e.supplier)||void 0===t?void 0:t.id)}})}},{path:cT.CREATED,label:u.a.t("productOrders.draftOrdersTable.tableHeader.created"),headerCellClassName:"py-m",bodyCellClassName:"wrap py-l",content:function(e){return i.createElement(i.Fragment,null,c.formatLastSavedDate(new Date(e.createdAt)))}}],window.VersumConfig.current_branch_readonly?[]:[{path:cT.DELETE,label:u.a.t("productOrders.draftOrdersTable.tableHeader.delete"),headerCellClassName:"pr-m py-m",bodyCellClassName:"pr-m py-l",content:function(e){return i.createElement("a",{className:"pointer",onClick:function(){return o({type:uT.SET_DELETE_DRAFT_MODAL_STATE,payload:{isOpen:!0,draftId:e.id}})}},i.createElement("div",{className:"icon_box"},i.createElement("i",{className:"icon sprite-delete"})))}}],!0);return i.createElement(i.Fragment,null," ",r&&r.length>0?i.createElement(i.Fragment,null,i.createElement("div",{style:{overflowX:"auto"}},i.createElement(d.z,{className:"table-bordered",columns:l,data:r})),i.createElement("div",{className:"pagination_container"},i.createElement(d.s,{itemsCount:t||0,pageSize:n,currentPage:a,onPageChange:function(e){return rN(e,t||0,n,o)},type:"input",onSizeChange:function(e){return oN(e,o)},cacheKey:Bn.a.DRAFT_ORDERS_TABLE}))):i.createElement(KT,null)," ")},XT=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},JT=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},QT=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},eN=function(){return(eN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tN=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},nN=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},aN=function(e,t,n){return tN(void 0,void 0,void 0,(function(){var a;return nN(this,(function(r){switch(r.label){case 0:return[4,sN(t,n)];case 1:return a=r.sent(),e(a?{type:uT.FETCHED_DRAFT_ORDERS,payload:{draftOrders:a.items,draftOrdersCount:a.all}}:{type:uT.SET_VIEW_TYPE,payload:lT.ERROR}),[2]}}))}))},rN=function(e,t,n,a){var r=Math.ceil(t/n);a({type:uT.SET_DRAFT_ORDERS_PAGE,payload:e>r?r:e<1||isNaN(e)?1:e})},oN=function(e,t){t({type:uT.SET_DRAFT_ORDERS_PAGE_SIZE,payload:e})},iN=w()(GT||(GT=QT(["\n  query GetProductOrders($filter: ProductOrdersFilter, $page: Int, $count: Int) {\n    productOrders(filter: $filter, page: $page, count: $count) {\n      all\n      items {\n        ","\n      }\n    }\n  }\n"],["\n  query GetProductOrders($filter: ProductOrdersFilter, $page: Int, $count: Int) {\n    productOrders(filter: $filter, page: $page, count: $count) {\n      all\n      items {\n        ","\n      }\n    }\n  }\n"])),KS),sN=function(e,t){return tN(void 0,void 0,void 0,(function(){return nN(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:iN,variables:{filter:{states:[b.M.DRAFT]},page:e,count:t},fetchPolicy:"network-only"},result:function(e){return e.productOrders||null}})];case 1:return[2,n.sent()]}}))}))},cN=w()(VT||(VT=QT(["\n  mutation DeleteProductOrder($id: Int!){\n    deleteProductOrder(id: $id){\n      errors {\n        argument\n        code\n        detail\n      } \n    }\n  }\n"],["\n  mutation DeleteProductOrder($id: Int!){\n    deleteProductOrder(id: $id){\n      errors {\n        argument\n        code\n        detail\n      } \n    }\n  }\n"]))),lN=function(e){return tN(void 0,void 0,void 0,(function(){return nN(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:cN,variables:{id:e}},mutationErrors:function(e){var t;return(null===(t=e.deleteProductOrder)||void 0===t?void 0:t.errors)||[]},result:function(e){return e.deleteProductOrder||null}})];case 1:return[2,t.sent()]}}))}))},uN={viewType:lT.SPINNER,draftOrdersPage:Bn.b.getCachedPage(Bn.a.DRAFT_ORDERS_TABLE,1),draftOrdersPageSize:Bn.b.getCachedPageSize(Bn.a.DRAFT_ORDERS_TABLE,10),deleteDraftOrderModalState:{isOpen:!1}},dN=function(e,t){switch(t.type){case uT.SET_VIEW_TYPE:return eN(eN({},e),{viewType:t.payload});case uT.FETCHED_DRAFT_ORDERS:return eN(eN({},e),{draftOrders:t.payload.draftOrders,draftOrdersCount:t.payload.draftOrdersCount,viewType:lT.DRAFTS});case uT.SET_DELETE_DRAFT_MODAL_STATE:return eN(eN({},e),{deleteDraftOrderModalState:eN(eN({},e.deleteDraftOrderModalState),{isOpen:t.payload.isOpen,draftId:t.payload.draftId})});case uT.SET_DRAFT_ORDERS_PAGE:return eN(eN({},e),{draftOrdersPage:t.payload});case uT.SET_DRAFT_ORDERS_PAGE_SIZE:return eN(eN({},e),{draftOrdersPageSize:t.payload});default:return e}},mN=Object(i.createContext)(eN({dispatch:function(){}},uN)),pN={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),DRAFTS:i.createElement((function(){var e=Object(i.useContext)(mN),t=e.deleteDraftOrderModalState,n=e.dispatch,a=e.draftOrdersPage,r=e.draftOrdersPageSize,o=Object(i.useContext)(zS),s=o.dispatch,c=o.draftOrdersCount;return i.createElement(i.Fragment,null,i.createElement(ZT,null),i.createElement(jT,{isOpen:t.isOpen,draftId:t.draftId,onClose:function(){n({type:uT.SET_DELETE_DRAFT_MODAL_STATE,payload:{isOpen:!1,draftId:t.draftId}})},onSave:function(){return XT(void 0,void 0,void 0,(function(){return JT(this,(function(e){switch(e.label){case 0:return n({type:uT.SET_DELETE_DRAFT_MODAL_STATE,payload:{isOpen:!1}}),c&&s({type:vS.SET_DRAFT_ORDERS_COUNT,payload:c-1}),[4,aN(n,a,r)];case 1:return e.sent(),[2]}}))}))}}))}),null)},fN=function(){return(fN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},EN=function(){var e=Object(i.useReducer)(dN,uN),t=e[0],n=e[1],a=Object(qd.a)(),r=t.viewType;return function(e,t,n,a){var r=!a.current;Object(i.useEffect)((function(){aN(e,t,n)}),[]),Object(i.useEffect)((function(){!r&&aN(e,t,n)}),[t,n])}(n,t.draftOrdersPage,t.draftOrdersPageSize,a),i.createElement(mN.Provider,{value:fN(fN({},t),{dispatch:n})},pN[r]||i.createElement(i.Fragment,null))},yN=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},hN=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},vN=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bN=function(e){return[{view:hS.NEW_ORDER,text:u.a.t("productOrders.sideNav.add"),icon:Vr.b.newOrder},{view:hS.DRAFTS,text:u.a.t("productOrders.sideNav.drafts")+(e?" ("+e+")":""),icon:Vr.b.orderDrafts},{view:hS.HISTORY,text:u.a.t("productOrders.sideNav.history"),icon:Vr.b.orderHistory}]},gN=w()(UT||(UT=yN(["\n  query GetProductOrders($filter: ProductOrdersFilter) {\n    productOrders(filter: $filter) {\n      all\n    }\n  }\n"],["\n  query GetProductOrders($filter: ProductOrdersFilter) {\n    productOrders(filter: $filter) {\n      all\n    }\n  }\n"]))),SN=function(){var e,t,n,a,r,o=Object(i.useContext)(zS),s=o.physical_products_products_path,c=o.new_physical_order_path,l=o.new_physical_use_path,d=o.new_physical_delivery_path,m=o.product_orders_path,p=o.physical_products_stocktakings_path;return i.createElement("div",{className:"column_row secondary_menu"},i.createElement("div",{className:"pull_left"},i.createElement("ul",{className:"simple-list"},(e=s,t=c,n=l,a=d,r=m,[{path:e,text:u.a.t("productOrders.topNav.products"),icon:"products"},{path:t,text:u.a.t("productOrders.topNav.sales"),icon:"sale"},{path:n,text:u.a.t("productOrders.topNav.use"),icon:"consumption"},{path:a,text:u.a.t("productOrders.topNav.deliveries"),icon:"delivery"},{path:r,text:u.a.t("productOrders.topNav.orders"),icon:Vr.b.newOrder}]).map((function(e){return i.createElement("li",{key:e.path,className:nt({active:e.path===m})},i.createElement("a",{href:e.path},e.icon===Vr.b.newOrder?i.createElement(Vr.a,{className:"product-order-top-nav-svg",name:Vr.b.newOrder}):i.createElement("i",{className:"icon sprite-stock_"+e.icon})," "+e.text))})))),i.createElement("div",{className:"pull_right"},i.createElement("ul",{className:"simple-list"},i.createElement("li",null,i.createElement("a",{href:p},i.createElement("i",{className:"icon sprite-stock_stocktaking"}),u.a.t("productOrders.topNav.stocktakings"))))),i.createElement("br",{className:"c"}))},_N=function(e){var t=e.node;return Ie.createPortal(t,document.body.getElementsByClassName("main-container")[0].getElementsByClassName("sidebar")[0])||i.createElement(i.Fragment,null)},TN=function(e){var t=e.viewType,n=Object(i.useContext)(zS),a=n.dispatch,r=n.draftOrdersCount;return function(e){hN(void 0,void 0,void 0,(function(){return vN(this,(function(t){return Object(i.useEffect)((function(){hN(void 0,void 0,void 0,(function(){var t;return vN(this,(function(n){switch(n.label){case 0:return[4,hN(void 0,void 0,void 0,(function(){return vN(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:gN,variables:{filter:{states:[b.M.DRAFT]}},fetchPolicy:"network-only"},result:function(e){return e.productOrders.all||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(t=n.sent())&&e({type:vS.SET_DRAFT_ORDERS_COUNT,payload:t}),[2]}}))}))}),[]),[2]}))}))}(a),i.createElement(_N,{node:i.createElement("div",{className:"sidenav",id:"sidenav"},i.createElement("div",{className:"column_row"},i.createElement("h4",null,u.a.t("productOrders.sideNav.title")),i.createElement("div",{className:"tree"},i.createElement("ul",null,bN(r).map((function(e){return i.createElement("li",{key:e.view},i.createElement(zd.b,{to:"/"+e.view.toLowerCase(),className:nt({active:t===e.view})},i.createElement(Vr.a,{className:"product-order-nav-svg",size:20,name:e.icon}),e.text))}))))))})},NN=n(154),ON=function(e){var t=e.path,n=e.text,a=e.icon;return i.createElement("li",null,i.createElement("div",{className:"icon "+a}),i.createElement("a",{href:t},n))},CN=function(e){var t=e.path,n=e.text;return i.createElement(i.Fragment,null,i.createElement("span",null," / "),i.createElement("a",{href:t},n))},wN=function(e){var t=e.text;return i.createElement(i.Fragment,null,i.createElement("span",null," / "),t)},AN=function(e){var t=e.viewType,n=Object(i.useContext)(zS),a=n.physical_products_products_path,r=n.product_orders_path;return i.createElement("div",{className:"e2e-breadcrumbs breadcrumbs","e2e-breadcrumbs":""},i.createElement("ul",null,i.createElement(ON,{path:a,icon:"sprite-breadcrumbs_stock",text:u.a.t("productOrders.breadcrumbs.stock")}),function(){switch(t){case hS.NEW_ORDER:return i.createElement("li",null,i.createElement(wN,{text:u.a.t("productOrders.breadcrumbs.addOrder")}));case hS.DRAFTS:case hS.HISTORY:return i.createElement("li",null,i.createElement(CN,{path:r,text:u.a.t("productOrders.breadcrumbs.orders")}),i.createElement(wN,{text:u.a.t("productOrders.breadcrumbs.history")}));case hS.ORDER:return i.createElement("li",null,i.createElement(CN,{path:r,text:u.a.t("productOrders.breadcrumbs.orders")}),i.createElement(wN,{text:u.a.t("productOrders.breadcrumbs.details")}));default:return i.createElement(i.Fragment,null)}}()))},RN=function(e){return{id:e.id,fullName:e.name,name:e.text,images:[],currentAveragePurchasePrice:parseFloat(e.price||"0"),lastYearAveragePurchasePrice:parseFloat(e.price||"0"),createdAt:"",onlinePurchaseAvailable:!1,onlineSaleEnabled:!1,stockQuantity:parseFloat(e.available_packs||"0"),type:"product"===e.state?b.O.STOCK:b.O.SUPPLY,unit:e.unit_for_supplies.toUpperCase(),changeableUnitForSupplies:!0,updatedAt:"",vat:parseFloat(e.vat||"0"),amountInInventory:parseFloat(e.inventory||"0")}},IN=function(e){return function(t){e(RN(t))}},PN=function(e){var t=e.onChange;return i.useEffect((function(){var e,n,a,r;e={selector:"#product_select",successCallback:IN(t)},n=e.selector,a=e.successCallback,(r=$(n))[0]&&window.StockroomForm.make_product_combobox({element:r,form_type:"orders",success_callback:a})}),[]),i.createElement("input",{id:"product_select",disabled:window.VersumConfig.current_branch_readonly,type:"text",className:"no_enter ui-autocomplete-input w-100p",placeholder:u.a.t("productOrders.orderForm.product.placeholder"),autoComplete:"off"})},DN=function(){return(DN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},kN=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},MN=function(e){var t,n,a=e.formikProps,r=e.item,o=Object(i.useContext)(zS).physical_products_products_path;return(null===(t=r.product)||void 0===t?void 0:t.id)?i.createElement("b",null,i.createElement("a",{href:o+"/"+r.product.id,target:"_blank"},null===(n=r.product)||void 0===n?void 0:n.name)):i.createElement(PN,{onChange:function(e){var t=a.values.items.indexOf(r);a.setFieldValue("items",kN(kN(kN([],a.values.items.slice(0,t),!0),[DN(DN({},r),{unit:e.type===b.O.STOCK?e.unit:b.P.PACK,product:e})],!1),a.values.items.slice(t+1,a.values.items.length),!0))}})},xN=function(){return(xN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},LN=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},FN=function(e){var t,n,a,r=e.formikProps,o=e.item;return i.createElement("select",{disabled:window.VersumConfig.current_branch_readonly,value:o.unit||(null===(t=o.product)||void 0===t?void 0:t.unit)||"",onChange:function(e){var t=e.target.value,n=r.values.items.indexOf(o);r.setFieldValue("items",LN(LN(LN([],r.values.items.slice(0,n),!0),[xN(xN({},o),{unit:t})],!1),r.values.items.slice(n+1,r.values.items.length),!0))}},LN([b.P.PACK],(null===(n=o.product)||void 0===n?void 0:n.unit)&&(null===(a=o.product)||void 0===a?void 0:a.unit)!==b.P.PACK&&[o.product.unit]||[],!0).map((function(e){return i.createElement("option",{key:e,value:e},u.a.t("productOrders.orderForm.product.units.short."+(null==e?void 0:e.toLocaleLowerCase())))})))},BN=function(){return(BN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},jN=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},GN=function(e){var t=e.formikProps,n=e.item;return i.createElement(i.Fragment,null,i.createElement("input",{className:"v2-form-control e2e-quantity-input",style:{width:70},value:n.quantity||0,onChange:function(e){var a,r,o;a=e.target.value,r=parseFloat(a),o=t.values.items.indexOf(n),t.setFieldValue("items",jN(jN(jN([],t.values.items.slice(0,o),!0),[BN(BN({},n),{quantity:r})],!1),t.values.items.slice(o+1,t.values.items.length),!0))},disabled:window.VersumConfig.current_branch_readonly}),i.createElement("span",{className:"ml-s"},n.unit?u.a.t("productOrders.orderForm.product.units.short."+n.unit.toLowerCase()):""))},VN=function(){return(VN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},UN=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},HN=function(e){var t=e.formikProps,n=e.item,a=t.values.items.indexOf(n);return i.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n.id?t.setFieldValue("items",UN(UN(UN(UN([],t.values.items.slice(0,a),!0),[VN(VN({},n),{destroy:!0})],!1),t.values.items.slice(a+1,t.values.items.length),!0),1===t.values.items.length?[$N]:[],!0)):t.values.items.length>1&&t.setFieldValue("items",UN(UN([],t.values.items.slice(0,a),!0),t.values.items.slice(a+1,t.values.items.length),!0))}},i.createElement("i",{className:"icon sprite-delete"}))},zN=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},YN=function(){return(YN=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},qN=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},WN=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},KN=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},$N={unit:b.P.PACK,quantity:1},ZN={items:[$N]},XN={isAddSupplierModalVisible:!1,isRemarksEditorVisible:!1,isRemarksEditorLocked:!1,isSupplierSelectVisible:!0,isDeleteDraftModalVisible:!1,isLoading:!0,isSubmitAttempted:!1,isSendDraftModalVisible:!1},JN=function(e){return e?{supplier:e.supplier||void 0,remarks:e.remarks||void 0,items:e.items.length?e.items.map((function(e){return YN(YN({},e),{quantity:parseInt(e.quantity)||1})})):[$N]}:ZN},QN=function(e,t){var n;switch(t.type){case e_.NEW_PRODUCT_ORDER:return YN(YN({},e),{existingDraft:void 0,isSupplierSelectVisible:!0,isLoading:!1});case e_.FETCHED_PRODUCT_ORDER_DRAFT:return YN(YN({},e),{existingDraft:YN(YN({},t.payload),{items:t.payload.items.sort((function(e,t){return(e.id||1/0)>t.id?1:-1}))}),isRemarksEditorVisible:!!t.payload.remarks||e.isRemarksEditorVisible,isSupplierSelectVisible:!(null===(n=t.payload.supplier)||void 0===n?void 0:n.id),isRemarksEditorLocked:!1,isLoading:!1});case e_.SET_ADD_SUPPLIER_MODAL_VISIBLE:return YN(YN({},e),{isAddSupplierModalVisible:t.payload});case e_.SET_REMARKS_EDITOR_VISIBLE:return YN(YN({},e),{isRemarksEditorVisible:t.payload});case e_.SET_REMARKS_EDITOR_LOCKED:return YN(YN({},e),{isRemarksEditorLocked:t.payload});case e_.SET_SUPPLIER_SELECT_VISIBLE:return YN(YN({},e),{isSupplierSelectVisible:t.payload});case e_.SET_DELETE_DRAFT_MODAL_VISIBLE:return YN(YN({},e),{isDeleteDraftModalVisible:t.payload});case e_.SET_SUBMIT_ATTEMPTED:return YN(YN({},e),{isSubmitAttempted:t.payload});case e_.SET_SEND_DRAFT_MODAL_VISIBLE:return YN(YN({},e),{isSendDraftModalVisible:t.payload});case e_.SET_LOADING:return YN(YN({},e),{isLoading:t.payload});default:return e}},eO=Object(i.createContext)(YN(YN({dispatch:function(){}},XN),{isExistingDraft:function(){return!1}})),tO=w()(HT||(HT=zN(["\n  query GetProductOrder($id: Int!) {\n    productOrder(id: $id)  {\n      ","\n    }\n  }\n"],["\n  query GetProductOrder($id: Int!) {\n    productOrder(id: $id)  {\n      ","\n    }\n  }\n"])),KS),nO=w()(zT||(zT=zN(["\n  mutation CreateProductOrder($order: ProductOrderCreateInput!){\n    createProductOrder(order: $order) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"],["\n  mutation CreateProductOrder($order: ProductOrderCreateInput!){\n    createProductOrder(order: $order) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"])),KS),aO=w()(YT||(YT=zN(["\n  mutation UpdateProductOrder($id: Int!, $order: ProductOrderUpdateInput!){\n    updateProductOrder(id: $id, order: $order) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"],["\n  mutation UpdateProductOrder($id: Int!, $order: ProductOrderUpdateInput!){\n    updateProductOrder(id: $id, order: $order) {\n      order {\n        ","\n      }\n      errors {\n        argument\n        code\n        detail\n      }\n    }\n  }\n"])),KS),rO=Object(xn.a)((function(e,t,n,a,r){return qN(void 0,void 0,void 0,(function(){return WN(this,(function(o){switch(o.label){case 0:return r?oO(e,r)?[4,cO(e,t,r)]:[3,2]:[3,3];case 1:return[2,o.sent()];case 2:return[3,5];case 3:return Object(gl.a)(e,ZN)?[3,5]:[4,sO(e,t,n,a)];case 4:return[2,o.sent()];case 5:return[2]}}))}))}),500),oO=function(e,t){var n,a;return(null===(n=t.supplier)||void 0===n?void 0:n.id)!==(null===(a=e.supplier)||void 0===a?void 0:a.id)||t.remarks!==e.remarks||!Object(gl.a)(iO(JN(t).items),iO(e.items))},iO=function(e){return e.filter((function(e){var t;return void 0!==(null===(t=e.product)||void 0===t?void 0:t.id)})).map((function(e){return{product:e.product.id,quantity:e.quantity.toString(),unit:e.unit,id:e.id,destroy:e.destroy}}))},sO=function(e,t,n,a){return qN(void 0,void 0,void 0,(function(){var r,o;return WN(this,(function(i){switch(i.label){case 0:return[4,A.a.mutate({options:{mutation:nO,variables:{order:{supplier:(null===(o=e.supplier)||void 0===o?void 0:o.id)||null,remarks:e.remarks,items:e.items.filter((function(e){var t;return void 0!==(null===(t=e.product)||void 0===t?void 0:t.id)})).map((function(e){return{product:e.product.id,quantity:e.quantity,unit:e.unit}}))}}},result:function(e){var t;return(null===(t=null==e?void 0:e.createProductOrder)||void 0===t?void 0:t.order)||null},mutationErrors:function(e){var t;return(null===(t=null==e?void 0:e.createProductOrder)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return(r=i.sent())&&(t({type:e_.FETCHED_PRODUCT_ORDER_DRAFT,payload:r}),n({type:vS.SET_DRAFT_ORDERS_COUNT,payload:a?a+1:1})),[2]}}))}))},cO=function(e,t,n){return qN(void 0,void 0,void 0,(function(){var a,r;return WN(this,(function(o){switch(o.label){case 0:return t({type:e_.SET_REMARKS_EDITOR_LOCKED,payload:!0}),[4,A.a.mutate({options:{mutation:aO,variables:{id:n.id,order:{supplier:(null===(r=e.supplier)||void 0===r?void 0:r.id)||null,remarks:e.remarks,items:iO(e.items)}}},result:function(e){var t;return(null===(t=null==e?void 0:e.updateProductOrder)||void 0===t?void 0:t.order)||null},mutationErrors:function(e){var t;return(null===(t=null==e?void 0:e.updateProductOrder)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return(a=o.sent())&&t({type:e_.FETCHED_PRODUCT_ORDER_DRAFT,payload:a}),[2]}}))}))},lO=function(e){return KN([{label:u.a.t("productOrders.orderForm.product.tableHeader.no"),path:"no",content:function(){return i.createElement("span",{className:"item-no"})}},{label:u.a.t("productOrders.orderForm.product.tableHeader.name"),path:"product.name",content:function(t){return i.createElement(MN,YN({},{formikProps:e,item:t}))}},{label:u.a.t("productOrders.orderForm.product.tableHeader.unit"),path:"unit",content:function(t){return i.createElement(FN,YN({},{formikProps:e,item:t}))}},{label:u.a.t("productOrders.orderForm.product.tableHeader.quantity"),path:"quantity",content:function(t){return i.createElement(GN,YN({},{formikProps:e,item:t}))},bodyCellClassName:"w-32"}],window.VersumConfig.current_branch_readonly?[]:[{label:u.a.t("productOrders.orderForm.product.tableHeader.delete"),path:"action",content:function(t){return i.createElement(HN,YN({},{formikProps:e,item:t}))}}],!0)},uO=function(e,t){return function(t){var n=window.reactLegacyBridge.stockroom.suppliersList.find((function(e){return e[e.length-1]===t.id})),a=n||["","","","","",0],r=a[0],o=a[1],i=a[2],s=a[3],c=a[4],l=a[5];n&&e({name:r,id:l,description:o,email:i,phone:{number:s},contactPerson:c})}},dO=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},mO=function(e){var t=e.onChange,n=(e.onClear,e.value);return Object(i.useEffect)((function(){var e,n,a;e={selector:"#supplier_select",successCallback:uO(t)},n=e.selector,a=e.successCallback,n&&window.reactLegacyBridge.stockroom.makeSupplierSelect({selector:n,successCallback:a})}),[]),Object(i.useEffect)((function(){n&&$("#supplier_select").val(n).trigger("change")}),[n]),i.createElement("select",{id:"supplier_select",defaultValue:"",disabled:window.VersumConfig.current_branch_readonly},i.createElement("option",{value:""}),dO([],window.reactLegacyBridge.stockroom.suppliersList,!0).map((function(e){var t=e.length-1;return i.createElement("option",{key:e[t],value:e[t]},e[0])})))},pO=function(e){var t=e.isOpened,n=void 0!==t&&t,a=e.onChange,r=e.onClose;return i.useEffect((function(){var e,t,o,i;n&&(t=(e={supplierSelectSelector:"#supplier_select",successCallback:function(e){a(function(e){var t=e.id,n=(e.branch_id,e.contact_person),a=(e.created_at,e.description),r=e.email,o=e.name,i=e.phone_number;return e.updated_at,{id:t,description:a,email:r,name:o,contactPerson:n,phone:{number:i}}}(e))},closeCallback:r}).supplierSelectSelector,o=e.successCallback,i=e.closeCallback,window.reactLegacyBridge.stockroom.openNewSupplierModal({supplierSelectSelector:t,successCallback:o,closeCallback:i}))}),[n]),i.createElement(i.Fragment,null)},fO=function(){return(fO=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},EO=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},yO=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},hO=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},vO=function(e){var t,n=Object(Zd.g)(),a=Object(i.useContext)(eO),r=a.dispatch,o=a.isAddSupplierModalVisible,s=a.existingDraft,c=a.isRemarksEditorVisible,l=a.isRemarksEditorLocked,m=a.isSupplierSelectVisible,p=a.isExistingDraft,f=a.isDeleteDraftModalVisible,E=a.isSubmitAttempted,y=a.isSendDraftModalVisible,h=Object(i.useContext)(zS),v=h.dispatch,g=h.draftOrdersCount,S=h.product_orders_path;return function(e,t,n,a,r){var o,s,c,l=!!(null===(o=null==r?void 0:r.supplier)||void 0===o?void 0:o.id)&&!(null===(s=e.supplier)||void 0===s?void 0:s.id);Object(i.useEffect)((function(){qN(void 0,void 0,void 0,(function(){var o;return WN(this,(function(i){switch(i.label){case 0:return null===(o=e.items[0].product)||void 0===o||!o.id||l?[3,2]:[4,rO(e,t,n,a,r)];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}),[null===(c=e.supplier)||void 0===c?void 0:c.id,e.remarks,e.items])}(e.values,r,v,g,s),i.createElement(rn.b,{className:"new-product-order e2e-new-product-order"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12 text-right"},i.createElement(T_,{options:[{label:u.a.t("productOrders.orderForm.actions.print"),action:function(){return EO(void 0,void 0,void 0,(function(){var e;return yO(this,(function(t){switch(t.label){case 0:return(null==s?void 0:s.id)?[4,XS(s.id)]:[3,2];case 1:(e=t.sent())&&r({type:e_.FETCHED_PRODUCT_ORDER_DRAFT,payload:e}),t.label=2;case 2:return[2]}}))}))},disabled:!p()},{label:u.a.t("productOrders.orderForm.actions.delete"),action:function(){return EO(void 0,void 0,void 0,(function(){return yO(this,(function(e){return s&&r({type:e_.SET_DELETE_DRAFT_MODAL_VISIBLE,payload:!0}),[2]}))}))},disabled:!p()||window.VersumConfig.current_branch_readonly}]}),i.createElement(jT,{isOpen:f,draftId:null==s?void 0:s.id,onSave:function(){r({type:e_.SET_DELETE_DRAFT_MODAL_VISIBLE,payload:!1}),window.location.href=S},onClose:function(){r({type:e_.SET_DELETE_DRAFT_MODAL_VISIBLE,payload:!1})}}))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12"},i.createElement("h2",null,u.a.t("productOrders.orderForm.supplier.title")),i.createElement("div",{className:nt({"d-none":!m})},i.createElement(mO,{value:null===(t=e.values.supplier)||void 0===t?void 0:t.id,onChange:function(t){t&&(e.setFieldValue("supplier",t),r({type:e_.SET_SUPPLIER_SELECT_VISIBLE,payload:!1}))},onClear:function(){return e.setFieldValue("supplier",null)}}),i.createElement(d.b,{className:"ml-s",variant:"link",text:u.a.t("productOrders.orderForm.supplier.add"),type:"button",onClick:function(){r({type:e_.SET_ADD_SUPPLIER_MODAL_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly})),i.createElement("div",{className:nt({"d-none":m})},i.createElement(w_,{supplierEmail:null==s?void 0:s.supplierEmail,supplier:e.values.supplier,onSupplierChange:function(){r({type:e_.SET_SUPPLIER_SELECT_VISIBLE,payload:!0})}})),i.createElement(pO,{isOpened:o,onChange:function(t){e.setFieldValue("supplier",t),r({type:e_.SET_SUPPLIER_SELECT_VISIBLE,payload:!1})},onClose:function(){return r({type:e_.SET_ADD_SUPPLIER_MODAL_VISIBLE,payload:!1})}}),e.errors.supplier&&E&&i.createElement("div",null,i.createElement("div",{className:"v2-form-control-unit invalid"}),i.createElement("div",{className:"ml-xs v2-form-control-hint"},e.errors.supplier)))),i.createElement("div",{className:"row mt-m"},i.createElement("div",{className:"col-sm-12 data_table no_hover"},i.createElement("h2",null,u.a.t("productOrders.orderForm.product.title")),i.createElement(d.z,{className:"e2e-product-order-items-table product-order-items-table",columns:lO(e),data:e.values.items.filter((function(e){return!e.destroy}))||[],summary:i.createElement(i.Fragment,null,i.createElement("td",null),i.createElement("td",null,i.createElement(d.b,{text:u.a.t("productOrders.orderForm.product.add"),onClick:function(){e.setFieldValue("items",hO(hO([],e.values.items,!0),[$N],!1))},type:"button",disabled:window.VersumConfig.current_branch_readonly}),i.createElement(d.b,{text:u.a.t("productOrders.orderForm.product.addNewProduct"),onClick:function(){var t,n,a;n=(t={successCallback:function(t){var n=hO([],e.values.items,!0),a=n.length-1;n[a].product?n.push({product:RN(t),unit:b.P.PACK,quantity:1}):n[a]=fO(fO({},n[a]),{product:RN(t)}),e.setFieldValue("items",n)}}).successCallback,a=t.closeCallback,window.reactLegacyBridge.stockroom.openNewProductModal({successCallback:n,closeCallback:a})},type:"button",variant:"link",className:"pull-right",disabled:window.VersumConfig.current_branch_readonly})),i.createElement("td",{colSpan:3}))}),e.errors.items&&E&&i.createElement("div",null,i.createElement("div",{className:"v2-form-control-unit invalid"}),i.createElement("div",{className:"ml-xs v2-form-control-hint"},e.errors.items)))),i.createElement("div",{className:"row mt-l"},i.createElement("div",{className:"col-sm-6"},c?i.createElement(i.Fragment,null,i.createElement("h3",null,u.a.t("productOrders.orderForm.remarks.title")),i.createElement("textarea",{className:"remarks e2e-remarks",value:e.values.remarks||"",cols:30,rows:10,style:{resize:"none"},onChange:l?function(){}:function(t){var n=t.target.value;e.setFieldValue("remarks",n)},disabled:window.VersumConfig.current_branch_readonly}),i.createElement(d.A,{className:"ml-s font-normal text-left text-notransform",trigger:i.createElement("i",{className:"icon sprite-info_tip2"}),content:u.a.t("productOrders.orderForm.remarks.tooltip"),type:d.D.Dark})):i.createElement(d.b,{text:u.a.t("productOrders.orderForm.remarks.add"),variant:"link",type:"button",onClick:function(){return r({type:e_.SET_REMARKS_EDITOR_VISIBLE,payload:!0})},disabled:window.VersumConfig.current_branch_readonly}))),i.createElement("div",{className:"row mt-l"},i.createElement("div",{className:"col-sm-6"},i.createElement(d.b,{text:u.a.t("productOrders.action.send"),variant:"blue",disabled:!p()||e.isSubmitting||window.VersumConfig.current_branch_readonly,onClick:function(){return r({type:e_.SET_SUBMIT_ATTEMPTED,payload:!0})}}),s&&i.createElement("span",{className:"pl-m"},u.a.t("productOrders.orderForm.draftSaved"),": ",window.dateUtils.formatLastSavedDate(new Date(s.updatedAt)))),s&&i.createElement("div",{className:"col-sm-6"},i.createElement(d.b,{className:"pull-right",text:u.a.t("productOrders.action.cancel"),variant:"link",type:"button",onClick:function(){return n.push("/"+hS.DRAFTS.toLowerCase())},disabled:window.VersumConfig.current_branch_readonly}))),s&&i.createElement(__,{modalState:{isOpen:y,productOrder:s},onSave:function(t){e.setSubmitting(!1),r({type:e_.SET_SEND_DRAFT_MODAL_VISIBLE,payload:!1}),r({type:e_.SET_SUBMIT_ATTEMPTED,payload:!1}),t&&n.push("/"+hS.ORDER.toLowerCase()+"/"+t.id)},onClose:function(){e.setSubmitting(!1),r({type:e_.SET_SEND_DRAFT_MODAL_VISIBLE,payload:!1}),r({type:e_.SET_SUBMIT_ATTEMPTED,payload:!1})}}))},bO=function(){return(bO=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gO=function(){var e=Object(i.useReducer)(QN,XN),t=e[0],n=e[1];return function(e){var t=Object(Zd.i)().id,n=Object(Zd.g)();Object(i.useEffect)((function(){qN(void 0,void 0,void 0,(function(){var a,r;return WN(this,(function(o){switch(o.label){case 0:return e({type:e_.SET_LOADING,payload:!0}),t?(a=parseInt(t),isNaN(a)?[3,2]:[4,A.a.query({options:{query:tO,variables:{id:a}},result:function(e){return e.productOrder||null},errorHandler:{onGraphQLErrors:function(){e({type:e_.NEW_PRODUCT_ORDER}),n.replace("/"+t_.NEW_ORDER.toLowerCase())}}})]):[3,3];case 1:if(r=o.sent())return r.state!==b.M.DRAFT?(n.replace("/"+jS.ORDER.toLowerCase()+"/"+r.id),[2]):(e({type:e_.FETCHED_PRODUCT_ORDER_DRAFT,payload:r}),[2]);o.label=2;case 2:n.replace("/"+hS.NEW_ORDER.toLowerCase()),o.label=3;case 3:return e({type:e_.NEW_PRODUCT_ORDER}),[2]}}))}))}),[t])}(n),i.createElement(i.Fragment,null,t&&t.isLoading&&i.createElement(c.a,null),t&&!t.isLoading&&i.createElement(eO.Provider,{value:bO(bO({},t),{dispatch:n,isExistingDraft:function(){return!!t.existingDraft}})},i.createElement(rn.c,{onSubmit:function(){n({type:e_.SET_SEND_DRAFT_MODAL_VISIBLE,payload:!0})},initialValues:JN(t.existingDraft),component:vO,validate:function(e){return function(e){var t,n,a,r,o;return YN(YN(YN(YN(YN(YN({},oa("supplier",null===(n=null===(t=e.supplier)||void 0===t?void 0:t.phone)||void 0===n?void 0:n.number,u.a.t("productOrders.orderForm.validation.supplier.phone"))),oa("supplier",null===(a=e.supplier)||void 0===a?void 0:a.name,u.a.t("productOrders.orderForm.validation.supplier.name"))),oa("supplier",null===(r=e.supplier)||void 0===r?void 0:r.email,u.a.t("productOrders.orderForm.validation.supplier.email"))),oa("supplier",null===(o=e.supplier)||void 0===o?void 0:o.id,u.a.t("productOrders.orderForm.validation.supplier.id"))),0===e.items.filter((function(e){var t;return!e.destroy&&(null===(t=e.product)||void 0===t?void 0:t.id)})).length&&{items:u.a.t("productOrders.orderForm.validation.products.count")}),e.items.filter((function(e){var t;return!e.destroy&&(null===(t=e.product)||void 0===t?void 0:t.id)})).some((function(e){return e.quantity<=0}))&&{items:u.a.t("productOrders.orderForm.validation.products.quantity")})}(e)},enableReinitialize:!0})))},SO=function(e){return window.location.href.includes(e)?e:e.replace("/"+function(e){return e.split("/")[1]}(e),"")},_O=function(){var e=Object(i.useContext)(zS).product_orders_path;return i.createElement(zd.a,{basename:SO(e)},i.createElement(Zd.d,null,i.createElement(Zd.b,{exact:!0,path:"/order/:id"},i.createElement(AN,{viewType:hS.ORDER}),i.createElement(TN,{viewType:hS.ORDER}),i.createElement("div",{className:"inner"},i.createElement(SN,null),i.createElement(aT,null))),i.createElement(Zd.b,{exact:!0,path:"/drafts"},i.createElement(AN,{viewType:hS.DRAFTS}),i.createElement(TN,{viewType:hS.DRAFTS}),i.createElement("div",{className:"inner"},i.createElement(SN,null),i.createElement(EN,null))),i.createElement(Zd.b,{exact:!0,path:"/history"},i.createElement(AN,{viewType:hS.HISTORY}),i.createElement(TN,{viewType:hS.HISTORY}),i.createElement("div",{className:"inner"},i.createElement(SN,null),i.createElement(LT,null))),i.createElement(Zd.b,{exact:!0,path:["/","/new_order","/new_order/:id"]},i.createElement(AN,{viewType:hS.NEW_ORDER}),i.createElement(TN,{viewType:hS.NEW_ORDER}),i.createElement("div",{className:"inner"},i.createElement(SN,null),i.createElement(gO,null))),i.createElement(Zd.b,{path:"*",component:NN.a})))},TO=function(){return(TO=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.SOCIAL_POSTS_LIST="SOCIAL_POSTS_LIST",e.EMPTY_SOCIAL_POSTS_LIST="EMPTY_SOCIAL_POSTS_LIST"}(qT||(qT={})),function(e){e.SET_VIEW="SET_VIEW",e.SET_SOCIAL_POST_TEMPLATES="SET_SOCIAL_POST_TEMPLATES"}(WT||(WT={}));var NO,OO,CO,wO,AO=function(e,t){return e.filter((function(e){return e.category.id===t}))},RO=function(e){var t=e.imageUrl,n=e.title,a=(e.description,e.templateId);return i.createElement(l.g,null,i.createElement(l.i,{src:t,ratio:"3by2"}),i.createElement(l.h,{className:"vrsm-text-center"},i.createElement("div",{className:"vrsm-text-break vrsm-mb-4"},n),i.createElement(l.b,{theme:l.f.FACEBOOK,icon:l.n,onClick:function(){return M(a)}},l.f.FACEBOOK)))},IO=function(e){var t=e.title,n=e.socialPostTemplates;return i.createElement(i.Fragment,null,i.createElement(l.A,{htmlTag:"h2",isPageTitle:!0},t),i.createElement(l.w,{cols:{xs:1,sm:2,md:3},className:"vrsm-row-cols-1"},n.map((function(e){return i.createElement(l.l,{key:e.id},i.createElement(RO,{imageUrl:e.imageUrl,title:e.title,description:e.description,templateId:e.id}))}))))},PO=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},DO=function(){return(DO=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},kO=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},MO=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xO=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},LO=w()(NO||(NO=PO(["\n  query GetSocialPostTemplates($cursor: String) {\n    socialPostTemplates(cursor: $cursor) {\n      items {\n        category {\n          id\n          name\n          position\n        }\n        description\n        id\n        imageUrl\n        position\n        title\n      }\n    }\n  }\n"],["\n  query GetSocialPostTemplates($cursor: String) {\n    socialPostTemplates(cursor: $cursor) {\n      items {\n        category {\n          id\n          name\n          position\n        }\n        description\n        id\n        imageUrl\n        position\n        title\n      }\n    }\n  }\n"]))),FO={view:qT.SPINNER,socialPostTemplates:[]},BO=function(e,t){switch(t.type){case WT.SET_VIEW:return DO(DO({},e),{view:t.payload});case WT.SET_SOCIAL_POST_TEMPLATES:return DO(DO({},e),{socialPostTemplates:t.payload});default:return e}},jO=Object(i.createContext)(DO({dispatch:function(){}},FO)),GO=function(e){return kO(void 0,void 0,void 0,(function(){return MO(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:LO,variables:{cursor:e,count:500},fetchPolicy:"network-only"},result:function(e){return e.socialPostTemplates}})];case 1:return[2,t.sent()]}}))}))},VO=function(){return kO(void 0,void 0,void 0,(function(){var e,t,n,a,r;return MO(this,(function(o){switch(o.label){case 0:return[4,GO()];case 1:if(null===(e=o.sent()))return[2,e];if(t=e&&e.items||[],!e)return[3,4];n=e.hasNext,a=e.cursor,o.label=2;case 2:return n?[4,GO(a)]:[3,4];case 3:return r=o.sent(),e&&r&&(a=r.cursor,n=r.hasNext,t=xO(xO([],t,!0),r.items,!0)),[3,2];case 4:return[2,t]}}))}))},UO={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),SOCIAL_POSTS_LIST:i.createElement((function(){var e=Object(i.useContext)(jO).socialPostTemplates;return i.createElement(i.Fragment,null,function(e){return e.map((function(e){return{category:{id:e.category.id,name:e.category.name}}})).filter((function(e,t,n){return n.findIndex((function(t){return t.category.id===e.category.id}))===t}))}(e).map((function(t){return i.createElement(IO,{key:t.category.id,title:t.category.name,socialPostTemplates:AO(e,t.category.id)})})))}),null),EMPTY_SOCIAL_POSTS_LIST:i.createElement((function(){return i.createElement("div",{className:"e2e-no-results-notifications-table column_row row"},i.createElement("div",{className:"col-md-2"}),i.createElement("div",{className:" col-md-8"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:310,name:Vr.b.fetchingError})),i.createElement("div",{className:"text-center"},u.a.t("socialPosts.postsNotFound"))))}),null)},HO=function(){return(HO=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.FETCHED_COUNTRY_CODE="FETCHED_COUNTRY_CODE"}(OO||(OO={})),function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.LANDING="LANDING"}(CO||(CO={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.FETCHED_PROMOTION_DETAILS="FETCHED_PROMOTION_DETAILS"}(wO||(wO={}));var zO,YO,qO,WO,KO,$O,ZO,XO,JO,QO=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},eC=function(){return(eC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tC=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},nC=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},aC={},rC=Object(i.createContext)(eC(eC({dispatch:function(){}},aC),{blackWeekPath:"",orderPaymentPath:""})),oC=function(e,t){switch(t.type){case OO.FETCHED_COUNTRY_CODE:return eC(eC({},e),{countryCode:t.payload});default:return aC}},iC=w()(zO||(zO=QO(["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"],["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"]))),sC=function(e,t,n){return function(){return tC(void 0,void 0,void 0,(function(){var a,r;return nC(this,(function(o){switch(o.label){case 0:return x.a.info(u.a.t("sale.black_week.message.order_create_in_progress")),n({type:wO.SET_VIEW_TYPE,payload:CO.SPINNER}),[4,A.a.mutate({options:{mutation:w()(YO||(YO=QO(["mutation CreateBlackWeek2020Order($yearVariant: Int!) {\n          createBlackWeek2020Order(yearVariant: $yearVariant) {\n            blackWeek2020Order {\n              id\n            }\n            errors {\n              argument\n              code\n              detail\n            }\n          }\n        }"],["mutation CreateBlackWeek2020Order($yearVariant: Int!) {\n          createBlackWeek2020Order(yearVariant: $yearVariant) {\n            blackWeek2020Order {\n              id\n            }\n            errors {\n              argument\n              code\n              detail\n            }\n          }\n        }"]))),variables:{yearVariant:e}},result:function(e){return(null==e?void 0:e.createBlackWeek2020Order)||null},mutationErrors:function(e){var t;return(null===(t=null==e?void 0:e.createBlackWeek2020Order)||void 0===t?void 0:t.errors)||[]},errorMessage:{message:u.a.t("sale.black_week.error.order_create")},successMessage:{message:u.a.t("sale.black_week.message.order_create_success")}})];case 1:return a=o.sent(),(null===(r=null==a?void 0:a.blackWeek2020Order)||void 0===r?void 0:r.id)?window.location.href=t:n({type:wO.SET_VIEW_TYPE,payload:CO.ERROR}),[2]}}))}))}},cC=function(e){var t=e.countryCode,n=e.className,a=e.style,r=e.hide,o=void 0!==r&&r;return i.createElement(i.Fragment,null,!o&&t&&i.createElement("img",{className:n,style:a,src:window.getAssetHost("images/sale/"+(t===b.n.MX?"buen-fin.png":"black-week.png"))})||"")},lC=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},uC=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},dC=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mC=(w()(qO||(qO=lC(["\n  query getSubscriptionExpirationDate{\n    viewer {\n      branch {\n        subscription {\n          invoicedTo\n        }\n      }\n    }\n  }\n"],["\n  query getSubscriptionExpirationDate{\n    viewer {\n      branch {\n        subscription {\n          invoicedTo\n        }\n      }\n    }\n  }\n"]))),function(e){return uC(void 0,void 0,void 0,(function(){var t;return dC(this,(function(n){switch(n.label){case 0:return[4,uC(void 0,void 0,void 0,(function(){return dC(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:w()(WO||(WO=lC(["\n        query GetBlackWeek2020OrderStatus {\n          blackWeek2020Order {\n            paidAt\n            paymentProcessingTransactionCreated\n          }\n          viewer {\n            branch {\n              subscription {\n                invoicedTo\n              }\n            }\n          }\n        }\n      "],["\n        query GetBlackWeek2020OrderStatus {\n          blackWeek2020Order {\n            paidAt\n            paymentProcessingTransactionCreated\n          }\n          viewer {\n            branch {\n              subscription {\n                invoicedTo\n              }\n            }\n          }\n        }\n      "]))),fetchPolicy:"no-cache"},result:function(e){var t,n,a;return(null==e?void 0:e.blackWeek2020Order)&&{paidAt:e.blackWeek2020Order.paidAt,paymentProcessingTransactionCreated:e.blackWeek2020Order.paymentProcessingTransactionCreated,expirationDate:null===(a=null===(n=null===(t=e.viewer)||void 0===t?void 0:t.branch)||void 0===n?void 0:n.subscription)||void 0===a?void 0:a.invoicedTo}||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(null==(t=n.sent())?void 0:t.paymentProcessingTransactionCreated)?((null==t?void 0:t.paidAt)?e(t):setTimeout((function(){mC(e)}),5e3),[2]):(e({paymentProcessingTransactionCreated:!1}),[2])}}))}))}),pC=function(){var e=Object(i.useContext)(O.a).dateUtils,t=Object(i.useContext)(rC),n=t.countryCode,a=t.orderPaymentPath,r=function(){var e=Object(i.useState)({paymentProcessingTransactionCreated:!0}),t=e[0],n=e[1];return Object(i.useEffect)((function(){mC(n)}),[]),t}(),o=r.paidAt,s=r.expirationDate;return i.createElement(i.Fragment,null,i.createElement("div",{className:"text-center pt-xxl"},i.createElement(cC,{countryCode:n,className:"mb-m"}),i.createElement(l.A,{htmlTag:"h2"},u.a.t("sale.black_week.summary.title")),o&&i.createElement(i.Fragment,null,i.createElement("div",null,u.a.t("sale.black_week.summary.thanks")),i.createElement("div",{className:"mb-m"},u.a.t("sale.black_week.summary.subscription_extended")," ",i.createElement(l.A,{htmlTag:"strong"},s&&e.formatDate(new Date(s)))),i.createElement("div",null,u.a.t("sale.black_week.summary.invoice")))||i.createElement(i.Fragment,null,i.createElement("div",null,u.a.t("sale.black_week.order.waitingForPayment")),i.createElement(d.b,{text:u.a.t("sale.black_week.order.payAgain"),variant:"link",onClick:function(){return window.location.href=a}}))))},fC=n(38),EC=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},yC=function(){return(yC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},hC=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},vC=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bC=w()(KO||(KO=EC(["\n  query GetPromotionDetails {\n    blackWeek2020PromotionDetails{\n      currency\n      gratisMonths\n      promotionTotalGrossPrice\n      promotionTotalNetPrice\n      savedGrossPrice\n      subscriptionMonths\n      yearVariant\n    }\n  }\n"],["\n  query GetPromotionDetails {\n    blackWeek2020PromotionDetails{\n      currency\n      gratisMonths\n      promotionTotalGrossPrice\n      promotionTotalNetPrice\n      savedGrossPrice\n      subscriptionMonths\n      yearVariant\n    }\n  }\n"]))),gC={viewType:CO.SPINNER},SC=function(e,t){switch(t.type){case wO.SET_VIEW_TYPE:return yC(yC({},e),{viewType:t.payload});case wO.FETCHED_PROMOTION_DETAILS:return yC(yC({},e),{viewType:CO.LANDING,promotionDetails:t.payload});default:return e}},_C=Object(i.createContext)(yC({dispatch:function(){}},gC)),TC={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),LANDING:i.createElement((function(){var e=Object(i.useContext)(O.a).dateUtils,t=Object(i.useContext)(rC),n=t.countryCode,a=t.orderPaymentPath,r=Object(i.useContext)(_C),o=r.promotionDetails,s=r.dispatch,c=Object(i.useContext)(En.a).netGrossTranslationUtils;return i.createElement(i.Fragment,null," ",o&&i.createElement("div",{className:"inner special-offers-container"},i.createElement("div",{className:"order"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-10"},i.createElement("h1",null,u.a.t("sale.black_week.landing.title")),i.createElement("p",{className:"bigger"},u.a.t("sale.black_week.landing.description",{offer_name:n===fC.a.MX?"Buen Fin":"Black Week",expiresAt:e.formatDate(new Date(n===fC.a.MX?"2020-11-20":"2020-11-27"),Gy.a.WITH_LONG_MONTH_NAME)})),i.createElement("p",{className:"bigger mb-xxl"},u.a.t("sale.black_week.landing.explanation"))),i.createElement("div",{className:"col-md-2 hidden-xs hidden-sm"},i.createElement(cC,{countryCode:n,className:"pull-right"})))),i.createElement("div",{className:"table-order-wrap"},i.createElement("table",{className:"table-order"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("th",{className:"py-xl"},u.a.t("sale.black_week.landing.table.variant")+":"),o.map((function(e,t){return i.createElement("td",{key:t,className:nt("py-xl",{featured:0===t})},n&&-1!==[fC.a.MX,fC.a.ES].indexOf(n)?"+"+e.gratisMonths:e.gratisMonths+"+",0===t&&i.createElement("div",{className:"h4 m-0"},i.createElement("div",{className:"featured-ribbon-wrap"},i.createElement("div",{className:"featured-ribbon"},u.a.t("sale.black_week.landing.table.popular"))))||i.createElement(i.Fragment,null))}))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.black_week.landing.table.receiveFor")+":"),o.map((function(e,t){return i.createElement("td",{key:t,className:nt("bigger",{featured:0===t})},i.createElement("strong",null,e.subscriptionMonths+" + "+u.a.t("sale.black_week.landing.table.months",{count:e.gratisMonths})))}))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.black_week.landing.table.payFor")+":"),o.map((function(e,t){return i.createElement("td",{key:t,className:nt("bigger p-relative",{featured:0===t})},""+u.a.t("sale.black_week.landing.table.years",{count:e.yearVariant}))}))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.black_week.landing.table.saveGross")+":"),o.map((function(e,t){return i.createElement("td",{key:t,className:nt("bigger p-relative",{featured:0===t})},i.createElement("div",{className:"td-savings"},Object(dn.b)(parseFloat(e.savedGrossPrice),e.currency)))}))),i.createElement("tr",null,i.createElement("th",{className:"align-top"},u.a.t("sale.black_week.landing.table.toPay")+":"),o.map((function(e,t){return i.createElement("td",{key:t,className:nt("bigger py-l",{featured:0===t})},i.createElement("div",{className:"pb-l"},i.createElement("strong",null,Object(dn.b)(parseFloat(e.promotionTotalGrossPrice),e.currency)," "+c.t(En.c.GROSS)),i.createElement("br",null),i.createElement("div",{className:"small"},Object(dn.b)(parseFloat(e.promotionTotalNetPrice),e.currency)," "+c.t(En.c.NET))),i.createElement(l.b,{onClick:sC(e.yearVariant,a,s)},u.a.t("sale.black_week.landing.table.order")))})))))))||i.createElement(i.Fragment,null)," ")}),null)},NC=function(){return(NC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},OC=function(){var e=Object(i.useContext)(rC).orderPaymentPath,t=Object(i.useReducer)(SC,gC),n=t[0],a=t[1];return function(e,t,n){Object(i.useEffect)((function(){hC(void 0,void 0,void 0,(function(){var a,r;return vC(this,(function(o){switch(o.label){case 0:return[4,hC(void 0,void 0,void 0,(function(){return vC(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:w()($O||($O=EC(["query GetBlackWeek2020Order {\n        blackWeek2020Order {\n          id\n          paymentProcessingTransactionCreated\n        }\n      }"],["query GetBlackWeek2020Order {\n        blackWeek2020Order {\n          id\n          paymentProcessingTransactionCreated\n        }\n      }"]))),fetchPolicy:"network-only"},result:function(e){return e.blackWeek2020Order||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(null==(a=o.sent())?void 0:a.id)&&!(null==a?void 0:a.paymentProcessingTransactionCreated)?(window.location.href=n,[2]):(null==a?void 0:a.id)?(t.push("/summary"),[2]):[4,hC(void 0,void 0,void 0,(function(){return vC(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:bC,fetchPolicy:"network-only"},result:function(e){return e.blackWeek2020PromotionDetails||null}})];case 1:return[2,e.sent()]}}))}))];case 2:return(r=o.sent())&&r.length>0?e({type:wO.FETCHED_PROMOTION_DETAILS,payload:r}):e({type:wO.SET_VIEW_TYPE,payload:CO.ERROR}),[2]}}))}))}),[])}(a,Object(Zd.g)(),e),i.createElement(_C.Provider,{value:NC(NC({},n),{dispatch:a})},TC[n.viewType]||i.createElement(i.Fragment,null))},CC=function(){var e=Object(i.useContext)(rC).countryCode;return i.createElement("div",{className:"breadcrumbs"},i.createElement(l.A,{htmlTag:"h2",isPageTitle:!0},i.createElement(Vr.a,{className:"mr-s",name:Vr.b.planBasic,size:30}),u.a.t("sale.black_week.summary.breadcrumb",{offer_name:e===fC.a.MX?"Buen Fin":"Black Week"})))},wC=function(){var e=Object(i.useContext)(rC).blackWeekPath;return i.createElement(zd.a,{basename:SO(e)},i.createElement(Zd.b,{exact:!0,path:["/","/summary"]},i.createElement(CC,null)),i.createElement(Zd.d,null,i.createElement(Zd.b,{exact:!0,path:"/"},i.createElement("div",{className:"inner"},i.createElement(OC,null))),i.createElement(Zd.b,{exact:!0,path:"/summary"},i.createElement("div",{className:"inner"},i.createElement(pC,null))),i.createElement(Zd.b,{path:"*",component:NN.a})))},AC=function(){return(AC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.FETCHED_COUNTRY_CODE="FETCHED_COUNTRY_CODE"}(ZO||(ZO={})),function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.LANDING="LANDING"}(XO||(XO={})),function(e){e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.FETCHED_PROMOTION_DETAILS="FETCHED_PROMOTION_DETAILS"}(JO||(JO={}));var RC,IC,PC,DC,kC,MC,xC,LC,FC=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},BC=function(){return(BC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},jC=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},GC=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},VC={},UC=Object(i.createContext)(BC(BC({dispatch:function(){}},VC),{christmasPath:"",orderPaymentPath:""})),HC=function(e,t){switch(t.type){case ZO.FETCHED_COUNTRY_CODE:return BC(BC({},e),{countryCode:t.payload});default:return VC}},zC=w()(RC||(RC=FC(["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"],["\n  query GetCountryCode {\n    viewer {\n      branch {\n        address {\n          countryCode\n        }\n      }\n    }\n  }\n"]))),YC=function(e,t,n){return function(){return jC(void 0,void 0,void 0,(function(){var a;return GC(this,(function(r){switch(r.label){case 0:return x.a.info(u.a.t("sale.christmas.message.orderInProgress")),n({type:JO.SET_VIEW_TYPE,payload:XO.SPINNER}),[4,A.a.mutate({options:{mutation:w()(IC||(IC=FC(["mutation CreateXmas2020Order($yearVariant: Int!) {\n        createXmas2020PromotionOrder(yearVariant: $yearVariant) {\n        order {\n          invoiced\n        }\n          errors {\n            argument\n            code\n            detail\n          }\n        }\n      }"],["mutation CreateXmas2020Order($yearVariant: Int!) {\n        createXmas2020PromotionOrder(yearVariant: $yearVariant) {\n        order {\n          invoiced\n        }\n          errors {\n            argument\n            code\n            detail\n          }\n        }\n      }"]))),variables:{yearVariant:e}},result:function(e){return(null==e?void 0:e.createXmas2020PromotionOrder)||null},mutationErrors:function(e){var t;return(null===(t=null==e?void 0:e.createXmas2020PromotionOrder)||void 0===t?void 0:t.errors)||[]},errorMessage:{message:u.a.t("sale.christmas.message.error.orderCreate")},successMessage:{message:u.a.t("sale.christmas.message.orderCreateSuccess")}})];case 1:return(null==(a=r.sent())?void 0:a.order)?window.location.href=t:n({type:JO.SET_VIEW_TYPE,payload:XO.ERROR}),[2]}}))}))}},qC=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},WC=function(){return(WC=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},KC=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},$C=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ZC=w()(PC||(PC=qC(["\n  query getXmasPromoDetails {\n    xmas2020PromotionDetails {\n      currency\n      totalGrossPrice\n      totalNetPrice\n      subscriptionMonths\n      yearVariant\n      gratisValue\n      gratisPercent\n    }\n  }\n"],["\n  query getXmasPromoDetails {\n    xmas2020PromotionDetails {\n      currency\n      totalGrossPrice\n      totalNetPrice\n      subscriptionMonths\n      yearVariant\n      gratisValue\n      gratisPercent\n    }\n  }\n"]))),XC=w()(DC||(DC=qC(["\n  query getXmasPromotionOrder {\n    xmas2020PromotionOrder {\n      paymentMethod\n    }\n  }\n"],["\n  query getXmasPromotionOrder {\n    xmas2020PromotionOrder {\n      paymentMethod\n    }\n  }\n"]))),JC={viewType:XO.SPINNER},QC=function(e,t){switch(t.type){case JO.SET_VIEW_TYPE:return WC(WC({},e),{viewType:t.payload});case JO.FETCHED_PROMOTION_DETAILS:return WC(WC({},e),{viewType:XO.LANDING,promotionDetails:t.payload});default:return e}},ew=Object(i.createContext)(WC({dispatch:function(){}},JC)),tw={SPINNER:i.createElement(c.a,null),ERROR:i.createElement(s.a,null),LANDING:i.createElement((function(){var e=Object(i.useContext)(UC),t=e.countryCode,n=e.orderPaymentPath,a=Object(i.useContext)(ew),r=a.promotionDetails,o=a.dispatch;return i.createElement(i.Fragment,null," ",r&&i.createElement("div",{className:"inner special-offers-container"},i.createElement("div",{className:"order"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-10"},i.createElement("h2",null,u.a.t("sale.christmas.landing.title")),i.createElement("p",{className:"bigger mb-xxl text-pre-line"},u.a.t("sale.christmas.landing.description"))),i.createElement("div",{className:"col-md-2 hidden-xs hidden-sm"},i.createElement(d.w,{name:d.x.christmasPresents})))),i.createElement("div",{className:"table-order-wrap"},i.createElement("table",{className:"table-order"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("th",{className:"py-xl"},u.a.t("sale.christmas.landing.table.variant")+":"),r.map((function(e,t){return i.createElement("td",{key:t,className:nt("py-xl",{featured:0===t})},u.a.t("sale.christmas.landing.table.years",{count:e.yearVariant})+" "+u.a.t("sale.christmas.landing.table.and")+" "+e.gratisPercent+"%",0===t&&i.createElement("div",{className:"h4 m-0"},i.createElement("div",{className:"featured-ribbon-wrap"},i.createElement("div",{className:"featured-ribbon"},u.a.t("sale.christmas.landing.table.popular"))))||i.createElement(i.Fragment,null))}))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.christmas.landing.table.buyFor")+":"),r.map((function(e,t){return i.createElement("td",{key:t,className:nt("bigger",{featured:0===t})},i.createElement("strong",null,u.a.t("sale.christmas.landing.table.months",{count:e.subscriptionMonths})))}))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.christmas.landing.table.additionallyGain")+":"),i.createElement("td",{colSpan:3,className:nt("bigger p-relative featured featured-full-width")},i.createElement("strong",null,u.a.t("sale.christmas.landing.table.bonusTitle",{number:25})),i.createElement("div",{className:"text-muted"},u.a.t("sale.christmas.landing.table.bonusDescription")))),i.createElement("tr",null,i.createElement("th",null,u.a.t("sale.christmas.landing.table.gratisExplained")+":"),r.map((function(e,n){return i.createElement("td",{key:n,className:nt("bigger p-relative",{featured:0===n})},i.createElement("div",{className:"td-savings"},Object(dn.b)(parseFloat(e.gratisValue),e.currency),t&&t===b.n.PL?" brutto":""))}))),i.createElement("tr",null,i.createElement("th",{className:"align-top"},u.a.t("sale.christmas.landing.table.toPay")+":"),r.map((function(e,a){return i.createElement("td",{key:a,className:nt("bigger py-l",{featured:0===a})},i.createElement("div",{className:"pb-l"},i.createElement("strong",null,Object(dn.b)(parseFloat(e.totalGrossPrice),e.currency),t&&t===b.n.PL?" brutto":""),i.createElement("br",null),t&&t===b.n.PL&&i.createElement("div",{className:"small"},Object(dn.b)(parseFloat(e.totalNetPrice),e.currency)," netto")),i.createElement(l.b,{onClick:YC(e.yearVariant,n,o)},u.a.t("sale.christmas.landing.table.order")))})))))))||i.createElement(i.Fragment,null)," ")}),null)},nw=function(){return(nw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},aw=function(){var e=Object(i.useContext)(UC).orderPaymentPath,t=Object(i.useReducer)(QC,JC),n=t[0],a=t[1];return function(e,t,n){Object(i.useEffect)((function(){KC(void 0,void 0,void 0,(function(){var a,r;return $C(this,(function(o){switch(o.label){case 0:return[4,KC(void 0,void 0,void 0,(function(){return $C(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:XC,fetchPolicy:"network-only"},result:function(e){return e.xmas2020PromotionOrder||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(a=o.sent())?a.paymentMethod?(t.push("/summary"),[2]):(window.location.href=n,[2]):[4,KC(void 0,void 0,void 0,(function(){return $C(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:ZC},result:function(e){return e.xmas2020PromotionDetails||null}})];case 1:return[2,e.sent()]}}))}))];case 2:return(r=o.sent())&&r.length>0?e({type:JO.FETCHED_PROMOTION_DETAILS,payload:r}):e({type:JO.SET_VIEW_TYPE,payload:XO.ERROR}),[2]}}))}))}),[])}(a,Object(Zd.g)(),e),i.createElement(ew.Provider,{value:nw(nw({},n),{dispatch:a})},tw[n.viewType]||i.createElement(i.Fragment,null))},rw=function(){return i.createElement("div",{className:"breadcrumbs"},i.createElement(l.A,{htmlTag:"h2",isPageTitle:!0},i.createElement(Vr.a,{className:"mr-s",name:Vr.b.planBasic,size:30}),u.a.t("sale.christmas.breadcrumb")))},ow=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},iw=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},sw=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},cw=function(e){return iw(void 0,void 0,void 0,(function(){var t;return sw(this,(function(n){switch(n.label){case 0:return[4,iw(void 0,void 0,void 0,(function(){return sw(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:w()(kC||(kC=ow(["\n        query GetXmas2020OPromotionrderStatus {\n          xmas2020PromotionOrder {\n            paid\n            invoiced\n          }\n          viewer {\n            branch {\n              subscription {\n                invoicedTo\n              }\n            }\n          }\n        }\n      "],["\n        query GetXmas2020OPromotionrderStatus {\n          xmas2020PromotionOrder {\n            paid\n            invoiced\n          }\n          viewer {\n            branch {\n              subscription {\n                invoicedTo\n              }\n            }\n          }\n        }\n      "]))),fetchPolicy:"no-cache"},result:function(e){var t,n;return(null==e?void 0:e.xmas2020PromotionOrder)&&{paidAt:e.xmas2020PromotionOrder.paid,invoiceAvailable:e.xmas2020PromotionOrder.invoiced,invoicedTo:null===(n=null===(t=null==e?void 0:e.viewer)||void 0===t?void 0:t.branch)||void 0===n?void 0:n.subscription.invoicedTo}||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(null==(t=n.sent())?void 0:t.paidAt)||(null==t?void 0:t.invoiceAvailable)?e(t):setTimeout((function(){cw(e)}),5e3),[2]}}))}))},lw=function(){var e=function(){var e=Object(i.useState)({}),t=e[0],n=e[1];return Object(i.useEffect)((function(){cw(n)}),[]),t}(),t=e.paidAt,n=e.invoicedTo,a=e.invoiceAvailable,r=Object(i.useContext)(O.a).dateUtils,o=Object(i.useContext)(UC).orderPaymentPath;return i.createElement(i.Fragment,null,i.createElement("div",{className:"text-center pt-xxl"},i.createElement(Ps.a,{name:Ds.a.christmasPresents}),i.createElement(l.A,{htmlTag:"h2"},u.a.t("sale.christmas.summary.title")),(t||a)&&i.createElement(i.Fragment,null,i.createElement("div",null,u.a.t("sale.christmas.summary.thanks")),i.createElement("div",{className:"mb-m"},u.a.t("sale.christmas.summary.subscription_extended")," ",i.createElement(l.A,{htmlTag:"strong"},n&&r.formatDate(new Date(n)))),i.createElement("div",null,u.a.t("sale.christmas.summary.invoice")),i.createElement("div",null,u.a.t("sale.christmas.summary.bonus")))||i.createElement(i.Fragment,null,i.createElement("div",null,u.a.t("sale.christmas.order.waitingForPayment")),i.createElement(lo.a,{text:u.a.t("sale.christmas.order.payAgain"),variant:"link",onClick:function(){return window.location.href=o}}))))},uw=function(){var e=Object(i.useContext)(UC).christmasPath;return i.createElement(zd.a,{basename:SO(e)},i.createElement(Zd.b,{exact:!0,path:["/","/summary"]},i.createElement(rw,null)),i.createElement(Zd.d,null,i.createElement(Zd.b,{exact:!0,path:"/"},i.createElement("div",{className:"inner"},i.createElement(aw,null))),i.createElement(Zd.b,{exact:!0,path:"/summary"},i.createElement("div",{className:"inner"},i.createElement(lw,null))),i.createElement(Zd.b,{path:"*",component:NN.a})))},dw=function(){return(dw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},mw=function(){var e=i.useContext(Te).booksyState,t=e.bookingMaxAdvance,n=e.bookingMaxLeadTime,a=e.bookingMaxModificationTime,r=e.bookingMinTimeInterval,o=e.bookingNotificationEmail;return i.createElement(i.Fragment,null,i.createElement(l.w,{className:"vrsm-mb-3 vrsm-mt-5"},i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingMaxLeadTime"))),i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"strong"},u.a.t("common.minutes",{count:n})," ",u.a.t("settings.customerPanel.booksyOnlineReservationPreview.beforeAppointment")))),i.createElement(l.w,{className:"vrsm-mb-3"},i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingMaxAdvance"))),i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"strong"},u.a.t("common.days",{count:t})," ",u.a.t("settings.customerPanel.booksyOnlineReservationPreview.inAdvance")))),i.createElement(l.w,{className:"vrsm-mb-3"},i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingMaxModificationTime"))),i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"strong"},u.a.t("common.hours",{count:a})," ",u.a.t("settings.customerPanel.booksyOnlineReservationPreview.beforeAppointment")))),i.createElement(l.w,{className:"vrsm-mb-3"},i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingMinTimeInterval"))),i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"strong"},u.a.t("common.minutes",{count:r})," "))),i.createElement(l.w,{className:"vrsm-mb-3"},i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingNotificationEmail"))),i.createElement(l.l,{size:6},i.createElement(l.A,{htmlTag:"strong"},o," "))))},pw=function(){var e=i.useContext(Te),t=e.dispatch,n=e.booksyState,a=e.areAdvancedSettingsVisible;return i.createElement("div",null,i.createElement(l.w,{className:"booksy-reservation"},i.createElement(l.l,{size:8},i.createElement("div",{className:"vrsm-d-flex vrsm-items-center vrsm-mb-6"},i.createElement(l.A,{htmlTag:"h2",className:"vrsm-mb-0"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.title")),i.createElement(d.a,{className:"vrsm-ml-auto",text:u.a.t("settings.customerPanel.booksyOnlineReservationPreview.activationStatus."+(n?n.state.toLowerCase():"deactivated")),pill:!0,variant:(null==n?void 0:n.state)===b.g.ACTIVE?"APPROVED":"LOCKED",icon:!0}),((null==n?void 0:n.state)===b.g.ACTIVATING||(null==n?void 0:n.state)===b.g.DEACTIVATING||(null==n?void 0:n.state)===b.g.REACTIVATING)&&i.createElement(d.A,{className:"vrsm-ml-1",trigger:i.createElement(d.C,null),content:u.a.t("settings.customerPanel.booksyOnlineReservationPreview.activationStatusProgress")})),i.createElement("div",{className:"settings-box vrsm-mb-6 "+(!((null==n?void 0:n.state)===b.g.ACTIVE)&&"disabled")},i.createElement("div",{className:"vrsm-d-flex vrsm-items-center"},i.createElement(d.w,{className:"brand-logo vrsm-mr-3",name:d.x.booksyIcon}),i.createElement(l.A,{htmlTag:"h4",className:"vrsm-my-1"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.booksyReservation"))),(null==n?void 0:n.state)===b.g.ACTIVE?i.createElement(l.w,{className:"vrsm-mt-5"},i.createElement(l.l,null,i.createElement(l.A,{htmlTag:"span",textColor:"muted"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.bookingUrl")),i.createElement(l.A,{htmlTag:"strong",className:"vrsm-ml-1"},(null==n?void 0:n.deeplink)?n.deeplink:""),i.createElement(l.w,{className:"vrsm-mt-5"},i.createElement(l.l,null,i.createElement(l.A,{htmlTag:"strong"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.advancedSettings")),i.createElement("a",{className:"vrsm-ml-2 cursor-pointer",onClick:function(){return t({type:ne.SET_ADVANCE_SETTINGS_VISIBILITY,payload:!a})}},u.a.t("common."+(a?"hide":"show"))))))):i.createElement(l.w,{className:"vrsm-mt-5"},i.createElement(l.l,null,i.createElement(l.A,{htmlTag:"span"},u.a.t("settings.customerPanel.booksyOnlineReservationPreview.notActive")))),a&&i.createElement(mw,null)))))},fw=function(){return(fw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ew=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},yw=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},hw=function(){return(hw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e.CASH="cash",e.CREDIT_CARD="credit_card",e.TRANSFER="transfer",e.ONLINE="online",e.BLIK="online_blik",e.LINK="online_link",e.CERTIFICATE="certificate"}(MC||(MC={})),function(e){e.QUEUED="queued",e.PAID="paid",e.PAID_CANCELED="paid_canceled",e.REFUNDED="refunded",e.UNPAID="unpaid",e.CANCELED="canceled"}(xC||(xC={})),function(e){e.REFUND_PENDING="refund_pending",e.REFUND_FAILED="refund_failed"}(LC||(LC={}));var vw,bw,gw;hw(hw({},xC),LC);!function(e){e.CREATOR_TYPE_BRANCH="creator_type_branch",e.CREATOR_TYPE_ONLINE_CUSTOMER="creator_type_online_customer"}(vw||(vw={})),function(e){e.ONLINE="online",e.ONLINE_LINK="online_link",e.ONLINE_BLIK="online_blik"}(bw||(bw={})),function(e){e.LINK="link",e.BLIK="blik"}(gw||(gw={}));var Sw,_w={amount:0,paymentMethod:MC.CASH,status:xC.QUEUED},Tw={amount:0,amountPaid:0,amountInputValue:"0",status:xC.QUEUED,realStatus:xC.QUEUED,cancelEventAfterHours:48,createdAt:new Date,creatorType:vw.CREATOR_TYPE_BRANCH,createdByCustomer:!1,payments:[_w]},Nw=function(){return(Nw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ow=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Cw=function(){function e(e){this.data=this.mapParams(e),this.sortPayments()}return e.prototype.mapParams=function(t){return t&&Object.keys(t).length?t instanceof e?t.data:"amount_paid"in t?Nw(Nw(Nw(Nw(Nw(Nw(Nw(Nw(Nw({id:t.id,payments:(t.payments||[]).map((function(e){return{paymentMethod:e.payment_method,status:e.status,amount:e.amount}})),amount:t.amount,amountInputValue:""+t.amount,amountPaid:t.amount_paid,status:t.status,realStatus:t.real_status,cancelEventAfterHours:t.cancel_event_after_hours,createdAt:new Date(t.created_at),creatorType:t.creator_type,createdByCustomer:t.created_by_customer,paidAt:t.paid_at?new Date(t.paid_at):void 0,expirationDateTime:t.expiration_date_time?new Date(t.expiration_date_time):void 0,required:t.required,disabled:!t.id&&!t.amount||t.disabled,changed:t.changed,customerReplace:t.customer_replace,customerTouched:t.customer_touched,requirements:t.requirements,amountPaidWithGiftCoupon:t.amount_paid_with_gift_coupon},t.blik_subsidy_amount&&{blikSubsidyAmount:t.blik_subsidy_amount}),t.payment_type&&{paymentType:t.payment_type}),t.paid_online_via&&{paidOnlineVia:t.paid_online_via}),t.payment_request_sent_at&&{paymentRequestSentAt:new Date(t.payment_request_sent_at)}),t.payment_request_sent_to&&{paymentRequestSentTo:t.payment_request_sent_to}),t.status_was_changed&&{statusWasChanged:t.status_was_changed}),t.payment_method_selected&&{paymentMethodSelected:t.payment_method_selected}),t.is_refunded&&{isRefunded:t.is_refunded}),t.gift_card&&{giftCard:{id:t.gift_card.id,description:t.gift_card.description,name:t.gift_card.name,number:t.gift_card.number,purpose:t.gift_card.purpose_kind,state:t.gift_card.state,validUntil:new Date(t.gift_card.valid_until),value:t.gift_card.value,valueLeft:t.gift_card.value_left,vatValue:t.gift_card.vat_value}}):t:Nw({},Tw)},e.prototype.sortPayments=function(){this.data.payments.sort((function(e,t){return e.paymentMethod===MC.CERTIFICATE?-1:1}))},e.prototype.setAmount=function(e){var t;this.data.amountInputValue=e;var n=parseFloat(e.trim().replace(",","."))||0;if(this.isMainPaymentGiftCard()){var a=Math.min(n,(null===(t=this.data.giftCard)||void 0===t?void 0:t.valueLeft)||0),r=n-a;return this.data.amount=n,this.mainPayment.amount=a,this.extraPayments.length?(this.extraPayments[0].amount=r,void(r<=0&&this.clearExtraPayments())):void(!this.extraPayments.length&&r>0&&this.addPayment({amount:r,status:xC.PAID,paymentMethod:MC.CASH}))}this.mainPayment?this.mainPayment.amount=n:this.mainPayment=Nw(Nw({},_w),{amount:n}),this.updateAmountSum()},Object.defineProperty(e.prototype,"payments",{get:function(){return this.data.payments},set:function(e){this.data.payments=Ow([],e,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainPayment",{get:function(){return this.data.payments[0]},set:function(e){var t=this.data.payments;Array.isArray(t)&&t.length>0?this.data.payments[0]=e:this.data.payments=[e]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraPayments",{get:function(){var e;return null===(e=this.data.payments)||void 0===e?void 0:e.slice(1)},enumerable:!1,configurable:!0}),e.prototype.addPayment=function(e){this.data.payments.push(e||{amount:0,status:xC.QUEUED,paymentMethod:MC.CASH})},e.prototype.getPaymentByPaymentMethod=function(e,t){if(void 0===t&&(t={exact:!0}),"string"==typeof e)return(this.payments||[]).find((function(n){var a;return n.paymentMethod&&(null==t?void 0:t.exact)?n.paymentMethod===e:-1!==(null===(a=n.paymentMethod)||void 0===a?void 0:a.indexOf(e))}))},e.prototype.getPaidAmountByPaymentMethod=function(e){var t=this.getPaymentByPaymentMethod(e);return(null==t?void 0:t.status)===xC.PAID&&(null==t?void 0:t.amount)||0},e.prototype.updatePaymentByPaymentMethod=function(e,t,n){if(void 0===n&&(n={exact:!0}),"string"==typeof e){var a=(this.payments||[]).find((function(t){return t.paymentMethod&&(null==n?void 0:n.exact)?t.paymentMethod===e:-1!==t.paymentMethod.indexOf(e)}));if(a){var r=this.payments.indexOf(a);this.data.payments[r]=Nw(Nw({},a),t)}}},e.prototype.clear=function(){this.data.status=xC.QUEUED,this.data.amount=0,this.data.amountPaid=0,this.data.disabled=!0,this.data.changed=!1,this.data.giftCard=void 0,this.data.payments=[{amount:0,status:xC.QUEUED,paymentMethod:MC.CASH}]},e.prototype.clearExtraPayments=function(){this.payments=[this.mainPayment]},e.prototype.updateAmountSum=function(){this.data.amount=this.payments.reduce((function(e,t){return e+t.amount}),0)},e.prototype.addGiftcardPayment=function(e){var t=this.data.amount-this.data.amountPaid,n=Math.min(t,e.valueLeft||0);this.data.giftCard=e,this.mainPayment={paymentMethod:MC.CERTIFICATE,status:xC.PAID,amount:n},this.data.amount-n>0&&this.addPayment({amount:t-n,paymentMethod:MC.CASH,status:xC.PAID})},e.prototype.removeGiftcardPayment=function(){this.data.status=xC.QUEUED,this.data.giftCard=void 0,this.clearExtraPayments(),this.mainPayment&&(this.data.paymentMethodSelected=MC.CASH,this.data.paymentType=void 0,this.mainPayment.amount=this.data.amount,this.mainPayment.paymentMethod=MC.CASH,this.mainPayment.status=xC.QUEUED)},e.prototype.isMainPaymentGiftCard=function(){var e;return(null===(e=this.mainPayment)||void 0===e?void 0:e.paymentMethod)===MC.CERTIFICATE},e.prototype.getPaidSum=function(){return this.payments.reduce((function(e,t){return t.status===xC.PAID?e+t.amount:e}),0)},e.prototype.isPaid=function(){return this.data.id&&!!(this.data.status===xC.PAID||this.data.amountPaid===this.getPaidSum()&&this.data.amountPaid>0)||!1},e.prototype.isOnline=function(e){var t;return e?e.paymentMethod.includes("online"):null===(t=this.mainPayment)||void 0===t?void 0:t.paymentMethod.includes("online")},e.prototype.getOnlineAmount=function(){var e=this;return this.payments.reduce((function(t,n){return e.isOnline(n)?t+n.amount:t}),0)},e.prototype.isUnpaidMomentReservation=function(){return this.created_by_customer&&this.status!==xC.PAID},e.prototype.serializePaymentMethod=function(e){return(e||"").replace(/^online_.+/,"online")},e.prototype.getOnlineHelperPaymentsInput=function(){var e=this.getPaymentByPaymentMethod(MC.CERTIFICATE);return e&&this.data.giftCard?[{value:e.amount,giftCard:{number:this.data.giftCard.number||""}}]:[]},e.prototype.getRestPayload=function(){var e=this;return this.disabled?{_destroy:!0}:this.customer_replace&&this.id?{_replace:!0}:this.isUnpaidMomentReservation()&&!this.customer_touched||this.charged_back?{}:Nw(Nw(Nw(Nw({},this.id&&{id:this.id}),{amount:this.data.amount,payment_method:this.serializePaymentMethod(this.payment_method),status:this.status}),this.payments.length&&{payments:this.payments.map((function(t){return Nw({amount:t.amount,payment_method:e.serializePaymentMethod(t.paymentMethod),status:t.status},t.paymentMethod===MC.CERTIFICATE&&e.data.giftCard&&{gift_card_id:e.data.giftCard.id})}))}),this.gift_card&&{gift_card:this.gift_card.number})},Object.defineProperty(e.prototype,"prepayment_attributes",{get:function(){return this.getRestPayload()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.data.id},set:function(e){this.data.id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount_input_value",{get:function(){return this.data.amountInputValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){var e;return this.data.amount||(null===(e=this.mainPayment)||void 0===e?void 0:e.amount)||0},set:function(e){this.setAmount(e+"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount_paid",{get:function(){return this.data.amountPaid},set:function(e){this.data.amountPaid=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount_paid_with_gift_coupon",{get:function(){return this.data.amountPaidWithGiftCoupon},set:function(e){this.data.amountPaidWithGiftCoupon=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount_online",{get:function(){return this.getOnlineAmount()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount_paid_with_gift_card",{get:function(){return this.getPaidAmountByPaymentMethod(MC.CERTIFICATE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var e,t;return this.data.status!==(null===(e=this.mainPayment)||void 0===e?void 0:e.status)?this.data.status:(null===(t=this.mainPayment)||void 0===t?void 0:t.status)||this.data.status||xC.QUEUED},set:function(e){this.data.status=e,this.mainPayment?(this.mainPayment.status=e,this.status_was_changed=!0):this.mainPayment=Nw(Nw({},_w),{status:e})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"all_statuses",{set:function(e){this.data.status=e,this.status=e,this.payments.length&&this.payments.forEach((function(t){t.status=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status_was_changed",{get:function(){return this.data.statusWasChanged||!1},set:function(e){this.data.statusWasChanged=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"real_status",{get:function(){return this.data.realStatus},set:function(e){this.data.realStatus=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payment_method",{get:function(){var e;return null===(e=this.mainPayment)||void 0===e?void 0:e.paymentMethod},set:function(e){this.mainPayment?this.mainPayment.paymentMethod=e:this.mainPayment=Nw(Nw({},_w),{paymentMethod:e}),this.payment_method!==MC.CERTIFICATE&&(this.gift_card=void 0,this.payments=[this.mainPayment])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payment_method_selected",{get:function(){return this.data.paymentMethodSelected},set:function(e){this.data.paymentMethodSelected=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paid_at",{get:function(){return this.data.paidAt},set:function(e){this.data.paidAt=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expiration_date_time",{get:function(){return this.data.expirationDateTime},set:function(e){this.data.expirationDateTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blik_subsidy_amount",{get:function(){return this.data.blikSubsidyAmount},set:function(e){this.data.blikSubsidyAmount=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payment_type",{get:function(){return this.data.paymentType},set:function(e){this.data.paymentType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paid_online_via",{get:function(){return this.data.paidOnlineVia},set:function(e){this.data.paidOnlineVia=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payment_request_sent_at",{get:function(){return this.data.paymentRequestSentAt},set:function(e){this.data.paymentRequestSentAt=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payment_request_sent_to",{get:function(){return this.data.paymentRequestSentTo},set:function(e){this.data.paymentRequestSentTo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"charged_back",{get:function(){return this.data.isRefunded},set:function(e){this.data.isRefunded=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cancel_event_after_hours",{get:function(){return this.data.cancelEventAfterHours},set:function(e){this.data.cancelEventAfterHours=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"created_at",{get:function(){return this.data.createdAt},set:function(e){this.data.createdAt=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"creator_type",{get:function(){return this.data.creatorType},set:function(e){this.data.creatorType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"created_by_customer",{get:function(){return this.data.createdByCustomer},set:function(e){this.data.createdByCustomer=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.data.required},set:function(e){this.data.required=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.data.disabled},set:function(e){this.data.disabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this.data.changed},set:function(e){this.data.changed=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customer_replace",{get:function(){return this.data.customerReplace},set:function(e){this.data.customerReplace=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customer_touched",{get:function(){return this.data.customerTouched},set:function(e){this.data.customerTouched=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requirements",{get:function(){return this.data.requirements},set:function(e){this.data.requirements=Nw({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gift_card",{get:function(){return this.data.giftCard},set:function(e){this.data.giftCard=e},enumerable:!1,configurable:!0}),e}();!function(e){e.SET_IS_FETCHING_RECEIPTS="SET_IS_FETCHING_RECEIPTS",e.SET_IS_CLOSING_REGISTER="SET_IS_CLOSING_REGISTER",e.SET_IS_DOWNLOADING_REPORT="SET_IS_DOWNLOADING_REPORT",e.SET_SELECTED_DATE="SET_SELECTED_DATE",e.SET_DOWNLOAD_REPORT_MODAL_OPEN="SET_DOWNLOAD_REPORT_MODAL_OPEN",e.REFRESH_TRANSACTIONS="REFRESH_TRANSACTIONS"}(Sw||(Sw={}));var ww,Aw,Rw,Iw,Pw,Dw,kw,Mw,xw=n(61),Lw=n(800),Fw=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Bw=function(){return(Bw=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},jw=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Gw=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vw={isFetchingReceipts:!0,isClosingRegister:!1,isDownloadingReport:!1,selectedDate:new Date,downloadReportModalOpen:!1,refreshCount:0},Uw=function(e,t){switch(t.type){case Sw.SET_IS_CLOSING_REGISTER:return Bw(Bw({},e),{isClosingRegister:t.payload});case Sw.SET_IS_FETCHING_RECEIPTS:return Bw(Bw({},e),{isFetchingReceipts:t.payload});case Sw.SET_IS_DOWNLOADING_REPORT:return Bw(Bw({},e),{isDownloadingReport:t.payload});case Sw.SET_SELECTED_DATE:return Bw(Bw({},e),{selectedDate:t.payload});case Sw.SET_DOWNLOAD_REPORT_MODAL_OPEN:return Bw(Bw({},e),{downloadReportModalOpen:t.payload});case Sw.REFRESH_TRANSACTIONS:return Bw(Bw({},e),{refreshCount:e.refreshCount+1});default:return e}},Hw=Object(i.createContext)(Bw(Bw({},Vw),{dispatch:function(){},isLoading:!0})),zw=w()(ww||(ww=Fw(["\n  query GetTransactions($page: Int, $count: Int, $filter: TssFiscalizationTransactionListFilter) {\n    tssFiscalizationTransactions(page: $page, count: $count, filter: $filter) {\n      all\n      items {\n        __typename\n        id\n        createdAt\n        employee {\n          id\n          firstName\n          lastName\n          email\n          username\n        }\n        fiscalizedAt\n        ... on TssFiscalizationCashPointClosing {\n          status\n        }\n      }\n    }\n  }\n"],["\n  query GetTransactions($page: Int, $count: Int, $filter: TssFiscalizationTransactionListFilter) {\n    tssFiscalizationTransactions(page: $page, count: $count, filter: $filter) {\n      all\n      items {\n        __typename\n        id\n        createdAt\n        employee {\n          id\n          firstName\n          lastName\n          email\n          username\n        }\n        fiscalizedAt\n        ... on TssFiscalizationCashPointClosing {\n          status\n        }\n      }\n    }\n  }\n"]))),Yw="\n    id\n    createdAt\n    employee {\n      id\n      firstName\n      lastName\n      email\n      username\n    }\n    fiscalizedAt\n    number\n    status\n    errorCode\n    apiErrorCode\n    apiErrorMessage\n    finished\n",qw=w()(Aw||(Aw=Fw(["\n  mutation TssFiscalizationCreateCashPointClosing {\n    tssFiscalizationCreateCashPointClosing {\n      cashPointClosing {\n        ","\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"],["\n  mutation TssFiscalizationCreateCashPointClosing {\n    tssFiscalizationCreateCashPointClosing {\n      cashPointClosing {\n        ","\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"])),Yw),Ww=w()(Rw||(Rw=Fw(["\n  query TssFiscalizationCashPointClosing($id: ID!) {\n    tssFiscalizationCashPointClosing(id: $id) {\n      ","\n    }\n  }\n"],["\n  query TssFiscalizationCashPointClosing($id: ID!) {\n    tssFiscalizationCashPointClosing(id: $id) {\n      ","\n    }\n  }\n"])),Yw),Kw=w()(Iw||(Iw=Fw(["\n  mutation TssFiscalizationCreateExport($startTime: DateTime!, $endTime: DateTime!) {\n    tssFiscalizationCreateExport(startTime: $startTime, endTime: $endTime) {\n      export {\n        id\n        status\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"],["\n  mutation TssFiscalizationCreateExport($startTime: DateTime!, $endTime: DateTime!) {\n    tssFiscalizationCreateExport(startTime: $startTime, endTime: $endTime) {\n      export {\n        id\n        status\n      }\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"]))),$w=(w()(Pw||(Pw=Fw(["\n  query TssFiscalizationExport($id: ID!) {\n    tssFiscalizationExport(id: $id) {\n      id\n      status\n    }\n  }\n"],["\n  query TssFiscalizationExport($id: ID!) {\n    tssFiscalizationExport(id: $id) {\n      id\n      status\n    }\n  }\n"]))),w()(Dw||(Dw=Fw(["\n  query TssFiscalizationExport($id: ID!) {\n    tssFiscalizationExportDownloadUrl(id: $id)\n  }\n"],["\n  query TssFiscalizationExport($id: ID!) {\n    tssFiscalizationExportDownloadUrl(id: $id)\n  }\n"]))),function(e,t){return jw(void 0,void 0,void 0,(function(){return Gw(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:zw,variables:{page:e.currentPage,count:e.pageSize,filter:{minTime:Object(xw.a)(t).toISOString(),maxTime:Object(Lw.a)(t).toISOString()}},fetchPolicy:"no-cache"},result:function(e){return e.tssFiscalizationTransactions||null}})];case 1:return[2,n.sent()]}}))}))}),Zw=function(e){return jw(void 0,void 0,void 0,(function(){return Gw(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:Ww,variables:{id:e},fetchPolicy:"no-cache"},result:function(e){return e.tssFiscalizationCashPointClosing||null}})];case 1:return[2,t.sent()]}}))}))},Xw=function(e){if(e.errorCode)return x.a.error(u.a.t("tssFiscalization.list.cashPointClosingFailed")+" "+u.a.t("tssFiscalization.list.cashPointClosingError."+e.errorCode),{sticky:!0}),void((e.apiErrorCode||e.apiErrorMessage)&&Object(Zn.a)(e.apiErrorCode+", Detail: "+e.apiErrorMessage,"TSS"));x.a.success(u.a.t("tssFiscalization.list.cashPointClosed"))},Jw=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},Qw=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},eA=function(){var e=Object(i.useContext)(Hw),t=e.dispatch,n=e.downloadReportModalOpen,a=e.isLoading,r=Object(g.useForm)({defaultValues:{startDate:window.dateUtils.subDay(new Date),endDate:new Date}}),o=r.register,s=r.handleSubmit,c=r.watch,d=r.setValue,m=c(["startDate","endDate"]);Object(i.useEffect)((function(){o({name:"startDate"},{required:{value:!0,message:u.a.t("validation.required")}}),o({name:"endDate"},{required:{value:!0,message:u.a.t("validation.required")}})}),[o]);var p={startDate:m.startDate,endDate:m.endDate,ranges:{},maxDate:new Date},f=s((function(e){return Jw(void 0,void 0,void 0,(function(){return Qw(this,(function(n){switch(n.label){case 0:return t({type:Sw.SET_IS_DOWNLOADING_REPORT,payload:!0}),[4,(a=e.startDate,r=e.endDate,jw(void 0,void 0,void 0,(function(){return Gw(this,(function(e){switch(e.label){case 0:return[4,A.a.mutate({options:{mutation:Kw,variables:{startTime:a,endTime:r}},result:function(e){var t;return(null===(t=e.tssFiscalizationCreateExport)||void 0===t?void 0:t.export)||null},mutationErrors:function(e){var t;return(null===(t=e.tssFiscalizationCreateExport)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,e.sent()]}}))})))];case 1:return n.sent()?x.a.info(u.a.t("tssFiscalization.list.generateInfo"),{sticky:!0}):x.a.error(u.a.t("tssFiscalization.list.exportCreationFailed")),t({type:Sw.SET_IS_DOWNLOADING_REPORT,payload:!1}),E(),[2]}var a,r}))}))})),E=function(){t({type:Sw.SET_DOWNLOAD_REPORT_MODAL_OPEN,payload:!1})};return Object(i.useEffect)((function(){var e=function(e){"Escape"===e.key&&E()};n?document.addEventListener("keydown",e):document.removeEventListener("keydown",e)}),[n]),Ie.createPortal(i.createElement(i.Fragment,null,n&&i.createElement("div",{className:"vrsm-modal-mask vrsm-modal-mask-background",onClick:E},i.createElement("div",{className:"vrsm-modal",onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"vrsm-modal-header"},i.createElement("div",{className:"vrsm-modal-title"},u.a.t("tssFiscalization.list.downloadReport")),i.createElement("div",{className:"vrsm-modal-actions"},i.createElement("span",{className:"vrsm-modal-button",onClick:E},i.createElement(l.u,null)))),i.createElement("div",{className:"vrsm-modal-content"},i.createElement("div",{className:"vrsm-modal-body"},i.createElement(l.a,{padding:3},i.createElement("form",{onSubmit:f},i.createElement(l.w,{space:{x:2}},i.createElement(l.l,{size:"auto"},i.createElement(Os.a,{inputClassNames:"vrsm-form-control",name:"reportDateRangePicker",onChange:function(e,t){d("startDate",e.toDate()),d("endDate",t.toDate())},options:p,disabled:a,id:"reportDateRangePicker"})),i.createElement(l.l,{size:"auto"},i.createElement(l.d,null,i.createElement(l.b,{type:"submit",isDisabled:a},u.a.t("tssFiscalization.list.generate"))))))))),i.createElement("div",{className:"vrsm-modal-footer"},i.createElement(l.d,{className:"vrsm-justify-end"},i.createElement(l.b,{type:"button",isOutline:!0,onClick:E,isDisabled:a},u.a.t("common.cancel"))))))),document.body)};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.FISCALIZATION="FISCALIZATION"}(kw||(kw={})),function(e){e.SET_FETCHED_TSS_CONFIG="SET_FETCHED_TSS_CONFIG",e.SET_FETCHING_TSS_CONFIG_ERROR="SET_FETCHING_TSS_CONFIG_ERROR"}(Mw||(Mw={}));var tA,nA,aA,rA,oA=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},iA=function(){return(iA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},sA=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},cA=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lA={viewType:kw.SPINNER},uA=function(e,t){switch(t.type){case Mw.SET_FETCHED_TSS_CONFIG:return{viewType:kw.FISCALIZATION,config:t.payload};case Mw.SET_FETCHING_TSS_CONFIG_ERROR:return{viewType:kw.ERROR,config:void 0};default:return e}},dA=w()(tA||(tA=oA(["\n  query GetTssConfig {\n    tssFiscalizationBranchConfig {\n      organization {\n        addressLine1\n        addressLine2\n        city\n        countryCode\n        name\n        vatId\n        zipCode\n      }\n      status\n      productionStatusAvailable\n    }\n  }\n"],["\n  query GetTssConfig {\n    tssFiscalizationBranchConfig {\n      organization {\n        addressLine1\n        addressLine2\n        city\n        countryCode\n        name\n        vatId\n        zipCode\n      }\n      status\n      productionStatusAvailable\n    }\n  }\n"]))),mA=function(){return sA(void 0,void 0,void 0,(function(){return cA(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:dA,fetchPolicy:"network-only"},result:function(e){return e.tssFiscalizationBranchConfig||null}})];case 1:return[2,e.sent()]}}))}))},pA=w()(nA||(nA=oA(["\n  mutation ActivateFiscalization($status: TssFiscalizationBranchConfigSelectableStatus!) {\n    tssFiscalizationUpdateStatus(status: $status) {\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"],["\n  mutation ActivateFiscalization($status: TssFiscalizationBranchConfigSelectableStatus!) {\n    tssFiscalizationUpdateStatus(status: $status) {\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"]))),fA=function(e){return void 0===e&&(e=b.Y.TEST),sA(void 0,void 0,void 0,(function(){return cA(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:pA,variables:{status:e}},result:function(e){var t;return!(null===(t=e.tssFiscalizationUpdateStatus)||void 0===t?void 0:t.errors)},mutationErrors:function(e){var t;return(null===(t=e.tssFiscalizationUpdateStatus)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,t.sent()]}}))}))},EA=Object(i.createContext)(iA(iA({},lA),{dispatch:function(){},employeesPath:"/settings/employees",customersPath:"/customers",settingsPath:"/settings",tssDashboardPath:"/tss_fiscalization/dashboard",invoicingSettingsPath:"/company",fiscalizationExtensionPath:"/extension",ordersPath:"/orders",eventsPath:"/events"})),yA=function(e){var t=e.employee,n=Object(i.useContext)(EA).employeesPath;if(t&&t.id){return i.createElement("a",{href:n+"/"+t.id},t.firstName&&t.lastName?t.firstName+" "+t.lastName:t.username?t.username:t.email?t.email:u.a.t("tssFiscalization.employee"))}return null},hA=function(){return(hA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vA=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},bA=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gA=function(){var e=Object(i.useReducer)(Uw,Vw),t=e[0],n=e[1],a=Object(i.useContext)(EA),r=a.dispatch,o=a.config,s=t.isClosingRegister||t.isDownloadingReport||t.isFetchingReceipts,c=Object(i.useContext)(O.a).dateUtils,d=Object(qd.a)(),m=Object(i.useCallback)((function(e){return vA(void 0,void 0,void 0,(function(){var a;return bA(this,(function(r){switch(r.label){case 0:return d.current&&n({type:Sw.SET_IS_FETCHING_RECEIPTS,payload:!0}),[4,$w(e,t.selectedDate)];case 1:return a=r.sent(),d.current&&n({type:Sw.SET_IS_FETCHING_RECEIPTS,payload:!1}),a?[2,{itemsCount:null==a?void 0:a.all,rows:a.items.map((function(e){return{id:e.id,data:e}}))}]:[2,{itemsCount:0,rows:[]}]}}))}))}),[t.selectedDate,t.refreshCount]),p=c.isToday(t.selectedDate)||s,f={singleDatePicker:!0,maxDate:new Date,startDate:t.selectedDate},E=Boolean(o&&(o.productionStatusAvailable||o.status===b.Z.PRODUCTION)),y=o&&o.status===b.Z.TEST?b.Y.PRODUCTION:b.Y.TEST;return i.createElement(Hw.Provider,{value:hA(hA({},t),{dispatch:n,isLoading:s})},i.createElement(l.a,{padding:{t:3,b:3}},i.createElement(l.A,{htmlTag:"h1"},u.a.t("tssFiscalization.list.title")),o?i.createElement(l.a,{padding:{t:3,b:3}},i.createElement(l.w,{space:2,align:"center"},i.createElement(l.l,{size:"auto",className:"vrsm-font-bold vrsm-mr-3"},u.a.t("tssFiscalization.list.mode.title"),":"),i.createElement(l.l,{size:"auto",className:"d-flex vrsm-justify-around vrsm-items-center vrsm-mr-3"},i.createElement("div",{className:"vrsm-mr-3"},u.a.t("tssFiscalization.list.mode."+o.status.toLowerCase()+".status")),E||o.status===b.Z.PRODUCTION?i.createElement(i.Fragment,null):i.createElement(Ct.a,{trigger:i.createElement(Ct.c,null),content:u.a.t("tssFiscalization.list.mode.unavailableTooltip"),type:Ct.d.Dark})),E?i.createElement(l.l,{size:"auto",className:"d-flex vrsm-justify-around vrsm-items-center vrsm-mr-3"},i.createElement(l.b,{isDisabled:s||!E||window.VersumConfig.current_branch_readonly,onClick:function(){return function(e){return vA(void 0,void 0,void 0,(function(){var t,n;return bA(this,(function(a){switch(a.label){case 0:return[4,fA(e)];case 1:return t=a.sent(),[4,mA()];case 2:return n=a.sent(),t&&(null==n?void 0:n.status.toString())===e.toString()&&(d.current&&r({type:Mw.SET_FETCHED_TSS_CONFIG,payload:n}),x.a.success(u.a.t("tssFiscalization.list.mode."+e.toLowerCase()+".activated"))),[2]}}))}))}(y)},className:"vrsm-mr-3"},u.a.t("tssFiscalization.list.mode."+y.toLowerCase()+".changeStatus")),i.createElement(Ct.a,{trigger:i.createElement(Ct.c,null),content:u.a.t("tssFiscalization.list.mode.tooltip"),type:Ct.d.Dark})):i.createElement(i.Fragment,null))):i.createElement(i.Fragment,null),i.createElement(l.a,{padding:{t:3,b:3}},i.createElement(l.w,{space:{x:3,y:3}},i.createElement(l.l,{size:{xs:12},className:"md:vrsm-col-auto"},i.createElement(l.w,{align:"center",className:"vrsm-text-center"},i.createElement(l.l,{size:{sm:"auto"},className:"vrsm-d-none md:vrsm-d-block"},i.createElement(l.A,{htmlTag:"strong"},u.a.t("tssFiscalization.list.date"))),i.createElement(l.l,{size:{md:"auto"},className:"vrsm-col-2"},i.createElement(l.b,{isDisabled:s,onClick:function(){d.current&&n({type:Sw.SET_SELECTED_DATE,payload:c.subDay(t.selectedDate)})},isOutline:!0,isIconOnly:!0},i.createElement(l.o,null))),i.createElement(l.l,{size:{md:"auto",l:5},className:"vrsm-col-8"},i.createElement(Os.a,{name:"selectedDatePicker",id:"selectedDatePicker",onChange:function(e){d.current&&n({type:Sw.SET_SELECTED_DATE,payload:e.toDate()})},options:f,disabled:s,style:{width:"100%"}})),i.createElement(l.l,{size:{md:"auto"},className:"vrsm-col-2"},i.createElement(l.b,{isDisabled:p,onClick:function(){d.current&&n({type:Sw.SET_SELECTED_DATE,payload:c.addDay(t.selectedDate)})},isOutline:!0,isIconOnly:!0},i.createElement(l.p,null))))),i.createElement(l.l,{size:{sm:6,md:"auto",xs:12},className:"vrsm-ml-auto"},i.createElement(l.b,{isDisabled:s||window.VersumConfig.current_branch_readonly,onClick:function(){return vA(void 0,void 0,void 0,(function(){var e;return bA(this,(function(t){switch(t.label){case 0:return d.current&&n({type:Sw.SET_IS_CLOSING_REGISTER,payload:!0}),[4,jw(void 0,void 0,void 0,(function(){return Gw(this,(function(e){switch(e.label){case 0:return[4,A.a.mutate({options:{mutation:qw},result:function(e){var t;return(null===(t=e.tssFiscalizationCreateCashPointClosing)||void 0===t?void 0:t.cashPointClosing)||null},mutationErrors:function(e){var t;return(null===(t=e.tssFiscalizationCreateCashPointClosing)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,e.sent()]}}))}))];case 1:return(e=t.sent())&&(e.finished?(Xw(e),n({type:Sw.REFRESH_TRANSACTIONS})):(x.a.info(u.a.t("tssFiscalization.list.cashPointClosingStarted")),n({type:Sw.REFRESH_TRANSACTIONS}),a=e.id,r=function(){n({type:Sw.REFRESH_TRANSACTIONS})},o=setInterval((function(){return jw(void 0,void 0,void 0,(function(){var e;return Gw(this,(function(t){switch(t.label){case 0:return[4,Zw(a)];case 1:return(e=t.sent())&&e.finished?(Xw(e),r(),clearInterval(o),[2]):[2]}}))}))}),5e3))),d.current&&n({type:Sw.SET_IS_CLOSING_REGISTER,payload:!1}),[2]}var a,r,o}))}))},className:"vrsm-form-control-wide"},u.a.t("tssFiscalization.list.closeRegister"))),i.createElement(l.l,{size:{sm:6,md:"auto",xs:12}},i.createElement(l.b,{isDisabled:s,onClick:function(){d.current&&n({type:Sw.SET_DOWNLOAD_REPORT_MODAL_OPEN,payload:!0})},className:"vrsm-form-control-wide"},u.a.t("tssFiscalization.list.downloadReport"))))),i.createElement(l.a,{className:"vrsm-y-scrollable vrsm-text-nowrap"},i.createElement(l.z,{dataSource:m,blank:{title:u.a.t("tssFiscalization.list.empty")},pagination:{text:{position:function(e,t,n){return u.a.t("pagination.positionsFromTo",{firstPosition:e,lastPosition:t})+" "+n+"  | "+u.a.t("pagination.onPage")},from:function(e){return u.a.t("pagination.from")+" "+e}}},initialState:{pageSize:5},columns:[{id:"created",head:{content:u.a.t("tssFiscalization.list.headers.created")},body:{render:function(e){return i.createElement(i.Fragment,null,e.createdAt?c.formatDateTime(new Date(e.createdAt)):"---",e.employee&&e.employee.id?i.createElement(i.Fragment,null,i.createElement("br",null),i.createElement(yA,{employee:e.employee})):i.createElement(i.Fragment,null))}}},{id:"fiscalised",head:{content:u.a.t("tssFiscalization.list.headers.fiscalised")},body:{render:function(e){if("TssFiscalizationReceipt"===e.__typename)return i.createElement(i.Fragment,null,e.fiscalizedAt?c.formatDateTime(new Date(e.fiscalizedAt)):u.a.t("tssFiscalization.list.no"),e.employee&&e.employee.id?i.createElement(i.Fragment,null,i.createElement("br",null),i.createElement(yA,{employee:e.employee})):i.createElement(i.Fragment,null));var t=e;return i.createElement(i.Fragment,null,e.fiscalizedAt?c.formatDateTime(new Date(e.fiscalizedAt)):u.a.t("tssFiscalization.list.cashPointClosingStatus."+t.status),e.employee&&e.employee.id?i.createElement(i.Fragment,null,i.createElement("br",null),i.createElement(yA,{employee:e.employee})):i.createElement(i.Fragment,null))}}},{id:"event",head:{content:u.a.t("tssFiscalization.list.headers.event")},body:{render:function(e){return e.__typename?u.a.t("tssFiscalization.list.events."+e.__typename):"---"}}},{id:"details",body:{render:function(e){return"TssFiscalizationReceipt"===e.__typename?i.createElement(zd.b,{to:"/"+e.id},u.a.t("tssFiscalization.list.details")):i.createElement(i.Fragment,null)}}}]}))),i.createElement(eA,null))};!function(e){e.SPINNER="SPINNER",e.ERROR="ERROR",e.DETAILS="DETAILS"}(aA||(aA={})),function(e){e.SET_FETCHED_RECEIPT="SET_FETCHED_RECEIPT",e.SET_IS_ISSUED_MODAL_VISIBLE="SET_IS_ISSUED_MODAL_VISIBLE",e.SET_FETCHING_RECEIPT_ERROR="SET_FETCHING_RECEIPT_ERROR"}(rA||(rA={}));var SA,_A,TA=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},NA=function(){return(NA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},OA=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},CA=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},wA={viewType:aA.SPINNER,isIssuedModalVisible:!1},AA=function(e,t){switch(t.type){case rA.SET_FETCHED_RECEIPT:return NA(NA({},e),{viewType:aA.DETAILS,receipt:t.payload});case rA.SET_FETCHING_RECEIPT_ERROR:return NA(NA({},e),{viewType:aA.ERROR,receipt:void 0});case rA.SET_IS_ISSUED_MODAL_VISIBLE:return NA(NA({},e),{isIssuedModalVisible:t.payload});default:return e}},RA=w()(SA||(SA=TA(["\n  query GetReceipt($id: ID!) {\n    tssFiscalizationReceipt(id: $id) {\n      id\n      number\n      currency\n      createdAt\n      fiscalizedAt\n      status\n      locale\n      employee {\n        id\n        firstName\n        lastName\n        email\n        username\n      }\n      grossValue\n      items {\n        id\n        grossUnitPrice\n        grossValue\n        name\n        quantity\n        vatRate\n        vatRateNumeric\n      }\n      tssData {\n        transactionNumber\n      }\n      customer {\n        id\n        firstName\n        lastName\n        email\n      }\n      payments {\n        paymentMethod\n        value\n      }\n      subject {\n        ... on TssFiscalizationReceiptSubjectOrder {\n          orderId\n        }\n        ... on TssFiscalizationReceiptSubjectEventFinalization {\n          eventId\n          groupId\n        }\n        ... on TssFiscalizationReceiptSubjectEventPrepayment {\n          eventId\n          prepaymentId\n        }\n      }\n    }\n  }\n"],["\n  query GetReceipt($id: ID!) {\n    tssFiscalizationReceipt(id: $id) {\n      id\n      number\n      currency\n      createdAt\n      fiscalizedAt\n      status\n      locale\n      employee {\n        id\n        firstName\n        lastName\n        email\n        username\n      }\n      grossValue\n      items {\n        id\n        grossUnitPrice\n        grossValue\n        name\n        quantity\n        vatRate\n        vatRateNumeric\n      }\n      tssData {\n        transactionNumber\n      }\n      customer {\n        id\n        firstName\n        lastName\n        email\n      }\n      payments {\n        paymentMethod\n        value\n      }\n      subject {\n        ... on TssFiscalizationReceiptSubjectOrder {\n          orderId\n        }\n        ... on TssFiscalizationReceiptSubjectEventFinalization {\n          eventId\n          groupId\n        }\n        ... on TssFiscalizationReceiptSubjectEventPrepayment {\n          eventId\n          prepaymentId\n        }\n      }\n    }\n  }\n"]))),IA=function(e){return OA(void 0,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return[4,A.a.query({options:{query:RA,variables:{id:e}},result:function(e){return e.tssFiscalizationReceipt||null}})];case 1:return[2,t.sent()]}}))}))},PA=function(e){var t=e.items,n=e.grossValue,a=e.currency,r=function(e){return e.grossValue&&Object(dn.b)(parseFloat(e.grossValue),a)||"---"},o=function(e){return e.grossUnitPrice&&Object(dn.b)(parseFloat(e.grossUnitPrice),a)||"---"},s=function(e){return e.vatRate&&e.vatRate===b.cb.EXEMPT?u.a.t("tssFiscalization.vatRates."+e.vatRate):parseInt(e.vatRateNumeric)+"%"+(e.vatRate?" ("+u.a.t("tssFiscalization.vatRates."+e.vatRate)+")":"")};return i.createElement("table",{className:"vrsm-table vrsm-text-nowrap"},i.createElement("thead",null,i.createElement("tr",null,[u.a.t("tssFiscalization.details.headers.name"),u.a.t("tssFiscalization.details.headers.gross"),u.a.t("tssFiscalization.details.headers.quantity"),u.a.t("tssFiscalization.details.headers.value"),u.a.t("tssFiscalization.details.headers.tax")].map((function(e,t){return i.createElement("th",{key:t},e)})))),i.createElement("tbody",null,t.map((function(e,t){return i.createElement("tr",{key:t},[function(e){return e.name},o,function(e){return e.quantity},r,s].map((function(t,n){return i.createElement("td",{key:n},t(e))})))}))),i.createElement("tfoot",null,i.createElement("tr",null,i.createElement("td",{colSpan:3}),i.createElement("td",{colSpan:1},n&&Object(dn.b)(parseFloat(n),a)||"---"),i.createElement("td",{colSpan:1}))))},DA=function(e){var t=e.payments,n=e.currency,a=Object(i.useContext)(xo.a).currencyUtils;return i.createElement(l.a,{padding:{t:1,b:3}},i.createElement(l.A,{htmlTag:"h3"},u.a.t("tssFiscalization.details.paymentMethods")),i.createElement(l.w,{space:2},t.map((function(e){return i.createElement(i.Fragment,{key:e.paymentMethod},i.createElement(l.l,{size:4},u.a.t("tssFiscalization.paymentMethods."+e.paymentMethod),":"),i.createElement(l.l,{size:8},a.formatCurrency(parseFloat(e.value),n)))}))))},kA=function(e){var t=e.customer,n=Object(i.useContext)(EA).customersPath;if(t&&t.id){return i.createElement("a",{href:n+"/"+t.id},t.firstName&&t.lastName?t.firstName+" "+t.lastName:t.email?t.email:t.id)}return i.createElement(i.Fragment,null,"---")},MA=function(e){var t=e.subject,n=Object(i.useContext)(EA),a=n.eventsPath,r=n.ordersPath;return"TssFiscalizationReceiptSubjectEventFinalization"===t.__typename?i.createElement("a",{href:a+"/"+t.eventId+"/versions"},u.a.t("tssFiscalization.details.subjectType."+t.__typename)):"TssFiscalizationReceiptSubjectEventPrepayment"===t.__typename?i.createElement("a",{href:a+"/"+t.eventId+"/versions"},u.a.t("tssFiscalization.details.subjectType."+t.__typename)):"TssFiscalizationReceiptSubjectOrder"===t.__typename?i.createElement("a",{href:r+"/"+t.orderId},u.a.t("tssFiscalization.details.subjectType."+t.__typename)):null},xA=function(e){var t=e.receipt,n=e.showSubject,a=Object(i.useContext)(O.a).dateUtils;return i.createElement(i.Fragment,null,i.createElement(l.a,{padding:{t:4,b:4}},i.createElement(l.w,{space:2},i.createElement(l.l,{size:4,className:"vrsm-font-bold"},u.a.t("tssFiscalization.details.created")),i.createElement(l.l,{size:8},i.createElement(l.A,{htmlTag:"p"},t.createdAt?a.formatDateTime(new Date(t.createdAt)):"---",t.employee&&t.employee.id?i.createElement(i.Fragment,null," (",i.createElement(yA,{employee:t.employee}),")"):i.createElement(i.Fragment,null))),i.createElement(l.l,{size:4,className:"vrsm-font-bold"},u.a.t("tssFiscalization.details.printed")),i.createElement(l.l,{size:8},i.createElement(l.A,{htmlTag:"p"},function(e){switch(e.status){case b.bb.CREATED:case b.bb.ACTIVE:case b.bb.SYNC_ERROR:return u.a.t("tssFiscalization.details.status."+e.status);default:return i.createElement(i.Fragment,null,e.fiscalizedAt?a.formatDateTime(new Date(e.fiscalizedAt)):"---",e.employee&&e.employee.id?i.createElement(i.Fragment,null," (",i.createElement(yA,{employee:null==e?void 0:e.employee}),")"):i.createElement(i.Fragment,null))}}(t))),i.createElement(l.l,{size:4,className:"vrsm-font-bold"},u.a.t("tssFiscalization.details.issuedFor")),i.createElement(l.l,{size:8},i.createElement(l.A,{htmlTag:"p"},i.createElement(kA,{customer:t.customer}))),n&&i.createElement(i.Fragment,null,i.createElement(l.l,{size:4,className:"vrsm-font-bold"},u.a.t("tssFiscalization.details.subject")),i.createElement(l.l,{size:8},i.createElement(l.A,{htmlTag:"p"},i.createElement(MA,{subject:t.subject})))))),i.createElement(l.a,{padding:{t:3,b:3},className:"vrsm-y-scrollable"},i.createElement(PA,{currency:t.currency,grossValue:t.grossValue,items:t.items})),i.createElement(DA,{currency:t.currency,payments:t.payments}))};!function(e){e.SET_IS_RECEIPT_LOADED="SET_IS_RECEIPT_LOADED",e.SET_IS_EMAIL_MODAL_VISIBLE="SET_IS_MODAL_VISIBLE",e.SET_IS_SENDING_EMAIL="SET_IS_SENDING_EMAIL",e.SET_RECEIPT_MODE="SET_RECEIPT_MODE"}(_A||(_A={}));var LA,FA,BA=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},jA=function(){return(jA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},GA=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},VA=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},UA={isReceiptLoaded:!1,isEmailModalVisible:!1,isSendingEmail:!1},HA=function(e,t){switch(t.type){case _A.SET_IS_EMAIL_MODAL_VISIBLE:return jA(jA({},e),{isEmailModalVisible:t.payload});case _A.SET_IS_SENDING_EMAIL:return jA(jA({},e),{isSendingEmail:t.payload});case _A.SET_IS_RECEIPT_LOADED:return jA(jA({},e),{isReceiptLoaded:t.payload});case _A.SET_RECEIPT_MODE:return jA(jA({},e),{receiptMode:t.payload});default:return e}},zA=Object(i.createContext)(jA(jA({},UA),{dispatch:function(){},receiptId:""})),YA=w()(LA||(LA=BA(["\n  mutation TssFiscalizationSendReceiptByEmail($receiptId: ID!, $email: String) {\n    tssFiscalizationSendReceiptByEmail(receiptId: $receiptId, email: $email) {\n      email\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"],["\n  mutation TssFiscalizationSendReceiptByEmail($receiptId: ID!, $email: String) {\n    tssFiscalizationSendReceiptByEmail(receiptId: $receiptId, email: $email) {\n      email\n      errors {\n        code\n        argument\n        detail\n      }\n    }\n  }\n"]))),qA=function(e,t){return GA(void 0,void 0,void 0,(function(){return VA(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:YA,variables:{receiptId:e,email:t}},result:function(e){var t;return(null===(t=e.tssFiscalizationSendReceiptByEmail)||void 0===t?void 0:t.email)||null},mutationErrors:function(e){var t;return(null===(t=e.tssFiscalizationSendReceiptByEmail)||void 0===t?void 0:t.errors)||[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,n.sent()]}}))}))},WA=function(){return(WA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},KA=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},$A=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},ZA=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},XA=function(){var e=Object(i.useContext)(zA),t=e.dispatch,n=e.isSendingEmail,a=e.isEmailModalVisible,r=e.customerEmail,o=e.receiptId,s=function(){var e=Object(g.useForm)({defaultValues:{customerEmail:""}}),t=e.register,n=KA(e,["register"]),a=Object(i.useCallback)((function(e){e&&(t(e,{required:{value:!0,message:u.a.t("validation.blank")},validate:function(e){return sa(e)||u.a.t("validation.email")}}),e.focus())}),[]);return WA(WA({},n),{register:a})}(),c=s.register,d=s.handleSubmit,m=s.errors,p=Object(qd.a)(),f=function(){t({type:_A.SET_IS_EMAIL_MODAL_VISIBLE,payload:!1})},E=d((function(e){return $A(void 0,void 0,void 0,(function(){var n;return ZA(this,(function(a){switch(a.label){case 0:return p.current&&t({type:_A.SET_IS_SENDING_EMAIL,payload:!0}),[4,qA(o.toString(),e.customerEmail)];case 1:return n=a.sent(),p.current&&t({type:_A.SET_IS_SENDING_EMAIL,payload:!1}),n&&(x.a.success(u.a.t("tssFiscalization.new.issued.sent")),p.current&&t({type:_A.SET_IS_EMAIL_MODAL_VISIBLE,payload:!1})),[2]}}))}))}));return Ie.createPortal(i.createElement(i.Fragment,null,a&&i.createElement("div",{className:"vrsm-modal-mask vrsm-modal-mask-background",onClick:f},i.createElement("div",{className:"vrsm-modal",onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"vrsm-modal-header"},i.createElement("div",{className:"vrsm-modal-title"},u.a.t("tssFiscalization.new.issued.email.title")),i.createElement("div",{className:"vrsm-modal-actions"},i.createElement("span",{className:"vrsm-modal-button",onClick:f},i.createElement(l.u,null)))),i.createElement("div",{className:"vrsm-modal-content"},i.createElement("div",{className:"vrsm-modal-body"},i.createElement(l.a,{padding:3},i.createElement(l.a,{padding:3},i.createElement("form",{onSubmit:E},i.createElement(l.w,{space:{x:2}},i.createElement(l.l,{size:8},i.createElement(l.v,{isFullWidth:!0,name:"customerEmail",type:"text",ref:c,defaultValue:r,placeholder:u.a.t("tssFiscalization.new.issued.email.address"),className:nt({"is-invalid":m.customerEmail})}),m.customerEmail?i.createElement("div",{className:"vrsm-form-control-feedback is-invalid"},m.customerEmail.message):i.createElement(i.Fragment,null)),i.createElement(l.l,{size:"auto"},i.createElement(l.d,null,i.createElement(l.b,{type:"submit",isDisabled:n},u.a.t("tssFiscalization.new.issued.email.send")))))))))),i.createElement("div",{className:"vrsm-modal-footer"},i.createElement(l.d,{className:"vrsm-justify-between"},i.createElement(l.b,{type:"button",isOutline:!0,onClick:f,isDisabled:n},u.a.t("tssFiscalization.new.issued.cancel"))))))),document.body)},JA=function(){return(JA=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},QA=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},eR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tR=function(e){var t=Object(i.useReducer)(HA,UA),n=t[0],a=t[1],r=e.onClose,o=e.customerEmail,s=e.isModalVisible,c=Object(i.useRef)(null),d=Object(qd.a)();Object(i.useEffect)((function(){QA(void 0,void 0,void 0,(function(){var e,t;return eR(this,(function(n){switch(n.label){case 0:return[4,mA()];case 1:return e=n.sent(),t=e&&e.status||b.Z.TEST,a({type:_A.SET_RECEIPT_MODE,payload:t}),[2]}}))}))}),[]);var m=e.receiptId?"/tss_fiscalization/receipts/"+e.receiptId:"",p=function(){d.current&&r()};function f(e){e.currentTarget.contentWindow&&(e.currentTarget.style.height=e.currentTarget.contentWindow.document.body.scrollHeight+"px"),d.current&&a({type:_A.SET_IS_RECEIPT_LOADED,payload:!0})}var E=!n.isReceiptLoaded||n.isSendingEmail;return Ie.createPortal(i.createElement(zA.Provider,{value:JA(JA({dispatch:a},n),{customerEmail:e.customerEmail,receiptId:e.receiptId})},s&&i.createElement("div",{className:"vrsm-modal-mask vrsm-modal-mask-background",onClick:p},i.createElement("div",{className:"vrsm-modal",onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"vrsm-modal-header"},i.createElement("div",{className:"vrsm-modal-title"},u.a.t("tssFiscalization.new.issued.title")," ",e.receiptNumber," ",n.receiptMode?"- "+u.a.t("tssFiscalization.new.issued.mode."+n.receiptMode.toLowerCase()):""),i.createElement("div",{className:"vrsm-modal-actions"},i.createElement("span",{className:"vrsm-modal-button",onClick:p},i.createElement(l.u,null)))),i.createElement("div",{className:"vrsm-modal-content"},i.createElement("div",{className:"vrsm-modal-body"},i.createElement(l.a,{padding:3},i.createElement("iframe",{ref:c,src:m,onLoad:f,onLoadStart:function(){a({type:_A.SET_IS_RECEIPT_LOADED,payload:!1})},className:"invoice-iframe"})))),i.createElement("div",{className:"vrsm-modal-footer"},i.createElement(l.d,{className:"vrsm-justify-between"},i.createElement(l.b,{type:"button",isOutline:!0,onClick:p,isDisabled:E},u.a.t("tssFiscalization.new.issued.cancel")),i.createElement(l.b,{type:"button",isOutline:!0,onClick:function(){return c.current&&c.current.contentWindow&&n.isReceiptLoaded?c.current.contentWindow.print():c.current&&(c.current.src=m||"",c.current.onload=function(e){f(e),d.current&&a({type:_A.SET_IS_RECEIPT_LOADED,payload:!0}),c.current&&c.current.contentWindow&&c.current.contentWindow.print()}),!1},isDisabled:E},u.a.t("tssFiscalization.new.issued.print")),i.createElement(l.b,{type:"button",onClick:function(){return QA(void 0,void 0,void 0,(function(){var t;return eR(this,(function(n){switch(n.label){case 0:return o&&sa(o)?(d.current&&a({type:_A.SET_IS_SENDING_EMAIL,payload:!0}),[4,qA(e.receiptId.toString(),o)]):[3,2];case 1:return t=n.sent(),d.current&&a({type:_A.SET_IS_SENDING_EMAIL,payload:!1}),t&&x.a.success(u.a.t("tssFiscalization.new.issued.sent")),[2];case 2:return d.current&&a({type:_A.SET_IS_EMAIL_MODAL_VISIBLE,payload:!0}),[2]}}))}))},isDisabled:E},u.a.t("tssFiscalization.new.issued.send")))))),i.createElement(XA,null)),document.body)},nR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},aR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rR=function(){var e=Object(i.useReducer)(AA,wA),t=e[0],n=e[1],a=Object(Zd.i)().id,r=t.receipt,o=t.viewType,c=Object(qd.a)();return Object(i.useEffect)((function(){nR(void 0,void 0,void 0,(function(){var e;return aR(this,(function(t){switch(t.label){case 0:return[4,IA(a)];case 1:return(e=t.sent())?c.current&&n({type:rA.SET_FETCHED_RECEIPT,payload:e}):c.current&&n({type:rA.SET_FETCHING_RECEIPT_ERROR}),[2]}}))}))}),[]),o===aA.SPINNER?i.createElement(l.y,null):o===aA.ERROR?i.createElement(s.a,null):r?i.createElement(l.a,{padding:{t:3,b:3}},i.createElement(l.A,{htmlTag:"h1"},u.a.t("tssFiscalization.details.title")," ",r.number),i.createElement(xA,{receipt:r,showSubject:!0}),i.createElement(l.a,{padding:{t:4,b:4}},i.createElement(l.d,{className:"vrsm-justify-between"},i.createElement(zd.b,{to:"/"},u.a.t("tssFiscalization.details.back")),i.createElement(l.b,{onClick:function(){return n({type:rA.SET_IS_ISSUED_MODAL_VISIBLE,payload:!0})},isDisabled:!r},u.a.t("tssFiscalization.details.preview")))),i.createElement(tR,{customerEmail:r.customer.email||"",isModalVisible:t.isIssuedModalVisible,receiptId:r.id,onClose:function(){return n({type:rA.SET_IS_ISSUED_MODAL_VISIBLE,payload:!1})},receiptNumber:r.number})):null};!function(e){e.FISCALIZATION="FISCALIZATION",e.RECEIPT="RECEIPT",e.ACTIVATION="ACTIVATION"}(FA||(FA={}));var oR,iR=function(e){var t=e.children,n=e.breadcrumb,a=Object(i.useContext)(EA).settingsPath;return i.createElement(i.Fragment,null,i.createElement("div",{className:"breadcrumbs"},i.createElement("ul",null,i.createElement("li",null,i.createElement("div",{className:"icon sprite-breadcrumbs_settings"}),i.createElement("a",{href:a},u.a.t("tssFiscalization.breadcrumbs.settings"))),[FA.ACTIVATION,FA.FISCALIZATION].includes(n)?i.createElement("li",null,i.createElement("span",null," / "),u.a.t("tssFiscalization.breadcrumbs.fiscalization")):i.createElement("li",null,i.createElement("span",null," / "),i.createElement(zd.b,{to:"/"},u.a.t("tssFiscalization.breadcrumbs.fiscalization"))),[FA.ACTIVATION,FA.RECEIPT].includes(n)?i.createElement("li",null,i.createElement("span",null," / "),u.a.t("tssFiscalization.breadcrumbs."+n.toLowerCase())):i.createElement(i.Fragment,null))),i.createElement("div",{className:"inner"},t))},sR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},cR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lR=function(){var e,t,n,a,r,o,s,c,d,m,p,f,E=Object(i.useContext)(EA),y=E.config,h=E.invoicingSettingsPath,v=E.fiscalizationExtensionPath,g=E.dispatch,S=Object(qd.a)();return y&&y.status===b.Z.INITIAL?i.createElement(l.a,{padding:{t:3,b:3}},i.createElement(l.A,{htmlTag:"p"},u.a.t("tssFiscalization.activation.description")),i.createElement(l.A,{htmlTag:"p"},u.a.t("tssFiscalization.activation.company")),i.createElement(l.a,{padding:{t:4,b:4}},i.createElement(l.A,{htmlTag:"strong"},u.a.t("tssFiscalization.activation.companyName")," ",(null===(e=null==y?void 0:y.organization)||void 0===e?void 0:e.name)?i.createElement(i.Fragment,null," ",null===(t=null==y?void 0:y.organization)||void 0===t?void 0:t.name):"---",i.createElement("br",null),(null===(n=null==y?void 0:y.organization)||void 0===n?void 0:n.addressLine1)?i.createElement(i.Fragment,null,null===(a=null==y?void 0:y.organization)||void 0===a?void 0:a.addressLine1,i.createElement("br",null)):"",(null===(r=null==y?void 0:y.organization)||void 0===r?void 0:r.zipCode)?i.createElement(i.Fragment,null,null===(o=null==y?void 0:y.organization)||void 0===o?void 0:o.zipCode," "):"",(null===(s=null==y?void 0:y.organization)||void 0===s?void 0:s.addressLine2)?i.createElement(i.Fragment,null,null===(c=null==y?void 0:y.organization)||void 0===c?void 0:c.addressLine1,i.createElement("br",null)):"",(null===(d=null==y?void 0:y.organization)||void 0===d?void 0:d.city)?i.createElement(i.Fragment,null,null===(m=null==y?void 0:y.organization)||void 0===m?void 0:m.city,i.createElement("br",null)):"",u.a.t("tssFiscalization.activation.vatId"),": ",(null===(p=null==y?void 0:y.organization)||void 0===p?void 0:p.vatId)?i.createElement(i.Fragment,null," ",null===(f=null==y?void 0:y.organization)||void 0===f?void 0:f.vatId):"---")),i.createElement("p",{className:"vrsm-p",dangerouslySetInnerHTML:{__html:u.a.t("tssFiscalization.activation.confirmation",{invoicingSettingsPath:h})}}),i.createElement(l.A,{htmlTag:"p"},u.a.t("tssFiscalization.activation.note")),i.createElement(l.a,{padding:{t:4,b:4}},i.createElement(l.d,null,i.createElement(l.c,{href:v},u.a.t("tssFiscalization.activation.cancel")),i.createElement(l.b,{onClick:function(){return sR(void 0,void 0,void 0,(function(){var e,t;return cR(this,(function(n){switch(n.label){case 0:return[4,fA()];case 1:return e=n.sent(),[4,mA()];case 2:return t=n.sent(),e&&(null==t?void 0:t.status)===b.Z.TEST&&(S.current&&g({type:Mw.SET_FETCHED_TSS_CONFIG,payload:t}),x.a.success(u.a.t("tssFiscalization.activation.activated"))),[2]}}))}))},disabled:window.VersumConfig.current_branch_readonly},u.a.t("tssFiscalization.activation.activate"))))):null},uR=function(){return(uR=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},dR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},mR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pR=function(){var e=Object(i.useContext)(EA),t=e.config,n=e.fiscalizationExtensionPath,a=Object(Zd.g)(),r=Object(Zd.h)();return Object(i.useEffect)((function(){t&&t.status===b.Z.OFF&&(window.location.href=n),t&&t.status===b.Z.INITIAL&&"/activation"!==r.pathname&&a.replace("/activation"),t&&![b.Z.INITIAL,b.Z.OFF].includes(t.status)&&"/activation"===r.pathname&&a.replace("/")}),[null==t?void 0:t.status,r.pathname]),null},fR=function(e){var t=Object(i.useReducer)(uA,lA),n=t[0],a=t[1],r=n.viewType;return Object(i.useEffect)((function(){dR(void 0,void 0,void 0,(function(){var e;return mR(this,(function(t){switch(t.label){case 0:return[4,mA()];case 1:return e=t.sent(),a(e?{type:Mw.SET_FETCHED_TSS_CONFIG,payload:e}:{type:Mw.SET_FETCHING_TSS_CONFIG_ERROR}),[2]}}))}))}),[]),i.createElement(EA.Provider,{value:uR(uR(uR({},e),n),{dispatch:a,eventsPath:"/events"})},function(){switch(r){case kw.ERROR:return i.createElement(iR,{breadcrumb:FA.FISCALIZATION},i.createElement(s.a,null));case kw.SPINNER:return i.createElement(iR,{breadcrumb:FA.FISCALIZATION},i.createElement(l.y,null));default:return i.createElement(zd.a,{basename:""+SO(e.tssDashboardPath)},i.createElement(pR,null),i.createElement(Zd.d,null,i.createElement(Zd.b,{path:"/activation"},i.createElement(iR,{breadcrumb:FA.ACTIVATION},i.createElement(lR,null))),i.createElement(Zd.b,{path:"/:id"},i.createElement(iR,{breadcrumb:FA.RECEIPT},i.createElement(rR,null))),i.createElement(Zd.b,{path:"/"},i.createElement(iR,{breadcrumb:FA.FISCALIZATION},i.createElement(gA,null))),i.createElement(Zd.b,{path:"*",component:NN.a})))}}())};!function(e){e.SET_IS_MODAL_VISIBLE="SET_IS_MODAL_VISIBLE",e.SET_IS_FETCHING_PREVIEW="SET_IS_FETCHING_PREVIEW",e.SET_IS_ISSUING_RECEIPT="SET_IS_ISSUING_RECEIPT",e.SET_IS_ISSUED_MODAL_VISIBLE="SET_IS_ISSUED_MODAL_VISIBLE",e.SET_FETCHED_RECEIPT_PREVIEW="SET_FETCHED_RECEIPT_PREVIEW",e.SET_ISSUED_RECEIPT="SET_ISSUED_RECEIPT"}(oR||(oR={}));var ER,yR,hR,vR=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},bR=function(){return(bR=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},SR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_R={isModalVisible:!1,isIssuingReceipt:!1,isIssuedModalVisible:!1,isFetchingPreview:!0},TR=function(e,t){switch(t.type){case oR.SET_IS_MODAL_VISIBLE:return bR(bR({},e),{isModalVisible:t.payload});case oR.SET_IS_FETCHING_PREVIEW:return bR(bR({},e),{isFetchingPreview:t.payload,isModalVisible:!t.payload||e.isModalVisible});case oR.SET_FETCHED_RECEIPT_PREVIEW:return bR(bR({},e),{isModalVisible:!0,receiptPreview:t.payload,isFetchingPreview:!1});case oR.SET_IS_ISSUED_MODAL_VISIBLE:return bR(bR({},e),{isIssuedModalVisible:t.payload});case oR.SET_IS_ISSUING_RECEIPT:return bR(bR({},e),{isIssuingReceipt:t.payload});case oR.SET_ISSUED_RECEIPT:return bR(bR({},e),{issuedReceipt:t.payload});default:return e}},NR=w()(ER||(ER=vR(["\n  mutation TssFiscalizationCreateReceiptPreview($subject: TssFiscalizationReceiptSubjectInput!) {\n    tssFiscalizationCreateReceiptPreview(subject: $subject) {\n      currency\n      grossValue\n      token\n      locale\n      items {\n        grossUnitPrice\n        name\n        quantity\n        vatRateNumeric\n        grossValue\n      }\n      customer {\n        id\n        firstName\n        lastName\n        email\n      }\n      payments {\n        paymentMethod\n        value\n      }\n    }\n  }\n"],["\n  mutation TssFiscalizationCreateReceiptPreview($subject: TssFiscalizationReceiptSubjectInput!) {\n    tssFiscalizationCreateReceiptPreview(subject: $subject) {\n      currency\n      grossValue\n      token\n      locale\n      items {\n        grossUnitPrice\n        name\n        quantity\n        vatRateNumeric\n        grossValue\n      }\n      customer {\n        id\n        firstName\n        lastName\n        email\n      }\n      payments {\n        paymentMethod\n        value\n      }\n    }\n  }\n"]))),OR=w()(yR||(yR=vR(["\n  mutation TssFiscalizationIssueReceipt($previewToken: String!) {\n    tssFiscalizationIssueReceipt(previewToken: $previewToken) {\n      errors {\n        code\n        detail\n        argument\n      }\n      receipt {\n        id\n        createdAt\n        number\n      }\n    }\n  }\n"],["\n  mutation TssFiscalizationIssueReceipt($previewToken: String!) {\n    tssFiscalizationIssueReceipt(previewToken: $previewToken) {\n      errors {\n        code\n        detail\n        argument\n      }\n      receipt {\n        id\n        createdAt\n        number\n      }\n    }\n  }\n"]))),CR=function(){return(CR=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},wR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},AR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},RR=function(e){var t,n,a=Object(i.useReducer)(TR,_R),r=a[0],o=a[1],c=Object(qd.a)();Object(i.useEffect)((function(){wR(void 0,void 0,void 0,(function(){var t;return AR(this,(function(n){switch(n.label){case 0:return e.id&&e.type?(c.current&&o({type:oR.SET_IS_FETCHING_PREVIEW,payload:!0}),[4,(a=CR(CR(CR({},"events"===e.type&&e.id&&{eventFinalization:{eventId:e.id.toString()}}),"prepayment"===e.type&&e.id&&{eventPrepayment:{prepaymentId:e.id.toString()}}),"order"===e.type&&e.id&&{order:{orderId:e.id.toString()}}),gR(void 0,void 0,void 0,(function(){return SR(this,(function(e){switch(e.label){case 0:return[4,A.a.mutate({options:{mutation:NR,variables:{subject:a}},result:function(e){return e.tssFiscalizationCreateReceiptPreview||null},mutationErrors:function(){return[]},successMessage:A.a.HideMutationResultMessage})];case 1:return[2,e.sent()]}}))})))]):[3,2];case 1:(t=n.sent())?t.customer&&t.customer.id?t.items&&0!==t.items.length?t.payments&&0!==t.payments.length?c.current&&o({type:oR.SET_FETCHED_RECEIPT_PREVIEW,payload:t}):(x.a.error(u.a.t("tssFiscalization.new.paymentsRequired")),d()):(x.a.error(u.a.t("tssFiscalization.new.itemsRequired")),d()):(x.a.error(u.a.t("tssFiscalization.new.customerRequired")),d()):c.current&&o({type:oR.SET_IS_FETCHING_PREVIEW,payload:!1}),n.label=2;case 2:return[2]}var a}))}))}),[e.id,e.type]);var d=function(){c.current&&o({type:oR.SET_IS_MODAL_VISIBLE,payload:!1});var e=document.getElementById("NewReceiptModal");e&&(Object(Ie.unmountComponentAtNode)(e),document.body.removeChild(e))},m=r.isIssuingReceipt||r.isFetchingPreview||!r.receiptPreview;return Ie.createPortal(i.createElement(i.Fragment,null,r.isModalVisible&&i.createElement("div",{className:"vrsm-modal-mask vrsm-modal-mask-background",onClick:d},i.createElement("div",{className:"vrsm-modal",onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"vrsm-modal-header"},i.createElement("div",{className:"vrsm-modal-title"},u.a.t("tssFiscalization.new.title")),i.createElement("div",{className:"vrsm-modal-actions"},i.createElement("span",{className:"vrsm-modal-button",onClick:d},i.createElement(l.u,null)))),i.createElement("div",{className:"vrsm-modal-content"},i.createElement("div",{className:"vrsm-modal-body"},i.createElement(l.a,{padding:3},r.isFetchingPreview?i.createElement(l.y,null):i.createElement(i.Fragment,null),r.receiptPreview?i.createElement(i.Fragment,null,i.createElement(l.a,null,i.createElement(l.w,{space:2},i.createElement(l.l,{size:3,className:"vrsm-font-bold"},u.a.t("tssFiscalization.new.customer")),i.createElement(l.l,{size:9},i.createElement(l.A,{htmlTag:"p"},i.createElement(kA,{customer:r.receiptPreview.customer}))))),i.createElement(l.a,{padding:{t:3,b:5},className:"vrsm-y-scrollable"},i.createElement(PA,{currency:r.receiptPreview.currency,grossValue:r.receiptPreview.grossValue,items:r.receiptPreview.items})),i.createElement(DA,{currency:r.receiptPreview.currency,payments:r.receiptPreview.payments})):i.createElement(i.Fragment,null),r.receiptPreview||r.receiptPreview?i.createElement(i.Fragment,null):i.createElement(s.a,{showRefreshButton:!1,title:" ",description:u.a.t("tssFiscalization.new.error")})))),i.createElement("div",{className:"vrsm-modal-footer"},i.createElement(l.d,null,i.createElement(l.b,{type:"button",onClick:d,isDisabled:m},u.a.t("common.cancel")),i.createElement("div",{className:"vrsm-ml-auto"}),i.createElement(l.b,{type:"button",isOutline:!0,onClick:function(){return wR(void 0,void 0,void 0,(function(){var t;return AR(this,(function(n){switch(n.label){case 0:return r.receiptPreview?[4,(a=r.receiptPreview.token,gR(void 0,void 0,void 0,(function(){return SR(this,(function(e){switch(e.label){case 0:return[4,A.a.mutate({options:{mutation:OR,variables:{previewToken:a}},result:function(e){return e.tssFiscalizationIssueReceipt&&e.tssFiscalizationIssueReceipt.receipt||null},mutationErrors:function(e){return e.tssFiscalizationIssueReceipt&&e.tssFiscalizationIssueReceipt.errors||[]},successMessage:A.a.HideMutationResultMessage,mutationErrorMessage:{message:function(e){return u.a.t("tssFiscalization.new.validation."+e.argument+"."+e.code)}}})];case 1:return[2,e.sent()]}}))})))]:[3,2];case 1:(t=n.sent())&&(x.a.success(u.a.t("tssFiscalization.new.receipt_issued")),c.current&&o({type:oR.SET_IS_MODAL_VISIBLE,payload:!1}),c.current&&o({type:oR.SET_ISSUED_RECEIPT,payload:{id:t.id,number:t.number}}),c.current&&o({type:oR.SET_IS_ISSUED_MODAL_VISIBLE,payload:!0}),e.onReceiptIssued&&e.onReceiptIssued({id:t.id,created_at:t.createdAt})),n.label=2;case 2:return[2]}var a}))}))},isDisabled:m||window.VersumConfig.current_branch_readonly},u.a.t("tssFiscalization.new.print")))))),r.issuedReceipt?i.createElement(tR,{customerEmail:(null===(n=null===(t=r.receiptPreview)||void 0===t?void 0:t.customer)||void 0===n?void 0:n.email)||"",isModalVisible:r.isIssuedModalVisible,receiptId:r.issuedReceipt.id,onClose:function(){return o({type:oR.SET_IS_ISSUED_MODAL_VISIBLE,payload:!1})},receiptNumber:r.issuedReceipt.number}):i.createElement(i.Fragment,null)),document.body)};!function(e){e.SET_IS_MODAL_VISIBLE="SET_IS_MODAL_VISIBLE",e.SET_IS_FETCHING_RECEIPT="SET_IS_FETCHING_RECEIPT",e.SET_FETCHED_RECEIPT="SET_FETCHED_RECEIPT",e.RECEIPT_ISSUED="RECEIPT_ISSUED",e.SET_IS_ISSUED_MODAL_VISIBLE="SET_IS_ISSUED_MODAL_VISIBLE"}(hR||(hR={}));var IR=function(){return(IR=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},PR=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},DR=function(e,t){switch(t.type){case hR.SET_IS_MODAL_VISIBLE:return IR(IR({},e),{isModalVisible:t.payload});case hR.SET_IS_FETCHING_RECEIPT:return IR(IR({},e),{isFetchingReceipt:t.payload,isModalVisible:!t.payload||e.isModalVisible,receipt:t.payload?null:e.receipt});case hR.SET_FETCHED_RECEIPT:return IR(IR({},e),{isFetchingReceipt:!1,receipt:t.payload,isModalVisible:!0});case hR.RECEIPT_ISSUED:return IR(IR({},e),{receipts:PR(PR([],e.receipts,!0),[t.payload],!1)});case hR.SET_IS_ISSUED_MODAL_VISIBLE:return IR(IR({},e),{isIssuedModalVisible:t.payload});default:return e}},kR=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}))},MR=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xR=function(e){var t,n,a=Object(i.useReducer)(DR,{isModalVisible:!1,isFetchingReceipt:!0,isIssuedModalVisible:!1,receipts:e.receipts.map((function(e){return{id:e.id,createdAt:new Date(e.created_at)}}))}),r=a[0],o=a[1],c=Object(qd.a)(),d=Object(i.useMemo)((function(){return r.receipts?r.receipts.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()})).map((function(e){return{value:e.id,text:window.dateUtils.formatDateTime(e.createdAt)}})):[]}),[r.receipts]),m=(n=d[0].value,Object(g.useForm)({defaultValues:{receiptId:n}})),p=m.register,f=m.watch,E=m.setValue,y=f("receiptId");Object(i.useEffect)((function(){kR(void 0,void 0,void 0,(function(){var e;return MR(this,(function(t){switch(t.label){case 0:return y?(o({type:hR.SET_IS_FETCHING_RECEIPT,payload:!0}),[4,IA(y.toString())]):[3,2];case 1:(e=t.sent())?c.current&&o({type:hR.SET_FETCHED_RECEIPT,payload:e}):c.current&&o({type:hR.SET_IS_FETCHING_RECEIPT,payload:!1}),t.label=2;case 2:return[2]}}))}))}),[y]);var h=function(){o({type:hR.SET_IS_MODAL_VISIBLE,payload:!1});var e=document.getElementById("ShowReceiptModal");e&&(Object(Ie.unmountComponentAtNode)(e),document.body.removeChild(e))},v=r.isFetchingReceipt||!r.receipt;return Ie.createPortal(i.createElement(i.Fragment,null,r.isModalVisible&&i.createElement("div",{className:"vrsm-modal-mask vrsm-modal-mask-background",onClick:h},i.createElement("div",{className:"vrsm-modal",onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"vrsm-modal-header"},i.createElement("div",{className:"vrsm-modal-title"},u.a.t("tssFiscalization.show.title")," ",(null===(t=r.receipt)||void 0===t?void 0:t.number)||""),i.createElement("div",{className:"vrsm-modal-actions"},i.createElement("span",{className:"vrsm-modal-button",onClick:h},i.createElement(l.u,null)))),i.createElement("div",{className:"vrsm-modal-content"},i.createElement("div",{className:"vrsm-modal-body"},r.receipts.length>1?i.createElement(l.a,{padding:{b:2}},i.createElement("label",{htmlFor:"receiptId",className:"vrsm-d-block"},u.a.t("tssFiscalization.show.choose")),i.createElement(l.x,{ref:p,name:"receiptId",options:d,defaultValue:d[0].value,isDisabled:r.isFetchingReceipt})):i.createElement(i.Fragment,null),i.createElement(l.a,null,r.isFetchingReceipt?i.createElement(l.y,null):i.createElement(i.Fragment,null),r.receipt?i.createElement(xA,{receipt:r.receipt}):i.createElement(i.Fragment,null),r.receipt||r.isFetchingReceipt?i.createElement(i.Fragment,null):i.createElement(s.a,{showRefreshButton:!1,title:" ",description:u.a.t("tssFiscalization.show.error")})))),i.createElement("div",{className:"vrsm-modal-footer"},i.createElement(l.d,null,i.createElement(l.b,{type:"button",isOutline:!0,onClick:function(){o({type:hR.SET_IS_ISSUED_MODAL_VISIBLE,payload:!0})},isDisabled:v},u.a.t("tssFiscalization.show.preview")),i.createElement(l.b,{type:"button",onClick:h,isDisabled:v},u.a.t("common.cancel")),i.createElement("div",{className:"vrsm-ml-auto"}),i.createElement(l.b,{type:"button",isOutline:!0,onClick:function(){return kR(void 0,void 0,void 0,(function(){return MR(this,(function(t){return[2,window.reactLegacyBridge.modals.NewReceiptModal.renderModal({type:e.type,id:e.id,onReceiptIssued:function(t){c.current&&o({type:hR.RECEIPT_ISSUED,payload:{id:t.id,createdAt:new Date(t.created_at)}}),E("receiptId",t.id),e.onReceiptIssued&&e.onReceiptIssued(t)}})]}))}))},isDisabled:v},u.a.t("tssFiscalization.show.printAnother")))))),r.receipt?i.createElement(tR,{receiptNumber:r.receipt.number,receiptId:r.receipt.id,isModalVisible:r.isIssuedModalVisible,onClose:function(){return o({type:hR.SET_IS_ISSUED_MODAL_VISIBLE,payload:!1})},customerEmail:r.receipt.customer.email||""}):i.createElement(i.Fragment,null)),document.body)},LR=function(){return(LR=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},FR=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},BR=function(e){var t=Object(i.useState)(e.receipts),n=t[0],a=t[1],r=n.length>0,o=r?u.a.t("tssFiscalization.order.show"):u.a.t("tssFiscalization.order.new");return i.createElement("button",{className:"button",onClick:function(){var t={id:e.id,type:"order",onReceiptIssued:function(e){return a(FR(FR([],n,!0),[e],!1))}};return r?window.reactLegacyBridge.modals.ShowReceiptModal.renderModal(LR(LR({},t),{receipts:n})):window.reactLegacyBridge.modals.NewReceiptModal.renderModal(t)}},o)};n.d(t,"modals",(function(){return VR}));var jR={App:function(){return i.createElement(i.Fragment,null)},Subscription:function(){return i.createElement(zd.a,null,i.createElement(Zd.d,null,i.createElement(Zd.b,{exact:!0,path:Wm,component:YE}),i.createElement(Zd.b,{path:Km,component:XE})))},SubsctiprionProlongContainer:function(e){return i.createElement(bd.Query,{query:ty},(function(e){var t=e.data,n=e.error;if(e.loading)return i.createElement(c.a,null);if(n)return x.a.error(u.a.t("common.serverError")),i.createElement(i.Fragment,null,u.a.t("common.serverError"));if(t&&t.subscriptionPlans&&t.subscriptionPlans.length>0){var a=t.subscriptionPlans[0];return i.createElement(iy,{plan:a})}return i.createElement(i.Fragment,null,u.a.t("subscription.prolongs.noOffer"))}))},DashboardChart:Re,ServicesContainer:function(e){var t=Object(i.useReducer)(Le.e,$n($n({},Le.c),{currentCategory:e.initialCategoryId})),n=t[0],a=t[1];return Object(Le.i)(a),Object(Le.h)(a,n.currentPage,n.searchedQuery,n.pageSize,n.sortBy,n.currentCategory,n.batchUpdateJob,n.resourcesTransferJob),Object(Le.f)(a,n.batchUpdateJob),Object(Le.g)(a,n.resourcesTransferJob),i.createElement(Le.a.Provider,{value:{state:n,dispatch:a,props:e,pendingRequest:Object(Le.d)(n)}},i.createElement(st,null),i.createElement(Fn,null),i.createElement(Kn,null))},PrepaymentsConfigContainer:function(){var e=Object(i.useReducer)(Ql,Xl),t=e[0],n=e[1];!function(e){Object(i.useEffect)((function(){ud(e)}),[])}(n);var a=t.loading,r=t.data,o=t.isEditModeActive;return i.createElement(eu.Provider,{value:{state:t,dispatch:n}},a&&i.createElement(c.a,null),!a&&r&&Object.keys(r).length>0&&i.createElement(i.Fragment,null,!o&&!Rd(r)&&i.createElement(Sd,null),o&&i.createElement(Cd,null),!o&&Rd(r)&&i.createElement(Ad,null),i.createElement(nu,null)))},OnlinePaymentContainer:function(e){var t=Object(i.useReducer)($c,Yc),n=t[0],a=t[1];return i.createElement(Zc.Provider,{value:{state:n,dispatch:a}},i.createElement(dc,null))},OnlinePaymentsBankAccounts:Qc,OnlinePaymentBalanceHistoryContainer:function(e){var t,n=e.ordersPath,a=Object(i.useReducer)(ni,ti),r=a[0],o=a[1],s=Object(i.useContext)(O.a).dateUtils,c=r.accountHistory,l=r.filters,m=l.page,p=l.count,f=l&&l.filter&&l.filter.dates||{begin:null,end:null},E=f.begin,y=f.end;return Object(i.useEffect)((function(){!function(e,t){Jo(void 0,void 0,void 0,(function(){var n,a,r;return Qo(this,(function(o){switch(o.label){case 0:return n=e.filter&&e.filter.dates,a=Xo(Xo({},e),{filter:Xo(Xo({},e.filter),{dates:{begin:n&&Object(Ko.a)(n.begin).set({hours:0,seconds:1}).toISOString(),end:n&&Object(Ko.a)(n.end).set({hours:23,minutes:59,seconds:59}).toISOString()}})}),[4,A.a.query({options:{query:ei,variables:a},result:function(e){return e.onlinePaymentBalanceHistory||null},errorHandler:{onGraphQLErrors:function(e){t({type:Eo.SET_ERRORS,payload:e.map((function(e){return e.message}))})}}})];case 1:return(r=o.sent())&&t({type:Eo.SET_HISTORY,payload:r}),t({type:Eo.SET_LOADING,payload:!1}),[2]}}))}))}(l,o)}),[E,y,m,p]),i.createElement("div",{className:"online-payment-history"},i.createElement("div",{className:"v2-row mb-xxl"},i.createElement("div",{className:"v2-col-sm-6"},i.createElement("h2",{className:"m-0"},i.createElement(Os.a,{name:"range-picker",onChange:function(e,t){o({type:Eo.SET_FILTERS,payload:Cs(Cs({},l),{filter:{dates:{begin:s.formatDateIso(e.toDate()),end:s.formatDateIso(t.toDate())}},page:1})})},onStringRangeChange:function(e){"EMPTY"===e&&o({type:Eo.SET_FILTERS,payload:Cs(Cs({},l),{filter:{},page:1})})},options:Cs(Cs({stringRanges:(t={},t.EMPTY=u.a.t("settings.customerTransactions.allTransactions"),t),initialStringRange:"EMPTY"},E&&{startDate:E}),y&&{endDate:y})})))),i.createElement("div",{className:"overflow-x-auto"},i.createElement(d.z,{className:"table-bordered",data:c.items,columns:[{path:"date",label:ai("date"),content:function(e){return i.createElement("strong",null,Object(ii.e)(e.date))}},{path:"id",label:ai("id"),content:function(e){return i.createElement("span",null,e.transaction&&e.transaction.id||e.payout&&e.payout.id)}},{path:"type",label:ai("type"),content:function(e){return i.createElement(os,{row:e})}},{path:"subject",label:ai("subject"),content:function(e){return i.createElement(rs,{row:e})}},{path:"amount",label:ai("transactionAmount"),content:function(e){return i.createElement("strong",{className:nt({"text-red":e.purpose!==b.A.ONLINE_PAYMENTS_PAYOUT&&e.amount<0,"text-orange":e.purpose===b.A.ONLINE_PAYMENTS_PAYOUT})},Object(dn.b)(e.amount,e.currency))}},{path:"balance",label:ai("balance"),content:function(e){return i.createElement("span",{className:"balance-column"},i.createElement("span",null,u.a.t("settings.customerTransactions.details.balance").toUpperCase()),i.createElement("span",null,Object(dn.b)(e.balance,e.currency)))}},{expand:!0,content:function(e){return e.transaction&&e.transaction.events&&e.transaction.events.length>0?i.createElement(is,{row:e}):e.payout?i.createElement(Ns,{id:e.payout.id,balance:e.balance,currency:e.currency}):e.purpose&&-1!==[b.A.ORDER_PAYMENT_ONLINE,b.A.ONLINE_PRODUCT_SALE_PAYMENT,b.A.GIFT_CARD_PROMISE].indexOf(e.purpose)&&e.transaction&&e.transaction.sale?i.createElement(ss,{row:e,ordersPath:n}):i.createElement(i.Fragment,null,u.a.t("common.noDetails"))}}],getKey:oi.b,isRowHighlighted:function(e){return e.purpose===b.A.ONLINE_PAYMENTS_PAYOUT},columnSort:{order:"asc",path:"amount"},rowSelection:{},emptyText:u.a.t("settings.customerTransactions.emptyState"),isDataLoading:r.isLoading,error:!!r.errors.length})),i.createElement("div",{className:"mt-xxl"},c.all>0&&i.createElement(d.s,{type:"input",itemsCount:c.all,currentPage:m||1,pageSize:p||10,onPageChange:function(e){var t=Math.ceil(c.all/(p||10));o({type:Eo.SET_FILTERS,payload:Cs(Cs({},l),{page:e>t?t:e})})},onSizeChange:function(e){return o({type:Eo.SET_FILTERS,payload:Cs(Cs({},l),{count:e,page:1})})},cacheKey:Bn.a.ONLINE_PAYMENTS_TABLE})))},OnlinePaymentsBankAccountsContainer:function(){var e=Object(i.useReducer)($c,Yc),t=e[0],n=e[1];return i.createElement(i.Fragment,null,i.createElement(Zc.Provider,{value:{state:t,dispatch:n}},i.createElement(Qc,null)))},OnlinePaymentCommunicationTablesContainer:function(){var e=Object(i.useState)({}),t=e[0],n=e[1],a=Object(i.useState)(!1),r=a[0],o=a[1],s=t.cancelEvents?Ds.a.active:Ds.a.inactive,c=t.enabled&&t.cancelEvents,l=function(e){return u.a.t("settings.prepayments.communication."+e)};Object(i.useEffect)((function(){!function(e,t){rl(void 0,void 0,void 0,(function(){var n;return ol(this,(function(a){switch(a.label){case 0:return t(!0),[4,A.a.query({options:{query:il},result:function(e){return e.viewer&&e.viewer.branch&&e.viewer.branch.prepayments||null}})];case 1:return(n=a.sent())&&(e(n),t(!1)),[2]}}))}))}(n,o)}),[]);var d=[{type:l("messagesName.confirmReservationRequestPayment"),time:l("deliveryTime.immediatelyAfterAdd"),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.remindUnpaidVisit"),time:c?u.a.t("settings.prepayments.communication.deliveryTime.hoursAfterAdd",{hours:24}):u.a.t("settings.prepayments.communication.deliveryTime.hoursBeforeCancellation",{hours:48}),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.confirmReservationWithPayment"),time:l("deliveryTime.immediatelyAfterRecivedPayment"),sms:i.createElement(Ps.a,{name:Ds.a.inactive,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.cancelVisit"),time:l("deliveryTime.xxx"),sms:i.createElement(Ps.a,{name:s,size:18}),email:i.createElement(Ps.a,{name:s,size:18}),rowDisabled:!t.cancelEvents}],m=[{type:l("messagesName.paymentRequestForVisit"),time:l("deliveryTime.immediatelyAfterFinalization"),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.paymentReqestForFinalizedVisit"),time:u.a.t("settings.prepayments.communication.deliveryTime.hoursAfterRequestSent",{hours:48}),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.acknowledgement"),time:l("deliveryTime.immediatelyAfterRecivedPayment"),sms:i.createElement(Ps.a,{name:Ds.a.inactive,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})}],p=[{type:l("messagesName.confirmPurchase"),time:l("deliveryTime.immediatelyAfterSale"),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.paymentRemind"),time:u.a.t("settings.prepayments.communication.deliveryTime.hoursAfterRequestSent",{hours:48}),sms:i.createElement(Ps.a,{name:Ds.a.active,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})},{type:l("messagesName.paymentPaid"),time:l("deliveryTime.immediatelyAfterRecivedPayment"),sms:i.createElement(Ps.a,{name:Ds.a.inactive,size:18}),email:i.createElement(Ps.a,{name:Ds.a.active,size:18})}];return i.createElement("div",null,i.createElement("h2",{className:"strong"},l("title")),i.createElement(nl,{communicationData:d,sectionTitle:l("categories.pendingEvent"),isLoading:r}),i.createElement(nl,{communicationData:m,sectionTitle:l("categories.finalizedEvent")}),i.createElement(nl,{communicationData:p,sectionTitle:l("categories.sale")}))},BranchGallery:function(e){var t=e.images;return i.createElement(yr,{images:t})},InvoiceDataContainer:function(){var e=i.useReducer(rr,er),t=e[0],n=e[1];return sr(n),i.createElement(or.Provider,{value:{state:t,dispatch:n}},i.createElement("h2",null,u.a.t("company.invoiceData.title")),t.company&&!t.editMode&&i.createElement(ur,{company:t.company}),t.company&&t.editMode&&i.createElement($a,{formType:fa.INVOICE_DATA,company:t.companyFormValues,billingCurrency:cr(t),onSubmit:pr(n)}))},OnlineGiftCardsContainer:function(e){var t=Object(i.useReducer)(Or,Nr),n=t[0],a=t[1];!function(e){Object(i.useEffect)((function(){Sr(void 0,void 0,void 0,(function(){var t;return _r(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:Tr},result:function(e){return e.giftCardsOnlineSalesConfig||null}})];case 1:return t=n.sent(),e(t?{type:ar.SET_FETCHED_ONLINE_GIFT_CARDS_CONFIG,payload:t}:{type:ar.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}),[])}(a);return i.createElement(Cr.Provider,{value:Xr(Xr(Xr({},n),e),{dispatch:a,canBeEnabled:n.giftCardsOnlineSalesConfig&&n.giftCardsOnlineSalesConfig.canBeEnabled||!1})},function(){switch(n.viewType){case nr.SPINNER:return i.createElement(c.a,null);case nr.TEASER:return i.createElement(Ir,null);case nr.FORM:return i.createElement(Kr,null);case nr.PREVIEW:return i.createElement($r,null);case nr.ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(Zr,null))},OnlineSalesContainer:function(e){var t=Object(i.useReducer)(_o,So),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){vo(void 0,void 0,void 0,(function(){var t;return bo(this,(function(n){switch(n.label){case 0:return[4,A.a.query({options:{query:go},result:function(e){return e.onlineOrdersBranchConfig||null}})];case 1:return t=n.sent(),e(t?{type:to.SET_FETCHED_ONLINE_ORDER_CONFIG,payload:t}:{type:to.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}),[])}(a),i.createElement(To.Provider,{value:qo(qo(qo({},n),e),{dispatch:a,canBeEnabled:n.onlineSalesConfig&&n.onlineSalesConfig.canBeEnabled||!1})},function(){switch(n.viewType){case eo.SPINNER:return i.createElement(c.a,null);case eo.TEASER:return i.createElement(Co,null);case eo.FORM:return i.createElement(zo,null);case eo.PREVIEW:return i.createElement(Yo,null);case eo.ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(No,null))},OnlineOrders:function(e){var t=e.route,n=e.customersPath,a=e.productsPath,r=e.isBranchPL;return i.createElement(zd.a,{basename:""+window.location.pathname.split(t)[0]+t},i.createElement(Zd.d,null,i.createElement(Zd.b,{path:"/:id"},i.createElement(Ym,{customersPath:n,productsPath:a,isBranchPL:r})),i.createElement(Zd.b,{path:"/"},i.createElement($d,{customersPath:n,productsPath:a}))))},SafeBranchContainer:function(e){var t=Object(i.useReducer)(Mh,kh),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){Ih(void 0,void 0,void 0,(function(){var t;return Ph(this,(function(n){switch(n.label){case 0:return[4,xh()];case 1:return t=n.sent(),e(t?{type:Zy.SET_FETCHED_SAFE_BRANCH_SETTING,payload:t}:{type:Zy.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}),[])}(a),i.createElement(Lh.Provider,{value:bv(bv(bv({},n),e),{dispatch:a})},function(){switch(n.viewType){case $y.SPINNER:return i.createElement(c.a,null);case $y.FORM:return i.createElement(dv,null);case $y.TEASER:return i.createElement(mv,null);case $y.PREVIEW:return i.createElement(vv,null);case $y.ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(hv,null))},HealthSurveyContainer:function(e){var t=Object(i.useReducer)(Kh,Wh),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){zh(void 0,void 0,void 0,(function(){var t;return Yh(this,(function(n){switch(n.label){case 0:return[4,$h()];case 1:return t=n.sent(),e(t?{type:wh.SET_FETCHED_HEALTH_SURVEY_CONFIG,payload:t}:{type:wh.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}),[])}(a),i.createElement(Zh.Provider,{value:Sb(Sb(Sb({},n),e),{dispatch:a})},function(){switch(n.viewType){case Ch.SPINNER:return i.createElement(c.a,null);case Ch.TEASER:return i.createElement(ub,null);case Ch.FORM:return i.createElement(fb,null);case Ch.PREVIEW:return i.createElement(Eb,null);case Ch.ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(bb,null))},CovidBlankContainer:function(e){return i.createElement("div",{className:"v2-blank"},i.createElement("div",{className:"v2-blank-description"},i.createElement("div",{className:"v2-blank-icon"},i.createElement(Vr.a,{width:136,name:Vr.b.safeBranchTeaser})),i.createElement("h2",{className:"v2-blank-title-normal bold"},"Pokaż klientom, że Twój salon jest bezpieczny!"),i.createElement("div",{className:"text-center"},i.createElement("p",null,"Ankieta Bezpieczny Salon pomoże Ci wprowadzić w życie wymagania dotyczące pracy salonów po ponownym otwarciu."),i.createElement("p",null,"Dodatkowo możesz umieścić na portalu Moment.pl informacje o środkach ochrony wprowadzonych po otwarciu salonu by zachęcić klientów do bezpiecznej wizyty."))),i.createElement("div",{className:"text-center"},i.createElement("a",{className:"button ml-auto button-blue m-m",href:e.safeBranchPath},"Zdobądź odznakę Bezpieczny Salon"),i.createElement("a",{className:"button ml-auto button-blue m-m",href:e.customerHealthSurveyPath},"Aktywuj ankietę Bezpieczny Salon")))},PaymentBonusContainer:function(e){var t=Object(i.useReducer)(Jb,Xb),n=t[0],a=t[1];!function(e){Object(i.useEffect)((function(){Yb(void 0,void 0,void 0,(function(){var t;return qb(this,(function(n){switch(n.label){case 0:return[4,Yb(void 0,void 0,void 0,(function(){return qb(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:Zb,fetchPolicy:"network-only"},result:function(e){var t;return(null===(t=e.viewer.branch)||void 0===t?void 0:t.address.countryCode)||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(t=n.sent())&&e({type:vb.FETCHED_COUNTRY_CODE,payload:t}),[2]}}))}))}),[])}(a),function(e){Object(i.useEffect)((function(){Yb(void 0,void 0,void 0,(function(){var t;return qb(this,(function(n){switch(n.label){case 0:return[4,Yb(void 0,void 0,void 0,(function(){return qb(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:$b},result:function(e){return e.branchPaymentBonus&&{paymentBonus:e.branchPaymentBonus.paymentBonus,errors:e.branchPaymentBonus.errors}||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(null==(t=n.sent())?void 0:t.paymentBonus)?e({type:vb.SET_FETCHED_BRANCH_PAYMENT_BONUS,payload:t.paymentBonus}):(null==t?void 0:t.errors)?e({type:vb.SET_FETCHED_PAYMENT_BONUS_ERRORS,payload:t.errors}):e({type:vb.SET_FETCHING_FINISHED_WITH_ERRORS}),[2]}}))}))}),[])}(a);return i.createElement(Qb.Provider,{value:Sg(Sg({},n),{dispatch:a,paymentBonusDetailsUrl:function(t){switch(t){case b.i.MARKETING_AUTOMATION:return e.marketingExtensionUrl;case b.i.LOYALTY_PROGRAM:return e.lumoExtensionUrl;case b.i.MOMENT_PREMIUM:return e.momentPremiumUrl;default:return""}}})},function(){switch(n.viewType){case hb.SPINNER:return i.createElement(el.a,null);case hb.DETAILS:return i.createElement(yg,null);case hb.SUMMARY:return i.createElement(gg,null);case hb.ERROR:return i.createElement(s.a,null);case hb.UNAVAILABLE:return i.createElement(hg,null);default:return i.createElement(i.Fragment,null)}}())},OnlineOrderDetailsPaymentContainer:function(e){return i.createElement(Hm,_g({},e))},CallForwardingContainer:function(e){var t=e.isOnlineReservaionEnabled,n=function(){var e=i.useReducer(rh,th);return{state:e[0],dispatch:e[1]}}(),a=n.state,r=n.dispatch;return function(e){i.useEffect((function(){Qy(void 0,void 0,void 0,(function(){var t,n,a,r,o,i;return eh(this,(function(s){switch(s.label){case 0:return[4,ch()];case 1:return t=s.sent(),n=t.data,a=t.errors,r=a&&a||n.errors&&n.errors,Array.isArray(r)?(e({type:Ey.SET_ERRORS,payload:r.map((function(e){return e.message||u.a.t("settings.communication.callForwarding.error."+e.argument+"."+e.code)}))}),[2]):(o=n&&n.viewer&&n.viewer.branch&&n.viewer.branch.pbxPhoneNumber,i=n&&n.pbxPhoneNumbers&&n.pbxPhoneNumbers||[],e({type:Ey.SET_BRANCH_PHONE,payload:n.viewer.branch.pbxPhoneNumber}),e({type:Ey.SET_ACTIVE_PHONES,payload:n.pbxPhoneNumbers}),o&&i.length>0?(e({type:Ey.SET_CONTAINER_VIEW,payload:py.ACTIVE_PHONES_LIST}),[2]):(e({type:Ey.SET_CONTAINER_VIEW,payload:py.ACTIVATION_SCREEN}),[2]))}}))}))}),[])}(r),i.createElement(nh.Provider,{value:Th(Th({},a),{dispatch:r,isOnlineReservaionEnabled:t})},function(){switch(a.containerView){case py.LOADING:return i.createElement(c.a,null);case py.ERROR:return i.createElement(yh,null);case py.ACTIVATION_SCREEN:return i.createElement(uh,null);case py.ACTIVE_PHONES_LIST:return i.createElement(fh,null);default:return i.createElement(i.Fragment,null)}}(),a.activationStepsModalVisible&&i.createElement(_h,null))},NotificationsListContainer:function(){var e=Object(i.useReducer)(NS,TS),t=e[0],n=e[1],a=Object(qd.a)();return function(e,t,n,a,r,o){SS(void 0,void 0,void 0,(function(){var s;return _S(this,(function(c){return s=!o.current,Object(i.useEffect)((function(){SS(void 0,void 0,void 0,(function(){var o;return _S(this,(function(i){switch(i.label){case 0:return[4,wS(t,n,r,a)];case 1:return o=i.sent(),e(o?{type:Gg.SET_NOTIFICATIONS,payload:o}:{type:Gg.SET_VIEW_TYPE,payload:jg.FETCHING_ERROR}),[2]}}))}))}),[]),Object(i.useEffect)((function(){s||SS(void 0,void 0,void 0,(function(){var o;return _S(this,(function(i){switch(i.label){case 0:return[4,wS(t,n,r,a)];case 1:return o=i.sent(),e(o?{type:Gg.SET_NOTIFICATIONS,payload:o}:{type:Gg.SET_VIEW_TYPE,payload:jg.FETCHING_ERROR}),[2]}}))}))}),[t,n,a,r]),[2]}))}))}(n,t.notificationsPage,t.notificationsPageSize,t.sortBy,t.filter,a),i.createElement(OS.Provider,{value:kS(kS({},t),{dispatch:n})},function(){switch(t.viewType){case jg.SPINNER:return i.createElement(el.a,null);case jg.LIST:return i.createElement(DS,null);case jg.FETCHING_ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}())},NotificationDetailsContainer:function(e){var t=Object(i.useReducer)(Wg,qg),n=t[0],a=t[1];return function(e,t,n){zg(void 0,void 0,void 0,(function(){return Yg(this,(function(a){return Object(i.useEffect)((function(){t&&zg(void 0,void 0,void 0,(function(){var a,r,o;return Yg(this,(function(i){switch(i.label){case 0:return n?[4,Jg(t)]:[3,2];case 1:return r=i.sent(),[3,4];case 2:return[4,Xg(t)];case 3:r=i.sent(),i.label=4;case 4:return a=r,[4,fS()];case 5:return o=i.sent(),a&&o?(e({type:Ub.SET_NOTIFICATION,payload:a}),e({type:Ub.SET_UNREAD_NOTIFICATIONS_COUNT,payload:o.notifications}),e({type:Ub.SET_VIEW_TYPE,payload:Vb.DETAILS})):e({type:Ub.SET_VIEW_TYPE,payload:Vb.FETCHING_ERROR}),[2]}}))}))}),[]),[2]}))}))}(a,e.notificationId,e.isPushNotification),i.createElement(Kg.Provider,{value:xS(xS(xS({},n),e),{dispatch:a})},function(){switch(n.viewType){case Vb.SPINNER:return i.createElement(el.a,null);case Vb.DETAILS:return i.createElement(MS,null);case Vb.FETCHING_ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}())},OnlineReservationActivationModal:function(e){var t=e.branchSubdomain,n=Object(i.useReducer)(so,io),a=n[0],r=a.isModalActive,o=a.currentView,s=a.shouldReloadOnClose,c=n[1],l=t+"?utm_source=fb&utm_medium=post_salon&utm_content=moment_on&act=1";return i.createElement("div",null,i.createElement(uo.a,{isOpened:r,type:uo.c.simple,isFooterVisible:!1,align:uo.b.center,onClose:function(){c({type:jr.SET_MODAL_VISIBILITY,payload:!1}),s&&location.reload()}},o===Br.ACTIVATION&&i.createElement((function(){return i.createElement(i.Fragment,null,i.createElement("h2",{className:"mb-l font-strong"},u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.activation.title")),i.createElement("p",{className:"fs-h5 mb-l",dangerouslySetInnerHTML:{__html:u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.activation.description")}}),i.createElement("img",{className:"w-100p mb-s",src:window.getAssetHost("images/customer_panel/online_reservation/online_reservation_laptop.png")}),i.createElement(lo.a,{className:"button-blue button-lg mb-l",text:u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.activation.cta"),disabled:window.VersumConfig.current_branch_readonly,onClick:function(){c({type:jr.SET_SHOULD_RELOAD,payload:!0}),co(c)}}))}),null)||o===Br.FACEBOOK_SHARE&&i.createElement((function(){return i.createElement(i.Fragment,null,i.createElement("h2",{className:"mb-l font-strong"},u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.shareOnFacebook.title")),i.createElement("p",{className:"fs-h5 mb-l"},u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.shareOnFacebook.description")),i.createElement("img",{className:"w-100p px-l mb-l",src:window.getAssetHost("images/customer_panel/online_reservation/online_reservation_fb_share.png")}),i.createElement(lo.a,{className:"button-blue button-lg mb-l",text:u.a.t("settings.customerPanel.onlineReservation.enableReservationModal.shareOnFacebook.cta"),onClick:function(){return e=l,void FB.ui({method:"share",href:e},(function(){}));var e}}))}),null),i.createElement(mo,{activeStep:Object.keys(Br).indexOf(o),stepCount:Object.keys(Br).length})))},SocialPostsContainer:function(){var e=Object(i.useReducer)(BO,FO),t=e[0],n=e[1];return function(e){Object(i.useEffect)((function(){kO(void 0,void 0,void 0,(function(){var t;return MO(this,(function(n){switch(n.label){case 0:return[4,VO()];case 1:return null!==(t=n.sent())?(e({type:WT.SET_VIEW,payload:t.length>0?qT.SOCIAL_POSTS_LIST:qT.EMPTY_SOCIAL_POSTS_LIST}),e({type:WT.SET_SOCIAL_POST_TEMPLATES,payload:t})):e({type:WT.SET_VIEW,payload:qT.ERROR}),[2]}}))}))}),[])}(n),i.createElement(jO.Provider,{value:HO(HO({},t),{dispatch:n})},UO[t.view]||i.createElement(i.Fragment,null))},ProductOrdersContainer:function(e){var t=Object(i.useReducer)(HS,US),n=t[0],a=t[1];return i.createElement(zS.Provider,{value:TO(TO(TO({},n),e),{dispatch:a})},i.createElement(_O,null))},BlackWeekContainer:function(e){var t=Object(i.useReducer)(oC,aC),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){tC(void 0,void 0,void 0,(function(){var t;return nC(this,(function(n){switch(n.label){case 0:return[4,tC(void 0,void 0,void 0,(function(){return nC(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:iC,fetchPolicy:"network-only"},result:function(e){var t;return(null===(t=e.viewer.branch)||void 0===t?void 0:t.address.countryCode)||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(t=n.sent())&&e({type:OO.FETCHED_COUNTRY_CODE,payload:t}),[2]}}))}))}),[])}(a),i.createElement(rC.Provider,{value:AC(AC(AC({},e),n),{dispatch:a})},i.createElement(wC,null))},ChristmasContainer:function(e){var t=Object(i.useReducer)(HC,VC),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){jC(void 0,void 0,void 0,(function(){var t;return GC(this,(function(n){switch(n.label){case 0:return[4,jC(void 0,void 0,void 0,(function(){return GC(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:zC,fetchPolicy:"network-only"},result:function(e){var t;return(null===(t=e.viewer.branch)||void 0===t?void 0:t.address.countryCode)||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(t=n.sent())&&e({type:ZO.FETCHED_COUNTRY_CODE,payload:t}),[2]}}))}))}),[])}(a),i.createElement(UC.Provider,{value:dw(dw(dw({},e),n),{dispatch:a})},i.createElement(uw,null))},BooksyOnlineReservationModal:Oe,BooksyInvitationsContainer:function(){var e=i.useReducer(W,Y),t=e[0],n=e[1];return function(e){Object(i.useEffect)((function(){B(void 0,void 0,void 0,(function(){var t;return j(this,(function(n){switch(n.label){case 0:return[4,B(void 0,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:V,variables:{forNewsletterOnly:!0}},result:function(e){return e||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(t=n.sent())&&t.customerAgreements&&t.booksyState&&t.viewer&&t.viewer.branch&&t.viewer.branch.name?e({type:r.SET_CUSTOMER_DATA,payload:{agreements:t.customerAgreements,branchName:t.viewer.branch.name,booksyUrl:t.booksyState.deeplink||""}}):e({type:r.SET_VIEW,payload:a.ERROR}),[2]}}))}))}),[])}(n),i.createElement("div",null,i.createElement(q.Provider,{value:ee(ee({},t),{dispatch:n})},z[t.view]))},BranchCategoriesContainer:function(e){var t=Object(i.useReducer)(Yv,zv),n=t[0],a=t[1];return function(e){Object(i.useEffect)((function(){Bv(void 0,void 0,void 0,(function(){var t,n;return jv(this,(function(a){switch(a.label){case 0:return[4,Bv(void 0,void 0,void 0,(function(){return jv(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:Gv},result:function(e){return e.booksyBusinessCategories}})];case 1:return[2,e.sent()]}}))}))];case 1:return t=a.sent(),[4,Bv(void 0,void 0,void 0,(function(){return jv(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:Vv},result:function(e){return e.viewer}})];case 1:return[2,e.sent()]}}))}))];case 2:return n=a.sent(),t&&n?(e({type:Vh.SET_BOOKSY_BUSINESS_CATEGORIES,payload:t}),e({type:Vh.SET_VIEWER_SETTINGS,payload:n})):e({type:Vh.SET_VIEW,payload:Gh.ERROR}),[2]}}))}))}),[])}(a),i.createElement(qv.Provider,{value:nb(nb(nb({},n),e),{dispatch:a})},Hv[n.view]||i.createElement(i.Fragment,null))},BooksyOnlineReservationContainer:function(e){var t=e.isInviteModalVisible,n=e.booksyInvitationsPath,a=i.useReducer(Ne,fw(fw({},_e),{isReservationModalVisible:t,booksyInvitationsPath:n})),r=a[0],o=a[1];return Object(i.useEffect)((function(){Ew(void 0,void 0,void 0,(function(){var e;return yw(this,(function(t){switch(t.label){case 0:return[4,be(void 0,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:return[4,A.a.query({options:{query:Se},result:function(e){return e.booksyState||null}})];case 1:return[2,e.sent()]}}))}))];case 1:return(e=t.sent())?o({type:ne.SET_BOOKSY_STATE,payload:e}):(o({type:ne.SET_VIEW_TYPE,payload:te.ERROR}),x.a.error(u.a.t("settings.customerPanel.booksyOnlineReservationPreview.fetchError"))),[2]}}))}))}),[]),i.createElement(i.Fragment,null,i.createElement(Te.Provider,{value:fw(fw({},r),{dispatch:o})},function(){switch(r.viewType){case te.SPINNER:return i.createElement(c.a,null);case te.PREVIEW:return i.createElement(pw,null);case te.ERROR:return i.createElement(s.a,null);default:return i.createElement(i.Fragment,null)}}(),i.createElement(Oe,null)))},BooksyBoostIntroContainer:function(e){var t=e.branchUrl,n=e.branchBooksyUrl,a=e.isProfilePhotoComplete,r=e.isPortfolioComplete,o=e.areReviewsComplete,s=Object(i.useReducer)(ie,re),c=s[0],l=s[1];return i.createElement("div",null,i.createElement(oe.Provider,{value:de(de({dispatch:l},c),{branchUrl:t,branchBooksyUrl:n,isPortfolioComplete:r,areReviewsComplete:o,isProfilePhotoComplete:a})},i.createElement(se,null),i.createElement(ue,null)))},BooksyEnableOnlineReservationModal:function(e){var t=e.onlineReservationSettingsPath,n=Object(i.useState)(!0),a=n[0],r=n[1],o=localStorage.getItem("ignore-booksy-online-reservation-modal"),s=function(){r(!1),localStorage.setItem("ignore-booksy-online-reservation-modal","true")};return i.createElement(d.p,{type:d.r.simple,backdropClose:!0,isFooterVisible:!1,isOpened:"true"!==o&&a,onClose:s,align:d.q.center},i.createElement("h2",{className:"mb-l font-strong"},u.a.t("calendar.modals.booksyEnableOnlineReservation.title")),i.createElement("p",{className:"fs-h5 vrsm-mb-l"},u.a.t("calendar.modals.booksyEnableOnlineReservation.description")),i.createElement("img",{style:{maxWidth:530},className:"vrsm-mt-3 vrsm-mb-5",src:window.getAssetHost("images/calendar/more-clients.png"),alt:u.a.t("settings.communication.customerHealthSurvey.teaser.title")}),i.createElement(Pr.a,null,i.createElement(d.b,{text:u.a.t("common.cancel"),className:"button button-lg",onClick:s}),i.createElement(d.b,{text:u.a.t("calendar.modals.booksyEnableOnlineReservation.cta"),className:"button-blue button-lg",onClick:function(){return window.location.href=t}})))},TssFiscalization:fR,TssFiscalizationOrderTopButton:BR};Object(bi.b)(jR),window.renderWiseLinksReactComponent=function(e){Object(bi.f)(e,jR[e])};var GR,VR={OnlinePaymentModal:function(e){var t=Object(i.useReducer)(Hi,Vi(e)),n=t[0],a=t[1];!function(e,t,n){Object(i.useEffect)((function(){var a=setInterval((function(){return Di(void 0,void 0,void 0,(function(){var r;return ki(this,(function(o){switch(o.label){case 0:return e&&e.status===b.E.IN_PROGRESS?[4,zi({id:e.id},a,t)]:[3,2];case 1:(r=o.sent())&&(t({type:Ri.SET_TRANSACTION,payload:r}),r.status===b.E.SUCCESS&&(t({type:Ri.SET_ERRORS,payload:[]}),n&&n(r.id||"no-returned-id"))),o.label=2;case 2:return[2]}}))}))}),2e3);return function(){clearInterval(a)}}),[e])}(n.transaction,a,e.onPaymentSuccess),function(e,t){Di(void 0,void 0,void 0,(function(){return ki(this,(function(n){return Object(i.useEffect)((function(){e&&Di(void 0,void 0,void 0,(function(){var n,a,r;return ki(this,(function(o){switch(o.label){case 0:return[4,A.a.query({options:{query:w()(Qi||(Qi=Ii(["query GetCustomer {\n                customer(id: ",") {\n                  firstName\n                  lastName\n                  email\n                  secured\n                  phones {\n                    countryCode\n                    countryPrefix\n                    number\n                  }\n                }\n                customerSecuredData(id: ",") {\n                  limitExceeded\n                }\n              }"],["query GetCustomer {\n                customer(id: ",") {\n                  firstName\n                  lastName\n                  email\n                  secured\n                  phones {\n                    countryCode\n                    countryPrefix\n                    number\n                  }\n                }\n                customerSecuredData(id: ",") {\n                  limitExceeded\n                }\n              }"])),e,e),fetchPolicy:"network-only"},result:function(e){return e||null}})];case 1:return(n=o.sent())&&(a=n.customer?Pi({},n.customer):n.customer,r=a&&a.phones&&a.phones.length>0||a.email&&a.email.length>0||!1,t({type:Ri.SET_CUSTOMER,payload:Object(hi.a)(n.customer,["__typename"])}),t({type:Ri.SET_CUSTOMER_FORM_DATA,payload:Object(hi.a)(a,["__typename"])}),t({type:Ri.SET_IS_LIMIT_EXCEEDED,payload:n.customerSecuredData.limitExceeded}),r&&t({type:Ri.SET_IS_CUSTOMER_COMMUNICATION_POSSIBLE,payload:!0})),[2]}}))}))}),[]),[2]}))}))}(e.customerId,a);var r,o=Object(i.useRef)(null),s=n.isModalVisible,c=n.isBlikInfoVisible,l=n.isCloseConfirmed,m=n.isCloseConfirmVisible,p=n.code,f=n.errors,E=n.isCustomerCommunicationPossible,y=n.loading,h=n.transaction,v=n.momentOfPayment,g=n.linkWasSent,S=n.isCustomerEdited,_=n.customerFormData,T=n.communicationDeliveryOption,N=e.amount,O=e.currency,C=e.description,R=e.onClose,I=e.subjectId,P=e.subjectType,D=e.helperPayments,k=void 0===D?[]:D,M=e.onUnmount,x=e.customerId,L=e.onLinkSent,F=e.event,B=h&&h.status===b.E.SUCCESS||!1,j=y||h&&h.status===b.E.IN_PROGRESS||!1,G=function(e){var t=sn.string().nullable(!0).min(6,u.a.t("settings.prepayments.validation.blikCode.tooShort")).max(6,u.a.t("settings.prepayments.validation.blikCode.tooLong")).matches(/^\d{6}$/,u.a.t("settings.prepayments.validation.blikCode.invalid"));try{return void t.validateSync(e)}catch(e){return e.errors.join("")}}(n.code),V=Object.keys(f).length||h&&h.status===b.E.FAILURE,U=function(){a({type:Ri.SET_MODAL_VISIBLE,payload:!1}),!B&&R&&R(),M&&M()},H=function(){return v===wi.later&&!g&&!S&&function(){o.current&&o.current.submitForm()}||v===wi.later&&!g&&S&&function(){!function(e,t,n,a){Di(void 0,void 0,void 0,(function(){var r;return ki(this,(function(o){switch(o.label){case 0:return[4,A.a.mutate({options:{mutation:Fi,variables:{id:e,customer:Pi(Pi({firstName:t.firstName,lastName:t.lastName},t.shouldSendEmail&&!Ei(t.email||"")&&{email:t.email}),t.shouldSendSms&&!Ei(Object(Mr.a)(t,"phones[0].number",""))&&{phones:t.phones.map((function(e){return Object(hi.a)(e,["__typename"])}))})}},result:function(e){return e&&e.updateCustomer&&e.updateCustomer.customer||null},mutationErrors:function(e){return e&&e.updateCustomer&&e.updateCustomer.errors||[]},errorHandler:{onMutationErrors:function(e){n({type:Ri.SET_ERRORS,payload:e.map((function(e){return ji(e)}))})},onGraphQLErrors:function(e){n({type:Ri.SET_ERRORS,payload:e.map((function(e){return e.message}))})}},successMessage:A.a.HideMutationResultMessage})];case 1:return(r=o.sent())&&(n({type:Ri.SET_CUSTOMER,payload:r}),n({type:Ri.SET_IS_CUSTOMER_COMMUNICATION_POSSIBLE,payload:!0}),a()),[2]}}))}))}(x,_,a,(function(){return qi({request:{amount:N,currency:O||b.o.PLN,subjectId:(null==F?void 0:F.recurrence_group_id)||parseInt(I),subjectType:(null==F?void 0:F.recurrence_params)?b.F.RECURRING_EVENT_PREPAYMENT:P,deliveryPreference:T}},a,L)})),a({type:Ri.SET_IS_CUSTOMER_EDITED,payload:!1})}||!V&&!B&&!j&&v===wi.now&&function(e,t,n,a){return function(){return Di(void 0,void 0,void 0,(function(){var r;return ki(this,(function(o){switch(o.label){case 0:return n?[2]:(a({type:Ri.SET_LOADING,payload:!0}),[4,A.a.mutate({options:{mutation:Mi,variables:{payment:e,helperPayments:t}},result:function(e){return e.createCustomerBlikPayment&&e.createCustomerBlikPayment.transaction||null},mutationErrors:function(e){return e&&e.createCustomerBlikPayment&&e.createCustomerBlikPayment.errors||[]},errorHandler:{onMutationErrors:function(e){a({type:Ri.SET_ERRORS,payload:e.map((function(e){return ji(e)}))})},onGraphQLErrors:function(e){a({type:Ri.SET_ERRORS,payload:e.map((function(e){return e.message}))})}}})]);case 1:return(r=o.sent())&&a({type:Ri.SET_TRANSACTION,payload:r}),a({type:Ri.SET_LOADING,payload:!1}),[2]}}))}))}}({subjectId:I,subjectType:P,amount:N,code:p,description:C||"",currency:O||b.o.PLN},k,B,a)||void 0};return r=!e.paymentMethod&&v===wi.now&&!B,Object(i.useEffect)((function(){var e=function(e){e.returnValue=u.a.t("common.noSaveWarning")};return r&&window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[r]),i.createElement("div",null,i.createElement(d.p,{className:"blik-input__modal",title:v===wi.now&&u.a.t("payments.modal.blikPayment")||u.a.t("payments.modal.onlinePayment"),isOpened:s,type:j&&d.r.simple||d.r.normal,onClose:!e.paymentMethod&&(V||j||v===wi.later&&!E||v===wi.now&&!B)?void 0:function(){!e.paymentMethod||l||B||g?U():a({type:Ri.SET_CLOSE_CONFIRM_VISIBLE,payload:!0})},onBack:(e.paymentMethod?V:V||v===wi.now&&!B||v===wi.later&&!g)?function(){return a({type:Ri.CLEAR_STATE,payload:e})}:void 0,onSave:H(),isFooterVisible:!j,isOnSaveDisabled:!!G,hasOnSaveIcon:!1,onSaveText:v===wi.later&&!g&&!S&&u.a.t("payments.sendLinkToPayment")||v===wi.later&&!g&&S&&u.a.t("common.saveChanges")||u.a.t("payments.payThroughTheBlik"),keyboardClose:!0},i.createElement(Ui.Provider,{value:xl(xl(xl({},n),e),{blikCodeValidation:G,dispatch:a,transactionInProgress:j,transactionSuccessfullyPaid:B,event:F})},V&&i.createElement(bl,null)||B&&i.createElement(Ml,null)||j&&i.createElement(Dl,null)||!v&&i.createElement(wl,null)||v===wi.now&&i.createElement(Cl,{showValidation:!1,onChange:Wi(a),onHitEnter:H()})||v===wi.later&&!g&&!S&&i.createElement(Rl,{customerFormRef:o})||S&&i.createElement(Il,null)||i.createElement(cl,null)||i.createElement(i.Fragment,null))),i.createElement(d.p,{isOpened:c,type:d.r.simple,onClose:function(){return a({type:Ri.SET_BLIK_INFO_MODAL_VISIBLE,payload:!1})},keyboardClose:!0,backdropClose:!0,dispatchEvents:!1,className:"blik-info-modal"},i.createElement(d.w,{name:d.x.blikExplainer,className:"blik-explainer"})),i.createElement(d.p,{className:"confirm-close-modal",isOpened:m,onClose:function(){return a({type:Ri.SET_CLOSE_CONFIRMED,payload:!1})},onSave:function(){a({type:Ri.SET_CLOSE_CONFIRMED,payload:!0}),U()},onSaveText:u.a.t("common.yes"),onCloseText:u.a.t("common.no"),backdropClose:!0,dispatchEvents:!1},i.createElement("p",null,u.a.t("common.closeConfirm"))))},PaymentTransactionStatusModal:function(e){var t=e.onUnmount,n=e.ids;if(!Array.isArray(n)||0===n.length)return i.createElement(i.Fragment,null);var a=Object(i.useState)(!0),r=a[0],o=a[1];Object(vi.a)(window,"reactLegacyBridge.modals.PaymentTransactionStatusModal.setModalVisible",o);var s=Object(i.useReducer)(Hl,Ul),c=s[0];!function(e,t){Object(i.useEffect)((function(){Gl(void 0,void 0,void 0,(function(){var n,a;return Vl(this,(function(r){switch(r.label){case 0:return n=w()(Ll||(Ll=Bl(["query GetPaymentTransactions { ","\n    }"],["query GetPaymentTransactions { ","\n    }"])),e.map((function(e,t){return"\n        status_"+t+': customerPaymentTransaction(id: "'+e+'") {\n          id\n          type\n          subjectType\n          amount\n          currency\n          refunded\n          customer {\n            id\n            firstName\n            lastName\n            email\n          }\n          startDate\n          finishDate\n          status\n          events {\n            id\n            finalized\n            items {\n              id\n              employee {\n                firstName\n                lastName\n              }\n              service {\n                id\n                fullName\n              }\n              startedAt\n            }\n          }\n        }\n      '}))),[4,A.a.query({options:{query:n},result:function(e){return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return!!e}))||null},errorHandler:{onGraphQLErrors:function(e){t({type:yl.SET_ERRORS,payload:e.map((function(e){return e.message}))})}}})];case 1:return(a=r.sent())&&t({type:yl.SET_TRANSACTIONS,payload:a}),[2]}}))}))}),[e])}(n,s[1]);var l=function(){o(!1),t&&t()};return i.createElement("div",null,i.createElement(d.p,{className:"blik-input__modal p-s",title:zl("details"),isOpened:r,onClose:l},!c.loading&&i.createElement(i.Fragment,null,c.transactions.length&&c.transactions.map((function(e){return i.createElement(Kl,{key:e.id,transaction:e,onRefund:l})}))||i.createElement(i.Fragment,null),c.errors&&c.errors.map((function(e){return i.createElement("div",{key:e,className:"alert alert-danger mt-s"},e)})))||i.createElement(i.Fragment,null)))},RefundMethodModal:function(e){var t,n=e.refundSubject,a=(e.id,e.amount),r=e.customerName,o=e.paymentStatus,s=e.paymentMethod,c=e.onUnmount,l=e.prepaymentBlikSubsidyAmount,m=e.onMethodSelect,p=e.prepaymentPaidAt,f=e.amountPaidWithGiftCoupon,E=e.amountPaidWithGiftCard,y=((t={})[ui.EVENT_PREPAYMENT]={title:"refundPrepaymentModalTitle",subject:"prepayment",refundSubject:"prepaymentRefund"},t[ui.ONLINE_ORDER]={title:"refundModalTitle",subject:"payment",refundSubject:"paymentRefund"},t),h=function(e,t){return u.a.t("payments.refund."+e,t)},v=function(e){return y[n]&&y[n][e]&&h(y[n][e])||h(y[ui.ONLINE_ORDER][e])},b=Object(i.useState)(!0),g=b[0],S=b[1],_=Object(i.useState)([]),T=_[0],N=_[1],O=Object(i.useState)(""),C=O[0],A=O[1],R=Object(i.useState)({}),I=R[0],P=R[1];!function(e,t,n,a,r){var o=this;Object(i.useEffect)((function(){_i(o,void 0,void 0,(function(){var o,i;return Ti(this,(function(s){switch(s.label){case 0:return[4,bi.a.query({query:w()(Ci||(Ci=gi(["\n          query GetPayentMethods {\n            paymentMethods {\n              handle\n              isCustom\n              name\n              validForPrepaymentRefund\n            }\n            viewer {\n              branch {\n                currency\n              }\n              employee {\n                firstName\n                lastName\n              }\n            }\n          }\n        "],["\n          query GetPayentMethods {\n            paymentMethods {\n              handle\n              isCustom\n              name\n              validForPrepaymentRefund\n            }\n            viewer {\n              branch {\n                currency\n              }\n              employee {\n                firstName\n                lastName\n              }\n            }\n          }\n        "])))})];case 1:return o=s.sent().data,i=o.paymentMethods&&o.paymentMethods.filter((function(e){return!!e.validForPrepaymentRefund})).map((function(t){return Si(Si({},t),{handle:"online"===t.handle&&Oi(e)?e:t.handle})}))||[],t===n&&i.unshift({handle:"certificate",name:Ni("certificate"),isCustom:!1,validForCustomerPayment:!1,validForOnlineOrderRefund:!1,validForPrepaymentRefund:!0,validForTipPayment:!1}),a(i),o.viewer&&r(o.viewer),[2]}}))}))}),[])}(s,a,E||0,N,P);var D=function(e){var t=s;return Object.keys(e).map((function(n){var a=e[n].handle;return{value:a,label:Ni(a),disabled:("cash"===t||"transfer"===t)&&("credit_card"===a||Oi(a))||"credit_card"===t&&Oi(a)||Oi(t)&&"credit_card"===a&&!0}}))},k=D(T),M=k.find((function(e){return"certificate"===e.value}))||k.find((function(e){return e.value===s}))||k.find((function(e){return"cash"===e.value}));Object(i.useEffect)((function(){T.length&&M&&A(M.value)}),[T]);var x=function(){return Object(dn.b)(a,I.branch.currency)},L=at()({"v2-label":!0,"v2-label-success":"paid"===o,"v2-label-error":"queued"===o}),F=l&&l>0&&["cash","transfer"].indexOf(C)>-1,B=new Date(p)>=new Date("2020-08-03");if(!I||!I.employee||!I.branch.currency)return i.createElement(d.v,null);var j,G=f||E,V=f?"online_gift_coupon":"certificate";return i.createElement("div",null,i.createElement(d.p,{backdropClose:!0,title:v("title"),isOpened:g,onClose:function(){S(!1),c&&c()},onSave:(j=C,function(){m&&m(j),S(!1),c&&c()}),onSaveText:h("refundAmount",{amount:x()}),modalScrollable:!1},i.createElement("div",{className:"v2-container"},i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4"},h("consumer")),i.createElement("div",{className:"v2-col-8 strong"},r)),i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4"},v("subject"),":"),i.createElement("div",{className:"v2-col-8"},x(),!E&&i.createElement("span",null,"(",Ni((G||0)>0?V:s),")")||"",i.createElement("span",{className:"ml-m"},i.createElement("span",{className:L},u.a.t("prepayment.status."+o))))),a!==G&&i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4"},v("refundSubject"),":"),i.createElement("div",{className:"v2-col-8 d-flex ai-center"},G?Object(dn.b)(a-G,I.branch.currency):x(),i.createElement(d.u,{onChange:function(e){A(e.value)},options:D(T),className:"d-inline-block ml-m w-50p",isOptionDisabled:function(e){return!0===e.disabled},defaultValue:M})))||"",G&&i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4"},a===G&&v("refundSubject")||""),i.createElement("div",{className:"v2-col-8 d-flex ai-center"},i.createElement("span",null,Object(dn.b)(G,I.branch.currency)),i.createElement("span",{className:"ml-s"},u.a.t("online_gift_coupon"===V?"payments.refund.couponBalanceRefund":"payments.refund.giftCardBalanceRefund"))))||"",F&&i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-offset-4 v2-col-8 text-red"},u.a.t("payments.refund.blikSubsidyInfo"),i.createElement(d.A,{trigger:i.createElement(d.w,{name:d.x.info,fill:"#f06941",width:16,height:16,className:"ml-s"}),content:u.a.t("payments.refund.blik2SubsidyTooltip",{value:B?50:100}),type:d.D.Light})))||"",i.createElement("div",{className:"v2-row mb-m"},i.createElement("div",{className:"v2-col-4"},h("employeeName"),":"),i.createElement("div",{className:"v2-col-8"},I.employee&&I.employee.firstName," ",I.employee&&I.employee.lastName)))))},SelectedServicesPrepaymentsHintModal:nu,HealthSurveyDetailsModal:function(e){var t=Object(i.useState)(!0),n=t[0],a=t[1];return i.createElement(d.p,{title:u.a.t("settings.communication.customerHealthSurvey.detailsModal.title"),backdropClose:!0,isFooterVisible:!1,isOpened:n,onClose:function(){a(!1),e.onUnmount&&e.onUnmount()}},i.createElement("div",{className:"v2-container mb-xl"},i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.customer"),":"),i.createElement("div",{className:"v2-col strong"},i.createElement("div",{className:"ml-xs"},e.client))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.lastSentAt"),":"),i.createElement("div",{className:"v2-col"},i.createElement("div",{className:"ml-xs"},e.lastSentAt))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.filledAt"),":"),i.createElement("div",{className:"v2-col"},i.createElement("div",{className:"ml-xs"},e.filledAt))),i.createElement("div",{className:"v2-row mb-s ai-center"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.status"),":"),i.createElement("div",{className:"v2-col"},"positive"===e.status?i.createElement("span",{className:"status_tag tag_green"},u.a.t("settings.communication.customerHealthSurvey.noThreat")):i.createElement("span",{className:"status_tag tag_red"},u.a.t("settings.communication.customerHealthSurvey.infectionRisk")))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.ip"),":"),i.createElement("div",{className:"v2-col"},i.createElement("div",{className:"ml-xs"},e.ip))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.browser"),":"),i.createElement("div",{className:"v2-col"},i.createElement("div",{className:"ml-xs"},e.browser))),i.createElement("div",{className:"v2-row mb-s"},i.createElement("div",{className:"v2-col-6 v2-col-lg-4"},u.a.t("settings.communication.customerHealthSurvey.detailsModal.os"),":"),i.createElement("div",{className:"v2-col"},i.createElement("div",{className:"ml-xs"},e.os)))))},HealthSurveyResendModal:function(e){var t=Object(i.useState)(!0),n=t[0],a=t[1],r=Object(i.useState)(!1),o=r[0],s=r[1],c=Object(i.useRef)(null);return i.createElement(d.p,{title:u.a.t("settings.communication.customerHealthSurvey.resendModal.title"),backdropClose:!1,isFooterVisible:!0,isOpened:n,onClose:function(){a(!1),e.onUnmount&&e.onUnmount()},onSave:function(){return c.current&&c.current.submitForm()},isOnSaveDisabled:o,onSaveText:u.a.t("settings.communication.customerHealthSurvey.resendModal.sendSurvey")},i.createElement(rn.c,{ref:c,onSubmit:function(t,n){return Mb(void 0,void 0,void 0,(function(){return xb(this,(function(a){switch(a.label){case 0:return s(!0),[4,Rb(t,e.eventId,n,e.onSuccess,e.onUnmount)];case 1:return a.sent(),s(!1),[2]}}))}))},initialValues:wb(e),component:kb,validate:Ab}))},SmsActivationModal:function(e){var t=Object(i.useState)(!0),n=t[0],a=t[1],r=Object(i.useState)(!1),o=r[0],s=r[1];return i.createElement(i.Fragment,null,i.createElement(d.p,{isOpened:n,onClose:function(){a(!1),Pg()},onSave:function(){return Rg(void 0,void 0,void 0,(function(){var e;return Ig(this,(function(t){switch(t.label){case 0:return[4,A.a.mutate({options:{mutation:w()(Gb||(Gb=Ag(["\n          mutation UpdateMomentPowerOpinionSmsConfig($enabled: Boolean!) {\n            updateMomentPowerOpinionSmsConfig(enabled: $enabled) {\n              errors {\n                argument\n                code\n              }\n              enabled\n            }\n          }\n        "],["\n          mutation UpdateMomentPowerOpinionSmsConfig($enabled: Boolean!) {\n            updateMomentPowerOpinionSmsConfig(enabled: $enabled) {\n              errors {\n                argument\n                code\n              }\n              enabled\n            }\n          }\n        "]))),variables:{enabled:!0}},result:function(e){return e.updateMomentPowerOpinionSmsConfig&&e.updateMomentPowerOpinionSmsConfig.enabled||null},mutationErrors:function(e){return e.updateMomentPowerOpinionSmsConfig&&e.updateMomentPowerOpinionSmsConfig.errors||[]}})];case 1:return e=t.sent(),a(!1),e&&s(!0),[2]}}))}))},isOnSaveDisabled:window.VersumConfig.current_branch_readonly,onSaveText:u.a.t("momentPremium.smsActivationModal.activate"),onCloseText:u.a.t("momentPremium.smsActivationModal.cancel"),title:u.a.t("momentPremium.smsActivationModal.title")},i.createElement("div",{className:"p-m"},i.createElement("span",{className:"icon sprite-client_opinion"}),i.createElement("h4",{className:"bold mt-l"},u.a.t("momentPremium.smsActivationModal.subtitle")),i.createElement("p",{dangerouslySetInnerHTML:{__html:u.a.t("momentPremium.smsActivationModal.description")}}),i.createElement("h4",{className:"bold mt-l"},u.a.t("momentPremium.smsActivationModal.clientOpinions.title")),["credibility","feedback","interest","relations"].map((function(e){return i.createElement("div",{className:"d-flex ai-center mb-s",key:e},i.createElement(d.w,{name:d.x.active,size:16,className:"mr-s"}),u.a.t("momentPremium.smsActivationModal.clientOpinions."+e))})),i.createElement("h4",{className:"bold mt-l"},u.a.t("momentPremium.smsActivationModal.benefits.title")),i.createElement("div",{className:"d-flex ai-center mb-s"},i.createElement(d.w,{name:d.x.active,size:16,className:"mr-s"}),u.a.t("momentPremium.smsActivationModal.benefits.freeSms"),i.createElement(d.A,{className:"ml-xs",trigger:i.createElement(d.w,{name:d.x.info,size:16,className:"mr-s"}),content:u.a.t("momentPremium.smsActivationModal.benefits.tooltip"),type:d.D.Dark})),i.createElement("div",{className:"d-flex ai-center mb-s"},i.createElement(d.w,{name:d.x.active,size:16,className:"mr-s"}),u.a.t("momentPremium.smsActivationModal.benefits.status")))),i.createElement(wg,{isModalVisible:o,setModalVisible:s}))},EventRecurrencePayloadEditorModal:function(e){var t=e.recurrenceManager,n=e.msg,a=void 0===n?u.a.t("calendar.eventRecurrence.modal.payloadEditor.message"):n,r=e.onSave,o=i.useState(!0),s=o[0],c=o[1],l=i.useState(!0),d=l[0],m=l[1],p=function(){t.clearDrafts(),c(!1)};return i.createElement(Fy.b.Provider,{value:{recurrenceManager:t}},i.createElement(O.b,null,i.createElement(uo.a,{title:u.a.t("calendar.eventRecurrence.modal.payloadEditor.title"),isOpened:s,onClose:p,className:"event-recurrence-payload-modal",isFooterVisible:!0,onSave:r&&function(){c(!1),r({ignoreConflicts:!1})},isOnSaveDisabled:d,onSaveText:u.a.t("calendar.eventRecurrence.modal.payloadEditor.buttons.save"),onSecondaryAction:r&&function(){c(!1),r({ignoreConflicts:!0})},onSecondaryText:u.a.t("calendar.eventRecurrence.modal.payloadEditor.buttons.ignoreAndSave"),onSecondaryTooltipText:u.a.t("calendar.eventRecurrence.modal.payloadEditor.buttons.ignoreAndSaveTooltip")},i.createElement("p",{className:"message"},a),i.createElement(zy,{onChange:function(){return m(!1)},onClose:p}))))},PrepaymentGiftCardsModal:function(e){var t=Object(i.useReducer)(Ty,My(My({},_y),e)),n=t[0],a=t[1],r=n.customerID,o=n.serviceIDs,s=n.search,c=n.customerName,l=n.isModalVisible;return Object(i.useEffect)((function(){xy(void 0,void 0,void 0,(function(){var e;return Ly(this,(function(t){switch(t.label){case 0:return r?[4,Ny(r,o,s)]:[3,2];case 1:(e=t.sent())&&a({type:Vf.SET_GIFT_CARDS,payload:e}),t.label=2;case 2:return[2]}}))}))}),[]),i.createElement(Sy.Provider,{value:My(My({},n),{dispatch:a})},i.createElement(uo.a,{title:u.a.t("payments.giftCards.modal.search.title",{customer:c}),onClose:function(){var t;a({type:Vf.SET_MODAL_VISIBILITY,payload:!1}),null===(t=e.onClose)||void 0===t||t.call(e)},isOpened:l},i.createElement(Ry,null),i.createElement(Dy,null)))},NewReceiptModal:RR,ShowReceiptModal:xR};Object.keys(VR).forEach((function(e){return t=e,n=VR[e],void Object(vi.a)(window,"reactLegacyBridge.modals."+t,{setModalVisible:function(){return{}},renderModal:function(e){ll(Kc.open);var a=document.createElement("div");a.id=t,document.body.appendChild(a),a&&Object(Ie.render)(i.createElement(ul.a,null,i.createElement(n,dl({},e,{onUnmount:function(){Object(Ie.unmountComponentAtNode)(a),document.body.removeChild(a),ll(Kc.close)}}))),a)}});var t,n})),Object(vi.a)(window,"reactLegacyBridge.regions.getRegionSelectOptions",qa),Object(vi.a)(window,"reactLegacyBridge.unreadCommunicationThread",(function(e,t){return Ng(void 0,void 0,void 0,(function(){return Og(this,(function(n){switch(n.label){case 0:return[4,A.a.mutate({options:{mutation:Cg,variables:{id:e}},result:function(e){return e&&e.unreadCommunicationThread&&e.unreadCommunicationThread.communicationThread},mutationErrors:function(e){return e&&e.unreadCommunicationThread&&e.unreadCommunicationThread.errors||[]},successMessage:{message:u.a.t("communication.thread.unreadSuccessfully")}})];case 1:return n.sent()&&setTimeout((function(){return window.location.href=t}),500),[2]}}))}))})),Object(vi.a)(window,"markdownUtils",new dy),Object(vi.a)(window,"reactLegacyBridge.prepayments.Prepayment",Cw),(GR=document.getElementById("notification_center_navbar"))&&Object(vi.a)(window,"reactLegacyBridge.notificationCenter.renderNotificationCenterNavbar",(function(e){Object(Ie.render)(i.createElement(ul.a,null,i.createElement(aS,{branchState:e})),GR)}))},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return N}));var a,r,o,i=n(77),s=n(501),c=n(508),l=n(149),u=n(100),d=n(372),m=n(394),p=n(182),f=n(509),E=n(502),y=n(175),h=n(510),v=n(503),b=n(504),g=n(505),S=n(506),_=n(507),T=n(1);!function(e){e.DEFAULT="default",e.SHORT="short",e.WITH_WEEKDAY_NAME="with_weekday_name",e.WITH_WEEKDAY_NAME_SHORT="with_weekday_name_short",e.WITH_MONTH_NAME="with_month_name",e.WITH_LONG_MONTH_NAME="with_long_month_name",e.WITH_WEEKDAY_AND_MONTH_NAME="with_weekday_and_month_name"}(a||(a={})),function(e){e.DEFAULT="default",e.SECONDS="seconds",e.HOURS="hours",e.ISO_24="iso_24",e.HOURS_A="hours_a"}(r||(r={})),function(e){e.DEFAULT="default",e.WITH_WEEKDAY_NAME="with_weekday_name",e.SHORT="short"}(o||(o={}));var N=function(){function e(t,n,d,m){var p=this;void 0===t&&(t="h24"),void 0===n&&(n="dd.mm.yyyy"),void 0===d&&(d=1),void 0===m&&(m=(new Date).getTimezoneOffset()),this.getWeekdayName=function(t){return Object(i.a)(t,"EEEE",{locale:e.locales[T.a.locale]})},this.getMonthName=function(t){return Object(i.a)(t,"MMMM",{locale:e.locales[T.a.locale]})},this.getWeekdayOccurenceFromMonthStart=function(e){return Array(e.getUTCDate()+1).fill("").map((function(t,n){return new Date(Date.UTC(e.getFullYear(),e.getUTCMonth(),n))})).reduce((function(t,n){return n.getDay()===e.getDay()?t+1:t}),0)},this.formatDateIso=function(e){return Object(i.a)(e,"yyyy-MM-dd")},this.formatDate=function(t,n){return void 0===n&&(n=a.DEFAULT),Object(i.a)(t,p.getDateFormat(n),{locale:e.locales[T.a.locale]})},this.formatTime=function(t,n){return void 0===n&&(n=r.DEFAULT),Object(i.a)(t,p.getTimeFormat(n),{locale:e.locales[T.a.locale]})},this.formatDateTime=function(t,n){return void 0===n&&(n=o.DEFAULT),Object(i.a)(t,p.getDateTimeFormat(n),{locale:e.locales[T.a.locale]})},this.formatRestPayloadDateTime=function(t){return Object(i.a)(t,"yyyy-MM-dd HH:mm",{locale:e.locales[T.a.locale]})},this.formatRelative=function(t,n){return Object(s.a)(t,n,{locale:e.locales[T.a.locale]})},this.getFirstDayOfTheWeek=function(){return p.firstDayOfTheWeek},this.getDateFormat=function(t){return void 0===t&&(t=a.DEFAULT),e.dateFormats[p.dateFormat][t]},this.getTimeFormat=function(t){return void 0===t&&(t=r.DEFAULT),p.timeFormat&&e.timeFormats[p.timeFormat][t]||e.timeFormats.h24[t]},this.getDateTimeFormat=function(t){return void 0===t&&(t=o.DEFAULT),e.datetimeFormats[p.dateFormat][t]+" "+p.getTimeFormat()},this.differenceInDays=function(e,t){return void 0===t&&(t=new Date),Object(c.a)(e,t)},this.differenceInMinutes=function(e,t){return void 0===t&&(t=new Date),Object(l.a)(e,t)},this.addMinutes=function(e,t){return Object(u.a)(e,t)},this.formatLastSavedDate=function(t){return Object(i.a)(t,"HH:mm:ss yyyy.MM.dd",{locale:e.locales[T.a.locale]})},this.timeFormat=t,this.dateFormat=n,this.firstDayOfTheWeek=d,this.timeZoneOffset=m}return e.prototype.toUTC=function(e){var t=e.getTimezoneOffset();return t>=0?Object(u.a)(e,t):Object(d.a)(e,Math.abs(t))},e.prototype.calendarNow=function(){return this.timeZoneOffset>=0?Object(d.a)(new Date,this.timeZoneOffset):Object(u.a)(new Date,Math.abs(this.timeZoneOffset))},e.prototype.addDay=function(e){return Object(m.a)(e,1)},e.prototype.subDay=function(e){return Object(p.a)(e,1)},e.prototype.isToday=function(e){return Object(f.a)(e)},e.timeFormats={h24:{default:"H:mm",seconds:"H:mm:ss",hours:"HH",iso_24:"H:mm",hours_a:"HH"},h12:{default:"h:mmaaaaa'm'",seconds:"h:mm:ssaaaaa'm'",hours:"h",iso_24:"H:mm",hours_a:"haaaaa'm'"}},e.dateFormats={"dd.mm.yyyy":{default:"dd.MM.yyyy",short:"dd.MM",with_weekday_name:"EEEE dd.MM.yyyy",with_weekday_name_short:"EEE dd.MM",with_month_name:"d MMM yyyy",with_long_month_name:"d MMMM yyyy",with_weekday_and_month_name:"EEEE, d MMM yyyy"},"dd/mm/yyyy":{default:"dd/MM/yyyy",short:"dd/MM",with_weekday_name:"EEEE dd/MM/yyyy",with_weekday_name_short:"EEE dd/MM",with_month_name:"d MMM yyyy",with_long_month_name:"d MMMM yyyy",with_weekday_and_month_name:"EEEE, d MMM yyyy"},"dd-mm-yyyy":{default:"dd-MM-yyyy",short:"dd-MM",with_weekday_name:"EEEE dd-MM-yyyy",with_weekday_name_short:"EEE dd-MM",with_month_name:"d MMM yyyy",with_long_month_name:"d MMMM yyyy",with_weekday_and_month_name:"EEEE, d MMM yyyy"},"mm/dd/yyyy":{default:"MM/dd/yyyy",short:"MM/dd",with_weekday_name:"EEEE MM/dd/yyyy",with_weekday_name_short:"EEE MM/dd",with_month_name:"MMM d, yyyy",with_long_month_name:"MMMM d, yyyy",with_weekday_and_month_name:"EEEE, MMM d, yyyy"},"yyyy-mm-dd":{default:"yyyy-MM-dd",short:"MM-dd",with_weekday_name:"EEEE yyyy-MM-dd",with_weekday_name_short:"EEE MM-dd",with_month_name:"d MMM yyyy",with_long_month_name:"d MMMM yyyy",with_weekday_and_month_name:"EEEE, d MMM yyyy"}},e.datetimeFormats={"dd.mm.yyyy":{default:"dd.MM.yyyy",with_weekday_name:"EEEE dd.MM.yyyy",short:"dd MMM,"},"dd/mm/yyyy":{default:"dd/MM/yyyy",with_weekday_name:"EEEE dd/MM/yyyy",short:"dd MMM,"},"dd-mm-yyyy":{default:"dd-MM-yyyy",with_weekday_name:"EEEE dd-MM-yyyy",short:"dd MMM,"},"mm/dd/yyyy":{default:"MM/dd/yyyy",with_weekday_name:"EEEE MM/dd/yyyy",short:"MMM d,"},"yyyy-mm-dd":{default:"yyyy-MM-dd",with_weekday_name:"EEEE yyyy-MM-dd",short:"dd %b,"}},e.locales={pl:E.a,en:y.a,"en-US":y.a,"en-GB":h.a,es:v.a,ro:b.a,de:g.a,pt:S.a,"pt-BR":_.a},e}()},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(5),r=n(0),o=n(4),i=function(e){var t=e.children,n=e.label,i=e.noCount,s=e.hideCount,c=e.className,l=e.labelClassName,u=a({"v2-form-group":!0,"v2-form-group-nocount":i,"v2-form-group-hide-count":s});return r.createElement(r.Fragment,null,r.createElement("div",{className:[u,c].join(" ")},n&&r.createElement(o.n,{className:l,text:n}),t))}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(37),r=n(27),o=n(0),i=function(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(t.current){var n=$(t.current);return n.daterangepicker(e.options,e.callback).on("apply.daterangepicker",(function(){var t=n.data("daterangepicker");t&&e.onChange(Object(r.a)(Object(r.a)(t.startDate).format("YYYY-MM-DD HH:mm")),Object(r.a)(Object(r.a)(t.endDate).format("YYYY-MM-DD HH:mm")))})).on("apply_string_range.daterangepicker",(function(){e.onStringRangeChange&&e.onStringRangeChange(n.data("string-range"))})),function(){var e=n.data("daterangepicker");e&&e.remove()}}}),[]),o.createElement(o.Fragment,null,o.createElement("div",{className:"date_range_box"},o.createElement("input",{className:e.inputClassNames,id:e.id?"date-range-"+e.id:"date-range",type:"text",ref:t,value:c(e.options||{}),onChange:function(){},name:e.name,disabled:e.disabled,style:e.style||{width:270}})))},s=function(e,t){void 0===t&&(t=a.a);var n=Object(r.a)(e);return n.isValid()?n.format(t):""},c=function(e){var t=e.startDate,n=e.endDate,r=e.singleDatePicker,o=e.timePicker,i=e.initialStringRange,c=e.stringRanges,l=o?a.a:a.b;return t?r&&s(t,l)||s(t,l)+" - "+s(n,l):(null==c?void 0:c[i||""])||""}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=function(e){var t=e.message;return a.createElement("div",{className:"v2-form-control-hint"},t)}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(5),o=n.n(r),i=n(41),s=function(e){var t,n=e.size,r=e.inline,s=void 0!==r&&r,c=e.className,l=e.wrapperClassName,u=e.wait,d=Object(a.useState)(!0),m=d[0],p=d[1],f=Object(i.a)();Object(a.useEffect)((function(){var e;return setTimeout((function(){f.current&&p(!1)}),u),(e=document.getElementById("loading_indicator"))&&(e.className+=" hidden"),function(){var e=document.getElementById("loading_indicator");e&&(e.className=e.className.replace(" hidden",""))}}),[]);var E=o()(((t={hidden:m,spinner:!0})["spinner-"+n]=!!n,t),c);return s?a.createElement("span",{className:"v2-spinner-wrapper "+l},a.createElement("span",{className:E})):a.createElement("div",{className:"py-xl text-center",style:{color:"#56aef0"}},a.createElement("span",{className:"v2-spinner-wrapper "+l},a.createElement("span",{className:E})))}},95:function(e,t,n){"use strict";var a=n(5),r=n.n(a),o=n(1),i=n(0),s=n(4),c=(n(376),n(19)),l=n(572),u=function(){return(u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function d(e){var t=e.column,n=e.item,a=e.rowIndex,r=e.colIndex,d=e.onExpandClick,m=t.content,p=t.path,f=t.bodyCellClassName,E=t.translationPath,y=t.linkPath,h=t.pjaxLink,v=t.currency,b=t.defaultValue,g=t.expand;function S(e,t){return o.a.t(e,{count:t})}if(m&&!g)return i.createElement("td",{className:f},m(n,a,r));if(m&&g)return i.createElement("td",{className:f,onClick:function(){d&&d()}},i.createElement(s.w,{name:s.x.chevronDown,className:"expand-trigger"}));if(p){if(y){var _=n.id?n.id:"";return i.createElement("td",{className:f},i.createElement("a",u({href:y+_},h&&{"data-push":"true"}),E?S(E,Object(l.a)(n,p)):Object(l.a)(n,p)))}return v?i.createElement("td",{className:f},Object(c.b)(Object(l.a)(n,p),v)):void 0===Object(l.a)(n,p)?i.createElement("td",{className:f},b||null):i.createElement("td",{className:f},E?S(E,Object(l.a)(n,p)):Object(l.a)(n,p))}return i.createElement("td",{className:f})}var m=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function p(e){var t=e.data,n=e.columns,r=e.onRowClick,o=e.rowSelection,s=e.getKey,c=e.isRowHighlighted,l=e.isRowDisabled,u=e.summary,p=Object(i.useState)([]),f=p[0],E=p[1],y=function(e,t,n){return e.id+""+n+(t.path||t.key)};return i.createElement("tbody",{className:"e2e-table-body"},t.map((function(e,t){var u=s&&s(e)||e.id||t,p=n.find((function(e){return!!e.expand})),h=p&&p.content||function(){return i.createElement(i.Fragment,null)},v=-1!==f.indexOf(u);return i.createElement(i.Fragment,{key:u},i.createElement("tr",{key:u,onClick:function(n){return r&&r(e,t,n)},className:a({"row-expanded":v,"row-highlighted":c&&c(e),"row-disabled":l&&l(e),selected:o&&o[e.id],even:t%2,odd:!(t%2)})},n.map((function(n,a){return i.createElement(d,{key:y(e,n,a),rowIndex:t,colIndex:a,item:e,column:n,onExpandClick:function(){return E(v?f.filter((function(e){return e!==u})):m(m([],f,!0),[u],!1))}})}))),v&&i.createElement("tr",{key:u+"-expanded"},i.createElement("td",{colSpan:100},h(e,t,0))))})),u&&i.createElement("tr",{className:"no_hover"},u))}function f(e){var t=e.column,n=e.data,a=e.index,r=e.onCellClick,o=e.columnSort,s=e.sortingDisabled;function c(e){if(!e.sortable||!o)return"";if(e.path===o.path){if("asc"===o.order)return"sorting_asc";if("desc"===o.order)return"sorting_desc"}return"sorting"}return t.label?i.createElement("th",{onClick:function(){return r&&r(t)},className:t.headerCellClassName+" "+c(t),style:s?{filter:"grayscale(1)"}:{}},t.sortable?i.createElement("div",{className:"pl-s py-m pr-l"},t.label," "):t.label):t.content&&!t.expand?i.createElement("th",{className:t.headerCellClassName,onClick:function(){return r&&r(t)}},t.content(n,-1,a)):i.createElement("th",{onClick:function(){return r&&r(t)},className:t.headerCellClassName+" "+c(t)})}var E=function(){return(E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function y(e){var t=e.data,n=e.columnSort,a=e.columns,r=e.onSort,o=e.sortingDisabled;var s=function(e){var t,a;e.path&&e.sortable&&!o&&(t=e.path,(a=E({},n))&&(a.path===t?"asc"===a.order?a.order="desc":"desc"===a.order?a.order=void 0:a.order="asc":(a.path=t,a.order="asc"),r&&r(a)))};return i.createElement("thead",{className:"e2e-table-header"},i.createElement("tr",null,a.map((function(e,a){return i.createElement(f,{key:e.path||e.key||"col-"+a,onCellClick:s,column:e,columnSort:n,data:t,index:a,sortingDisabled:o})}))))}var h=n(35);function v(e){var t=e.columns,n=e.columnSort,a=e.onSort,c=e.data,l=e.onRowClick,u=e.rowSelection,d=e.getKey,m=e.isRowHighlighted,f=e.isRowDisabled,E=e.emptyText,v=void 0!==E&&E,b=e.className,g=void 0===b?"table-bordered":b,S=e.isDataLoading,_=e.error,T=e.sortingDisabled,N=e.summary,O=r()({"e2e-table":!0},g);return i.createElement("table",{className:O},i.createElement(y,{columns:t,columnSort:n,onSort:a,data:c,sortingDisabled:T}),i.createElement(p,{columns:t,data:c,onRowClick:l,rowSelection:u,getKey:d&&d,isRowHighlighted:m&&m,isRowDisabled:f,summary:N}),i.createElement("tbody",null,S&&i.createElement("tr",null,i.createElement("td",{colSpan:t.length,className:"text-center"},i.createElement(s.v,null)))||_&&!c.length&&i.createElement("tr",null,i.createElement("td",{colSpan:t.length,className:"text-center"}," ",i.createElement(h.a,{title:o.a.t("table.error"),description:"",showRefreshButton:!1})))||v&&!c.length&&i.createElement("tr",null,i.createElement("td",{colSpan:t.length,className:"text-center"},v))))}n.d(t,"a",(function(){return v}))},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n.n(a),o=n(0),i=n(86),s=function(e){var t=e.type,n=void 0===t?"text":t,s=e.placeholder,c=e.className,l=e.disabled,u=e.value,d=e.onBlur,m=e.onChange,p=e.name,f=e.size,E=e.errorMessage,y=e.id,h=e.wrap,v=void 0===h||h,b=e.min,g=e.max,S=e.step,_=e.defaultValue,T=e.onKeyDown,N=e.forwardedRef,O=e.unit,C=e.maxLength,w=a(c,{"v2-form-control":!0,invalid:E}),A=0===u?0:u||"",R=o.createElement("input",{ref:N,className:w,type:n,placeholder:s,disabled:l,value:A,onBlur:d,onChange:m,name:p,size:f,id:y,min:b,max:g,step:S,defaultValue:_,onKeyDown:T,maxLength:C}),I=o.createElement(o.Fragment,null,O&&o.createElement("div",{className:r()("v2-form-control-unit",{invalid:E})},O)),P=o.createElement(o.Fragment,null,E&&o.createElement(i.a,{message:E})),D=o.createElement(o.Fragment,null,R,I,P);return v?o.createElement("div",{className:"v2-form-controls"},D):D}},99:function(e,t,n){"use strict";var a,r=n(0);!function(e){e.ADD_TOOLTIP="ADD_TOOLTIP",e.REMOVE_TOOLTIP="REMOVE_TOOLTIP"}(a||(a={})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var o={tooltips:new Map},i=function(e,t){switch(t.type){case a.ADD_TOOLTIP:return t.payload.id?{tooltips:new Map(e.tooltips.set(t.payload.id,t.payload))}:e;case a.REMOVE_TOOLTIP:return e.tooltips.delete(t.payload),{tooltips:new Map(e.tooltips)};default:return o}},s=function(e){Object(r.useEffect)((function(){var t=window.reactLegacyBridge.tooltipManagerDispatch;if(t)return t({type:a.ADD_TOOLTIP,payload:e}),function(){e.id&&t({type:a.REMOVE_TOOLTIP,payload:e.id})}}),[])},c=function(e){Object(r.useEffect)((function(){return window.reactLegacyBridge.tooltipManagerDispatch=e,function(){window.reactLegacyBridge.tooltipManagerDispatch=null}}),[])}}},[[774,1,0]]]);